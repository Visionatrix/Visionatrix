{
  "name": "supir_upscaler",
  "display_name": "SUPIR Upscaler",
  "description": "High-End Image Upscaler",
  "author": "akihungac",
  "homepage": "https://openart.ai/workflows/profile/akihungac",
  "license": "",
  "documentation": "https://visionatrix.github.io/Visionatrix/Flows/SupirUpscaler.html",
  "sub_flows": [
    {
      "display_name": "SUPIR(1.5x)",
      "type": "image",
      "input_params": [
        {
          "name": "scale_factor",
          "default": 1.5
        }
      ]
    },
    {
      "display_name": "SUPIR(2x)",
      "type": "image",
      "input_params": [
        {
          "name": "scale_factor",
          "default": 2.0
        }
      ]
    }
  ],
  "input_params": [
    {
      "name": "image",
      "display_name": "Image to upscale",
      "type": "image",
      "optional": false,
      "comfy_node_id": {
        "2": {
          "dest_field_name": ["inputs", "image"]
        }
      }
    },
    {
      "name": "scale_factor",
      "display_name": "Output image size factor",
      "type": "range_scale",
      "source_input_name": "image",
      "optional": false,
      "advanced": true,
      "default": 2.0,
      "min": 1.1,
      "max": 3.0,
      "step": 0.1,
      "comfy_node_id": {
        "104": {
          "dest_field_name": ["inputs", "scale_by"],
          "internal_type": "float"
        }
      }
    },
    {
      "name": "supir_diff_type",
      "display_name": "Diffusion Type(set to \"fp32\" on macOS)",
      "type": "list",
      "default": "auto",
      "optional": true,
      "advanced": true,
      "options": {
        "fp16": "fp16",
        "bf16": "bf16",
        "fp32": "fp32",
        "auto": "auto"
      },
      "comfy_node_id": {
        "21": {
          "dest_field_name": ["inputs", "diffusion_dtype"]
        }
      }
    },
    {
      "name": "sharper",
      "display_name": "Sharper",
      "type": "bool",
      "default": true,
      "optional": false,
      "advanced": true,
      "comfy_node_id": {
        "7": {
          "dest_field_name": ["inputs", "sampler"],
          "value": "TiledRestoreDPMPP2MSampler"
        }
      }
    },
    {
      "name": "low_memory",
      "display_name": "Low memory mode",
      "type": "bool",
      "default": false,
      "optional": true,
      "advanced": true,
      "comfy_node_id": {
        "21": {
          "dest_field_name": ["inputs", "fp8_unet"],
          "value": true
        },
        "7": {
          "dest_field_name": ["inputs", ["sampler_tile_size", "sampler_tile_stride"]],
          "value": [512, 256]
        },
        "5": {
          "dest_field_name": ["inputs", ["decoder_tile_size", "encoder_tile_size"]],
          "value": [512, 512]
        },
        "10": {
          "dest_field_name": ["inputs", "decoder_tile_size"],
          "value": 512
        },
        "11": {
          "dest_field_name": ["inputs", "encoder_tile_size"],
          "value": 512
        }
      }
    },
    {
      "name": "disable_tiling",
      "display_name": "Disable tiling(use for small images)",
      "type": "bool",
      "default": false,
      "optional": true,
      "advanced": true,
      "comfy_node_id": {
        "7": {
          "src_field_name": ["inputs", "sampler"],
          "dest_field_name": ["inputs", "sampler"],
          "modify_param": [
            {
              "sub": ["^Tiled", ""]
            }
          ]
        }
      }
    }
  ]
}
