import{m as Ce,ae as St,n as _,bn as Le,bo as It,I as p,x as k,$ as ke,a0 as me,Z as Ue,f as Q,ai as se,ag as pe,a2 as x,O as ue,ad as le,at as be,ap as F,ab as U,ao as H,aC as Re,bp as Ct,aj as Ke,ak as ie,a8 as he,ah as De,bq as wt,aw as Qe,an as Je,M as P,ax as Ye,br as Mt,aA as Xe,a9 as Ze,aB as Ge,aa as _e,F as Ve,ay as Rt,az as xt,bs as et,_ as tt,o as N,c as q,a as te,B as we,z as Y,A as B,b as fe,h as xe,l as J,D as ze,E as Ie,G as Be,bt as Tt,H as K,bj as lt,K as nt,V as at,W as G,aQ as Et,aG as At,i as ae,w as de,aJ as Oe,t as ce,aI as zt,r as $t,U as it,aH as kt,d as Ne,bi as Dt,bu as Vt,aL as Bt,bv as Ft,L as je,aM as Lt,aN as Nt}from"./CtXLNxfV.js";function ve(e,u,l){let n=l.initialDeps??[],t;return()=>{var o,a,i,f;let h;l.key&&((o=l.debug)!=null&&o.call(l))&&(h=Date.now());const r=e();if(!(r.length!==n.length||r.some((M,S)=>n[S]!==M)))return t;n=r;let v;if(l.key&&((a=l.debug)!=null&&a.call(l))&&(v=Date.now()),t=u(...r),l.key&&((i=l.debug)!=null&&i.call(l))){const M=Math.round((Date.now()-h)*100)/100,S=Math.round((Date.now()-v)*100)/100,A=S/16,L=(T,I)=>{for(T=String(T);T.length<I;)T=" "+T;return T};console.info(`%câ± ${L(S,5)} /${L(M,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*A,120))}deg 100% 31%);`,l==null?void 0:l.key)}return(f=l==null?void 0:l.onChange)==null||f.call(l,t),t}}function Ae(e,u){if(e===void 0)throw new Error("Unexpected undefined");return e}const jt=(e,u)=>Math.abs(e-u)<1,Pt=(e,u,l)=>{let n;return function(...t){e.clearTimeout(n),n=e.setTimeout(()=>u.apply(this,t),l)}},qt=e=>e,Wt=e=>{const u=Math.max(e.startIndex-e.overscan,0),l=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let t=u;t<=l;t++)n.push(t);return n},Ht=(e,u)=>{const l=e.scrollElement;if(!l)return;const n=e.targetWindow;if(!n)return;const t=a=>{const{width:i,height:f}=a;u({width:Math.round(i),height:Math.round(f)})};if(t(l.getBoundingClientRect()),!n.ResizeObserver)return()=>{};const o=new n.ResizeObserver(a=>{const i=a[0];if(i!=null&&i.borderBoxSize){const f=i.borderBoxSize[0];if(f){t({width:f.inlineSize,height:f.blockSize});return}}t(l.getBoundingClientRect())});return o.observe(l,{box:"border-box"}),()=>{o.unobserve(l)}},Pe={passive:!0},Ut=typeof window>"u"?!0:"onscrollend"in window,Kt=(e,u)=>{const l=e.scrollElement;if(!l)return;const n=e.targetWindow;if(!n)return;let t=0;const o=Ut?()=>{}:Pt(n,()=>{u(t,!1)},e.options.isScrollingResetDelay),a=h=>()=>{const{horizontal:r,isRtl:s}=e.options;t=r?l.scrollLeft*(s&&-1||1):l.scrollTop,o(),u(t,h)},i=a(!0),f=a(!1);return f(),l.addEventListener("scroll",i,Pe),l.addEventListener("scrollend",f,Pe),()=>{l.removeEventListener("scroll",i),l.removeEventListener("scrollend",f)}},Qt=(e,u,l)=>{if(u!=null&&u.borderBoxSize){const n=u.borderBoxSize[0];if(n)return Math.round(n[l.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[l.options.horizontal?"width":"height"])},Jt=(e,{adjustments:u=0,behavior:l},n)=>{var t,o;const a=e+u;(o=(t=n.scrollElement)==null?void 0:t.scrollTo)==null||o.call(t,{[n.options.horizontal?"left":"top"]:a,behavior:l})};class Yt{constructor(u){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let l=null;const n=()=>l||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:l=new this.targetWindow.ResizeObserver(t=>{t.forEach(o=>{this._measureElement(o.target,o)})}));return{disconnect:()=>{var t;(t=n())==null||t.disconnect(),l=null},observe:t=>{var o;return(o=n())==null?void 0:o.observe(t,{box:"border-box"})},unobserve:t=>{var o;return(o=n())==null?void 0:o.unobserve(t)}}})(),this.range=null,this.setOptions=l=>{Object.entries(l).forEach(([n,t])=>{typeof t>"u"&&delete l[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:qt,rangeExtractor:Wt,onChange:()=>{},measureElement:Qt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...l}},this.notify=l=>{var n,t;(t=(n=this.options).onChange)==null||t.call(n,this,l)},this.maybeNotify=ve(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),l=>{this.notify(l)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(l=>l()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var l;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((l=this.scrollElement)==null?void 0:l.window)??null,this.elementsCache.forEach(t=>{this.observer.observe(t)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,t=>{this.scrollRect=t,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(t,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(l,n)=>{const t=new Map,o=new Map;for(let a=n-1;a>=0;a--){const i=l[a];if(t.has(i.lane))continue;const f=o.get(i.lane);if(f==null||i.end>f.end?o.set(i.lane,i):i.end<f.end&&t.set(i.lane,!0),t.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((a,i)=>a.end===i.end?a.index-i.index:a.end-i.end)[0]:void 0},this.getMeasurementOptions=ve(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(l,n,t,o,a)=>(this.pendingMeasuredCacheIndexes=[],{count:l,paddingStart:n,scrollMargin:t,getItemKey:o,enabled:a}),{key:!1}),this.getMeasurements=ve(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:l,paddingStart:n,scrollMargin:t,getItemKey:o,enabled:a},i)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(r=>{this.itemSizeCache.set(r.key,r.size)}));const f=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const h=this.measurementsCache.slice(0,f);for(let r=f;r<l;r++){const s=o(r),v=this.options.lanes===1?h[r-1]:this.getFurthestMeasurement(h,r),M=v?v.end+this.options.gap:n+t,S=i.get(s),A=typeof S=="number"?S:this.options.estimateSize(r),L=M+A,T=v?v.lane:r%this.options.lanes;h[r]={index:r,start:M,size:A,end:L,key:s,lane:T}}return this.measurementsCache=h,h},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ve(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(l,n,t)=>this.range=l.length>0&&n>0?Xt({measurements:l,outerSize:n,scrollOffset:t}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ve(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(l,n,t,o)=>n===null?[]:l({startIndex:n.startIndex,endIndex:n.endIndex,overscan:t,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=l=>{const n=this.options.indexAttribute,t=l.getAttribute(n);return t?parseInt(t,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(l,n)=>{const t=this.indexFromElement(l),o=this.measurementsCache[t];if(!o)return;const a=o.key,i=this.elementsCache.get(a);i!==l&&(i&&this.observer.unobserve(i),this.observer.observe(l),this.elementsCache.set(a,l)),l.isConnected&&this.resizeItem(t,this.options.measureElement(l,n,this))},this.resizeItem=(l,n)=>{const t=this.measurementsCache[l];if(!t)return;const o=this.itemSizeCache.get(t.key)??t.size,a=n-o;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,a,this):t.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,n)),this.notify(!1))},this.measureElement=l=>{if(!l){this.elementsCache.forEach((n,t)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(t))});return}this._measureElement(l,void 0)},this.getVirtualItems=ve(()=>[this.getIndexes(),this.getMeasurements()],(l,n)=>{const t=[];for(let o=0,a=l.length;o<a;o++){const i=l[o],f=n[i];t.push(f)}return t},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=l=>{const n=this.getMeasurements();if(n.length!==0)return Ae(n[ot(0,n.length-1,t=>Ae(n[t]).start,l)])},this.getOffsetForAlignment=(l,n)=>{const t=this.getSize(),o=this.getScrollOffset();n==="auto"&&(l<=o?n="start":l>=o+t?n="end":n="start"),n==="start"?l=l:n==="end"?l=l-t:n==="center"&&(l=l-t/2);const a=this.options.horizontal?"scrollWidth":"scrollHeight",f=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[a]:this.scrollElement[a]:0)-t;return Math.max(Math.min(f,l),0)},this.getOffsetForIndex=(l,n="auto")=>{l=Math.max(0,Math.min(l,this.options.count-1));const t=this.measurementsCache[l];if(!t)return;const o=this.getSize(),a=this.getScrollOffset();if(n==="auto")if(t.end>=a+o-this.options.scrollPaddingEnd)n="end";else if(t.start<=a+this.options.scrollPaddingStart)n="start";else return[a,n];const i=n==="end"?t.end+this.options.scrollPaddingEnd:t.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,n),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(l,{align:n="start",behavior:t}={})=>{this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(l,n),{adjustments:void 0,behavior:t})},this.scrollToIndex=(l,{align:n="auto",behavior:t}={})=>{l=Math.max(0,Math.min(l,this.options.count-1)),this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(l,n);if(!o)return;const[a,i]=o;this._scrollToOffset(a,{adjustments:void 0,behavior:t}),t!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(l))){const[h]=Ae(this.getOffsetForIndex(l,i));jt(h,this.getScrollOffset())||this.scrollToIndex(l,{align:i,behavior:t})}else this.scrollToIndex(l,{align:i,behavior:t})}))},this.scrollBy=(l,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+l,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var l;const n=this.getMeasurements();let t;return n.length===0?t=this.options.paddingStart:t=this.options.lanes===1?((l=n[n.length-1])==null?void 0:l.end)??0:Math.max(...n.slice(-this.options.lanes).map(o=>o.end)),Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(l,{adjustments:n,behavior:t})=>{this.options.scrollToFn(l,{behavior:t,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(u)}}const ot=(e,u,l,n)=>{for(;e<=u;){const t=(e+u)/2|0,o=l(t);if(o<n)e=t+1;else if(o>n)u=t-1;else return t}return e>0?e-1:0};function Xt({measurements:e,outerSize:u,scrollOffset:l}){const n=e.length-1,o=ot(0,n,i=>e[i].start,l);let a=o;for(;a<n&&e[a].end<l+u;)a++;return{startIndex:o,endIndex:a}}function Zt(e){const u=new Yt(Ce(e)),l=St(u),n=u._didMount();return _(()=>Ce(e).getScrollElement(),t=>{t&&u._willUpdate()},{immediate:!0}),_(()=>Ce(e),t=>{u.setOptions({...t,onChange:(o,a)=>{var i;Le(l),(i=t.onChange)==null||i.call(t,o,a)}}),u._willUpdate(),Le(l)},{immediate:!0}),It(n),l}function Gt(e){return Zt(p(()=>({observeElementRect:Ht,observeElementOffset:Kt,scrollToFn:Jt,...Ce(e)})))}function ut(e,u,l){let n=k(l==null?void 0:l.value),t=p(()=>e.value!==void 0);return[p(()=>t.value?e.value:n.value),function(o){return t.value||(n.value=o),u==null?void 0:u(o)}]}function _t(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(u=>setTimeout(()=>{throw u}))}function Me(){let e=[],u={addEventListener(l,n,t,o){return l.addEventListener(n,t,o),u.add(()=>l.removeEventListener(n,t,o))},requestAnimationFrame(...l){let n=requestAnimationFrame(...l);u.add(()=>cancelAnimationFrame(n))},nextFrame(...l){u.requestAnimationFrame(()=>{u.requestAnimationFrame(...l)})},setTimeout(...l){let n=setTimeout(...l);u.add(()=>clearTimeout(n))},microTask(...l){let n={current:!0};return _t(()=>{n.current&&l[0]()}),u.add(()=>{n.current=!1})},style(l,n,t){let o=l.style.getPropertyValue(n);return Object.assign(l.style,{[n]:t}),this.add(()=>{Object.assign(l.style,{[n]:o})})},group(l){let n=Me();return l(n),this.add(()=>n.dispose())},add(l){return e.push(l),()=>{let n=e.indexOf(l);if(n>=0)for(let t of e.splice(n,1))t()}},dispose(){for(let l of e.splice(0))l()}};return u}function el(){let e=Me();return ke(()=>e.dispose()),e}function tl(){let e=el();return u=>{e.dispose(),e.nextFrame(u)}}function qe(e){return[e.screenX,e.screenY]}function st(){let e=k([-1,-1]);return{wasMoved(u){let l=qe(u);return e.value[0]===l[0]&&e.value[1]===l[1]?!1:(e.value=l,!0)},update(u){e.value=qe(u)}}}function ll({container:e,accept:u,walk:l,enabled:n}){me(()=>{let t=e.value;if(!t||n!==void 0&&!n.value)return;let o=Ue(e);if(!o)return;let a=Object.assign(f=>u(f),{acceptNode:u}),i=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,a,!1);for(;i.nextNode();)l(i.currentNode)})}var rt=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(rt||{});function nl(e){function u(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",u))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",u),u())}let oe=[];nl(()=>{function e(u){u.target instanceof HTMLElement&&u.target!==document.body&&oe[0]!==u.target&&(oe.unshift(u.target),oe=oe.filter(l=>l!=null&&l.isConnected),oe.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function al(e){throw new Error("Unexpected object: "+e)}var D=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(D||{});function $e(e,u){let l=u.resolveItems();if(l.length<=0)return null;let n=u.resolveActiveIndex(),t=n??-1;switch(e.focus){case 0:{for(let o=0;o<l.length;++o)if(!u.resolveDisabled(l[o],o,l))return o;return n}case 1:{t===-1&&(t=l.length);for(let o=t-1;o>=0;--o)if(!u.resolveDisabled(l[o],o,l))return o;return n}case 2:{for(let o=t+1;o<l.length;++o)if(!u.resolveDisabled(l[o],o,l))return o;return n}case 3:{for(let o=l.length-1;o>=0;--o)if(!u.resolveDisabled(l[o],o,l))return o;return n}case 4:{for(let o=0;o<l.length;++o)if(u.resolveId(l[o],o,l)===e.id)return o;return n}case 5:return null;default:al(e)}}function Fe(e={},u=null,l=[]){for(let[n,t]of Object.entries(e))ct(l,dt(u,n),t);return l}function dt(e,u){return e?e+"["+u+"]":u}function ct(e,u,l){if(Array.isArray(l))for(let[n,t]of l.entries())ct(e,dt(u,n.toString()),t);else l instanceof Date?e.push([u,l.toISOString()]):typeof l=="boolean"?e.push([u,l?"1":"0"]):typeof l=="string"?e.push([u,l]):typeof l=="number"?e.push([u,`${l}`]):l==null?e.push([u,""]):Fe(l,u,e)}function Bl(e){var u,l;let n=(u=e==null?void 0:e.form)!=null?u:e.closest("form");if(n){for(let t of n.elements)if(t!==e&&(t.tagName==="INPUT"&&t.type==="submit"||t.tagName==="BUTTON"&&t.type==="submit"||t.nodeName==="INPUT"&&t.type==="image")){t.click();return}(l=n.requestSubmit)==null||l.call(n)}}var il={};function ol(e,u){return e===u}var ul=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ul||{}),sl=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(sl||{}),rl=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(rl||{});let vt=Symbol("ComboboxContext");function ge(e){let u=pe(vt,null);if(u===null){let l=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,ge),l}return u}let ft=Symbol("VirtualContext"),dl=Q({name:"VirtualProvider",setup(e,{slots:u}){let l=ge("VirtualProvider"),n=p(()=>{let i=x(l.optionsRef);if(!i)return{start:0,end:0};let f=window.getComputedStyle(i);return{start:parseFloat(f.paddingBlockStart||f.paddingTop),end:parseFloat(f.paddingBlockEnd||f.paddingBottom)}}),t=Gt(p(()=>({scrollPaddingStart:n.value.start,scrollPaddingEnd:n.value.end,count:l.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return x(l.optionsRef)},overscan:12}))),o=p(()=>{var i;return(i=l.virtual.value)==null?void 0:i.options}),a=k(0);return _([o],()=>{a.value+=1}),De(ft,l.virtual.value?t:null),()=>[he("div",{style:{position:"relative",width:"100%",height:`${t.value.getTotalSize()}px`},ref:i=>{if(i){if(typeof process<"u"&&il.JEST_WORKER_ID!==void 0||l.activationTrigger.value===0)return;l.activeOptionIndex.value!==null&&l.virtual.value.options.length>l.activeOptionIndex.value&&t.value.scrollToIndex(l.activeOptionIndex.value)}}},t.value.getVirtualItems().map(i=>wt(u.default({option:l.virtual.value.options[i.index],open:l.comboboxState.value===0})[0],{key:`${a.value}-${i.index}`,"data-index":i.index,"aria-setsize":l.virtual.value.options.length,"aria-posinset":i.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${i.start}px)`,overflowAnchor:"none"}})))]}}),cl=Q({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:u,attrs:l,emit:n}){let t=k(1),o=k(null),a=k(null),i=k(null),f=k(null),h=k({static:!1,hold:!1}),r=k([]),s=k(null),v=k(2),M=k(!1);function S(b=g=>g){let g=s.value!==null?r.value[s.value]:null,R=b(r.value.slice()),E=R.length>0&&R[0].dataRef.order.value!==null?R.sort((z,j)=>z.dataRef.order.value-j.dataRef.order.value):Ye(R,z=>x(z.dataRef.domRef)),w=g?E.indexOf(g):null;return w===-1&&(w=null),{options:E,activeOptionIndex:w}}let A=p(()=>e.multiple?1:0),L=p(()=>e.nullable),[T,I]=ut(p(()=>e.modelValue),b=>n("update:modelValue",b),p(()=>e.defaultValue)),d=p(()=>T.value===void 0?U(A.value,{1:[],0:void 0}):T.value),y=null,c=null;function O(b){return U(A.value,{0(){return I==null?void 0:I(b)},1:()=>{let g=P(m.value.value).slice(),R=P(b),E=g.findIndex(w=>m.compare(R,P(w)));return E===-1?g.push(R):g.splice(E,1),I==null?void 0:I(g)}})}let C=p(()=>{});_([C],([b],[g])=>{if(m.virtual.value&&b&&g&&s.value!==null){let R=b.indexOf(g[s.value]);R!==-1?s.value=R:s.value=null}});let m={comboboxState:t,value:d,mode:A,compare(b,g){if(typeof e.by=="string"){let R=e.by;return(b==null?void 0:b[R])===(g==null?void 0:g[R])}return e.by===null?ol(b,g):e.by(b,g)},calculateIndex(b){return m.virtual.value?e.by===null?m.virtual.value.options.indexOf(b):m.virtual.value.options.findIndex(g=>m.compare(g,b)):r.value.findIndex(g=>m.compare(g.dataRef.value,b))},defaultValue:p(()=>e.defaultValue),nullable:L,immediate:p(()=>!1),virtual:p(()=>null),inputRef:a,labelRef:o,buttonRef:i,optionsRef:f,disabled:p(()=>e.disabled),options:r,change(b){I(b)},activeOptionIndex:p(()=>{if(M.value&&s.value===null&&(m.virtual.value?m.virtual.value.options.length>0:r.value.length>0)){if(m.virtual.value){let g=m.virtual.value.options.findIndex(R=>{var E;return!((E=m.virtual.value)!=null&&E.disabled(R))});if(g!==-1)return g}let b=r.value.findIndex(g=>!g.dataRef.disabled);if(b!==-1)return b}return s.value}),activationTrigger:v,optionsPropsRef:h,closeCombobox(){M.value=!1,!e.disabled&&t.value!==1&&(t.value=1,s.value=null)},openCombobox(){if(M.value=!0,!e.disabled&&t.value!==0){if(m.value.value){let b=m.calculateIndex(m.value.value);b!==-1&&(s.value=b)}t.value=0}},setActivationTrigger(b){v.value=b},goToOption(b,g,R){M.value=!1,y!==null&&cancelAnimationFrame(y),y=requestAnimationFrame(()=>{if(e.disabled||f.value&&!h.value.static&&t.value===1)return;if(m.virtual.value){s.value=b===D.Specific?g:$e({focus:b},{resolveItems:()=>m.virtual.value.options,resolveActiveIndex:()=>{var z,j;return(j=(z=m.activeOptionIndex.value)!=null?z:m.virtual.value.options.findIndex(ne=>{var X;return!((X=m.virtual.value)!=null&&X.disabled(ne))}))!=null?j:null},resolveDisabled:z=>m.virtual.value.disabled(z),resolveId(){throw new Error("Function not implemented.")}}),v.value=R??2;return}let E=S();if(E.activeOptionIndex===null){let z=E.options.findIndex(j=>!j.dataRef.disabled);z!==-1&&(E.activeOptionIndex=z)}let w=b===D.Specific?g:$e({focus:b},{resolveItems:()=>E.options,resolveActiveIndex:()=>E.activeOptionIndex,resolveId:z=>z.id,resolveDisabled:z=>z.dataRef.disabled});s.value=w,v.value=R??2,r.value=E.options})},selectOption(b){let g=r.value.find(E=>E.id===b);if(!g)return;let{dataRef:R}=g;O(R.value)},selectActiveOption(){if(m.activeOptionIndex.value!==null){if(m.virtual.value)O(m.virtual.value.options[m.activeOptionIndex.value]);else{let{dataRef:b}=r.value[m.activeOptionIndex.value];O(b.value)}m.goToOption(D.Specific,m.activeOptionIndex.value)}},registerOption(b,g){let R=Mt({id:b,dataRef:g});if(m.virtual.value){r.value.push(R);return}c&&cancelAnimationFrame(c);let E=S(w=>(w.push(R),w));s.value===null&&m.isSelected(g.value.value)&&(E.activeOptionIndex=E.options.indexOf(R)),r.value=E.options,s.value=E.activeOptionIndex,v.value=2,E.options.some(w=>!x(w.dataRef.domRef))&&(c=requestAnimationFrame(()=>{let w=S();r.value=w.options,s.value=w.activeOptionIndex}))},unregisterOption(b,g){if(y!==null&&cancelAnimationFrame(y),g&&(M.value=!0),m.virtual.value){r.value=r.value.filter(E=>E.id!==b);return}let R=S(E=>{let w=E.findIndex(z=>z.id===b);return w!==-1&&E.splice(w,1),E});r.value=R.options,s.value=R.activeOptionIndex,v.value=2},isSelected(b){return U(A.value,{0:()=>m.compare(P(m.value.value),P(b)),1:()=>P(m.value.value).some(g=>m.compare(P(g),P(b)))})},isActive(b){return s.value===m.calculateIndex(b)}};Je([a,i,f],()=>m.closeCombobox(),p(()=>t.value===0)),De(vt,m),Xe(p(()=>U(t.value,{0:ie.Open,1:ie.Closed})));let $=p(()=>{var b;return(b=x(a))==null?void 0:b.closest("form")});return ue(()=>{_([$],()=>{if(!$.value||e.defaultValue===void 0)return;function b(){m.change(e.defaultValue)}return $.value.addEventListener("reset",b),()=>{var g;(g=$.value)==null||g.removeEventListener("reset",b)}},{immediate:!0})}),()=>{var b,g,R;let{name:E,disabled:w,form:z,...j}=e,ne={open:t.value===0,disabled:w,activeIndex:m.activeOptionIndex.value,activeOption:m.activeOptionIndex.value===null?null:m.virtual.value?m.virtual.value.options[(b=m.activeOptionIndex.value)!=null?b:0]:(R=(g=m.options.value[m.activeOptionIndex.value])==null?void 0:g.dataRef.value)!=null?R:null,value:d.value};return he(Ve,[...E!=null&&d.value!=null?Fe({[E]:d.value}).map(([X,re])=>he(Ze,Ge({features:_e.Hidden,key:X,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:z,disabled:w,name:X,value:re}))):[],le({theirProps:{...l,...Re(j,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:ne,slots:u,attrs:l,name:"Combobox"})])}}}),vl=Q({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:u,slots:l,expose:n}){var t;let o=(t=e.id)!=null?t:`headlessui-combobox-button-${se()}`,a=ge("ComboboxButton");n({el:a.buttonRef,$el:a.buttonRef});function i(r){a.disabled.value||(a.comboboxState.value===0?a.closeCombobox():(r.preventDefault(),a.openCombobox()),H(()=>{var s;return(s=x(a.inputRef))==null?void 0:s.focus({preventScroll:!0})}))}function f(r){switch(r.key){case F.ArrowDown:r.preventDefault(),r.stopPropagation(),a.comboboxState.value===1&&a.openCombobox(),H(()=>{var s;return(s=a.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return;case F.ArrowUp:r.preventDefault(),r.stopPropagation(),a.comboboxState.value===1&&(a.openCombobox(),H(()=>{a.value.value||a.goToOption(D.Last)})),H(()=>{var s;return(s=a.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return;case F.Escape:if(a.comboboxState.value!==0)return;r.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&r.stopPropagation(),a.closeCombobox(),H(()=>{var s;return(s=a.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return}}let h=Qe(p(()=>({as:e.as,type:u.type})),a.buttonRef);return()=>{var r,s;let v={open:a.comboboxState.value===0,disabled:a.disabled.value,value:a.value.value},{...M}=e,S={ref:a.buttonRef,id:o,type:h.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(r=x(a.optionsRef))==null?void 0:r.id,"aria-expanded":a.comboboxState.value===0,"aria-labelledby":a.labelRef.value?[(s=x(a.labelRef))==null?void 0:s.id,o].join(" "):void 0,disabled:a.disabled.value===!0?!0:void 0,onKeydown:f,onClick:i};return le({ourProps:S,theirProps:M,slot:v,attrs:u,slots:l,name:"ComboboxButton"})}}}),fl=Q({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:u,attrs:l,slots:n,expose:t}){var o;let a=(o=e.id)!=null?o:`headlessui-combobox-input-${se()}`,i=ge("ComboboxInput"),f=p(()=>Ue(x(i.inputRef))),h={value:!1};t({el:i.inputRef,$el:i.inputRef});function r(){i.change(null);let c=x(i.optionsRef);c&&(c.scrollTop=0),i.goToOption(D.Nothing)}let s=p(()=>{var c;let O=i.value.value;return x(i.inputRef)?typeof e.displayValue<"u"&&O!==void 0?(c=e.displayValue(O))!=null?c:"":typeof O=="string"?O:"":""});ue(()=>{_([s,i.comboboxState,f],([c,O],[C,m])=>{if(h.value)return;let $=x(i.inputRef);$&&((m===0&&O===1||c!==C)&&($.value=c),requestAnimationFrame(()=>{var b;if(h.value||!$||((b=f.value)==null?void 0:b.activeElement)!==$)return;let{selectionStart:g,selectionEnd:R}=$;Math.abs((R??0)-(g??0))===0&&g===0&&$.setSelectionRange($.value.length,$.value.length)}))},{immediate:!0}),_([i.comboboxState],([c],[O])=>{if(c===0&&O===1){if(h.value)return;let C=x(i.inputRef);if(!C)return;let m=C.value,{selectionStart:$,selectionEnd:b,selectionDirection:g}=C;C.value="",C.value=m,g!==null?C.setSelectionRange($,b,g):C.setSelectionRange($,b)}})});let v=k(!1);function M(){v.value=!0}function S(){Me().nextFrame(()=>{v.value=!1})}let A=tl();function L(c){switch(h.value=!0,A(()=>{h.value=!1}),c.key){case F.Enter:if(h.value=!1,i.comboboxState.value!==0||v.value)return;if(c.preventDefault(),c.stopPropagation(),i.activeOptionIndex.value===null){i.closeCombobox();return}i.selectActiveOption(),i.mode.value===0&&i.closeCombobox();break;case F.ArrowDown:return h.value=!1,c.preventDefault(),c.stopPropagation(),U(i.comboboxState.value,{0:()=>i.goToOption(D.Next),1:()=>i.openCombobox()});case F.ArrowUp:return h.value=!1,c.preventDefault(),c.stopPropagation(),U(i.comboboxState.value,{0:()=>i.goToOption(D.Previous),1:()=>{i.openCombobox(),H(()=>{i.value.value||i.goToOption(D.Last)})}});case F.Home:if(c.shiftKey)break;return h.value=!1,c.preventDefault(),c.stopPropagation(),i.goToOption(D.First);case F.PageUp:return h.value=!1,c.preventDefault(),c.stopPropagation(),i.goToOption(D.First);case F.End:if(c.shiftKey)break;return h.value=!1,c.preventDefault(),c.stopPropagation(),i.goToOption(D.Last);case F.PageDown:return h.value=!1,c.preventDefault(),c.stopPropagation(),i.goToOption(D.Last);case F.Escape:if(h.value=!1,i.comboboxState.value!==0)return;c.preventDefault(),i.optionsRef.value&&!i.optionsPropsRef.value.static&&c.stopPropagation(),i.nullable.value&&i.mode.value===0&&i.value.value===null&&r(),i.closeCombobox();break;case F.Tab:if(h.value=!1,i.comboboxState.value!==0)return;i.mode.value===0&&i.activationTrigger.value!==1&&i.selectActiveOption(),i.closeCombobox();break}}function T(c){u("change",c),i.nullable.value&&i.mode.value===0&&c.target.value===""&&r(),i.openCombobox()}function I(c){var O,C,m;let $=(O=c.relatedTarget)!=null?O:oe.find(b=>b!==c.currentTarget);if(h.value=!1,!((C=x(i.optionsRef))!=null&&C.contains($))&&!((m=x(i.buttonRef))!=null&&m.contains($))&&i.comboboxState.value===0)return c.preventDefault(),i.mode.value===0&&(i.nullable.value&&i.value.value===null?r():i.activationTrigger.value!==1&&i.selectActiveOption()),i.closeCombobox()}function d(c){var O,C,m;let $=(O=c.relatedTarget)!=null?O:oe.find(b=>b!==c.currentTarget);(C=x(i.buttonRef))!=null&&C.contains($)||(m=x(i.optionsRef))!=null&&m.contains($)||i.disabled.value||i.immediate.value&&i.comboboxState.value!==0&&(i.openCombobox(),Me().nextFrame(()=>{i.setActivationTrigger(1)}))}let y=p(()=>{var c,O,C,m;return(m=(C=(O=e.defaultValue)!=null?O:i.defaultValue.value!==void 0?(c=e.displayValue)==null?void 0:c.call(e,i.defaultValue.value):null)!=null?C:i.defaultValue.value)!=null?m:""});return()=>{var c,O,C,m,$,b,g;let R={open:i.comboboxState.value===0},{displayValue:E,onChange:w,...z}=e,j={"aria-controls":(c=i.optionsRef.value)==null?void 0:c.id,"aria-expanded":i.comboboxState.value===0,"aria-activedescendant":i.activeOptionIndex.value===null?void 0:i.virtual.value?(O=i.options.value.find(ne=>!i.virtual.value.disabled(ne.dataRef.value)&&i.compare(ne.dataRef.value,i.virtual.value.options[i.activeOptionIndex.value])))==null?void 0:O.id:(C=i.options.value[i.activeOptionIndex.value])==null?void 0:C.id,"aria-labelledby":(b=(m=x(i.labelRef))==null?void 0:m.id)!=null?b:($=x(i.buttonRef))==null?void 0:$.id,"aria-autocomplete":"list",id:a,onCompositionstart:M,onCompositionend:S,onKeydown:L,onInput:T,onFocus:d,onBlur:I,role:"combobox",type:(g=l.type)!=null?g:"text",tabIndex:0,ref:i.inputRef,defaultValue:y.value,disabled:i.disabled.value===!0?!0:void 0};return le({ourProps:j,theirProps:z,slot:R,attrs:l,slots:n,features:be.RenderStrategy|be.Static,name:"ComboboxInput"})}}}),pl=Q({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:u,slots:l,expose:n}){let t=ge("ComboboxOptions"),o=`headlessui-combobox-options-${se()}`;n({el:t.optionsRef,$el:t.optionsRef}),me(()=>{t.optionsPropsRef.value.static=e.static}),me(()=>{t.optionsPropsRef.value.hold=e.hold});let a=Ke(),i=p(()=>a!==null?(a.value&ie.Open)===ie.Open:t.comboboxState.value===0);ll({container:p(()=>x(t.optionsRef)),enabled:p(()=>t.comboboxState.value===0),accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});function f(h){h.preventDefault()}return()=>{var h,r,s;let v={open:t.comboboxState.value===0},M={"aria-labelledby":(s=(h=x(t.labelRef))==null?void 0:h.id)!=null?s:(r=x(t.buttonRef))==null?void 0:r.id,id:o,ref:t.optionsRef,role:"listbox","aria-multiselectable":t.mode.value===1?!0:void 0,onMousedown:f},S=Re(e,["hold"]);return le({ourProps:M,theirProps:S,slot:v,attrs:u,slots:t.virtual.value&&t.comboboxState.value===0?{...l,default:()=>[he(dl,{},l.default)]}:l,features:be.RenderStrategy|be.Static,visible:i.value,name:"ComboboxOptions"})}}}),ml=Q({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:u,attrs:l,expose:n}){let t=ge("ComboboxOption"),o=`headlessui-combobox-option-${se()}`,a=k(null),i=p(()=>e.disabled);n({el:a,$el:a});let f=p(()=>{var I;return t.virtual.value?t.activeOptionIndex.value===t.calculateIndex(e.value):t.activeOptionIndex.value===null?!1:((I=t.options.value[t.activeOptionIndex.value])==null?void 0:I.id)===o}),h=p(()=>t.isSelected(e.value)),r=pe(ft,null),s=p(()=>({disabled:e.disabled,value:e.value,domRef:a,order:p(()=>e.order)}));ue(()=>t.registerOption(o,s)),ke(()=>t.unregisterOption(o,f.value)),me(()=>{let I=x(a);I&&(r==null||r.value.measureElement(I))}),me(()=>{t.comboboxState.value===0&&f.value&&(t.virtual.value||t.activationTrigger.value!==0&&H(()=>{var I,d;return(d=(I=x(a))==null?void 0:I.scrollIntoView)==null?void 0:d.call(I,{block:"nearest"})}))});function v(I){I.preventDefault(),I.button===rt.Left&&(i.value||(t.selectOption(o),Ct()||requestAnimationFrame(()=>{var d;return(d=x(t.inputRef))==null?void 0:d.focus({preventScroll:!0})}),t.mode.value===0&&t.closeCombobox()))}function M(){var I;if(e.disabled||(I=t.virtual.value)!=null&&I.disabled(e.value))return t.goToOption(D.Nothing);let d=t.calculateIndex(e.value);t.goToOption(D.Specific,d)}let S=st();function A(I){S.update(I)}function L(I){var d;if(!S.wasMoved(I)||e.disabled||(d=t.virtual.value)!=null&&d.disabled(e.value)||f.value)return;let y=t.calculateIndex(e.value);t.goToOption(D.Specific,y,0)}function T(I){var d;S.wasMoved(I)&&(e.disabled||(d=t.virtual.value)!=null&&d.disabled(e.value)||f.value&&(t.optionsPropsRef.value.hold||t.goToOption(D.Nothing)))}return()=>{let{disabled:I}=e,d={active:f.value,selected:h.value,disabled:I},y={id:o,ref:a,role:"option",tabIndex:I===!0?void 0:-1,"aria-disabled":I===!0?!0:void 0,"aria-selected":h.value,disabled:void 0,onMousedown:v,onFocus:M,onPointerenter:A,onMouseenter:A,onPointermove:L,onMousemove:L,onPointerleave:T,onMouseleave:T},c=Re(e,["order","value"]);return le({ourProps:y,theirProps:c,slot:d,attrs:l,slots:u,name:"ComboboxOption"})}}}),We=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function He(e){var u,l;let n=(u=e.innerText)!=null?u:"",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return n;let o=!1;for(let i of t.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))i.remove(),o=!0;let a=o?(l=t.innerText)!=null?l:"":n;return We.test(a)&&(a=a.replace(We,"")),a}function bl(e){let u=e.getAttribute("aria-label");if(typeof u=="string")return u.trim();let l=e.getAttribute("aria-labelledby");if(l){let n=l.split(" ").map(t=>{let o=document.getElementById(t);if(o){let a=o.getAttribute("aria-label");return typeof a=="string"?a.trim():He(o).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return He(e).trim()}function hl(e){let u=k(""),l=k("");return()=>{let n=x(e);if(!n)return"";let t=n.innerText;if(u.value===t)return l.value;let o=bl(n).trim().toLowerCase();return u.value=t,l.value=o,o}}function gl(e,u){return e===u}var yl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(yl||{}),Ol=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ol||{}),Sl=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Sl||{});function Il(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let pt=Symbol("ListboxContext");function Te(e){let u=pe(pt,null);if(u===null){let l=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,Te),l}return u}let Cl=Q({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>gl},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:u,attrs:l,emit:n}){let t=k(1),o=k(null),a=k(null),i=k(null),f=k([]),h=k(""),r=k(null),s=k(1);function v(d=y=>y){let y=r.value!==null?f.value[r.value]:null,c=Ye(d(f.value.slice()),C=>x(C.dataRef.domRef)),O=y?c.indexOf(y):null;return O===-1&&(O=null),{options:c,activeOptionIndex:O}}let M=p(()=>e.multiple?1:0),[S,A]=ut(p(()=>e.modelValue),d=>n("update:modelValue",d),p(()=>e.defaultValue)),L=p(()=>S.value===void 0?U(M.value,{1:[],0:void 0}):S.value),T={listboxState:t,value:L,mode:M,compare(d,y){if(typeof e.by=="string"){let c=e.by;return(d==null?void 0:d[c])===(y==null?void 0:y[c])}return e.by(d,y)},orientation:p(()=>e.horizontal?"horizontal":"vertical"),labelRef:o,buttonRef:a,optionsRef:i,disabled:p(()=>e.disabled),options:f,searchQuery:h,activeOptionIndex:r,activationTrigger:s,closeListbox(){e.disabled||t.value!==1&&(t.value=1,r.value=null)},openListbox(){e.disabled||t.value!==0&&(t.value=0)},goToOption(d,y,c){if(e.disabled||t.value===1)return;let O=v(),C=$e(d===D.Specific?{focus:D.Specific,id:y}:{focus:d},{resolveItems:()=>O.options,resolveActiveIndex:()=>O.activeOptionIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.disabled});h.value="",r.value=C,s.value=c??1,f.value=O.options},search(d){if(e.disabled||t.value===1)return;let y=h.value!==""?0:1;h.value+=d.toLowerCase();let c=(r.value!==null?f.value.slice(r.value+y).concat(f.value.slice(0,r.value+y)):f.value).find(C=>C.dataRef.textValue.startsWith(h.value)&&!C.dataRef.disabled),O=c?f.value.indexOf(c):-1;O===-1||O===r.value||(r.value=O,s.value=1)},clearSearch(){e.disabled||t.value!==1&&h.value!==""&&(h.value="")},registerOption(d,y){let c=v(O=>[...O,{id:d,dataRef:y}]);f.value=c.options,r.value=c.activeOptionIndex},unregisterOption(d){let y=v(c=>{let O=c.findIndex(C=>C.id===d);return O!==-1&&c.splice(O,1),c});f.value=y.options,r.value=y.activeOptionIndex,s.value=1},theirOnChange(d){e.disabled||A(d)},select(d){e.disabled||A(U(M.value,{0:()=>d,1:()=>{let y=P(T.value.value).slice(),c=P(d),O=y.findIndex(C=>T.compare(c,P(C)));return O===-1?y.push(c):y.splice(O,1),y}}))}};Je([a,i],(d,y)=>{var c;T.closeListbox(),Rt(y,xt.Loose)||(d.preventDefault(),(c=x(a))==null||c.focus())},p(()=>t.value===0)),De(pt,T),Xe(p(()=>U(t.value,{0:ie.Open,1:ie.Closed})));let I=p(()=>{var d;return(d=x(a))==null?void 0:d.closest("form")});return ue(()=>{_([I],()=>{if(!I.value||e.defaultValue===void 0)return;function d(){T.theirOnChange(e.defaultValue)}return I.value.addEventListener("reset",d),()=>{var y;(y=I.value)==null||y.removeEventListener("reset",d)}},{immediate:!0})}),()=>{let{name:d,modelValue:y,disabled:c,form:O,...C}=e,m={open:t.value===0,disabled:c,value:L.value};return he(Ve,[...d!=null&&L.value!=null?Fe({[d]:L.value}).map(([$,b])=>he(Ze,Ge({features:_e.Hidden,key:$,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:O,disabled:c,name:$,value:b}))):[],le({ourProps:{},theirProps:{...l,...Re(C,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:m,slots:u,attrs:l,name:"Listbox"})])}}}),wl=Q({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:u,slots:l,expose:n}){var t;let o=(t=e.id)!=null?t:`headlessui-listbox-button-${se()}`,a=Te("ListboxButton");n({el:a.buttonRef,$el:a.buttonRef});function i(s){switch(s.key){case F.Space:case F.Enter:case F.ArrowDown:s.preventDefault(),a.openListbox(),H(()=>{var v;(v=x(a.optionsRef))==null||v.focus({preventScroll:!0}),a.value.value||a.goToOption(D.First)});break;case F.ArrowUp:s.preventDefault(),a.openListbox(),H(()=>{var v;(v=x(a.optionsRef))==null||v.focus({preventScroll:!0}),a.value.value||a.goToOption(D.Last)});break}}function f(s){switch(s.key){case F.Space:s.preventDefault();break}}function h(s){a.disabled.value||(a.listboxState.value===0?(a.closeListbox(),H(()=>{var v;return(v=x(a.buttonRef))==null?void 0:v.focus({preventScroll:!0})})):(s.preventDefault(),a.openListbox(),Il(()=>{var v;return(v=x(a.optionsRef))==null?void 0:v.focus({preventScroll:!0})})))}let r=Qe(p(()=>({as:e.as,type:u.type})),a.buttonRef);return()=>{var s,v;let M={open:a.listboxState.value===0,disabled:a.disabled.value,value:a.value.value},{...S}=e,A={ref:a.buttonRef,id:o,type:r.value,"aria-haspopup":"listbox","aria-controls":(s=x(a.optionsRef))==null?void 0:s.id,"aria-expanded":a.listboxState.value===0,"aria-labelledby":a.labelRef.value?[(v=x(a.labelRef))==null?void 0:v.id,o].join(" "):void 0,disabled:a.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:f,onClick:h};return le({ourProps:A,theirProps:S,slot:M,attrs:u,slots:l,name:"ListboxButton"})}}}),Ml=Q({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:u,slots:l,expose:n}){var t;let o=(t=e.id)!=null?t:`headlessui-listbox-options-${se()}`,a=Te("ListboxOptions"),i=k(null);n({el:a.optionsRef,$el:a.optionsRef});function f(s){switch(i.value&&clearTimeout(i.value),s.key){case F.Space:if(a.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),a.search(s.key);case F.Enter:if(s.preventDefault(),s.stopPropagation(),a.activeOptionIndex.value!==null){let v=a.options.value[a.activeOptionIndex.value];a.select(v.dataRef.value)}a.mode.value===0&&(a.closeListbox(),H(()=>{var v;return(v=x(a.buttonRef))==null?void 0:v.focus({preventScroll:!0})}));break;case U(a.orientation.value,{vertical:F.ArrowDown,horizontal:F.ArrowRight}):return s.preventDefault(),s.stopPropagation(),a.goToOption(D.Next);case U(a.orientation.value,{vertical:F.ArrowUp,horizontal:F.ArrowLeft}):return s.preventDefault(),s.stopPropagation(),a.goToOption(D.Previous);case F.Home:case F.PageUp:return s.preventDefault(),s.stopPropagation(),a.goToOption(D.First);case F.End:case F.PageDown:return s.preventDefault(),s.stopPropagation(),a.goToOption(D.Last);case F.Escape:s.preventDefault(),s.stopPropagation(),a.closeListbox(),H(()=>{var v;return(v=x(a.buttonRef))==null?void 0:v.focus({preventScroll:!0})});break;case F.Tab:s.preventDefault(),s.stopPropagation();break;default:s.key.length===1&&(a.search(s.key),i.value=setTimeout(()=>a.clearSearch(),350));break}}let h=Ke(),r=p(()=>h!==null?(h.value&ie.Open)===ie.Open:a.listboxState.value===0);return()=>{var s,v;let M={open:a.listboxState.value===0},{...S}=e,A={"aria-activedescendant":a.activeOptionIndex.value===null||(s=a.options.value[a.activeOptionIndex.value])==null?void 0:s.id,"aria-multiselectable":a.mode.value===1?!0:void 0,"aria-labelledby":(v=x(a.buttonRef))==null?void 0:v.id,"aria-orientation":a.orientation.value,id:o,onKeydown:f,role:"listbox",tabIndex:0,ref:a.optionsRef};return le({ourProps:A,theirProps:S,slot:M,attrs:u,slots:l,features:be.RenderStrategy|be.Static,visible:r.value,name:"ListboxOptions"})}}}),Rl=Q({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:u,attrs:l,expose:n}){var t;let o=(t=e.id)!=null?t:`headlessui-listbox-option-${se()}`,a=Te("ListboxOption"),i=k(null);n({el:i,$el:i});let f=p(()=>a.activeOptionIndex.value!==null?a.options.value[a.activeOptionIndex.value].id===o:!1),h=p(()=>U(a.mode.value,{0:()=>a.compare(P(a.value.value),P(e.value)),1:()=>P(a.value.value).some(d=>a.compare(P(d),P(e.value)))})),r=p(()=>U(a.mode.value,{1:()=>{var d;let y=P(a.value.value);return((d=a.options.value.find(c=>y.some(O=>a.compare(P(O),P(c.dataRef.value)))))==null?void 0:d.id)===o},0:()=>h.value})),s=hl(i),v=p(()=>({disabled:e.disabled,value:e.value,get textValue(){return s()},domRef:i}));ue(()=>a.registerOption(o,v)),ke(()=>a.unregisterOption(o)),ue(()=>{_([a.listboxState,h],()=>{a.listboxState.value===0&&h.value&&U(a.mode.value,{1:()=>{r.value&&a.goToOption(D.Specific,o)},0:()=>{a.goToOption(D.Specific,o)}})},{immediate:!0})}),me(()=>{a.listboxState.value===0&&f.value&&a.activationTrigger.value!==0&&H(()=>{var d,y;return(y=(d=x(i))==null?void 0:d.scrollIntoView)==null?void 0:y.call(d,{block:"nearest"})})});function M(d){if(e.disabled)return d.preventDefault();a.select(e.value),a.mode.value===0&&(a.closeListbox(),H(()=>{var y;return(y=x(a.buttonRef))==null?void 0:y.focus({preventScroll:!0})}))}function S(){if(e.disabled)return a.goToOption(D.Nothing);a.goToOption(D.Specific,o)}let A=st();function L(d){A.update(d)}function T(d){A.wasMoved(d)&&(e.disabled||f.value||a.goToOption(D.Specific,o,0))}function I(d){A.wasMoved(d)&&(e.disabled||f.value&&a.goToOption(D.Nothing))}return()=>{let{disabled:d}=e,y={active:f.value,selected:h.value,disabled:d},{value:c,disabled:O,...C}=e,m={id:o,ref:i,role:"option",tabIndex:d===!0?void 0:-1,"aria-disabled":d===!0?!0:void 0,"aria-selected":h.value,disabled:void 0,onClick:M,onFocus:S,onPointerenter:L,onMouseenter:L,onPointermove:T,onMousemove:T,onPointerleave:I,onMouseleave:I};return le({ourProps:m,theirProps:C,slot:y,attrs:l,slots:u,name:"ListboxOption"})}}});const mt=(e,u,l=!0)=>{const n=pe("form-events",void 0),t=pe("form-group",void 0),o=pe("form-inputs",void 0);t&&(!l||e!=null&&e.legend?t.inputId.value=void 0:e!=null&&e.id&&(t.inputId.value=e==null?void 0:e.id),o&&(o.value[t.name.value]=t.inputId.value));const a=k(!1);function i(s,v){n&&n.emit({type:s,path:v})}function f(){i("blur",t==null?void 0:t.name.value),a.value=!0}function h(){i("change",t==null?void 0:t.name.value)}const r=et(()=>{(a.value||t!=null&&t.eagerValidation.value)&&i("input",t==null?void 0:t.name.value)},300);return{inputId:p(()=>(e==null?void 0:e.id)??(t==null?void 0:t.inputId.value)),name:p(()=>(e==null?void 0:e.name)??(t==null?void 0:t.name.value)),size:p(()=>{var v;const s=u.size[t==null?void 0:t.size.value]?t==null?void 0:t.size.value:null;return(e==null?void 0:e.size)??s??((v=u.default)==null?void 0:v.size)}),color:p(()=>{var s;return(s=t==null?void 0:t.error)!=null&&s.value?"red":e==null?void 0:e.color}),emitFormBlur:f,emitFormInput:r,emitFormChange:h}},ee=Be(K.ui.strategy,K.ui.input,Tt),xl=Q({components:{UIcon:xe},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ee.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(ee.size).includes(e)}},color:{type:String,default:()=>ee.default.color,validator(e){return[...K.ui.colors,...Object.keys(ee.color)].includes(e)}},variant:{type:String,default:()=>ee.default.variant,validator(e){return[...Object.keys(ee.variant),...Object.values(ee.color).flatMap(u=>Object.keys(u))].includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:u,slots:l}){const{ui:n,attrs:t}=ze("input",Ie(e,"ui"),ee,Ie(e,"class")),{size:o,rounded:a}=lt({ui:n,props:e}),{emitFormBlur:i,emitFormInput:f,size:h,color:r,inputId:s,name:v}=mt(e,ee),M=p(()=>o.value??h.value),S=k(nt({},e.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),A=k(null),L=()=>{var w;e.autofocus&&((w=A.value)==null||w.focus())},T=w=>{S.value.trim&&(w=w.trim()),(S.value.number||e.type==="number")&&(w=Et(w)),S.value.nullify&&(w||(w=null)),u("update:modelValue",w),f()},I=w=>{S.value.lazy||T(w.target.value)},d=w=>{if(e.type==="file"){const z=w.target.files;u("change",z)}else{const z=w.target.value;u("change",z),S.value.lazy&&T(z),S.value.trim&&(w.target.value=z.trim())}},y=w=>{i(),u("blur",w)};ue(()=>{setTimeout(()=>{L()},e.autofocusDelay)});const c=p(()=>{var z,j;const w=((j=(z=n.value.color)==null?void 0:z[r.value])==null?void 0:j[e.variant])||n.value.variant[e.variant];return at(G(n.value.base,n.value.form,a.value,n.value.placeholder,e.type==="file"&&n.value.file.base,n.value.size[M.value],e.padded?n.value.padding[M.value]:"p-0",w==null?void 0:w.replaceAll("{color}",r.value),(O.value||l.leading)&&n.value.leading.padding[M.value],(C.value||l.trailing)&&n.value.trailing.padding[M.value]),e.inputClass)}),O=p(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),C=p(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),m=p(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),$=p(()=>e.loading&&!O.value?e.loadingIcon:e.trailingIcon||e.icon),b=p(()=>G(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[M.value])),g=p(()=>G(n.value.icon.base,r.value&&K.ui.colors.includes(r.value)&&n.value.icon.color.replaceAll("{color}",r.value),n.value.icon.size[M.value],e.loading&&n.value.icon.loading)),R=p(()=>G(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[M.value])),E=p(()=>G(n.value.icon.base,r.value&&K.ui.colors.includes(r.value)&&n.value.icon.color.replaceAll("{color}",r.value),n.value.icon.size[M.value],e.loading&&!O.value&&n.value.icon.loading));return{ui:n,attrs:t,name:v,inputId:s,input:A,isLeading:O,isTrailing:C,inputClass:c,leadingIconName:m,leadingIconClass:g,leadingWrapperIconClass:b,trailingIconName:$,trailingIconClass:E,trailingWrapperIconClass:R,onInput:I,onChange:d,onBlur:y}}}),Tl=["id","name","type","required","placeholder","disabled"];function El(e,u,l,n,t,o){const a=xe;return N(),q("div",{class:B(e.type==="hidden"?"hidden":e.ui.wrapper)},[te("input",we({id:e.inputId,ref:"input",name:e.name,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass},e.type==="file"?e.attrs:{...e.attrs,value:e.modelValue},{onInput:u[0]||(u[0]=(...i)=>e.onInput&&e.onInput(...i)),onBlur:u[1]||(u[1]=(...i)=>e.onBlur&&e.onBlur(...i)),onChange:u[2]||(u[2]=(...i)=>e.onChange&&e.onChange(...i))}),null,16,Tl),Y(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(N(),q("span",{key:0,class:B(e.leadingWrapperIconClass)},[Y(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[fe(a,{name:e.leadingIconName,class:B(e.leadingIconClass)},null,8,["name","class"])])],2)):J("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(N(),q("span",{key:1,class:B(e.trailingWrapperIconClass)},[Y(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[fe(a,{name:e.trailingIconName,class:B(e.trailingIconClass)},null,8,["name","class"])])],2)):J("",!0)],2)}const Fl=tt(xl,[["render",El]]),Z=Be(K.ui.strategy,K.ui.select,Dt),Se=Be(K.ui.strategy,K.ui.selectMenu,Vt),Al=Q({components:{HCombobox:cl,HComboboxButton:vl,HComboboxOptions:pl,HComboboxOption:ml,HComboboxInput:fl,HListbox:Cl,HListboxButton:wl,HListboxOptions:Ml,HListboxOption:Rl,UIcon:xe,UAvatar:it},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>Z.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>Z.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>Se.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:()=>Se.default.searchablePlaceholder.label},searchableLazy:{type:Boolean,default:!1},clearSearchOnClose:{type:Boolean,default:()=>Se.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:[String,Function],default:()=>Se.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(Z.size).includes(e)}},color:{type:String,default:()=>Z.default.color,validator(e){return[...K.ui.colors,...Object.keys(Z.color)].includes(e)}},variant:{type:String,default:()=>Z.default.variant,validator(e){return[...Object.keys(Z.variant),...Object.values(Z.color).flatMap(u=>Object.keys(u))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:u,slots:l}){const{ui:n,attrs:t}=ze("select",Ie(e,"ui"),Z,Ie(e,"class")),{ui:o}=ze("selectMenu",Ie(e,"uiMenu"),Se),a=p(()=>nt({},e.popper,o.value.popper)),[i,f]=Bt(a.value),{size:h,rounded:r}=lt({ui:n,props:e}),{emitFormBlur:s,emitFormChange:v,inputId:M,color:S,size:A,name:L}=mt(e,Z),T=p(()=>h.value??A.value),I=k(""),d=p({get(){return e.query??I.value},set(V){I.value=V,u("update:query",V)}}),y=p(()=>e.multiple?!Array.isArray(e.modelValue)||!e.modelValue.length?[]:e.valueAttribute?j.value.filter(V=>e.modelValue.includes(V[e.valueAttribute])):j.value.filter(V=>e.modelValue.includes(V)):e.valueAttribute?j.value.find(V=>V[e.valueAttribute]===e.modelValue):j.value.find(V=>V===e.modelValue)),c=p(()=>e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length?`${y.value.length} selected`:null:e.modelValue!==void 0&&e.modelValue!==null?e.valueAttribute?X(y.value,e.optionAttribute)??null:["string","number"].includes(typeof e.modelValue)?e.modelValue:X(e.modelValue,e.optionAttribute):null),O=p(()=>{var W,ye;const V=((ye=(W=n.value.color)==null?void 0:W[S.value])==null?void 0:ye[e.variant])||n.value.variant[e.variant];return at(G(n.value.base,o.value.select,r.value,n.value.size[T.value],n.value.gap[T.value],e.padded?n.value.padding[T.value]:"p-0",V==null?void 0:V.replaceAll("{color}",S.value),(C.value||l.leading)&&n.value.leading.padding[T.value],(m.value||l.trailing)&&n.value.trailing.padding[T.value]),e.placeholder&&(!e.modelValue||Array.isArray(e.modelValue)&&!e.modelValue.length)&&n.value.placeholder,e.selectClass)}),C=p(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),m=p(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),$=p(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),b=p(()=>e.loading&&!C.value?e.loadingIcon:e.trailingIcon||e.icon),g=p(()=>G(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[T.value])),R=p(()=>G(n.value.icon.base,S.value&&K.ui.colors.includes(S.value)&&n.value.icon.color.replaceAll("{color}",S.value),n.value.icon.size[T.value],e.loading&&n.value.icon.loading)),E=p(()=>G(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[T.value])),w=p(()=>G(n.value.icon.base,S.value&&K.ui.colors.includes(S.value)&&n.value.icon.color.replaceAll("{color}",S.value),n.value.icon.size[T.value],e.loading&&!C.value&&n.value.icon.loading)),z=e.searchable&&typeof e.searchable=="function"?et(e.searchable,e.debounce):void 0,j=Ft(async()=>z?await z(d.value):e.options||[],[],{lazy:e.searchableLazy});function ne(V){return V.replace(/[.*+?^${}()|[\]\\]/g,W=>`\\${W}`)}function X(V,W){return je(V,W)}const re=p(()=>{if(!d.value||z)return j.value;const V=ne(d.value);return j.value.filter(W=>{var ye;return((ye=e.searchAttributes)!=null&&ye.length?e.searchAttributes:[e.optionAttribute]).some(Ot=>{if(["string","number"].includes(typeof W))return String(W).search(new RegExp(V,"i"))!==-1;const Ee=je(W,Ot);return Ee!=null&&String(Ee).search(new RegExp(V,"i"))!==-1})})}),bt=p(()=>d.value===""||e.showCreateOptionWhen==="empty"&&re.value.length||e.showCreateOptionWhen==="always"&&re.value.find(W=>["string","number"].includes(typeof W)?W===d.value:X(W,e.optionAttribute)===d.value)||typeof e.showCreateOptionWhen=="function"&&!e.showCreateOptionWhen(d.value,re.value)?null:["string","number"].includes(typeof e.modelValue)?d.value:{[e.optionAttribute]:d.value});function ht(){e.clearSearchOnClose&&(d.value="")}_(f,V=>{V?u("open"):(ht(),u("close"),s())});function gt(V){P(e.modelValue)!==V&&(u("update:modelValue",V),u("change",V),v())}function yt(V){d.value=V.target.value}return Lt(()=>Nt()),{ui:n,uiMenu:o,attrs:t,name:L,inputId:M,popper:a,trigger:i,container:f,selected:y,label:c,accessor:X,isLeading:C,isTrailing:m,selectClass:O,leadingIconName:$,leadingIconClass:R,leadingWrapperIconClass:g,trailingIconName:b,trailingIconClass:w,trailingWrapperIconClass:E,filteredOptions:re,createOption:bt,query:d,onUpdate:gt,onQueryChange:yt}}}),zl=["value","required"],$l=["id","disabled"],kl={class:"truncate"};function Dl(e,u,l,n,t,o){const a=xe,i=At("HComboboxInput"),f=it;return N(),ae(Oe(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.multiple?Array.isArray(e.modelValue)?e.modelValue:[]:e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:B(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:de(({open:h})=>[e.required?(N(),q("input",{key:0,value:e.modelValue,required:e.required,class:B(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,zl)):J("",!0),(N(),ae(Oe(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:B(e.uiMenu.trigger)},{default:de(()=>[Y(e.$slots,"default",{open:h,disabled:e.disabled,loading:e.loading},()=>[te("button",we({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(N(),q("span",{key:0,class:B(e.leadingWrapperIconClass)},[Y(e.$slots,"leading",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[fe(a,{name:e.leadingIconName,class:B(e.leadingIconClass)},null,8,["name","class"])])],2)):J("",!0),Y(e.$slots,"label",{selected:e.selected},()=>[e.label?(N(),q("span",{key:0,class:B(e.uiMenu.label)},ce(e.label),3)):(N(),q("span",{key:1,class:B(e.uiMenu.label)},ce(e.placeholder||"Â "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(N(),q("span",{key:1,class:B(e.trailingWrapperIconClass)},[Y(e.$slots,"trailing",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[fe(a,{name:e.trailingIconName,class:B(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):J("",!0)],16,$l)])]),_:2},1032,["class"])),h?(N(),q("div",{key:1,ref:"container",class:B([e.uiMenu.container,e.uiMenu.width])},[fe(zt,we({appear:""},e.uiMenu.transition),{default:de(()=>[te("div",null,[e.popper.arrow?(N(),q("div",{key:0,"data-popper-arrow":"",class:B(Object.values(e.uiMenu.arrow))},null,2)):J("",!0),(N(),ae(Oe(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:B([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:de(()=>{var r,s;return[e.searchable?(N(),ae(i,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:B(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):J("",!0),(N(!0),q(Ve,null,$t(e.filteredOptions,(v,M)=>(N(),ae(Oe(e.searchable?"HComboboxOption":"HListboxOption"),{key:M,as:"template",value:e.valueAttribute?v[e.valueAttribute]:v,disabled:v.disabled},{default:de(({active:S,selected:A,disabled:L})=>[te("li",{class:B([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,S?e.uiMenu.option.active:e.uiMenu.option.inactive,A&&e.uiMenu.option.selected,L&&e.uiMenu.option.disabled])},[te("div",{class:B(e.uiMenu.option.container)},[Y(e.$slots,"option",{option:v,active:S,selected:A},()=>[v.icon?(N(),ae(a,{key:0,name:v.icon,class:B([e.uiMenu.option.icon.base,S?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,v.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):v.avatar?(N(),ae(f,we({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...v.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):v.chip?(N(),q("span",{key:2,class:B(e.uiMenu.option.chip.base),style:kt({background:`#${v.chip}`})},null,6)):J("",!0),te("span",kl,ce(["string","number"].includes(typeof v)?v:e.accessor(v,e.optionAttribute)),1)])],2),A?(N(),q("span",{key:0,class:B([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[fe(a,{name:e.selectedIcon,class:B(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):J("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(N(),ae(Oe(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:de(({active:v,selected:M})=>[te("li",{class:B([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,v?e.uiMenu.option.active:e.uiMenu.option.inactive])},[te("div",{class:B(e.uiMenu.option.container)},[Y(e.$slots,"option-create",{option:e.createOption,active:v,selected:M},()=>[te("span",{class:B(e.uiMenu.option.create)},'Create "'+ce(typeof e.createOption=="string"?e.createOption:e.accessor(e.createOption,e.optionAttribute))+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((r=e.filteredOptions)!=null&&r.length)?(N(),q("p",{key:2,class:B(e.uiMenu.option.empty)},[Y(e.$slots,"option-empty",{query:e.query},()=>[Ne(ce(e.uiMenu.default.optionEmpty.label.replace("{query}",e.query)),1)])],2)):(s=e.filteredOptions)!=null&&s.length?J("",!0):(N(),q("p",{key:3,class:B(e.uiMenu.empty)},[Y(e.$slots,"empty",{query:e.query},()=>[Ne(ce(e.uiMenu.default.empty.label),1)])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):J("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const Ll=tt(Al,[["render",Dl]]);export{Fl as _,Ll as a,_t as b,D as c,ut as d,Bl as e,$e as f,mt as g,ll as i,Me as o,hl as p,oe as t,st as u};
