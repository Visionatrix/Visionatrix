import{g as Y,z as $,E as S,a0 as na,P as oe,a1 as Fe,a2 as Ea,a3 as ge,a4 as Pt,a5 as zt,a6 as Te,F as J,a7 as Le,a8 as Xe,q as me,a9 as q,aa as la,ab as Ve,ac as rt,ad as mt,ae as Be,af as ja,ag as Ra,ah as Da,ai as Je,aj as We,ak as Ze,al as Ut,am as pe,an as Na,ao as La,ap as oa,aq as Va,ar as Wa,as as qt,at as ot,au as Ne,av as ue,aw as Ha,ax as qa,ay as ia,az as sa,aA as Ya,aB as ra,aC as Ga,aD as Ka,aE as ua,aF as Qa,aG as Ke,aH as Xa,K as R,A as He,aI as Ja,B as ae,_ as Ae,l as be,W as ft,C as qe,D as ke,H as pt,aJ as Za,aK as Et,aL as en,X as Oe,Y as ce,aM as ye,o as g,i as T,w as B,b as C,J as ve,a as M,c as P,aN as da,aO as tn,L as de,j as F,r as fe,aP as an,t as H,d as V,e as ca,aQ as jt,aR as nn,aS as ln,aT as Yt,aU as on,aV as Ft,aW as sn,aX as rn,aY as Gt,aZ as ma,a_ as un,u as dn,a$ as vt,b0 as cn,b1 as mn,b2 as St,h as Ue,R as fa,Q as Tt,k as i,S as he,m as we,M as et,b3 as Rt,b4 as fn,b5 as pn,b6 as vn,b7 as It,b8 as gn,b9 as hn,I as Kt,ba as bn,y as gt,bb as pa,bc as Se,bd as yn,be as Qt,n as va,bf as wn,v as kn,s as $n,bg as Sn,bh as In}from"./DR2CWtOi.js";import{b as ga,a as ha,_ as ba}from"./r-rj274p.js";import{t as ya,a as Xt,o as ht,i as Cn,p as xn,u as _n,f as Mn,c as Ie,d as Pn,b as zn,e as bt,_ as wa}from"./B1OgN_dO.js";import{a as Fn,_ as Tn}from"./C6yP6ZkQ.js";import{_ as Dt}from"./6mWka_kc.js";import{_ as Nt}from"./BozctXvb.js";import{_ as Lt}from"./D42eq4G_.js";const Bn={wrapper:"w-full relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium",description:"mt-1 text-sm leading-4 opacity-90",actions:"flex items-center gap-2 mt-3 flex-shrink-0",shadow:"",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0 self-center",size:"md"},color:{white:{solid:"text-gray-900 dark:text-white bg-white dark:bg-gray-900 ring-1 ring-gray-200 dark:ring-gray-800"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{color:"white",variant:"solid",icon:null,closeButton:null,actionButton:{size:"xs",color:"primary",variant:"link"}}},On={wrapper:"relative",container:"relative w-full flex overflow-x-auto snap-x snap-mandatory scroll-smooth",item:"flex flex-none snap-center",arrows:{wrapper:"flex items-center justify-between"},indicators:{wrapper:"absolute flex items-center justify-center gap-3 bottom-4 inset-x-0",base:"rounded-full h-3 w-3",active:"bg-primary-500 dark:bg-primary-400",inactive:"bg-gray-100 dark:bg-gray-800"},default:{prevButton:{color:"black",class:"rtl:[&_span:first-child]:rotate-180 absolute left-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"black",class:"rtl:[&_span:last-child]:rotate-180 absolute right-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-right-20-solid "}}},An={base:"relative inline-flex flex-shrink-0 border-2 border-transparent disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none",rounded:"rounded-full",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",active:"bg-{color}-500 dark:bg-{color}-400",inactive:"bg-gray-200 dark:bg-gray-700",size:{"2xs":"h-3 w-5",xs:"h-3.5 w-6",sm:"h-4 w-7",md:"h-5 w-9",lg:"h-6 w-11",xl:"h-7 w-[3.25rem]","2xl":"h-8 w-[3.75rem]"},container:{base:"pointer-events-none relative inline-block rounded-full bg-white dark:bg-gray-900 shadow transform ring-0 transition ease-in-out duration-200",active:{"2xs":"translate-x-2 rtl:-translate-x-2",xs:"translate-x-2.5 rtl:-translate-x-2.5",sm:"translate-x-3 rtl:-translate-x-3",md:"translate-x-4 rtl:-translate-x-4",lg:"translate-x-5 rtl:-translate-x-5",xl:"translate-x-6 rtl:-translate-x-6","2xl":"translate-x-7 rtl:-translate-x-7"},inactive:"translate-x-0 rtl:-translate-x-0",size:{"2xs":"h-2 w-2",xs:"h-2.5 w-2.5",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5",xl:"h-6 w-6","2xl":"h-7 w-7"}},icon:{base:"absolute inset-0 h-full w-full flex items-center justify-center transition-opacity",active:"opacity-100 ease-in duration-200",inactive:"opacity-0 ease-out duration-100",size:{"2xs":"h-2 w-2",xs:"h-2 w-2",sm:"h-2 w-2",md:"h-3 w-3",lg:"h-4 w-4",xl:"h-5 w-5","2xl":"h-6 w-6"},on:"text-{color}-500 dark:text-{color}-400",off:"text-gray-400 dark:text-gray-500",loading:"animate-spin text-{color}-500 dark:text-{color}-400"},default:{onIcon:null,offIcon:null,loadingIcon:"i-heroicons-arrow-path-20-solid",color:"primary",size:"md"}},Un={wrapper:"relative w-full flex items-center",base:"w-full absolute appearance-none cursor-pointer disabled:cursor-not-allowed disabled:bg-opacity-50 focus:outline-none peer group",rounded:"rounded-lg",background:"bg-transparent",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",progress:{base:"absolute pointer-events-none peer-disabled:bg-opacity-50",rounded:"rounded-s-lg",background:"bg-{color}-500 dark:bg-{color}-400",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"}},thumb:{base:"[&::-webkit-slider-thumb]:relative [&::-moz-range-thumb]:relative [&::-webkit-slider-thumb]:z-[1] [&::-moz-range-thumb]:z-[1] [&::-webkit-slider-thumb]:appearance-none [&::-moz-range-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:border-0",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:dark:bg-gray-900 [&::-moz-range-thumb]:bg-current",ring:"[&::-webkit-slider-thumb]:ring-2 [&::-webkit-slider-thumb]:ring-current",size:{"2xs":"[&::-webkit-slider-thumb]:h-1.5 [&::-moz-range-thumb]:h-1.5 [&::-webkit-slider-thumb]:w-1.5 [&::-moz-range-thumb]:w-1.5 [&::-webkit-slider-thumb]:mt-[-2.5px] [&::-moz-range-thumb]:mt-[-2.5px]",xs:"[&::-webkit-slider-thumb]:h-2 [&::-moz-range-thumb]:h-2 [&::-webkit-slider-thumb]:w-2 [&::-moz-range-thumb]:w-2 [&::-webkit-slider-thumb]:mt-[-3px] [&::-moz-range-thumb]:mt-[-3px]",sm:"[&::-webkit-slider-thumb]:h-3 [&::-moz-range-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-moz-range-thumb]:w-3 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",md:"[&::-webkit-slider-thumb]:h-4 [&::-moz-range-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-moz-range-thumb]:w-4 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",lg:"[&::-webkit-slider-thumb]:h-5 [&::-moz-range-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-moz-range-thumb]:w-5 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",xl:"[&::-webkit-slider-thumb]:h-6 [&::-moz-range-thumb]:h-6 [&::-webkit-slider-thumb]:w-6 [&::-moz-range-thumb]:w-6 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1","2xl":"[&::-webkit-slider-thumb]:h-7 [&::-moz-range-thumb]:h-7 [&::-webkit-slider-thumb]:w-7 [&::-moz-range-thumb]:w-7 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1"}},track:{base:"[&::-webkit-slider-runnable-track]:group-disabled:bg-opacity-50 [&::-moz-range-track]:group-disabled:bg-opacity-50",background:"[&::-webkit-slider-runnable-track]:bg-gray-200 [&::-moz-range-track]:bg-gray-200 [&::-webkit-slider-runnable-track]:dark:bg-gray-700 [&::-moz-range-track]:dark:bg-gray-700",rounded:"[&::-webkit-slider-runnable-track]:rounded-lg [&::-moz-range-track]:rounded-lg",size:{"2xs":"[&::-webkit-slider-runnable-track]:h-px [&::-moz-range-track]:h-px",xs:"[&::-webkit-slider-runnable-track]:h-0.5 [&::-moz-range-track]:h-0.5",sm:"[&::-webkit-slider-runnable-track]:h-1 [&::-moz-range-track]:h-1",md:"[&::-webkit-slider-runnable-track]:h-2 [&::-moz-range-track]:h-2",lg:"[&::-webkit-slider-runnable-track]:h-3 [&::-moz-range-track]:h-3",xl:"[&::-webkit-slider-runnable-track]:h-4 [&::-moz-range-track]:h-4","2xl":"[&::-webkit-slider-runnable-track]:h-5 [&::-moz-range-track]:h-5"}},size:{"2xs":"h-1.5",xs:"h-2",sm:"h-3",md:"h-4",lg:"h-5",xl:"h-6","2xl":"h-7"},default:{size:"md",color:"primary"}},En={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function ka(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let a of e.value){let n=q(a);n instanceof HTMLElement&&t.add(n)}return t}var $a=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))($a||{});let nt=Object.assign(Y({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:$(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:a,expose:n}){let s=$(null);n({el:s,$el:s});let o=S(()=>na(s)),l=$(!1);oe(()=>l.value=!0),Fe(()=>l.value=!1),Rn({ownerDocument:o},S(()=>l.value&&!!(e.features&16)));let r=Dn({ownerDocument:o,container:s,initialFocus:S(()=>e.initialFocus)},S(()=>l.value&&!!(e.features&2)));Nn({ownerDocument:o,container:s,containers:e.containers,previousActiveElement:r},S(()=>l.value&&!!(e.features&8)));let d=Ea();function p(y){let b=q(s);b&&(c=>c())(()=>{Ve(d.value,{[rt.Forwards]:()=>{mt(b,Be.First,{skipElements:[y.relatedTarget]})},[rt.Backwards]:()=>{mt(b,Be.Last,{skipElements:[y.relatedTarget]})}})})}let w=$(!1);function k(y){y.key==="Tab"&&(w.value=!0,requestAnimationFrame(()=>{w.value=!1}))}function v(y){if(!l.value)return;let b=ka(e.containers);q(s)instanceof HTMLElement&&b.add(q(s));let c=y.relatedTarget;c instanceof HTMLElement&&c.dataset.headlessuiFocusGuard!=="true"&&(Sa(b,c)||(w.value?mt(q(s),Ve(d.value,{[rt.Forwards]:()=>Be.Next,[rt.Backwards]:()=>Be.Previous})|Be.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&Xe(y.target)))}return()=>{let y={},b={ref:s,onKeydown:k,onFocusout:v},{features:c,initialFocus:h,containers:m,...u}=e;return ge(J,[!!(c&4)&&ge(Pt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:zt.Focusable}),Te({ourProps:b,theirProps:{...t,...u},slot:y,attrs:t,slots:a,name:"FocusTrap"}),!!(c&4)&&ge(Pt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:zt.Focusable})])}}}),{features:$a});function jn(e){let t=$(Xt.slice());return me([e],([a],[n])=>{n===!0&&a===!1?ya(()=>{t.value.splice(0)}):n===!1&&a===!0&&(t.value=Xt.slice())},{flush:"post"}),()=>{var a;return(a=t.value.find(n=>n!=null&&n.isConnected))!=null?a:null}}function Rn({ownerDocument:e},t){let a=jn(t);oe(()=>{Le(()=>{var n,s;t.value||((n=e.value)==null?void 0:n.activeElement)===((s=e.value)==null?void 0:s.body)&&Xe(a())},{flush:"post"})}),Fe(()=>{t.value&&Xe(a())})}function Dn({ownerDocument:e,container:t,initialFocus:a},n){let s=$(null),o=$(!1);return oe(()=>o.value=!0),Fe(()=>o.value=!1),oe(()=>{me([t,a,n],(l,r)=>{if(l.every((p,w)=>(r==null?void 0:r[w])===p)||!n.value)return;let d=q(t);d&&ya(()=>{var p,w;if(!o.value)return;let k=q(a),v=(p=e.value)==null?void 0:p.activeElement;if(k){if(k===v){s.value=v;return}}else if(d.contains(v)){s.value=v;return}k?Xe(k):mt(d,Be.First|Be.NoScroll)===ja.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(w=e.value)==null?void 0:w.activeElement})},{immediate:!0,flush:"post"})}),s}function Nn({ownerDocument:e,container:t,containers:a,previousActiveElement:n},s){var o;la((o=e.value)==null?void 0:o.defaultView,"focus",l=>{if(!s.value)return;let r=ka(a);q(t)instanceof HTMLElement&&r.add(q(t));let d=n.value;if(!d)return;let p=l.target;p&&p instanceof HTMLElement?Sa(r,p)?(n.value=p,Xe(p)):(l.preventDefault(),l.stopPropagation(),Xe(d)):Xe(n.value)},!0)}function Sa(e,t){for(let a of e)if(a.contains(t))return!0;return!1}function Ln(e){let t=Ra(e.getSnapshot());return Fe(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function Vn(e,t){let a=e(),n=new Set;return{getSnapshot(){return a},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...o){let l=t[s].call(a,...o);l&&(a=l,n.forEach(r=>r()))}}}function Wn(){let e;return{before({doc:t}){var a;let n=t.documentElement;e=((a=t.defaultView)!=null?a:window).innerWidth-n.clientWidth},after({doc:t,d:a}){let n=t.documentElement,s=n.clientWidth-n.offsetWidth,o=e-s;a.style(n,"paddingRight",`${o}px`)}}}function Hn(){return Da()?{before({doc:e,d:t,meta:a}){function n(s){return a.containers.flatMap(o=>o()).some(o=>o.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let r=ht();r.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>r.dispose()))}let o=(s=window.scrollY)!=null?s:window.pageYOffset,l=null;t.addEventListener(e,"click",r=>{if(r.target instanceof HTMLElement)try{let d=r.target.closest("a");if(!d)return;let{hash:p}=new URL(d.href),w=e.querySelector(p);w&&!n(w)&&(l=w)}catch{}},!0),t.addEventListener(e,"touchstart",r=>{if(r.target instanceof HTMLElement)if(n(r.target)){let d=r.target;for(;d.parentElement&&n(d.parentElement);)d=d.parentElement;t.style(d,"overscrollBehavior","contain")}else t.style(r.target,"touchAction","none")}),t.addEventListener(e,"touchmove",r=>{if(r.target instanceof HTMLElement){if(r.target.tagName==="INPUT")return;if(n(r.target)){let d=r.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&r.preventDefault()}else r.preventDefault()}},{passive:!1}),t.add(()=>{var r;let d=(r=window.scrollY)!=null?r:window.pageYOffset;o!==d&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function qn(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Yn(e){let t={};for(let a of e)Object.assign(t,a(t));return t}let Qe=Vn(()=>new Map,{PUSH(e,t){var a;let n=(a=this.get(e))!=null?a:{doc:e,count:0,d:ht(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let a=this.get(e);return a&&(a.count--,a.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:a}){let n={doc:e,d:t,meta:Yn(a)},s=[Hn(),Wn(),qn()];s.forEach(({before:o})=>o==null?void 0:o(n)),s.forEach(({after:o})=>o==null?void 0:o(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Qe.subscribe(()=>{let e=Qe.getSnapshot(),t=new Map;for(let[a]of e)t.set(a,a.documentElement.style.overflow);for(let a of e.values()){let n=t.get(a.doc)==="hidden",s=a.count!==0;(s&&!n||!s&&n)&&Qe.dispatch(a.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",a),a.count===0&&Qe.dispatch("TEARDOWN",a)}});function Gn(e,t,a){let n=Ln(Qe),s=S(()=>{let o=e.value?n.value.get(e.value):void 0;return o?o.count>0:!1});return me([e,t],([o,l],[r],d)=>{if(!o||!l)return;Qe.dispatch("PUSH",o,a);let p=!1;d(()=>{p||(Qe.dispatch("POP",r??o,a),p=!0)})},{immediate:!0}),s}let Ct=new Map,lt=new Map;function Jt(e,t=$(!0)){Le(a=>{var n;if(!t.value)return;let s=q(e);if(!s)return;a(function(){var l;if(!s)return;let r=(l=lt.get(s))!=null?l:1;if(r===1?lt.delete(s):lt.set(s,r-1),r!==1)return;let d=Ct.get(s);d&&(d["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",d["aria-hidden"]),s.inert=d.inert,Ct.delete(s))});let o=(n=lt.get(s))!=null?n:0;lt.set(s,o+1),o===0&&(Ct.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}let Ia=Symbol("StackContext");var Bt=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Bt||{});function Kn(){return We(Ia,()=>{})}function Qn({type:e,enabled:t,element:a,onUpdate:n}){let s=Kn();function o(...l){n==null||n(...l),s(...l)}oe(()=>{me(t,(l,r)=>{l?o(0,e,a):r===!0&&o(1,e,a)},{immediate:!0,flush:"sync"})}),Fe(()=>{t.value&&o(1,e,a)}),Je(Ia,o)}let Xn=Symbol("DescriptionContext");function Jn({slot:e=$({}),name:t="Description",props:a={}}={}){let n=$([]);function s(o){return n.value.push(o),()=>{let l=n.value.indexOf(o);l!==-1&&n.value.splice(l,1)}}return Je(Xn,{register:s,slot:e,name:t,props:a}),S(()=>n.value.length>0?n.value.join(" "):void 0)}var Zn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Zn||{});let Ot=Symbol("DialogContext");function Ca(e){let t=We(Ot,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Ca),a}return t}let ut="DC8F892D-2EBD-447C-A4C8-A03058436FF4",el=Y({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:ut},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:a,slots:n,expose:s}){var o,l;let r=(o=e.id)!=null?o:`headlessui-dialog-${Ze()}`,d=$(!1);oe(()=>{d.value=!0});let p=!1,w=S(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(p||(p=!0,console.warn(`Invalid role [${w}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),k=$(0),v=Ut(),y=S(()=>e.open===ut&&v!==null?(v.value&pe.Open)===pe.Open:e.open),b=$(null),c=S(()=>na(b));if(s({el:b,$el:b}),!(e.open!==ut||v!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof y.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${y.value===ut?void 0:e.open}`);let h=S(()=>d.value&&y.value?0:1),m=S(()=>h.value===0),u=S(()=>k.value>1),f=We(Ot,null)!==null,[_,I]=Na(),{resolveContainers:A,mainTreeNodeRef:L,MainTreeNode:Z}=La({portals:_,defaultContainers:[S(()=>{var W;return(W=ie.panelRef.value)!=null?W:b.value})]}),ne=S(()=>u.value?"parent":"leaf"),z=S(()=>v!==null?(v.value&pe.Closing)===pe.Closing:!1),O=S(()=>f||z.value?!1:m.value),K=S(()=>{var W,G,se;return(se=Array.from((G=(W=c.value)==null?void 0:W.querySelectorAll("body > *"))!=null?G:[]).find(re=>re.id==="headlessui-portal-root"?!1:re.contains(q(L))&&re instanceof HTMLElement))!=null?se:null});Jt(K,O);let X=S(()=>u.value?!0:m.value),E=S(()=>{var W,G,se;return(se=Array.from((G=(W=c.value)==null?void 0:W.querySelectorAll("[data-headlessui-portal]"))!=null?G:[]).find(re=>re.contains(q(L))&&re instanceof HTMLElement))!=null?se:null});Jt(E,X),Qn({type:"Dialog",enabled:S(()=>h.value===0),element:b,onUpdate:(W,G)=>{if(G==="Dialog")return Ve(W,{[Bt.Add]:()=>k.value+=1,[Bt.Remove]:()=>k.value-=1})}});let j=Jn({name:"DialogDescription",slot:S(()=>({open:y.value}))}),D=$(null),ie={titleId:D,panelRef:$(null),dialogState:h,setTitleId(W){D.value!==W&&(D.value=W)},close(){t("close",!1)}};Je(Ot,ie);let Ce=S(()=>!(!m.value||u.value));oa(A,(W,G)=>{W.preventDefault(),ie.close(),Ne(()=>G==null?void 0:G.focus())},Ce);let xe=S(()=>!(u.value||h.value!==0));la((l=c.value)==null?void 0:l.defaultView,"keydown",W=>{xe.value&&(W.defaultPrevented||W.key===ue.Escape&&(W.preventDefault(),W.stopPropagation(),ie.close()))});let _e=S(()=>!(z.value||h.value!==0||f));return Gn(c,_e,W=>{var G;return{containers:[...(G=W.containers)!=null?G:[],A]}}),Le(W=>{if(h.value!==0)return;let G=q(b);if(!G)return;let se=new ResizeObserver(re=>{for(let $e of re){let x=$e.target.getBoundingClientRect();x.x===0&&x.y===0&&x.width===0&&x.height===0&&ie.close()}});se.observe(G),W(()=>se.disconnect())}),()=>{let{open:W,initialFocus:G,...se}=e,re={...a,ref:b,id:r,role:w.value,"aria-modal":h.value===0?!0:void 0,"aria-labelledby":D.value,"aria-describedby":j.value},$e={open:h.value===0};return ge(qt,{force:!0},()=>[ge(Va,()=>ge(Wa,{target:b.value},()=>ge(qt,{force:!1},()=>ge(nt,{initialFocus:G,containers:A,features:m.value?Ve(ne.value,{parent:nt.features.RestoreFocus,leaf:nt.features.All&~nt.features.FocusLock}):nt.features.None},()=>ge(I,{},()=>Te({ourProps:re,theirProps:{...se,...a},slot:$e,attrs:a,slots:n,visible:h.value===0,features:ot.RenderStrategy|ot.Static,name:"Dialog"})))))),ge(Z)])}}}),tl=Y({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:n}){var s;let o=(s=e.id)!=null?s:`headlessui-dialog-panel-${Ze()}`,l=Ca("DialogPanel");n({el:l.panelRef,$el:l.panelRef});function r(d){d.stopPropagation()}return()=>{let{...d}=e,p={id:o,ref:l.panelRef,onClick:r};return Te({ourProps:p,theirProps:d,slot:{open:l.dialogState.value===0},attrs:t,slots:a,name:"DialogPanel"})}}});var al=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(al||{}),nl=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(nl||{});function ll(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let xa=Symbol("MenuContext");function yt(e){let t=We(xa,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,yt),a}return t}let ol=Y({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:a}){let n=$(1),s=$(null),o=$(null),l=$([]),r=$(""),d=$(null),p=$(1);function w(v=y=>y){let y=d.value!==null?l.value[d.value]:null,b=Ga(v(l.value.slice()),h=>q(h.dataRef.domRef)),c=y?b.indexOf(y):null;return c===-1&&(c=null),{items:b,activeItemIndex:c}}let k={menuState:n,buttonRef:s,itemsRef:o,items:l,searchQuery:r,activeItemIndex:d,activationTrigger:p,closeMenu:()=>{n.value=1,d.value=null},openMenu:()=>n.value=0,goToItem(v,y,b){let c=w(),h=Mn(v===Ie.Specific?{focus:Ie.Specific,id:y}:{focus:v},{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.disabled});r.value="",d.value=h,p.value=b??1,l.value=c.items},search(v){let y=r.value!==""?0:1;r.value+=v.toLowerCase();let b=(d.value!==null?l.value.slice(d.value+y).concat(l.value.slice(0,d.value+y)):l.value).find(h=>h.dataRef.textValue.startsWith(r.value)&&!h.dataRef.disabled),c=b?l.value.indexOf(b):-1;c===-1||c===d.value||(d.value=c,p.value=1)},clearSearch(){r.value=""},registerItem(v,y){let b=w(c=>[...c,{id:v,dataRef:y}]);l.value=b.items,d.value=b.activeItemIndex,p.value=1},unregisterItem(v){let y=w(b=>{let c=b.findIndex(h=>h.id===v);return c!==-1&&b.splice(c,1),b});l.value=y.items,d.value=y.activeItemIndex,p.value=1}};return oa([s,o],(v,y)=>{var b;k.closeMenu(),Ha(y,qa.Loose)||(v.preventDefault(),(b=q(s))==null||b.focus())},S(()=>n.value===0)),Je(xa,k),ia(S(()=>Ve(n.value,{0:pe.Open,1:pe.Closed}))),()=>{let v={open:n.value===0,close:k.closeMenu};return Te({ourProps:{},theirProps:e,slot:v,slots:t,attrs:a,name:"Menu"})}}}),il=Y({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:n}){var s;let o=(s=e.id)!=null?s:`headlessui-menu-button-${Ze()}`,l=yt("MenuButton");n({el:l.buttonRef,$el:l.buttonRef});function r(k){switch(k.key){case ue.Space:case ue.Enter:case ue.ArrowDown:k.preventDefault(),k.stopPropagation(),l.openMenu(),Ne(()=>{var v;(v=q(l.itemsRef))==null||v.focus({preventScroll:!0}),l.goToItem(Ie.First)});break;case ue.ArrowUp:k.preventDefault(),k.stopPropagation(),l.openMenu(),Ne(()=>{var v;(v=q(l.itemsRef))==null||v.focus({preventScroll:!0}),l.goToItem(Ie.Last)});break}}function d(k){switch(k.key){case ue.Space:k.preventDefault();break}}function p(k){e.disabled||(l.menuState.value===0?(l.closeMenu(),Ne(()=>{var v;return(v=q(l.buttonRef))==null?void 0:v.focus({preventScroll:!0})})):(k.preventDefault(),l.openMenu(),ll(()=>{var v;return(v=q(l.itemsRef))==null?void 0:v.focus({preventScroll:!0})})))}let w=sa(S(()=>({as:e.as,type:t.type})),l.buttonRef);return()=>{var k;let v={open:l.menuState.value===0},{...y}=e,b={ref:l.buttonRef,id:o,type:w.value,"aria-haspopup":"menu","aria-controls":(k=q(l.itemsRef))==null?void 0:k.id,"aria-expanded":l.menuState.value===0,onKeydown:r,onKeyup:d,onClick:p};return Te({ourProps:b,theirProps:y,slot:v,attrs:t,slots:a,name:"MenuButton"})}}}),sl=Y({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:n}){var s;let o=(s=e.id)!=null?s:`headlessui-menu-items-${Ze()}`,l=yt("MenuItems"),r=$(null);n({el:l.itemsRef,$el:l.itemsRef}),Cn({container:S(()=>q(l.itemsRef)),enabled:S(()=>l.menuState.value===0),accept(v){return v.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});function d(v){var y;switch(r.value&&clearTimeout(r.value),v.key){case ue.Space:if(l.searchQuery.value!=="")return v.preventDefault(),v.stopPropagation(),l.search(v.key);case ue.Enter:if(v.preventDefault(),v.stopPropagation(),l.activeItemIndex.value!==null){let b=l.items.value[l.activeItemIndex.value];(y=q(b.dataRef.domRef))==null||y.click()}l.closeMenu(),ra(q(l.buttonRef));break;case ue.ArrowDown:return v.preventDefault(),v.stopPropagation(),l.goToItem(Ie.Next);case ue.ArrowUp:return v.preventDefault(),v.stopPropagation(),l.goToItem(Ie.Previous);case ue.Home:case ue.PageUp:return v.preventDefault(),v.stopPropagation(),l.goToItem(Ie.First);case ue.End:case ue.PageDown:return v.preventDefault(),v.stopPropagation(),l.goToItem(Ie.Last);case ue.Escape:v.preventDefault(),v.stopPropagation(),l.closeMenu(),Ne(()=>{var b;return(b=q(l.buttonRef))==null?void 0:b.focus({preventScroll:!0})});break;case ue.Tab:v.preventDefault(),v.stopPropagation(),l.closeMenu(),Ne(()=>Ya(q(l.buttonRef),v.shiftKey?Be.Previous:Be.Next));break;default:v.key.length===1&&(l.search(v.key),r.value=setTimeout(()=>l.clearSearch(),350));break}}function p(v){switch(v.key){case ue.Space:v.preventDefault();break}}let w=Ut(),k=S(()=>w!==null?(w.value&pe.Open)===pe.Open:l.menuState.value===0);return()=>{var v,y;let b={open:l.menuState.value===0},{...c}=e,h={"aria-activedescendant":l.activeItemIndex.value===null||(v=l.items.value[l.activeItemIndex.value])==null?void 0:v.id,"aria-labelledby":(y=q(l.buttonRef))==null?void 0:y.id,id:o,onKeydown:d,onKeyup:p,role:"menu",tabIndex:0,ref:l.itemsRef};return Te({ourProps:h,theirProps:c,slot:b,attrs:t,slots:a,features:ot.RenderStrategy|ot.Static,visible:k.value,name:"MenuItems"})}}}),rl=Y({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:a,expose:n}){var s;let o=(s=e.id)!=null?s:`headlessui-menu-item-${Ze()}`,l=yt("MenuItem"),r=$(null);n({el:r,$el:r});let d=S(()=>l.activeItemIndex.value!==null?l.items.value[l.activeItemIndex.value].id===o:!1),p=xn(r),w=S(()=>({disabled:e.disabled,get textValue(){return p()},domRef:r}));oe(()=>l.registerItem(o,w)),Fe(()=>l.unregisterItem(o)),Le(()=>{l.menuState.value===0&&d.value&&l.activationTrigger.value!==0&&Ne(()=>{var m,u;return(u=(m=q(r))==null?void 0:m.scrollIntoView)==null?void 0:u.call(m,{block:"nearest"})})});function k(m){if(e.disabled)return m.preventDefault();l.closeMenu(),ra(q(l.buttonRef))}function v(){if(e.disabled)return l.goToItem(Ie.Nothing);l.goToItem(Ie.Specific,o)}let y=_n();function b(m){y.update(m)}function c(m){y.wasMoved(m)&&(e.disabled||d.value||l.goToItem(Ie.Specific,o,0))}function h(m){y.wasMoved(m)&&(e.disabled||d.value&&l.goToItem(Ie.Nothing))}return()=>{let{disabled:m,...u}=e,f={active:d.value,disabled:m,close:l.closeMenu};return Te({ourProps:{id:o,ref:r,role:"menuitem",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,onClick:k,onFocus:v,onPointerenter:b,onMouseenter:b,onPointermove:c,onMousemove:c,onPointerleave:h,onMouseleave:h},theirProps:{...a,...u},slot:f,attrs:a,slots:t,name:"MenuItem"})}}}),ul=Symbol("GroupContext"),dl=Y({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(e,{emit:t,attrs:a,slots:n,expose:s}){var o;let l=(o=e.id)!=null?o:`headlessui-switch-${Ze()}`,r=We(ul,null),[d,p]=Pn(S(()=>e.modelValue),u=>t("update:modelValue",u),S(()=>e.defaultChecked));function w(){p(!d.value)}let k=$(null),v=r===null?k:r.switchRef,y=sa(S(()=>({as:e.as,type:a.type})),v);s({el:v,$el:v});function b(u){u.preventDefault(),w()}function c(u){u.key===ue.Space?(u.preventDefault(),w()):u.key===ue.Enter&&zn(u.currentTarget)}function h(u){u.preventDefault()}let m=S(()=>{var u,f;return(f=(u=q(v))==null?void 0:u.closest)==null?void 0:f.call(u,"form")});return oe(()=>{me([m],()=>{if(!m.value||e.defaultChecked===void 0)return;function u(){p(e.defaultChecked)}return m.value.addEventListener("reset",u),()=>{var f;(f=m.value)==null||f.removeEventListener("reset",u)}},{immediate:!0})}),()=>{let{name:u,value:f,form:_,tabIndex:I,...A}=e,L={checked:d.value},Z={id:l,ref:v,role:"switch",type:y.value,tabIndex:I===-1?0:I,"aria-checked":d.value,"aria-labelledby":r==null?void 0:r.labelledby.value,"aria-describedby":r==null?void 0:r.describedby.value,onClick:b,onKeyup:c,onKeypress:h};return ge(J,[u!=null&&d.value!=null?ge(Pt,Ka({features:zt.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:d.value,form:_,disabled:A.disabled,name:u,value:f})):null,Te({ourProps:Z,theirProps:{...a,...ua(A,["modelValue","defaultChecked"])},slot:L,attrs:a,slots:n,name:"Switch"})])}}});function cl(e){let t={called:!1};return(...a)=>{if(!t.called)return t.called=!0,e(...a)}}function xt(e,...t){e&&t.length>0&&e.classList.add(...t)}function dt(e,...t){e&&t.length>0&&e.classList.remove(...t)}var At=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(At||{});function ml(e,t){let a=ht();if(!e)return a.dispose;let{transitionDuration:n,transitionDelay:s}=getComputedStyle(e),[o,l]=[n,s].map(r=>{let[d=0]=r.split(",").filter(Boolean).map(p=>p.includes("ms")?parseFloat(p):parseFloat(p)*1e3).sort((p,w)=>w-p);return d});return o!==0?a.setTimeout(()=>t("finished"),o+l):t("finished"),a.add(()=>t("cancelled")),a.dispose}function Zt(e,t,a,n,s,o){let l=ht(),r=o!==void 0?cl(o):()=>{};return dt(e,...s),xt(e,...t,...a),l.nextFrame(()=>{dt(e,...a),xt(e,...n),l.add(ml(e,d=>(dt(e,...n,...t),xt(e,...s),r(d))))}),l.add(()=>dt(e,...t,...a,...n,...s)),l.add(()=>r("cancelled")),l.dispose}function Ye(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Vt=Symbol("TransitionContext");var fl=(e=>(e.Visible="visible",e.Hidden="hidden",e))(fl||{});function pl(){return We(Vt,null)!==null}function vl(){let e=We(Vt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function gl(){let e=We(Wt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let Wt=Symbol("NestingContext");function wt(e){return"children"in e?wt(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function _a(e){let t=$([]),a=$(!1);oe(()=>a.value=!0),Fe(()=>a.value=!1);function n(o,l=Ke.Hidden){let r=t.value.findIndex(({id:d})=>d===o);r!==-1&&(Ve(l,{[Ke.Unmount](){t.value.splice(r,1)},[Ke.Hidden](){t.value[r].state="hidden"}}),!wt(t)&&a.value&&(e==null||e()))}function s(o){let l=t.value.find(({id:r})=>r===o);return l?l.state!=="visible"&&(l.state="visible"):t.value.push({id:o,state:"visible"}),()=>n(o,Ke.Unmount)}return{children:t,register:s,unregister:n}}let Ma=ot.RenderStrategy,Pa=Y({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:n,expose:s}){let o=$(0);function l(){o.value|=pe.Opening,t("beforeEnter")}function r(){o.value&=~pe.Opening,t("afterEnter")}function d(){o.value|=pe.Closing,t("beforeLeave")}function p(){o.value&=~pe.Closing,t("afterLeave")}if(!pl()&&Qa())return()=>ge(za,{...e,onBeforeEnter:l,onAfterEnter:r,onBeforeLeave:d,onAfterLeave:p},n);let w=$(null),k=S(()=>e.unmount?Ke.Unmount:Ke.Hidden);s({el:w,$el:w});let{show:v,appear:y}=vl(),{register:b,unregister:c}=gl(),h=$(v.value?"visible":"hidden"),m={value:!0},u=Ze(),f={value:!1},_=_a(()=>{!f.value&&h.value!=="hidden"&&(h.value="hidden",c(u),p())});oe(()=>{let X=b(u);Fe(X)}),Le(()=>{if(k.value===Ke.Hidden&&u){if(v.value&&h.value!=="visible"){h.value="visible";return}Ve(h.value,{hidden:()=>c(u),visible:()=>b(u)})}});let I=Ye(e.enter),A=Ye(e.enterFrom),L=Ye(e.enterTo),Z=Ye(e.entered),ne=Ye(e.leave),z=Ye(e.leaveFrom),O=Ye(e.leaveTo);oe(()=>{Le(()=>{if(h.value==="visible"){let X=q(w);if(X instanceof Comment&&X.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function K(X){let E=m.value&&!y.value,j=q(w);!j||!(j instanceof HTMLElement)||E||(f.value=!0,v.value&&l(),v.value||d(),X(v.value?Zt(j,I,A,L,Z,D=>{f.value=!1,D===At.Finished&&r()}):Zt(j,ne,z,O,Z,D=>{f.value=!1,D===At.Finished&&(wt(_)||(h.value="hidden",c(u),p()))})))}return oe(()=>{me([v],(X,E,j)=>{K(j),m.value=!1},{immediate:!0})}),Je(Wt,_),ia(S(()=>Ve(h.value,{visible:pe.Open,hidden:pe.Closed})|o.value)),()=>{let{appear:X,show:E,enter:j,enterFrom:D,enterTo:ie,entered:Ce,leave:xe,leaveFrom:_e,leaveTo:W,...G}=e,se={ref:w},re={...G,...y.value&&v.value&&Xa.isServer?{class:R([a.class,G.class,...I,...A])}:{}};return Te({theirProps:re,ourProps:se,slot:{},slots:n,attrs:a,features:Ma,visible:h.value==="visible",name:"TransitionChild"})}}}),hl=Pa,za=Y({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:n}){let s=Ut(),o=S(()=>e.show===null&&s!==null?(s.value&pe.Open)===pe.Open:e.show);Le(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=$(o.value?"visible":"hidden"),r=_a(()=>{l.value="hidden"}),d=$(!0),p={show:o,appear:S(()=>e.appear||!d.value)};return oe(()=>{Le(()=>{d.value=!1,o.value?l.value="visible":wt(r)||(l.value="hidden")})}),Je(Wt,r),Je(Vt,p),()=>{let w=ua(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),k={unmount:e.unmount};return Te({ourProps:{...k,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[ge(hl,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...a,...k,...w},n.default)]},attrs:{},features:Ma,visible:l.value==="visible",name:"Transition"})}}});const _t=He(ae.ui.strategy,ae.ui.dropdown,Ja),bl=Y({components:{HMenu:ol,HMenuButton:il,HMenuItems:sl,HMenuItem:rl,UIcon:be,UAvatar:ft,UKbd:ga},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>_t.default.openDelay},closeDelay:{type:Number,default:()=>_t.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:t}){const{ui:a,attrs:n}=qe("dropdown",ke(e,"ui"),_t,ke(e,"class")),s=S(()=>pt(e.mode==="hover"?{offsetDistance:0}:{},e.popper,a.value.popper)),[o,l]=Za(s.value),r=$(null);let d=null,p=null;oe(()=>{var u,f;const h=(u=o.value)==null?void 0:u.$.provides;if(!h)return;const m=Object.getOwnPropertySymbols(h);r.value=m.length&&h[m[0]],e.open&&((f=r.value)==null||f.openMenu())});const w=S(()=>{var f,_,I;if(e.mode!=="hover")return{};const h=((f=e.popper)==null?void 0:f.offsetDistance)||((_=a.value.popper)==null?void 0:_.offsetDistance)||8,m=(I=s.value.placement)==null?void 0:I.split("-")[0],u=`${h}px`;return m==="top"||m==="bottom"?{paddingTop:u,paddingBottom:u}:m==="left"||m==="right"?{paddingLeft:u,paddingRight:u}:{paddingTop:u,paddingBottom:u,paddingLeft:u,paddingRight:u}});function k(h){!h.cancelable||!r.value||(r.value.menuState===0?r.value.closeMenu():r.value.openMenu())}function v(){e.mode!=="hover"||!r.value||(p&&(clearTimeout(p),p=null),r.value.menuState!==0&&(d=d||setTimeout(()=>{r.value.openMenu&&r.value.openMenu(),d=null},e.openDelay)))}function y(){e.mode!=="hover"||!r.value||(d&&(clearTimeout(d),d=null),r.value.menuState!==1&&(p=p||setTimeout(()=>{r.value.closeMenu&&r.value.closeMenu(),p=null},e.closeDelay)))}function b(h,m,{href:u,navigate:f,close:_,isExternal:I}){m.click&&m.click(h),u&&!I&&(f(h),_())}me(()=>e.open,(h,m)=>{r.value&&(m===void 0||h===m||(h?r.value.openMenu():r.value.closeMenu()))}),me(()=>{var h;return(h=r.value)==null?void 0:h.menuState},(h,m)=>{m===void 0||h===m||t("update:open",h===0)});const c=ca;return Et(()=>jt("$ctlRmIk4j0")),{ui:a,attrs:n,popper:s,trigger:o,container:l,containerStyle:w,onTouchStart:k,onMouseEnter:v,onMouseLeave:y,onClick:b,getNuxtLinkProps:en,twMerge:Oe,twJoin:ce,NuxtLink:c}}}),yl=["disabled"];function wl(e,t,a,n,s,o){const l=ye("HMenuButton"),r=be,d=ft,p=ga,w=ye("HMenuItem"),k=ca,v=ye("HMenuItems"),y=ye("HMenu");return g(),T(y,de({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:B(({open:b})=>[C(l,{ref:"trigger",as:"div",disabled:e.disabled,class:R(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:B(()=>[ve(e.$slots,"default",{open:b,disabled:e.disabled},()=>[M("button",{disabled:e.disabled}," Open ",8,yl)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),b&&e.items.length?(g(),P("div",{key:0,ref:"container",class:R([e.ui.container,e.ui.width]),style:da(e.containerStyle),onMouseenter:t[0]||(t[0]=(...c)=>e.onMouseEnter&&e.onMouseEnter(...c))},[C(tn,de({appear:""},e.ui.transition),{default:B(()=>[M("div",null,[e.popper.arrow?(g(),P("div",{key:0,"data-popper-arrow":"",class:R(Object.values(e.ui.arrow))},null,2)):F("",!0),C(v,{class:R([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:B(()=>[(g(!0),P(J,null,fe(e.items,(c,h)=>(g(),P("div",{key:h,class:R(e.ui.padding)},[(g(!0),P(J,null,fe(c,(m,u)=>(g(),T(k,de({key:u,ref_for:!0},e.getNuxtLinkProps(m),{custom:""}),{default:B(({href:f,target:_,rel:I,navigate:A,isExternal:L,isActive:Z})=>[C(w,{disabled:m.disabled},{default:B(({active:ne,disabled:z,close:O})=>[(g(),T(an(f?"a":"button"),{href:z?void 0:f,rel:I,target:_,class:R(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,ne||Z?e.ui.item.active:e.ui.item.inactive,z&&e.ui.item.disabled),m.class)),onClick:K=>e.onClick(K,m,{href:f,navigate:A,close:O,isExternal:L})},{default:B(()=>[ve(e.$slots,m.slot||"item",{item:m},()=>{var K;return[m.icon?(g(),T(r,{key:0,name:m.icon,class:R(e.twMerge(e.twJoin(e.ui.item.icon.base,ne||Z?e.ui.item.icon.active:e.ui.item.icon.inactive),m.iconClass))},null,8,["name","class"])):m.avatar?(g(),T(d,de({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...m.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):F("",!0),M("span",{class:R(e.twMerge(e.ui.item.label,m.labelClass))},H(m.label),3),(K=m.shortcuts)!=null&&K.length?(g(),P("span",{key:2,class:R(e.ui.item.shortcuts)},[(g(!0),P(J,null,fe(m.shortcuts,X=>(g(),T(p,{key:X},{default:B(()=>[V(H(X),1)]),_:2},1024))),128))],2)):F("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):F("",!0)]),_:3},16,["class","onMouseleave"])}const kt=Ae(bl,[["render",wl]]),Re=He(ae.ui.strategy,ae.ui.textarea,nn),kl=Y({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(Re.size).includes(e)}},color:{type:String,default:()=>Re.default.color,validator(e){return[...ae.ui.colors,...Object.keys(Re.color)].includes(e)}},variant:{type:String,default:()=>Re.default.variant,validator(e){return[...Object.keys(Re.variant),...Object.values(Re.color).flatMap(t=>Object.keys(t))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t}){const{ui:a,attrs:n}=qe("textarea",ke(e,"ui"),Re,ke(e,"class")),{emitFormBlur:s,emitFormInput:o,inputId:l,color:r,size:d,name:p}=bt(e,Re),w=$(pt({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),k=$(null),v=()=>{var f;e.autofocus&&((f=k.value)==null||f.focus())},y=()=>{if(e.autoresize){if(!k.value)return;k.value.rows=e.rows;const f=window.getComputedStyle(k.value),_=parseInt(f.paddingTop),I=parseInt(f.paddingBottom),A=_+I,L=parseInt(f.lineHeight),{scrollHeight:Z}=k.value,ne=(Z-A)/L;ne>e.rows&&(k.value.rows=e.maxrows?Math.min(ne,e.maxrows):ne)}},b=f=>{w.value.trim&&(f=f.trim()),w.value.number&&(f=ln(f)),t("update:modelValue",f),o()},c=f=>{y(),w.value.lazy||b(f.target.value)},h=f=>{const _=f.target.value;t("change",_),w.value.lazy&&b(_),w.value.trim&&(f.target.value=_.trim())},m=f=>{t("blur",f),s()};oe(()=>{setTimeout(()=>{v()},e.autofocusDelay)}),me(()=>e.modelValue,()=>{Ne(y)}),oe(()=>{setTimeout(()=>{v(),y()},100)});const u=S(()=>{var _,I;const f=((I=(_=a.value.color)==null?void 0:_[r.value])==null?void 0:I[e.variant])||a.value.variant[e.variant];return Oe(ce(a.value.base,a.value.form,a.value.rounded,a.value.placeholder,a.value.size[d.value],e.padded?a.value.padding[d.value]:"p-0",f==null?void 0:f.replaceAll("{color}",r.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:a,attrs:n,name:p,inputId:l,textarea:k,textareaClass:u,onInput:c,onChange:h,onBlur:m}}}),$l=["id","value","name","rows","required","disabled","placeholder"];function Sl(e,t,a,n,s,o){return g(),P("div",{class:R(e.ui.wrapper)},[M("textarea",de({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:t[0]||(t[0]=(...l)=>e.onInput&&e.onInput(...l)),onBlur:t[1]||(t[1]=(...l)=>e.onBlur&&e.onBlur(...l)),onChange:t[2]||(t[2]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,$l),ve(e.$slots,"default")],2)}const Il=Ae(kl,[["render",Sl]]);async function Cl(e,t){return await xl(t).catch(n=>(console.error("Failed to get image meta for "+t,n+""),{width:0,height:0,ratio:0}))}async function xl(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,a)=>{const n=new Image;n.onload=()=>{const s={width:n.width,height:n.height,ratio:n.width/n.height};t(s)},n.onerror=s=>a(s),n.src=e})}function ea(e){return t=>t?e[t]||t:e.missingValue}function _l({formatter:e,keyMap:t,joinWith:a="/",valueMap:n}={}){e||(e=(o,l)=>`${o}=${l}`),t&&typeof t!="function"&&(t=ea(t));const s=n||{};return Object.keys(s).forEach(o=>{typeof s[o]!="function"&&(s[o]=ea(s[o]))}),(o={})=>Object.entries(o).filter(([r,d])=>typeof d<"u").map(([r,d])=>{const p=s[r];return typeof p=="function"&&(d=p(o[r])),r=typeof t=="function"?t(r):r,e(r,d)}).join(a)}function ze(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function Ml(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const a of e.split(" ")){const n=Number.parseInt(a.replace("x",""));n&&t.add(n)}return Array.from(t)}function Pl(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function zl(e){const t={};if(typeof e=="string")for(const a of e.split(/[\s,]+/).filter(n=>n)){const n=a.split(":");n.length!==2?t["1px"]=n[0].trim():t[n[0].trim()]=n[1].trim()}else Object.assign(t,e);return t}function Fl(e){const t={options:e},a=(s,o={})=>Fa(t,s,o),n=(s,o={},l={})=>a(s,{...l,modifiers:pt(o,l.modifiers||{})}).url;for(const s in e.presets)n[s]=(o,l,r)=>n(o,l,{...e.presets[s],...r});return n.options=e,n.getImage=a,n.getMeta=(s,o)=>Tl(t,s,o),n.getSizes=(s,o)=>Al(t,s,o),t.$img=n,n}async function Tl(e,t,a){const n=Fa(e,t,{...a});return typeof n.getMeta=="function"?await n.getMeta():await Cl(e,n.url)}function Fa(e,t,a){var p,w;if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{provider:n,defaults:s}=Bl(e,a.provider||e.options.provider),o=Ol(e,a.preset);if(t=Yt(t)?t:on(t),!n.supportsAlias)for(const k in e.options.alias)t.startsWith(k)&&(t=Ft(e.options.alias[k],t.substr(k.length)));if(n.validateDomains&&Yt(t)){const k=sn(t).host;if(!e.options.domains.find(v=>v===k))return{url:t}}const l=pt(a,o,s);l.modifiers={...l.modifiers};const r=l.modifiers.format;(p=l.modifiers)!=null&&p.width&&(l.modifiers.width=ze(l.modifiers.width)),(w=l.modifiers)!=null&&w.height&&(l.modifiers.height=ze(l.modifiers.height));const d=n.getImage(t,l,e);return d.format=d.format||r||"",d}function Bl(e,t){const a=e.options.providers[t];if(!a)throw new Error("Unknown provider: "+t);return a}function Ol(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function Al(e,t,a){var b,c,h,m,u;const n=ze((b=a.modifiers)==null?void 0:b.width),s=ze((c=a.modifiers)==null?void 0:c.height),o=zl(a.sizes),l=(h=a.densities)!=null&&h.trim()?Ml(a.densities.trim()):e.options.densities;Pl(l);const r=n&&s?s/n:0,d=[],p=[];if(Object.keys(o).length>=1){for(const f in o){const _=ta(f,String(o[f]),s,r,e);if(_!==void 0){d.push({size:_.size,screenMaxWidth:_.screenMaxWidth,media:`(max-width: ${_.screenMaxWidth}px)`});for(const I of l)p.push({width:_._cWidth*I,src:aa(e,t,a,_,I)})}}Ul(d)}else for(const f of l){const _=Object.keys(o)[0];let I=ta(_,String(o[_]),s,r,e);I===void 0&&(I={size:"",screenMaxWidth:0,_cWidth:(m=a.modifiers)==null?void 0:m.width,_cHeight:(u=a.modifiers)==null?void 0:u.height}),p.push({width:f,src:aa(e,t,a,I,f)})}El(p);const w=p[p.length-1],k=d.length?d.map(f=>`${f.media?f.media+" ":""}${f.size}`).join(", "):void 0,v=k?"w":"x",y=p.map(f=>`${f.src} ${f.width}${v}`).join(", ");return{sizes:k,srcset:y,src:w==null?void 0:w.src}}function ta(e,t,a,n,s){const o=s.options.screens&&s.options.screens[e]||Number.parseInt(e),l=t.endsWith("vw");if(!l&&/^\d+$/.test(t)&&(t=t+"px"),!l&&!t.endsWith("px"))return;let r=Number.parseInt(t);if(!o||!r)return;l&&(r=Math.round(r/100*o));const d=n?Math.round(r*n):a;return{size:t,screenMaxWidth:o,_cWidth:r,_cHeight:d}}function aa(e,t,a,n,s){return e.$img(t,{...a.modifiers,width:n._cWidth?n._cWidth*s:void 0,height:n._cHeight?n._cHeight*s:void 0},a)}function Ul(e){var a;e.sort((n,s)=>n.screenMaxWidth-s.screenMaxWidth);let t=null;for(let n=e.length-1;n>=0;n--){const s=e[n];s.media===t&&e.splice(n,1),t=s.media}for(let n=0;n<e.length;n++)e[n].media=((a=e[n+1])==null?void 0:a.media)||""}function El(e){e.sort((a,n)=>a.width-n.width);let t=null;for(let a=e.length-1;a>=0;a--){const n=e[a];n.width===t&&e.splice(a,1),t=n.width}}const jl=_l({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>Gt(e)+"_"+Gt(t)}),Rl=(e,{modifiers:t={},baseURL:a}={},n)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const s=jl(t)||"_";return a||(a=Ft(n.options.nuxt.baseURL,"/_ipx")),{url:Ft(a,s,rn(e))}},Dl=!0,Nl=!0,Ll=Object.freeze(Object.defineProperty({__proto__:null,getImage:Rl,supportsAlias:Nl,validateDomains:Dl},Symbol.toStringTag,{value:"Module"})),Ta={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};Ta.providers={ipxStatic:{provider:Ll,defaults:{}}};const Ht=()=>{const e=un(),t=ma();return t.$img||t._img||(t._img=Fl({...Ta,nuxt:{baseURL:e.app.baseURL}}))};function Vl(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const Wl={src:{type:String,default:void 0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:[Boolean,Object],default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},Hl=e=>{const t=S(()=>({provider:e.provider,preset:e.preset})),a=S(()=>({width:ze(e.width),height:ze(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),n=Ht(),s=S(()=>({...e.modifiers,width:ze(e.width),height:ze(e.height),format:e.format,quality:e.quality||n.options.quality,background:e.background,fit:e.fit}));return{options:t,attrs:a,modifiers:s}},ql={...Wl,placeholder:{type:[Boolean,String,Number,Array],default:void 0},placeholderClass:{type:String,default:void 0}},tt=Y({name:"NuxtImg",props:ql,emits:["load","error"],setup:(e,t)=>{const a=Ht(),n=Hl(e),s=$(!1),o=$(),l=S(()=>a.getSizes(e.src,{...n.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...n.modifiers.value,width:ze(e.width),height:ze(e.height)}})),r=S(()=>{const y={...n.attrs.value,"data-nuxt-img":""};return(!e.placeholder||s.value)&&(y.sizes=l.value.sizes,y.srcset=l.value.srcset),y}),d=S(()=>{let y=e.placeholder;if(y===""&&(y=!0),!y||s.value)return!1;if(typeof y=="string")return y;const b=Array.isArray(y)?y:typeof y=="number"?[y,y]:[10,10];return a(e.src,{...n.modifiers.value,width:b[0],height:b[1],quality:b[2]||50,blur:b[3]||3},n.options.value)}),p=S(()=>e.sizes?l.value.src:a(e.src,n.modifiers.value,n.options.value)),w=S(()=>d.value?d.value:p.value);if(e.preload){const y=Object.values(l.value).every(b=>b);dn({link:[{rel:"preload",as:"image",nonce:e.nonce,...y?{href:l.value.src,imagesizes:l.value.sizes,imagesrcset:l.value.srcset}:{href:w.value},...typeof e.preload!="boolean"&&e.preload.fetchPriority?{fetchpriority:e.preload.fetchPriority}:{}}]})}const v=ma().isHydrating;return oe(()=>{if(d.value){const y=new Image;y.src=p.value,e.sizes&&(y.sizes=l.value.sizes||"",y.srcset=l.value.srcset),y.onload=b=>{s.value=!0,t.emit("load",b)},Vl("nuxt-image");return}o.value&&(o.value.complete&&v&&(o.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),o.value.onload=y=>{t.emit("load",y)},o.value.onerror=y=>{t.emit("error",y)})}),()=>ge("img",{ref:o,...r.value,...t.attrs,class:e.placeholder&&!s.value?[e.placeholderClass]:void 0,src:w.value})}}),ct=He(ae.ui.strategy,ae.ui.range,Un),Yl=Y({inheritAttrs:!1,props:{modelValue:{type:Number,default:0},id:{type:String,default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},size:{type:String,default:null,validator(e){return Object.keys(ct.size).includes(e)}},color:{type:String,default:()=>ct.default.color,validator(e){return ae.ui.colors.includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:a,attrs:n}=qe("range",ke(e,"ui"),ct),{emitFormChange:s,inputId:o,color:l,size:r,name:d}=bt(e,ct),p=S({get(){return e.modelValue},set(m){t("update:modelValue",m)}}),w=m=>{t("change",m.target.value),s()},k=S(()=>Oe(ce(a.value.wrapper,a.value.size[r.value]),e.class)),v=S(()=>Oe(ce(a.value.base,a.value.background,a.value.rounded,l.value&&a.value.ring.replaceAll("{color}",l.value),a.value.size[r.value]),e.inputClass)),y=S(()=>ce(a.value.thumb.base,l.value&&a.value.thumb.color.replaceAll("{color}",l.value),a.value.thumb.ring,a.value.thumb.background,a.value.thumb.size[r.value])),b=S(()=>ce(a.value.track.base,a.value.track.background,a.value.track.rounded,a.value.track.size[r.value])),c=S(()=>ce(a.value.progress.base,a.value.progress.rounded,l.value&&a.value.progress.background.replaceAll("{color}",l.value),a.value.progress.size[r.value])),h=S(()=>{const{modelValue:m,min:u,max:f}=e;return{width:`${(Math.max(u,Math.min(m,f))-u)/(f-u)*100}%`}});return{ui:a,attrs:n,name:d,inputId:o,value:p,wrapperClass:k,inputClass:v,thumbClass:y,trackClass:b,progressClass:c,progressStyle:h,onChange:w}}}),Gl=["id","name","min","max","disabled","step"];function Kl(e,t,a,n,s,o){return g(),P("div",{class:R(e.wrapperClass)},[vt(M("input",de({id:e.inputId,ref:"input","onUpdate:modelValue":t[0]||(t[0]=l=>e.value=l),name:e.name,min:e.min,max:e.max,disabled:e.disabled,step:e.step,type:"range",class:[e.inputClass,e.thumbClass,e.trackClass]},e.attrs,{onChange:t[1]||(t[1]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,Gl),[[cn,e.value,void 0,{number:!0}]]),M("span",{class:R(e.progressClass),style:da(e.progressStyle)},null,6)],2)}const Ba=Ae(Yl,[["render",Kl]]),Ql={class:"image-inpaint flex flex-col w-full"},Xl={class:"canvas flex flex-col items-center justify-center mb-3 w-full"},Jl=M("p",{class:"text-sm my-2 text-slate-500"},"Select the target area for image inpaint",-1),Zl={class:"actions flex items-center justify-center mb-3 mx-auto"},eo={class:"options w-full max-w-[320px]"},to=Y({__name:"ImageInpaint",props:mn({imageSrc:{type:String,required:!0},edgeSize:{type:Number,default:0}},{imageInpaintWithMask:{default:"",type:String},imageInpaintWithMaskModifiers:{},edgeSizeEnabled:{default:!0,type:Boolean},edgeSizeEnabledModifiers:{},imageInpaintMaskData:{default:{},type:Object},imageInpaintMaskDataModifiers:{}}),emits:["update:imageInpaintWithMask","update:edgeSizeEnabled","update:imageInpaintMaskData"],setup(e){const t=e,a=St(e,"imageInpaintWithMask"),n=St(e,"edgeSizeEnabled"),s=St(e,"imageInpaintMaskData"),o=Ue(),l=$(null),r=$(null),d=$(null),p=$(null),w=$(30),k=$([]),v=$({width:o.$state.outputMaxSize,height:o.$state.outputMaxSize}),y=$(null),b=$({x:0,y:0}),c=$({x:0,y:0,radius:w.value,fill:"rgba(255, 255, 255, 0.5)",stroke:null,strokeWidth:0,visible:!1}),h=$(!1),m=$(5),u=$(!1),f=$([]),_=$([]);function I(){if(!l.value||!r.value||!d.value){console.error("Could not get stage, image layer, or mask layer");return}const x=l.value.getNode(),U=p.value.width,N=p.value.height,ee=document.createElement("canvas");ee.width=U,ee.height=N;const le=ee.getContext("2d");if(!le){console.error("Could not get 2d context for off-canvas");return}le.drawImage(p.value,0,0,U,N);const Q=document.createElement("canvas");Q.width=U,Q.height=N;const te=Q.getContext("2d");if(!te){console.error("Could not get 2d context for mask canvas");return}const Ee=U/x.width(),st=N/x.height();te.fillStyle="rgba(255, 255, 255, 1)",te.fillRect(0,0,U,N),te.fillStyle="rgba(0, 0, 0, 1)",k.value.forEach(Me=>{te.beginPath(),te.arc(Me.x*Ee,Me.y*st,Me.radius*Math.max(Ee,st),0,Math.PI*2,!0),te.closePath(),te.fill()});const at=le.getImageData(0,0,U,N),$t=te.getImageData(0,0,U,N);for(let Me=0;Me<at.data.length;Me+=4)$t.data[Me]===0&&(at.data[Me+3]=64);le.putImageData(at,0,0);const je=ee.toDataURL("image/png",1);je?(O(),a.value=je,c.value.visible=!1,u.value=!1):console.error("Could not get data URI for masked image")}function A(x){x.evt.button===0&&(u.value=!0,b.value=x.target.getStage().getPointerPosition(),z(),L(b.value))}function L(x){if(t.edgeSize>0&&n.value){const N=l.value.getNode(),ee=N.width()/p.value.width,le=N.height()/p.value.height,Q=t.edgeSize*ee,te=t.edgeSize*le;if(x.x<Q+w.value||x.x>N.width()-Q-w.value||x.y<te+w.value||x.y>N.height()-te-w.value)return}const U={x:x.x,y:x.y,radius:w.value,fill:"rgba(255, 255, 255, 1)"};k.value=k.value.filter(N=>!(Z({x:N.x,y:N.y},x)+N.radius<=U.radius)),k.value.push(U)}function Z(x,U){return Math.sqrt(Math.pow(U.x-x.x,2)+Math.pow(U.y-x.y,2))}function ne(x){if(_e(x),!u.value)return;const U=x.target.getStage().getPointerPosition();Z(b.value,U)>=m.value&&(L(U),b.value=U)}function z(){f.value.push([...k.value]),_.value=[]}function O(){s.value={circles:[...k.value],brushRadius:w.value,undoStack:f.value,redoStack:_.value}}function K(){s.value!==null&&(k.value=s.value.circles||[],w.value=s.value.brushRadius||30,f.value=s.value.undoStack||[],_.value=s.value.redoStack||[])}function X(){f.value.length!==0&&(_.value.push([...k.value]),k.value=f.value.pop()||[])}function E(){_.value.length!==0&&(f.value.push([...k.value]),k.value=_.value.pop()||[])}function j(){u.value=!1}function D(){a.value=""}function ie(){z(),k.value=[],a.value=""}const Ce=S(()=>f.value.length>0),xe=S(()=>_.value.length>0);function _e(x){const U=x.target.getStage().getPointerPosition();if(c.value.x=U.x,c.value.y=U.y,t.edgeSize>0&&n.value){const N=l.value.getNode(),ee=N.width()/p.value.width,le=N.height()/p.value.height,Q=t.edgeSize*ee,te=t.edgeSize*le;h.value=U.x>=Q+w.value&&U.x<=N.width()-Q-w.value&&U.y>=te+w.value&&U.y<=N.height()-te-w.value}else h.value=!0;c.value.fill=h.value?"rgba(255, 255, 255, 0.3)":"rgba(255, 0, 0, 0.3)"}function W(){c.value.visible=!1,u.value=!1}function G(){c.value.visible=!0,c.value.radius=w.value}function se(){const x=new Image;x.src=t.imageSrc,x.onload=()=>{p.value=x,re(),$e()}}function re(){if(!p.value)return;const x=window.innerWidth,U=window.innerHeight,N=p.value.width/p.value.height;let ee,le;const Q=Math.min(x*.9,1200),te=Math.min(U*.8,o.outputMaxSize);N>Q/te?(ee=Q,le=ee/N):(le=te,ee=le*N),v.value={width:Math.floor(ee),height:Math.floor(le)},$e()}function $e(){const x=v.value.width,U=v.value.height,N=p.value.width,ee=p.value.height,le=x/N,Q=U/ee,te=Math.min(le,Q);y.value={x:0,y:0,width:N*te,height:ee*te}}return fa(()=>{se(),K()}),oe(()=>{n.value=Number(t.edgeSize)>0}),Tt(()=>{O()}),(x,U)=>{const N=tt,ee=ye("v-image"),le=ye("v-layer"),Q=ye("v-circle"),te=ye("v-stage"),Ee=we,st=Nt,at=Ba,$t=Lt;return g(),P("div",Ql,[M("div",Xl,[Jl,a.value!==""?(g(),T(N,{key:0,class:"lg:h-full",fit:"inside",width:i(v).width,height:i(v).height,draggable:"false",src:a.value},null,8,["width","height","src"])):F("",!0),a.value===""?(g(),T(te,{key:1,ref_key:"stageRef",ref:l,config:i(v),onMousedown:A,onMousemove:ne,onMouseup:j,onMouseleave:W,onMouseenter:G},{default:B(()=>[C(le,{ref_key:"imageLayerRef",ref:r},{default:B(()=>[C(ee,{image:i(p),config:i(v)},null,8,["image","config"])]),_:1},512),C(le,{ref_key:"maskLayerRef",ref:d},{default:B(()=>[(g(!0),P(J,null,fe(i(k),(je,Me)=>(g(),T(Q,{key:Me,config:je},null,8,["config"]))),128)),i(c).visible?(g(),T(Q,{key:0,config:i(c)},null,8,["config"])):F("",!0)]),_:1},512)]),_:1},8,["config"])):F("",!0)]),M("div",Zl,[C(Ee,{class:"mr-2",size:"xs",icon:"i-heroicons-clipboard-document-check-16-solid",variant:"soft",disabled:i(k).length===0||a.value!=="",onClick:I},{default:B(()=>[V(" Apply ")]),_:1},8,["disabled"]),C(Ee,{class:"mr-2",size:"xs",icon:"i-heroicons-arrow-uturn-left-16-solid",variant:"soft",color:"cyan",disabled:!i(Ce)||a.value!=="",onClick:X},null,8,["disabled"]),C(Ee,{class:"mr-2",size:"xs",icon:"i-heroicons-arrow-uturn-right-16-solid",variant:"soft",color:"cyan",disabled:!i(xe)||a.value!=="",onClick:E},null,8,["disabled"]),C(Ee,{class:"mr-2",size:"xs",icon:"i-heroicons-arrow-turn-up-left-20-solid",variant:"soft",disabled:i(k).length===0&&a.value==="",color:"red",onClick:ie},{default:B(()=>[V(" Reset ")]),_:1},8,["disabled"]),C(Ee,{size:"xs",icon:"i-heroicons-pencil-solid",variant:"soft",disabled:a.value==="",color:"orange",onClick:D},{default:B(()=>[V(" Edit ")]),_:1},8,["disabled"])]),M("div",eo,[C(st,{modelValue:n.value,"onUpdate:modelValue":U[0]||(U[0]=je=>n.value=je),class:"my-2 text-xm",label:`Edge size ${n.value?"enabled ("+e.edgeSize+"px)":"disabled"}`},null,8,["modelValue","label"]),C($t,{class:"mb-3 text-sm",hint:`value: ${i(w)}`,label:"Brush radius"},{default:B(()=>[C(at,{modelValue:i(w),"onUpdate:modelValue":U[1]||(U[1]=je=>he(w)?w.value=je:null),min:1,max:100,size:"sm",class:"my-2",disabled:a.value!==""},null,8,["modelValue","disabled"])]),_:1},8,["hint"])])])}}}),ao=He(ae.ui.strategy,ae.ui.modal,En),no=Y({components:{HDialog:el,HDialogPanel:tl,TransitionRoot:za,TransitionChild:Pa},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:t}){const{ui:a,attrs:n}=qe("modal",ke(e,"ui"),ao,ke(e,"class")),s=S({get(){return e.modelValue},set(d){t("update:modelValue",d)}}),o=S(()=>e.transition?{...a.value.transition}:{});function l(d){if(e.preventClose){t("close-prevented");return}s.value=d,t("close")}const r=()=>{t("after-leave")};return Et(()=>jt("$HAJMhYDoe7")),{ui:a,attrs:n,isOpen:s,transitionClass:o,onAfterLeave:r,close:l}}});function lo(e,t,a,n,s,o){const l=ye("TransitionChild"),r=ye("HDialogPanel"),d=ye("HDialog"),p=ye("TransitionRoot");return g(),T(p,{appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},{default:B(()=>[C(d,de({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:B(()=>[e.overlay?(g(),T(l,de({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:B(()=>[M("div",{class:R([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):F("",!0),M("div",{class:R(e.ui.inner)},[M("div",{class:R([e.ui.container,!e.fullscreen&&e.ui.padding])},[C(l,de({as:"template",appear:e.appear},e.transitionClass),{default:B(()=>[C(r,{class:R([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:B(()=>[ve(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const it=Ae(no,[["render",lo]]),oo="0.05";function io(e,t){const a=parseFloat(e);if(isNaN(a))return e;const n=a+t;return n<0?"0":String(Number(n.toFixed(10)))}function so(e,t){let a=t,n=t,s=0,o=0;for(;a>=0&&(a--,!(e[a]==="("&&s===o));)e[a]==="("&&s++,e[a]===")"&&o++;if(a<0)return!1;for(s=0,o=0;n<e.length&&!(e[n]===")"&&s===o);)e[n]==="("&&s++,e[n]===")"&&o++,n++;return n===e.length?!1:{start:a+1,end:n}}function ro(e){const t=/^\((.*)\)$/,a=e.match(t),n=/:([+-]?(\d*\.)?\d+([eE][+-]?\d+)?)/,s=e.match(n);return a&&!s?`(${a[1]}:1.0)`:e}function uo(e){const t=e.composedPath()[0],a=parseFloat(oo);if(t.tagName!=="TEXTAREA"||!(e.key==="ArrowUp"||e.key==="ArrowDown")||!e.ctrlKey&&!e.metaKey)return;e.preventDefault();let n=t.selectionStart,s=t.selectionEnd,o=t.value.substring(n,s);if(!o){const d=so(t.value,n);if(d)n=d.start,s=d.end,o=t.value.substring(n,s);else{const p=" .,\\/!?%^*;:{}=-_`~()\r\n	";for(;!p.includes(t.value[n-1])&&n>0;)n--;for(;!p.includes(t.value[s])&&s<t.value.length;)s++;if(o=t.value.substring(n,s),!o)return}}o[o.length-1]===" "&&(o=o.substring(0,o.length-1),s-=1),t.value[n-1]==="("&&t.value[s]===")"&&(n-=1,s+=1,o=t.value.substring(n,s)),(o[0]!=="("||o[o.length-1]!==")")&&(o=`(${o})`),o=ro(o);const l=e.key==="ArrowUp"?a:-a,r=o.replace(/\((.*):(\d+(?:\.\d+)?)\)/,(d,p,w)=>(w=io(w,l),Number(w)==1?p:`(${p}:${w})`));return t.setRangeText(r,n,s,"select"),t.value}const co={key:0,class:"text-red-300"},mo={key:0,class:"flex items-center"},fo={key:2,class:"flex flex-row flex-grow items-center justify-between"},po=Y({__name:"InputParam",props:{inputParam:{type:Object,required:!0},index:{type:Number,required:!0},inputParamsMap:{type:Array,required:!0},advanced:{type:Boolean,default:!1}},setup(e){const t=e;function a(m){return m?URL.createObjectURL(m):""}const n=$(null),s=$(""),o=$(!1),l=$(""),r=$(!0),d=$({}),p=$({width:0,height:0});function w(){try{const m=t.inputParamsMap[t.index][t.inputParam.name].source_input_name,u=t.inputParamsMap.find(f=>{const _=Object.keys(f)[0];if(_===m)return f[_]});y(u[m].value)}catch{p.value.width=0,p.value.height=0}}oe(()=>{t.inputParam.type==="range_scale"&&w()}),t.inputParam.type==="range_scale"&&me(t.inputParamsMap,()=>{w()});function k(){URL.revokeObjectURL(s.value),s.value="",n&&(n.value.$refs.input.value=""),t.inputParamsMap[t.index][t.inputParam.name].value=null}const v=S(()=>t.inputParam.type!=="bool"?t.inputParam.display_name:"");function y(m){if(!(m instanceof File)){p.value.width=0,p.value.height=0;return}const u=URL.createObjectURL(m),f=new Image;f.onload=function(){p.value.width=f.naturalWidth,p.value.height=f.naturalHeight,URL.revokeObjectURL(f.src)},f.src=u}const b=S(()=>{if(t.inputParam.type==="range_scale"){const m=t.inputParamsMap[t.index][t.inputParam.name].value;return`value: ${m}x (${p.value.width}x${p.value.height} -> ${(p.value.width*m).toFixed(0)}x${(p.value.height*m).toFixed(0)})`}return["range","range_scale"].includes(t.inputParam.type)?`value: ${t.inputParamsMap[t.index][t.inputParam.name].value}`:""});Tt(()=>{URL.revokeObjectURL(s.value)});const c=$(null);function h(m){const u=uo(m);u&&(t.inputParamsMap[t.index][t.inputParam.name].value=u)}return oe(()=>{t.inputParam.type==="text"&&c.value&&c.value.$refs.textarea.addEventListener("keydown",h)}),Tt(()=>{t.inputParam.type==="text"&&c.value&&c.value.$refs.textarea.removeEventListener("keydown",h)}),t.inputParam.type==="image-inpaint"&&(me(l,m=>{const u=new File([l.value],"image-inpaint-masked.png",{type:"image/png"});t.inputParamsMap[t.index][t.inputParam.name].value=u,t.inputParamsMap[t.index][t.inputParam.name].mask_applied=m!==""}),me(r,m=>{t.inputParamsMap[t.index][t.inputParam.name].edge_size_enabled=m})),(m,u)=>{var X;const f=Il,_=Dt,I=we,A=tt,L=to,Z=it,ne=wa,z=Nt,O=Ba,K=Lt;return(((X=e.inputParam)==null?void 0:X.advanced)||!1)===e.advanced?(g(),T(K,{key:0,label:i(v),class:"mb-3",help:i(b)},{hint:B(()=>[e.inputParam.optional?F("",!0):(g(),P("span",co,"required"))]),default:B(()=>{var E;return[e.inputParam.type==="text"?(g(),T(f,{key:0,ref_key:"textareaInput",ref:c,size:"md",placeholder:e.inputParam.display_name,required:!e.inputParam.optional,resize:!0,label:e.inputParam.display_name,value:e.inputParamsMap[e.index][e.inputParam.name].value,variant:"outline",onInput:u[0]||(u[0]=j=>{const D=j.target;e.inputParamsMap[e.index][e.inputParam.name].value=D.value})},null,8,["placeholder","required","label","value"])):F("",!0),e.inputParam.type==="number"?(g(),P(J,{key:1},[e.inputParam.name==="seed"?(g(),P("div",mo,[e.inputParam.type==="number"?(g(),T(_,{key:0,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:u[1]||(u[1]=j=>{const D=j.target;e.inputParamsMap[e.index][e.inputParam.name].value=D.value})},null,8,["label","required","value","max","min"])):F("",!0),C(I,{icon:"i-heroicons-arrow-path",color:"violet",variant:"outline",size:"xs",class:"ml-2",onClick:u[2]||(u[2]=()=>{e.inputParamsMap[e.index][e.inputParam.name].value=Math.floor(Math.random()*1e7)})})])):(g(),T(_,{key:1,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:u[3]||(u[3]=j=>{const D=j.target;e.inputParamsMap[e.index][e.inputParam.name].value=D.value})},null,8,["label","required","value","max","min"]))],64)):F("",!0),e.inputParam.type==="image"||e.inputParam.type==="image-inpaint"?(g(),P("div",fo,[C(_,{ref_key:"imageInput",ref:n,type:"file",accept:"image/*",class:"w-full",label:e.inputParam.display_name,onChange:u[4]||(u[4]=j=>{console.debug("files",j);const D=j==null?void 0:j[0];e.inputParamsMap[e.index][e.inputParam.name].value=D,s.value=a(D),console.debug("inputParamsMap",e.inputParamsMap),e.inputParam.type==="image-inpaint"&&(o.value=!0,l.value="",d.value={})})},null,8,["label"]),i(s)!==""?(g(),T(A,{key:0,src:i(l)?i(l):i(s),class:"w-10 h-10 rounded-lg cursor-pointer ml-2",onClick:u[5]||(u[5]=()=>{o.value=!0})},null,8,["src"])):F("",!0),i(s)!==""?(g(),T(I,{key:1,icon:"i-heroicons-x-mark",variant:"outline",class:"ml-2",onClick:k})):F("",!0)])):F("",!0),e.inputParam.type==="image"||e.inputParam.type==="image-inpaint"?(g(),T(Z,{key:3,modelValue:i(o),"onUpdate:modelValue":u[11]||(u[11]=j=>he(o)?o.value=j:null),class:"z-[90] overflow-y-auto",transition:!1,fullscreen:""},{default:B(()=>{var j;return[C(I,{class:"absolute top-4 right-4 z-[100]",icon:"i-heroicons-x-mark",variant:"ghost",onClick:u[6]||(u[6]=()=>o.value=!1)}),e.inputParam.type==="image"?(g(),P("div",{key:0,class:"flex items-center justify-center w-full h-full p-4",onClick:u[7]||(u[7]=et(()=>o.value=!1,["left"]))},[C(A,{class:"lg:h-full",fit:"inside",src:i(s)},null,8,["src"])])):(g(),T(L,{key:1,ref:"imageInpaint","image-inpaint-with-mask":i(l),"onUpdate:imageInpaintWithMask":u[8]||(u[8]=D=>he(l)?l.value=D:null),"edge-size-enabled":i(r),"onUpdate:edgeSizeEnabled":u[9]||(u[9]=D=>he(r)?r.value=D:null),"image-inpaint-mask-data":i(d),"onUpdate:imageInpaintMaskData":u[10]||(u[10]=D=>he(d)?d.value=D:null),"edge-size":(j=e.inputParam)==null?void 0:j.edge_size,class:"flex items-center justify-center w-full h-full p-4","image-src":i(s)},null,8,["image-inpaint-with-mask","edge-size-enabled","image-inpaint-mask-data","edge-size","image-src"]))]}),_:1},8,["modelValue"])):F("",!0),e.inputParam.type==="list"?(g(),T(ne,{key:4,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":u[12]||(u[12]=j=>e.inputParamsMap[e.index][e.inputParam.name].value=j),placeholder:e.inputParam.display_name,options:Object.keys(e.inputParam.options)},null,8,["modelValue","placeholder","options"])):F("",!0),e.inputParam.type==="bool"?(g(),T(z,{key:5,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":u[13]||(u[13]=j=>e.inputParamsMap[e.index][e.inputParam.name].value=j),label:(E=e.inputParam)==null?void 0:E.display_name},null,8,["modelValue","label"])):F("",!0),["range","range_scale"].includes(e.inputParam.type)?(g(),T(O,{key:6,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":u[14]||(u[14]=j=>e.inputParamsMap[e.index][e.inputParam.name].value=j),label:e.inputParam.display_name,size:"sm",min:e.inputParam.min,max:e.inputParam.max,step:e.inputParam.step},null,8,["modelValue","label","min","max","step"])):F("",!0)]}),_:1},8,["label","help"])):F("",!0)}}}),vo={key:0,class:"heading"},go={key:1},ho=Y({__name:"InputParams",props:{inputParamsMap:{type:Array,required:!0},additionalInputParamsMap:{type:Array,required:!1,default:[]},advanced:{type:Boolean,default:!1}},setup(e){const t=e,a=Ue(),n=$(!t.advanced);return(s,o)=>{const l=be,r=po;return g(),P(J,null,[e.advanced?(g(),P("div",vo,[M("h4",{class:"text-md font-bold cursor-pointer select-none flex items-center mb-3",onClick:o[0]||(o[0]=()=>{n.value=!i(n)})},[C(l,{name:i(n)?"i-heroicons-chevron-up":"i-heroicons-chevron-down",class:"mr-2"},null,8,["name"]),V(" Advanced options ")])])):F("",!0),i(n)?(g(),P("div",go,[(g(!0),P(J,null,fe(i(a).currentFlow.input_params,(d,p)=>(g(),T(r,{key:p,"input-params-map":e.inputParamsMap,index:p,"input-param":d,advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128)),(g(!0),P(J,null,fe(e.additionalInputParamsMap,(d,p)=>(g(),T(r,{key:Object.keys(d)[0],"input-params-map":e.additionalInputParamsMap,index:p,"input-param":d[Object.keys(d)[0]],advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128))])):F("",!0)],64)}}}),bo={key:0,id:"prompt",class:"w-full my-10 lg:my-0 p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg"},yo={class:"flex justify-end px-2"},wo=Y({__name:"Prompt",setup(e,{expose:t}){var k,v,y,b;const a=Ue();let n=localStorage.getItem(`input_params_map_${(k=a.currentFlow)==null?void 0:k.name}`);if(n){const c=JSON.parse(n);"flow_version"in c&&c.flow_version.split(".")[0]===((v=a.currentFlow)==null?void 0:v.version.split(".")[0])?n=c:(n=null,localStorage.removeItem(`input_params_map_${(y=a.currentFlow)==null?void 0:y.name}`))}const s=$(((b=a.currentFlow)==null?void 0:b.input_params.map(c=>{var h;if(c.type==="text")return{[c.name]:{value:n!==null?n[c.name]:c.default||"",type:c.type,optional:c.optional,advanced:c.advanced||!1}};if(c.type==="number")return{[c.name]:{value:n!==null?n[c.name]:c.default||0,type:c.type,optional:c.optional,advanced:c.advanced||!1}};if(c.type==="image")return{[c.name]:{value:n!==null?n[c.name]:c.default||{},type:c.type,optional:c.optional,advanced:c.advanced||!1}};if(c.type==="image-inpaint")return{[c.name]:{value:n!==null?n[c.name]:c.default||{},type:c.type,optional:c.optional,advanced:c.advanced||!1,edge_size:(c==null?void 0:c.edge_size)||0}};if(c.type==="list")return{[c.name]:{value:n!==null?n[c.name]:c.default||Object.keys(c.options)[0]||"",type:c.type,optional:c.optional,options:c.options,advanced:c.advanced||!1}};if(c.type==="bool")return{[c.name]:{value:n!==null?n[c.name]:c.default||!1,type:c.type,optional:c.optional,advanced:c.advanced||!1}};if(["range","range_scale"].includes(c.type)){const m={value:n!==null?n[c.name]:c.default||0,type:c.type,optional:c.optional,advanced:c.advanced||!1,min:c.min||0,max:c.max||100,step:c.step||1};if(c.type==="range_scale"&&(m.source_input_name=c.source_input_name||null,m.source_input_name===null||m.source_input_name==="")){const u=(h=a.currentFlow)==null?void 0:h.input_params.find(f=>f.type==="image"&&!f.optional);u&&(m.source_input_name=u.name)}return{[c.name]:m}}}))||[]),o=$(a.currentFlow.is_seed_supported?[{seed:{name:"seed",display_name:"Random seed",value:Math.floor(Math.random()*1e7),type:"number",optional:!0,advanced:!0,min:0,max:1e7}}]:[]);function l(c){console.debug("Copy prompt inputs",c),Object.keys(c).forEach(m=>{const u=s.value.findIndex(f=>Object.keys(f)[0]===m);u!==-1&&(s.value[u][m].value=c[m].value)});const h=document.getElementById("prompt");h&&h.scrollIntoView({behavior:"smooth"})}t({copyPromptInputs:l}),s.value.forEach(c=>{const h=Object.keys(c)[0];["image","image-inpaint"].includes(c[h].type)||me(()=>c[h].value,()=>{var u,f;const m={};s.value.forEach(_=>{const I=Object.keys(_)[0];m[I]=_[I].value}),localStorage.setItem(`input_params_map_${(u=a.currentFlow)==null?void 0:u.name}`,JSON.stringify({...m,flow_version:(f=a.currentFlow)==null?void 0:f.version}))})});const r=$(!1),d=$(1),p=$(!1),w=S(()=>s.value.every(c=>{var u;const h=Object.keys(c)[0];if(c[h].optional)return!0;const m=c[h].value;if(c[h].type==="text")return m!=="";if(c[h].type==="number")return m>=c[h].min&&m<=c[h].max;if(c[h].type==="list")return m!==""&&Object.keys(c[h].options).includes(m);if(c[h].type==="bool")return!0;if(c[h].type==="range")return m>=c[h].min&&m<=c[h].max;if(c[h].type==="range_scale")return m>=c[h].min&&m<=c[h].max;if(c[h].type==="image")return m instanceof File&&m.size>0;if(c[h].type==="image-inpaint")return m instanceof File&&m.size>0&&(((u=c[h])==null?void 0:u.mask_applied)||!1)}));return(c,h)=>{const m=be,u=ho,f=Dt,_=Lt,I=we;return i(a).currentFlow?(g(),P("div",bo,[M("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:h[0]||(h[0]=()=>{p.value=!i(p)})},[C(m,{name:i(p)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),V(" Prompt ")]),vt(M("div",null,[C(u,{"input-params-map":i(s),"additional-input-params-map":i(o),advanced:!1},null,8,["input-params-map","additional-input-params-map"]),i(o).length>0?(g(),T(u,{key:0,"input-params-map":i(s),"additional-input-params-map":i(o),advanced:!0},null,8,["input-params-map","additional-input-params-map"])):F("",!0),i(a).currentFlow.is_count_supported?(g(),T(_,{key:1,label:"Number of images"},{default:B(()=>[C(f,{modelValue:i(d),"onUpdate:modelValue":h[1]||(h[1]=A=>he(d)?d.value=A:null),type:"number",min:"1",max:"50",label:"Batch size",class:"mb-3 max-w-fit flex justify-end"},null,8,["modelValue"])]),_:1})):F("",!0),M("div",yo,[C(I,{icon:"i-heroicons-sparkles-16-solid",variant:"outline",loading:i(r),disabled:!i(w),onClick:h[2]||(h[2]=()=>{r.value=!0,i(a).runFlow(i(a).currentFlow,[...i(s),...i(o)],i(d)).finally(()=>{r.value=!1;const A=i(o).find(L=>Object.keys(L)[0]==="seed");A.seed.value=Number(A.seed.value)+i(d)+1})})},{default:B(()=>[V(" Run prompt ")]),_:1},8,["loading","disabled"])])],512),[[Rt,!i(p)]])])):F("",!0)}}}),ko=e=>{const t=$(0);function a(o){e.value.style.scrollSnapType="none",e.value.style.scrollBehavior="auto",t.value=o.pageX,window.addEventListener("mousemove",s),window.addEventListener("mouseup",n)}function n(){e.value.style.removeProperty("scroll-behavior"),e.value.style.removeProperty("scroll-snap-type"),e.value.style.removeProperty("pointer-events"),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",n)}function s(o){o.preventDefault(),e.value.style.pointerEvents="none";const l=o.pageX-t.value;t.value=o.pageX,e.value.scrollBy(-l,0)}oe(()=>{e.value&&e.value.addEventListener("mousedown",a)}),Fe(()=>{e.value&&e.value.removeEventListener("mousedown",a)})},Mt=He(ae.ui.strategy,ae.ui.carousel,On),$o=Y({components:{UButton:we},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},arrows:{type:Boolean,default:!1},indicators:{type:Boolean,default:!1},prevButton:{type:Object,default:()=>Mt.default.prevButton},nextButton:{type:Object,default:()=>Mt.default.nextButton},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:void 0}},setup(e,{expose:t}){const{ui:a,attrs:n}=qe("carousel",ke(e,"ui"),Mt,ke(e,"class")),s=$(),o=$(0),{x:l}=fn(s,{behavior:"smooth"}),{width:r}=pn(s);ko(s),vn(s,c=>{var m,u;const[h]=c;o.value=((u=(m=h==null?void 0:h.target)==null?void 0:m.firstElementChild)==null?void 0:u.clientWidth)||0});const d=S(()=>o.value?Math.round(l.value/o.value)+1:0),p=S(()=>o.value?e.items.length-Math.round(r.value/o.value)+1:0),w=S(()=>d.value<=1),k=S(()=>d.value===p.value);function v(){l.value+=o.value}function y(){l.value-=o.value}function b(c){l.value=(c-1)*o.value}return t({pages:p,page:d,prev:y,next:v,select:b}),{ui:a,attrs:n,isFirst:w,isLast:k,carouselRef:s,pages:p,currentPage:d,onClickNext:v,onClickPrev:y,onClick:b,twMerge:Oe}}}),So=["role"],Io=["aria-selected","aria-label","onClick"];function Co(e,t,a,n,s,o){const l=we;return g(),P("div",de({class:e.ui.wrapper},e.attrs),[M("div",{ref:"carouselRef",class:R([e.ui.container,"no-scrollbar"])},[(g(!0),P(J,null,fe(e.items,(r,d)=>(g(),P("div",{key:d,class:R(e.ui.item),role:e.indicators?"tabpanel":null},[ve(e.$slots,"default",{item:r,index:d},void 0,!0)],10,So))),128))],2),e.arrows?(g(),P("div",{key:0,class:R(e.ui.arrows.wrapper)},[ve(e.$slots,"prev",{onClick:e.onClickPrev,disabled:e.isFirst},()=>{var r;return[e.prevButton?(g(),T(l,de({key:0,disabled:e.isFirst},{...e.ui.default.prevButton,...e.prevButton},{class:e.twMerge(e.ui.default.prevButton.class,(r=e.prevButton)==null?void 0:r.class),"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["disabled","class","onClick"])):F("",!0)]},!0),ve(e.$slots,"next",{onClick:e.onClickNext,disabled:e.isLast},()=>{var r;return[e.nextButton?(g(),T(l,de({key:0,disabled:e.isLast},{...e.ui.default.nextButton,...e.nextButton},{class:e.twMerge(e.ui.default.nextButton.class,(r=e.nextButton)==null?void 0:r.class),"aria-label":"Next",onClick:e.onClickNext}),null,16,["disabled","class","onClick"])):F("",!0)]},!0)],2)):F("",!0),e.indicators?(g(),P("div",{key:1,role:"tablist",class:R(e.ui.indicators.wrapper)},[(g(!0),P(J,null,fe(e.pages,r=>ve(e.$slots,"indicator",{key:r,onClick:e.onClick,active:r===e.currentPage,page:r},()=>[M("button",{type:"button",role:"tab","aria-selected":r===e.currentPage,class:R([e.ui.indicators.base,r===e.currentPage?e.ui.indicators.active:e.ui.indicators.inactive]),"aria-label":`set slide ${r}`,onClick:d=>e.onClick(r)},null,10,Io)],!0)),128))],2)):F("",!0)],16)}const Oa=Ae($o,[["render",Co],["__scopeId","data-v-ea54307d"]]),xo={class:"flex flex-col basis-full"},_o=Y({__name:"QueueInputFiles",props:{running:{type:Object,required:!0}},setup(e){const t=Ht(),a=function(r,d){return`${It()}/tasks/inputs?task_id=${r}&input_index=${d}`},n=$(!1),s=$(""),o=$(0),l=$(!0);return(r,d)=>{var b,c,h,m,u;const p=be,w=tt,k=Oa,v=we,y=it;return r.$props.running&&r.$props.running.input_files&&((b=Object.keys(r.$props.running.input_files))==null?void 0:b.length)>0?(g(),P("div",{key:0,class:R(["ml-2 mt-2 mb-5",{"mb-10":((c=Object.keys(r.$props.running.input_files))==null?void 0:c.length)>1&&!i(l)}])},[M("h4",{class:"mb-3 font-bold cursor-pointer select-none flex items-center text-sm",onClick:d[0]||(d[0]=()=>l.value=!i(l))},[C(p,{name:i(l)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),M("span",null," Input files ("+H((h=Object.keys(r.$props.running.input_files))==null?void 0:h.length)+") ",1)]),i(l)?F("",!0):(g(),P(J,{key:0},[((m=Object.keys(r.$props.running.input_files))==null?void 0:m.length)===1?(g(),T(w,{key:0,class:"mb-5 rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:i(t)(`${("buildBackendApiUrl"in r?r.buildBackendApiUrl:i(It))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:a(r.$props.running.task_id,0),onClick:d[1]||(d[1]=()=>{s.value=a(r.$props.running.task_id,0),o.value=0,n.value=!0})},null,8,["placeholder","src"])):F("",!0),((u=Object.keys(r.$props.running.input_files))==null?void 0:u.length)>1?(g(),T(k,{key:1,items:Object.keys(r.$props.running.input_files).map(f=>({task_id:e.running.task_id,index:f})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:B(({item:f})=>[M("div",xo,[C(w,{class:"rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:i(t)(`${("buildBackendApiUrl"in r?r.buildBackendApiUrl:i(It))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:a(f.task_id,f.index),onClick:()=>{s.value=a(r.$props.running.task_id,f.index),o.value=f.index,n.value=!0}},null,8,["placeholder","src","onClick"])])]),_:1},8,["items"])):F("",!0),C(y,{modelValue:i(n),"onUpdate:modelValue":d[4]||(d[4]=f=>he(n)?n.value=f:null),class:"z-[90]",transition:!1,fullscreen:""},{default:B(()=>[C(v,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:d[2]||(d[2]=()=>n.value=!1)}),M("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:d[3]||(d[3]=et(()=>n.value=!1,["left"]))},[i(s)?(g(),T(w,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",placeholder:"/vix_logo.png",src:i(s)},null,8,["src"])):F("",!0)])]),_:1},8,["modelValue"])],64))],2)):F("",!0)}}}),De=He(ae.ui.strategy,ae.ui.alert,Bn),Mo=Y({components:{UIcon:be,UAvatar:ft,UButton:we},inheritAttrs:!1,props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>De.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>De.default.closeButton},actions:{type:Array,default:()=>[]},color:{type:String,default:()=>De.default.color,validator(e){return[...ae.ui.colors,...Object.keys(De.color)].includes(e)}},variant:{type:String,default:()=>De.default.variant,validator(e){return[...Object.keys(De.variant),...Object.values(De.color).flatMap(t=>Object.keys(t))].includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["close"],setup(e){const{ui:t,attrs:a}=qe("alert",ke(e,"ui"),De),n=S(()=>{var l,r;const o=((r=(l=t.value.color)==null?void 0:l[e.color])==null?void 0:r[e.variant])||t.value.variant[e.variant];return Oe(ce(t.value.wrapper,t.value.rounded,t.value.shadow,t.value.padding,o==null?void 0:o.replaceAll("{color}",e.color)),e.class)});function s(o){o.click&&o.click()}return{ui:t,attrs:a,alertClass:n,onAction:s,twMerge:Oe}}});function Po(e,t,a,n,s,o){const l=be,r=ft,d=we;return g(),P("div",de({class:e.alertClass},e.attrs),[M("div",{class:R(["flex",[e.ui.gap,{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}]])},[ve(e.$slots,"icon",{icon:e.icon},()=>[e.icon?(g(),T(l,{key:0,name:e.icon,class:R(e.ui.icon.base)},null,8,["name","class"])):F("",!0)]),ve(e.$slots,"avatar",{avatar:e.avatar},()=>[e.avatar?(g(),T(r,de({key:0},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):F("",!0)]),M("div",{class:R(e.ui.inner)},[e.title||e.$slots.title?(g(),P("p",{key:0,class:R(e.ui.title)},[ve(e.$slots,"title",{title:e.title},()=>[V(H(e.title),1)])],2)):F("",!0),e.description||e.$slots.description?(g(),P("div",{key:1,class:R(e.twMerge(e.ui.description,!e.title&&!e.$slots.title&&"mt-0 leading-5"))},[ve(e.$slots,"description",{description:e.description},()=>[V(H(e.description),1)])],2)):F("",!0),(e.description||e.$slots.description)&&(e.actions.length||e.$slots.actions)?(g(),P("div",{key:2,class:R(e.ui.actions)},[ve(e.$slots,"actions",{},()=>[(g(!0),P(J,null,fe(e.actions,(p,w)=>(g(),T(d,de({key:w,ref_for:!0},{...e.ui.default.actionButton||{},...p},{onClick:et(k=>e.onAction(p),["stop"])}),null,16,["onClick"]))),128))])],2)):F("",!0)],2),e.closeButton||!e.description&&!e.$slots.description&&e.actions.length?(g(),P("div",{key:0,class:R(e.twMerge(e.ui.actions,"mt-0"))},[!e.description&&!e.$slots.description&&(e.actions.length||e.$slots.actions)?ve(e.$slots,"actions",{key:0},()=>[(g(!0),P(J,null,fe(e.actions,(p,w)=>(g(),T(d,de({key:w,ref_for:!0},{...e.ui.default.actionButton||{},...p},{onClick:et(k=>e.onAction(p),["stop"])}),null,16,["onClick"]))),128))]):F("",!0),e.closeButton?(g(),T(d,de({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{onClick:t[0]||(t[0]=et(p=>e.$emit("close"),["stop"]))}),null,16)):F("",!0)],2)):F("",!0)],2)],16)}const Aa=Ae(Mo,[["render",Po]]),zo=Y({__name:"QueueErrorAlert",props:{running:{type:Object,required:!0}},setup(e){const t=Ue(),a=$(!1);return(n,s)=>{const o=Aa;return g(),T(o,{class:"mb-5",icon:"i-heroicons-exclamation-circle-16-solid",color:"red",variant:"soft",title:"Task failed",description:e.running.error,actions:[{variant:"outline",color:"yellow",label:"Restart",loading:i(a),icon:"i-heroicons-arrow-path",click:()=>{a.value=!0,i(t).restartFlow(n.$props.running).finally(()=>{a.value=!1})}}]},null,8,["description","actions"])}}}),Fo={class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md mt-5 mb-10"},To={class:"flex items-center justify-between mb-2"},Bo={key:0},Oo={key:1,class:"text-red-400"},Ao={class:"text-sm mb-5 text-slate-500"},Uo={class:"flex justify-between"},Eo=Y({__name:"Queue",setup(e){const t=Ue(),a=$(!1),n=$(!0);return(s,o)=>{var v,y,b,c,h,m,u,f,_;const l=be,r=we,d=ha,p=_o,w=zo,k=kt;return g(),P("div",Fo,[M("div",To,[M("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center",onClick:o[0]||(o[0]=()=>{n.value=!i(n)})},[C(l,{name:i(n)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),M("span",null," Queue ("+H(i(t).flowsRunningByName((v=i(t).currentFlow)==null?void 0:v.name).length)+") ",1),i(t).flowsRunningByName((y=i(t).currentFlow)==null?void 0:y.name).length>0?(g(),P("span",Bo," - "+H(`${((c=i(t).flowsRunningByName((b=i(t).currentFlow)==null?void 0:b.name).filter(I=>I.progress>0)[0])==null?void 0:c.progress.toFixed(0))??0}%`),1)):F("",!0),i(t).flowsRunningByNameWithErrors((h=i(t))==null?void 0:h.currentFlow.name).length>0?(g(),P("span",Oo," ("+H(i(t).flowsRunningByNameWithErrors((m=i(t).currentFlow)==null?void 0:m.name).length)+") ",1)):F("",!0)]),(u=i(t).currentFlow)!=null&&u.name&&i(t).flowsRunningByName((f=i(t).currentFlow)==null?void 0:f.name).length>0?(g(),T(r,{key:0,icon:"i-heroicons-stop",color:"orange",variant:"outline",loading:i(a),onClick:o[1]||(o[1]=()=>{var I;a.value=!0,i(t).cancelRunningFlows((I=i(t).currentFlow)==null?void 0:I.name).finally(()=>{a.value=!1})})},{default:B(()=>[V(" Cancel all ")]),_:1},8,["loading"])):F("",!0)]),i(n)?F("",!0):(g(!0),P(J,{key:0},fe(i(t).flowsRunningByName((_=i(t).currentFlow)==null?void 0:_.name).filter(I=>I.parent_task_id===null),I=>(g(),P("div",{key:I.task_id,class:"mb-5"},[C(d,{class:"mb-3",value:I==null?void 0:I.progress,indicator:"",color:I.error?"red":"green"},null,8,["value","color"]),M("p",Ao,H(["#"+I.task_id,...Object.keys(I.input_params_mapped).filter(A=>I.input_params_mapped[A].value&&I.input_params_mapped[A].value!=="").map(A=>`${I.input_params_mapped[A].display_name}: ${I.input_params_mapped[A].value}`)].join(" | ")+`${I.execution_time?" | execution_time: "+I.execution_time.toFixed(2)+"s":""}`),1),C(p,{running:I},null,8,["running"]),I.error?(g(),T(w,{key:0,running:I},null,8,["running"])):F("",!0),M("div",Uo,[C(r,{icon:I.progress>=0&&I.progress<100?"i-heroicons-stop":"i-heroicons-minus-circle",color:I.error?"red":"orange",variant:"outline",loading:i(a),onClick:()=>{a.value=!0,i(t).cancelRunningFlow(I).finally(()=>{a.value=!1})}},{default:B(()=>[V(H(I.progress>=0&&I.progress<100?"Cancel":"Remove"),1)]),_:2},1032,["icon","color","loading","onClick"]),C(k,{items:[[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var A;return i(t).downloadFlowComfy((A=i(t).currentFlow)==null?void 0:A.name,I.task_id)}}]],mode:"click",popper:{placement:"bottom-end"}},{default:B(()=>[C(r,{color:"blue",variant:"outline",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])]))),128))])}}}),jo=Ae(Eo,[["__scopeId","data-v-ffb4d5c5"]]),Ro=Y({__name:"ScrollToTop",props:{show:{type:Boolean,required:!0},target:{type:String,required:!0}},setup(e){const t=e;function a(){const n=document.getElementById(t.target);n&&n.scrollIntoView({behavior:"smooth"})}return(n,s)=>{const o=we;return vt((g(),T(o,{icon:"i-heroicons-arrow-small-up",color:"black",variant:"outline",onClick:a},null,512)),[[Rt,e.show]])}}}),Pe=He(ae.ui.strategy,ae.ui.select,gn),Do=Y({components:{UIcon:be},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>Pe.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>Pe.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(Pe.size).includes(e)}},color:{type:String,default:()=>Pe.default.color,validator(e){return[...ae.ui.colors,...Object.keys(Pe.color)].includes(e)}},variant:{type:String,default:()=>Pe.default.variant,validator(e){return[...Object.keys(Pe.variant),...Object.values(Pe.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t,slots:a}){const{ui:n,attrs:s}=qe("select",ke(e,"ui"),Pe,ke(e,"class")),{size:o,rounded:l}=hn({ui:n,props:e}),{emitFormChange:r,inputId:d,color:p,size:w,name:k}=bt(e,Pe),v=S(()=>o.value??w.value),y=E=>{t("update:modelValue",E.target.value)},b=E=>{t("change",E.target.value),r()},c=E=>Kt(E,e.valueAttribute,""),h=E=>Kt(E,e.optionAttribute,""),m=E=>["string","number","boolean"].includes(typeof E)?{[e.valueAttribute]:E,[e.optionAttribute]:E}:{...E,[e.valueAttribute]:c(E),[e.optionAttribute]:h(E)},u=S(()=>e.options.map(E=>m(E))),f=S(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...u.value]:u.value),_=S(()=>{const E=m(e.modelValue),j=f.value.find(D=>D[e.valueAttribute]===E[e.valueAttribute]);return j?j[e.valueAttribute]:""}),I=S(()=>{var j,D;const E=((D=(j=n.value.color)==null?void 0:j[p.value])==null?void 0:D[e.variant])||n.value.variant[e.variant];return Oe(ce(n.value.base,n.value.form,l.value,n.value.size[v.value],e.padded?n.value.padding[v.value]:"p-0",E==null?void 0:E.replaceAll("{color}",p.value),(A.value||a.leading)&&n.value.leading.padding[v.value],(L.value||a.trailing)&&n.value.trailing.padding[v.value]),e.placeholder&&!e.modelValue&&n.value.placeholder,e.selectClass)}),A=S(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),L=S(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),Z=S(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),ne=S(()=>e.loading&&!A.value?e.loadingIcon:e.trailingIcon||e.icon),z=S(()=>ce(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[v.value])),O=S(()=>ce(n.value.icon.base,p.value&&ae.ui.colors.includes(p.value)&&n.value.icon.color.replaceAll("{color}",p.value),n.value.icon.size[v.value],e.loading&&n.value.icon.loading)),K=S(()=>ce(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[v.value])),X=S(()=>ce(n.value.icon.base,p.value&&ae.ui.colors.includes(p.value)&&n.value.icon.color.replaceAll("{color}",p.value),n.value.icon.size[v.value],e.loading&&!A.value&&n.value.icon.loading));return{ui:n,attrs:s,name:k,inputId:d,normalizedOptionsWithPlaceholder:f,normalizedValue:_,isLeading:A,isTrailing:L,selectClass:I,leadingIconName:Z,leadingIconClass:O,leadingWrapperIconClass:z,trailingIconName:ne,trailingIconClass:X,trailingWrapperIconClass:K,onInput:y,onChange:b}}}),No=["id","name","value","required","disabled"],Lo=["value","label"],Vo=["value","selected","disabled","textContent"],Wo=["value","selected","disabled","textContent"];function Ho(e,t,a,n,s,o){const l=be;return g(),P("div",{class:R(e.ui.wrapper)},[M("select",de({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:t[0]||(t[0]=(...r)=>e.onInput&&e.onInput(...r)),onChange:t[1]||(t[1]=(...r)=>e.onChange&&e.onChange(...r))}),[(g(!0),P(J,null,fe(e.normalizedOptionsWithPlaceholder,(r,d)=>(g(),P(J,null,[r.children?(g(),P("optgroup",{key:`${r[e.valueAttribute]}-optgroup-${d}`,value:r[e.valueAttribute],label:r[e.optionAttribute]},[(g(!0),P(J,null,fe(r.children,(p,w)=>(g(),P("option",{key:`${p[e.valueAttribute]}-${d}-${w}`,value:p[e.valueAttribute],selected:p[e.valueAttribute]===e.normalizedValue,disabled:p.disabled,textContent:H(p[e.optionAttribute])},null,8,Vo))),128))],8,Lo)):(g(),P("option",{key:`${r[e.valueAttribute]}-${d}`,value:r[e.valueAttribute],selected:r[e.valueAttribute]===e.normalizedValue,disabled:r.disabled,textContent:H(r[e.optionAttribute])},null,8,Wo))],64))),256))],16,No),e.isLeading&&e.leadingIconName||e.$slots.leading?(g(),P("span",{key:0,class:R(e.leadingWrapperIconClass)},[ve(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[C(l,{name:e.leadingIconName,class:R(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):F("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(g(),P("span",{key:1,class:R(e.trailingWrapperIconClass)},[ve(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[C(l,{name:e.trailingIconName,class:R(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):F("",!0)],2)}const qo=Ae(Do,[["render",Ho],["__scopeId","data-v-9f80dc9e"]]),Ge=He(ae.ui.strategy,ae.ui.toggle,An),Yo=Y({components:{HSwitch:dl,UIcon:be},inheritAttrs:!1,props:{id:{type:String,default:null},name:{type:String,default:null},modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onIcon:{type:String,default:()=>Ge.default.onIcon},offIcon:{type:String,default:()=>Ge.default.offIcon},loadingIcon:{type:String,default:()=>Ge.default.loadingIcon},color:{type:String,default:()=>Ge.default.color,validator(e){return ae.ui.colors.includes(e)}},size:{type:String,default:()=>Ge.default.size,validator(e){return Object.keys(Ge.size).includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:a,attrs:n}=qe("toggle",ke(e,"ui"),Ge),{emitFormChange:s,color:o,inputId:l,name:r}=bt(e),d=S({get(){return e.modelValue},set(b){t("update:modelValue",b),t("change",b),s()}}),p=S(()=>Oe(ce(a.value.base,a.value.size[e.size],a.value.rounded,o.value&&a.value.ring.replaceAll("{color}",o.value),o.value&&(d.value?a.value.active:a.value.inactive).replaceAll("{color}",o.value)),e.class)),w=S(()=>ce(a.value.container.base,a.value.container.size[e.size],d.value?a.value.container.active[e.size]:a.value.container.inactive)),k=S(()=>ce(a.value.icon.size[e.size],o.value&&a.value.icon.on.replaceAll("{color}",o.value))),v=S(()=>ce(a.value.icon.size[e.size],o.value&&a.value.icon.off.replaceAll("{color}",o.value))),y=S(()=>ce(a.value.icon.size[e.size],o.value&&a.value.icon.loading.replaceAll("{color}",o.value)));return Et(()=>jt("$mRW6KdlcYH")),{ui:a,attrs:n,name:r,inputId:l,active:d,switchClass:p,containerClass:w,onIconClass:k,offIconClass:v,loadingIconClass:y}}});function Go(e,t,a,n,s,o){const l=be,r=ye("HSwitch");return g(),T(r,de({id:e.inputId,modelValue:e.active,"onUpdate:modelValue":t[0]||(t[0]=d=>e.active=d),name:e.name,disabled:e.disabled||e.loading,class:e.switchClass},e.attrs),{default:B(()=>[M("span",{class:R(e.containerClass)},[e.loading?(g(),P("span",{key:0,class:R([e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[C(l,{name:e.loadingIcon,class:R(e.loadingIconClass)},null,8,["name","class"])],2)):F("",!0),!e.loading&&e.onIcon?(g(),P("span",{key:1,class:R([e.active?e.ui.icon.active:e.ui.icon.inactive,e.ui.icon.base]),"aria-hidden":"true"},[C(l,{name:e.onIcon,class:R(e.onIconClass)},null,8,["name","class"])],2)):F("",!0),!e.loading&&e.offIcon?(g(),P("span",{key:2,class:R([e.active?e.ui.icon.inactive:e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[C(l,{name:e.offIcon,class:R(e.offIconClass)},null,8,["name","class"])],2)):F("",!0)],2)]),_:1},16,["id","modelValue","name","disabled","class"])}const Ko=Ae(Yo,[["render",Go]]);function Ua(e={}){const{copy:t,isSupported:a}=bn(),n=gt();function s(o,l={},r={}){a&&t(o).then(()=>{!l.title&&!l.description||n.add({...l,...e})},function(d){n.add({...r,description:r.description||d.message,...e})})}return{copy:s}}const Qo={class:"flex flex-col items-center mb-2 max-w-fit mx-auto z-0"},Xo={class:"text-slate-500 text-center text-sm w-full mx-auto flex flex-wrap items-center justify-center md:justify-between"},Jo={class:"toggles py-2"},Zo={class:"mr-2 inline-flex items-center text-sm"},ei=["for"],ti={class:"mr-2 inline-flex items-center text-sm"},ai=["for"],ni={key:0,class:"flex items-center"},li=["title"],oi=Y({__name:"ChildOutput",props:{flowResult:{type:Object,required:!0},outputsIndex:{type:Number,required:!1,default:()=>0},openImageModal:{type:Function,required:!0}},setup(e){const t=e,a=Ue(),n=(u,f=null,_=!1)=>{if(u.child_tasks.length===0)return u;const I=u.child_tasks.findIndex(A=>A.parent_task_node_id===f);return I!==-1?(_||(o.value=u),n(u.child_tasks[I],u.child_tasks[I].outputs[0].comfy_node_id,_)):u};function s(u,f,_=null){if(_!==null&&u.parent_task_node_id===_||Number(u.task_id)===f)return u;for(let I=0;I<u.child_tasks.length;I++)for(let A=0;A<u.child_tasks[I].outputs.length;A++){const L=s(u.child_tasks[I],f,u.child_tasks[I].outputs[A].comfy_node_id);if(L!==null)return L}return null}const o=$(t.flowResult),l=$(n(t.flowResult,t.flowResult.outputs[t.outputsIndex].comfy_node_id,!1));function r(u){var f;return[[{label:`${(f=a.flowByName((u==null?void 0:u.flow_name)??(u==null?void 0:u.name)))==null?void 0:f.display_name}#${u.task_id}`,disabled:!0}],[{label:"View image",icon:"i-heroicons-eye",click:()=>{t.openImageModal(Se({task_id:u.task_id,node_id:u.outputs.length>1?u.outputs[t.outputsIndex].comfy_node_id:u.outputs[0].comfy_node_id}))}}]]}function d(u){var _;const f=[[{label:`${(_=a.flowByName((u==null?void 0:u.flow_name)??(u==null?void 0:u.name)))==null?void 0:_.display_name}#${u.task_id}`,disabled:!0}],[{label:"View image",icon:"i-heroicons-eye",disabled:u.progress<100||u.error!=="",click:()=>{t.openImageModal(Se({task_id:u.task_id,node_id:u.outputs.length>1?u.outputs[t.outputsIndex].comfy_node_id:u.outputs[0].comfy_node_id}))}},{label:u.progress<100?"Cancel":"Delete",labelClass:u.progress<100?"text-orange-500":"text-red-500",icon:u.progress<100?"i-heroicons-stop":"i-heroicons-trash",iconClass:u.progress<100?"bg-orange-500":"bg-red-500",click:()=>{a.deleteFlowHistory(u.task_id).then(()=>{const I=s(t.flowResult,u.parent_task_id,u.parent_task_node_id);I&&(I.child_tasks=I.child_tasks.filter(A=>Number(A.task_id)!==Number(u.task_id))),b(!1,t.flowResult)})}}]];return u.progress<100&&(f[0][1]={label:`Progress: ${Math.ceil(u.progress)}% (${u.execution_time.toFixed(2)}s)`,labelClass:"text-blue-500",disabled:!0}),u.error!==""&&f[0].push({label:`Error: ${u.error}`,labelClass:"text-red-500",slot:"error",click:()=>{Ua().copy(u.error),gt().add({title:"Clipboard",description:`Task #${u.task_id} error copied to clipboard`,timeout:2e3})}}),f}function p(){const u=o.value.parent_task_id;if(!u)return;const f=s(t.flowResult,u,o.value.parent_task_node_id);f&&(o.value=f)}function w(){if(o.value.child_tasks.length===0)return;const u=o.value.outputs.length>1?o.value.outputs[t.outputsIndex].comfy_node_id:o.value.outputs[0].comfy_node_id,f=o.value.child_tasks.find(_=>_.parent_task_node_id===u);f&&(o.value=f)}const k=S(()=>{if(o.value.child_tasks.length===0)return;const u=o.value.outputs.length>1?o.value.outputs[t.outputsIndex].comfy_node_id:o.value.outputs[0].comfy_node_id;return o.value.child_tasks.find(_=>_.parent_task_node_id===u).task_id!==l.value.task_id});function v(){const u=l.value.parent_task_id;if(!u)return;const f=s(t.flowResult,u,l.value.parent_task_node_id);f&&(l.value=f)}function y(){if(l.value.child_tasks.length===0)return;const u=Number(l.value.outputs[0].comfy_node_id),f=l.value.child_tasks.find(_=>Number(_.parent_task_node_id)===u);f&&(l.value=f)}function b(u=!1,f=null){u||(o.value=f),l.value=n(f,f==null?void 0:f.outputs[t.outputsIndex].comfy_node_id,u),c.value=!1}me(t.flowResult,u=>{b(!0,u)});const c=$(!1),h=$(!0),m=$(null);return me(c,u=>{u?(m.value=o.value,o.value=t.flowResult):m.value&&(o.value=m.value,l.value=pa(m.value,t.outputsIndex,o.value.outputs.length>1?o.value.outputs[t.outputsIndex].comfy_node_id:o.value.outputs[0].comfy_node_id))}),(u,f)=>{const _=tt,I=ye("ImgComparisonSlider"),A=Ko,L=we,Z=kt,ne=be,z=ba;return g(),P("div",Qo,[vt(C(_,{class:"mb-2 rounded-lg cursor-pointer",height:i(a).outputMaxSize,width:i(a).outputMaxSize,draggable:"false",fit:"cover",loading:"lazy",src:("outputImgSrc"in u?u.outputImgSrc:i(Se))({task_id:i(l).progress===100?i(l).task_id:e.flowResult.task_id,node_id:i(l).progress===100?i(l).outputs[0].comfy_node_id:e.flowResult.outputs[e.outputsIndex].comfy_node_id}),onClick:f[0]||(f[0]=O=>e.openImageModal(("outputImgSrc"in u?u.outputImgSrc:i(Se))({task_id:i(l).task_id??e.flowResult.task_id,node_id:i(l).outputs[0].comfy_node_id??e.flowResult.outputs[e.outputsIndex].comfy_node_id})))},null,8,["height","width","src"]),[[Rt,!i(h)]]),i(h)?(g(),T(I,{key:0,class:"mb-2 mx-auto outline-none w-fit rounded-lg"},{default:B(()=>{var O,K,X;return[C(_,{slot:"first",height:i(a).outputMaxSize,width:i(a).outputMaxSize,fit:"cover",draggable:"false",src:("outputImgSrc"in u?u.outputImgSrc:i(Se))({task_id:i(c)?e.flowResult.task_id:i(o).task_id,node_id:i(c)?e.flowResult.outputs[e.outputsIndex].comfy_node_id:i(o).parent_task_node_id!==null?(O=i(o))==null?void 0:O.outputs[0].comfy_node_id:((K=i(o))==null?void 0:K.outputs[e.outputsIndex].comfy_node_id)??((X=i(o))==null?void 0:X.outputs[0].comfy_node_id)})},null,8,["height","width","src"]),i(l)&&i(l).progress===100?(g(),T(_,{key:0,slot:"second",height:i(a).outputMaxSize,width:i(a).outputMaxSize,fit:"cover",draggable:"false",src:("outputImgSrc"in u?u.outputImgSrc:i(Se))({task_id:i(l).task_id,node_id:i(l).outputs[0].comfy_node_id})},null,8,["height","width","src"])):(g(),T(_,{key:1,slot:"second",height:i(a).outputMaxSize,width:i(a).outputMaxSize,fit:"cover",draggable:"false",src:`${("buildBackendUrl"in u?u.buildBackendUrl:i(yn))()}/vix_logo.png`},null,8,["height","width","src"]))]}),_:1})):F("",!0),M("div",Xo,[M("div",Jo,[M("div",Zo,[C(A,{id:`toggle-compare-${e.flowResult.task_id}-${e.outputsIndex}`,modelValue:i(h),"onUpdate:modelValue":f[1]||(f[1]=O=>he(h)?h.value=O:null),size:"xs",class:"mr-2"},null,8,["id","modelValue"]),M("label",{class:"cursor-pointer select-none",for:`toggle-compare-${e.flowResult.task_id}-${e.outputsIndex}`}," Comparison ",8,ei)]),M("div",ti,[C(A,{id:`toggle-original-${e.flowResult.task_id}-${e.outputsIndex}`,modelValue:i(c),"onUpdate:modelValue":f[2]||(f[2]=O=>he(c)?c.value=O:null),disabled:!i(h),size:"xs",class:"mr-2"},null,8,["id","modelValue","disabled"]),M("label",{class:"cursor-pointer select-none",for:`toggle-original-${e.flowResult.task_id}-${e.outputsIndex}`}," Original ",8,ai)])]),i(h)?(g(),P("div",ni,[C(L,{icon:"i-heroicons-arrow-small-left-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:i(c)||i(o).parent_task_id===null,onClick:p},null,8,["disabled"]),C(Z,{items:r(i(o)),mode:"click",popper:{placement:"top"}},{default:B(()=>[C(L,{variant:"link",color:"white",size:"xs"},{default:B(()=>[V(" #"+H(i(c)?e.flowResult.task_id:i(o).task_id),1)]),_:1})]),_:1},8,["items"]),C(L,{icon:"i-heroicons-arrow-small-right-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:i(c)||!i(k),onClick:w},null,8,["disabled"]),C(ne,{class:"mx-3",name:"i-heroicons-arrows-right-left-16-solid"}),C(L,{icon:"i-heroicons-arrow-small-left-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:!s(t.flowResult,i(l).parent_task_id,i(l).parent_task_node_id)||i(l).parent_task_id===Number(i(o).task_id)||i(l).parent_task_id===null,onClick:v},null,8,["disabled"]),C(Z,{items:d(i(l)),mode:"click",popper:{placement:"top"}},{error:B(({item:O})=>[M("div",{class:"text-red-500 truncate",title:O.label},H(O.label),9,li)]),default:B(()=>[C(L,{class:R({"text-blue-500":i(l).progress!==100&&i(l).error==="","text-red-500":i(l).error!==""}),variant:"link",color:"white",size:"xs"},{default:B(()=>[V(H(i(l).progress===100?"#"+i(l).task_id:Math.ceil(i(l).progress)+"%"),1)]),_:1},8,["class"])]),_:1},8,["items"]),C(L,{icon:"i-heroicons-arrow-small-right-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:i(l).child_tasks.length===0,onClick:y},null,8,["disabled"]),C(z,{class:"ml-3",text:"Reset comparison",popper:{placement:"top"}},{default:B(()=>[C(L,{icon:"i-heroicons-arrow-path-rounded-square-solid",size:"2xs",variant:"outline",color:"white",onClick:f[3]||(f[3]=()=>b(!1,e.flowResult))})]),_:1})])):F("",!0)])])}}}),ii={class:"p-4"},si=M("h2",{class:"text-lg text-center mb-4"},"Send to flow",-1),ri={class:"flex justify-center mb-4"},ui={key:0,class:"text-sm text-slate-500 text-center mb-4"},di={class:"text-md text-center text-red-500 mb-4"},ci={key:1},mi={class:"flex items-center justify-between"},fi=Y({__name:"SendToFlowModal",props:{show:{type:Boolean,required:!1},flowResult:{type:Object,required:!1,default:()=>null},outputImgSrc:{type:String,required:!0},outputParamIndex:{type:Number,required:!0},inputParamsMapped:{type:Object,required:!0},isChildTask:{type:Boolean,required:!1,default:!1}},emits:["update:show"],setup(e,{emit:t}){const a=e,n=Ue(),s=S(()=>n.sub_flows.map(k=>({value:k.name,label:`${k.display_name} - ${k.description}`}))),o=$(s.value[0]||""),l=$(!1),r=t;function d(){console.debug("[Send to flow]: ",o.value);const k=n.sub_flows.find(y=>y.name===o.value.value&&y.display_name===o.value.label.split(" - ")[0]);if(console.debug("[Send to flow]: targetFlow",k),!k){gt().add({title:`Target sub-flow "${o.value.value}" not found`,description:"Please, verify the target sub-flow is installed and available and try again",timeout:5e3});return}const v=k.input_params.reduce((y,b)=>{const c={};return b.type==="text"?c[b.name]={value:b.default||"",type:b.type}:b.type==="number"?c[b.name]={value:b.default||0,type:b.type}:b.type==="image"?c[b.name]={value:JSON.stringify({task_id:a.flowResult.task_id,node_id:a.flowResult.outputs.length>1?a.flowResult.outputs[a.outputParamIndex].comfy_node_id:a.flowResult.outputs[0].comfy_node_id})||"",type:b.type}:b.type==="list"?c[b.name]={value:b.default||Object.keys(b.options)[0]||"",type:b.type,options:b.options}:b.type==="bool"?c[b.name]={value:b.default||!1,type:b.type}:["range","range_scale"].includes(b.type)&&(c[b.name]={value:b.default||0,type:b.type}),y.push(c),y},[]);console.debug("[Send to flow]: input_params_map",v),l.value=!0,n.runFlow(k,v,1,p.value,p.value?Number(a.flowResult.task_id):null).finally(()=>{l.value=!1,r("update:show",!1)})}const p=$(!1),w=S(()=>{var k;return a.flowResult.progress===100&&((k=a.flowResult)==null?void 0:k.error)===""});return fa(()=>{n.fetchSubFlows("image").then(()=>{o.value=s.value[0]||""}),p.value=!1}),(k,v)=>{const y=tt,b=Aa,c=wa,h=Nt,m=we,u=it;return g(),T(u,{modelValue:k.$props.show,"onUpdate:modelValue":v[2]||(v[2]=f=>k.$props.show=f),class:"z-[90]",transition:!1},{default:B(()=>[M("div",ii,[si,M("div",ri,[i(w)?(g(),T(y,{key:0,src:e.outputImgSrc,class:"w-1/2 rounded-lg",draggable:!1},null,8,["src"])):(g(),T(b,{key:1,color:"orange",icon:"i-heroicons-exclamation-circle-solid",title:`Task is still running (${Math.ceil(e.flowResult.progress)}%, ${e.flowResult.execution_time.toFixed(2)}s)`,description:e.flowResult.error!==""?e.flowResult.error:""},null,8,["title","description"]))]),e.inputParamsMapped?(g(),P("p",ui,H(["#"+e.flowResult.task_id,...Object.keys(e.inputParamsMapped).filter(f=>e.inputParamsMapped[f].value!=="").map(f=>`${e.inputParamsMapped[f].display_name}: ${e.inputParamsMapped[f].value}`)].join(" | ")),1)):F("",!0),M("p",di,[i(s).length>0?(g(),T(c,{key:0,modelValue:i(o),"onUpdate:modelValue":v[0]||(v[0]=f=>he(o)?o.value=f:null),class:"w-full",size:"lg",options:i(s)},null,8,["modelValue","options"])):(g(),P("span",ci,"No sub-flows available"))]),e.isChildTask?(g(),T(b,{key:1,class:"mb-4",icon:"i-heroicons-exclamation-circle-solid",title:"Child task",description:"The latest child task is always used as input for sub-flow"})):F("",!0),M("div",mi,[C(h,{modelValue:i(p),"onUpdate:modelValue":v[1]||(v[1]=f=>he(p)?p.value=f:null),label:"Bind as child task"},null,8,["modelValue"]),C(m,{icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",loading:i(l),disabled:i(s).length===0||e.isChildTask&&!i(w),onClick:d},{default:B(()=>[V(" Send ")]),_:1},8,["loading","disabled"])])])]),_:1},8,["modelValue"])}}}),pi={class:"flex flex-col md:flex-row items-center justify-center mb-5 sticky top-1 z-[10]"},vi={class:"flex items-center justify-center"},gi={class:"p-4"},hi=M("p",{class:"text-lg text-center mb-4"},"Are you sure you want to delete all results?",-1),bi={class:"text-md text-center text-red-500 mb-4"},yi={class:"flex justify-center"},wi={key:0,class:"results overflow-auto"},ki=["id"],$i={class:"flex flex-col basis-full justify-between mx-2"},Si={class:"text-sm text-slate-500 text-center mb-1"},Ii={class:"w-5/6 mx-auto"},Ci={class:"w-full flex justify-center items-center"},xi={key:1,class:"text-center text-slate-500"},_i=Y({__name:"Output",emits:["copy-prompt-inputs"],setup(e,{emit:t}){const a=Ue(),n=S(()=>{var z;return a.flowResultsByName((z=a.currentFlow)==null?void 0:z.name).length>0||!1}),s=S(()=>{var z;return a.flowResultsByName((z=a.currentFlow)==null?void 0:z.name).reverse()||[]}),o=S(()=>a.$state.resultsPageSize);me(s,()=>{s.value.length<=a.$state.resultsPageSize?a.$state.resultsPage=1:a.$state.resultsPage>Math.ceil(s.value.length/a.$state.resultsPageSize)&&(a.$state.resultsPage=Math.ceil(s.value.length/a.$state.resultsPageSize))}),me(o,()=>{s.value.length<=a.$state.resultsPageSize?a.$state.resultsPage=1:a.$state.resultsPage>Math.ceil(s.value.length/a.$state.resultsPageSize)&&(a.$state.resultsPage=Math.ceil(s.value.length/a.$state.resultsPageSize)),a.saveUserOptions()}),Fe(()=>{a.$state.flow_results_filter="",a.$state.resultsPage=1});const l=t;function r(z){l("copy-prompt-inputs",z.input_params_mapped)}function d(z){b.value=z,y.value=!0}const p=$(null),w=$(!1);window.addEventListener("scroll",()=>{var z;w.value=window.scrollY>(((z=p.value)==null?void 0:z.offsetTop)+window.screen.height||0)});const k=S(()=>a.$state.resultsPage);me(k,()=>{const z=document.getElementById("output-container");z&&z.scrollIntoView({behavior:"smooth"})});const v=$(!1),y=$(!1),b=$(""),c=$(!1),h=$(!1),m=$(!1),u=$(""),f=$(null),_=$({}),I=$(0),A=$(!1);function L(z,O=0){if(z.child_tasks.length===0||!Qt(z,O,z.outputs[O].comfy_node_id))f.value=z,u.value=Se({task_id:z.task_id,node_id:z.outputs[O].comfy_node_id}),_.value=z.input_params_mapped,A.value=!1;else{const K=pa(z,O,z.outputs[O].comfy_node_id);f.value=K,_.value=z.input_params_mapped,u.value=Se({task_id:K.task_id,node_id:K.outputs[0].comfy_node_id}),A.value=!0}I.value=O,m.value=!0}function Z(z){return["#"+z.task_id,...Object.keys(z.input_params_mapped).filter(O=>z.input_params_mapped[O].value&&z.input_params_mapped[O].value!=="").map(O=>`${z.input_params_mapped[O].display_name}: ${z.input_params_mapped[O].value}`)].join(" | ")+`${z.execution_time?" | execution_time: "+z.execution_time.toFixed(2)+"s":""}`}function ne(z){const O=[[{label:"Use params",labelClass:"text-cyan-500 text-sm",icon:"i-heroicons-document-duplicate-16-solid",iconClass:"bg-cyan-500 h-4 w-4",click:()=>r(z)}],[{label:"Comfy flow",labelClass:"text-blue-500 text-sm",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500 h-4 w-4",click:()=>{var K;return a.downloadFlowComfy((K=a.currentFlow)==null?void 0:K.name,z.task_id)}}]];return z.outputs.length===1&&O.splice(1,0,[{label:"Send to flow",labelClass:"text-violet-500 text-sm",icon:"i-heroicons-arrow-uturn-up-solid",iconClass:"bg-violet-500 h-4 w-4",click:()=>{L(z)}}]),O}return(z,O)=>{var $e;const K=Ro,X=be,E=Dt,j=Fn,D=qo,ie=we,Ce=kt,xe=va,_e=it,W=oi,G=tt,se=Oa,re=fi;return g(),P("div",{id:"output-container",ref_key:"outputContainer",ref:p,class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md my-10"},[C(K,{show:i(w),class:"fixed bottom-5 right-5",target:"output-container"},null,8,["show"]),M("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:O[0]||(O[0]=()=>{v.value=!i(v)})},[C(X,{name:i(v)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),V(" Output ("+H(i(s).filter(x=>x.parent_task_id===null).length)+") ",1)]),i(v)?F("",!0):(g(),P(J,{key:0},[M("div",pi,[C(E,{modelValue:i(a).$state.flow_results_filter,"onUpdate:modelValue":O[1]||(O[1]=x=>i(a).$state.flow_results_filter=x),icon:"i-heroicons-magnifying-glass-20-solid",color:"white",class:"md:mr-3",label:"Filter by prompt",trailing:!0,placeholder:"Filter results by prompt"},null,8,["modelValue"]),i(s).filter(x=>x.parent_task_id===null).length>i(a).$state.resultsPageSize?(g(),T(j,{key:0,modelValue:i(a).$state.resultsPage,"onUpdate:modelValue":O[2]||(O[2]=x=>i(a).$state.resultsPage=x),class:"my-1 md:my-0","page-count":i(a).$state.resultsPageSize,total:i(s).filter(x=>x.parent_task_id===null).length,"show-first":"","show-last":""},null,8,["modelValue","page-count","total"])):F("",!0),M("div",vi,[C(D,{modelValue:i(a).resultsPageSize,"onUpdate:modelValue":O[3]||(O[3]=x=>i(a).resultsPageSize=x),class:"md:mx-3 w-fit mr-3",options:[5,10,20,50,100],label:"Results per page"},null,8,["modelValue"]),C(Ce,{items:[[{label:"Delete all results",labelClass:"text-red-500",icon:"i-heroicons-trash",iconClass:"dark:text-red-500 text-red-500",click:()=>c.value=!0}]],mode:"click",label:"Options",popper:{placement:"bottom-end"}},{default:B(()=>[C(ie,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:1},8,["items"])]),C(_e,{modelValue:i(c),"onUpdate:modelValue":O[6]||(O[6]=x=>he(c)?c.value=x:null),class:"z-[90]",transition:!1},{default:B(()=>[M("div",gi,[hi,M("p",bi,[V(" All history and images of "),C(xe,{class:"mx-1",color:"orange",variant:"outline"},{default:B(()=>[V(H(i(a).currentFlow.display_name),1)]),_:1}),V(" will be deleted. ")]),M("div",yi,[C(ie,{class:"mr-2",color:"red",variant:"outline",loading:i(h),onClick:O[4]||(O[4]=()=>{var x;h.value=!0,i(a).deleteFlowResults((x=i(a).currentFlow)==null?void 0:x.name).then(()=>{h.value=!1,c.value=!1})})},{default:B(()=>[V(" Yes ")]),_:1},8,["loading"]),C(ie,{variant:"outline",onClick:O[5]||(O[5]=()=>c.value=!1)},{default:B(()=>[V("No")]),_:1})])])]),_:1},8,["modelValue"])]),i(n)?(g(),P("div",wi,[(g(!0),P(J,null,fe(i(a).flowResultsByNamePaginated(($e=i(a).currentFlow)==null?void 0:$e.name),x=>(g(),P("div",{id:"task_id_"+x.task_id,key:x.task_id,class:"flex flex-col justify-center mx-auto mb-5"},[x.outputs.length===1?(g(),P(J,{key:0},[x!=null&&x.child_tasks&&(x==null?void 0:x.child_tasks.length)>0?(g(),T(W,{key:0,"flow-result":x,"open-image-modal":d},null,8,["flow-result"])):x.outputs.length===1?(g(),T(G,{key:1,class:"mb-2 mx-auto rounded-lg cursor-pointer",height:i(a).$state.outputMaxSize,width:i(a).$state.outputMaxSize,draggable:"false",fit:"cover",loading:"lazy",src:("outputImgSrc"in z?z.outputImgSrc:i(Se))({task_id:x.task_id,node_id:x.outputs[0].comfy_node_id}),onClick:U=>d(("outputImgSrc"in z?z.outputImgSrc:i(Se))({task_id:x.task_id,node_id:x.outputs[0].comfy_node_id}))},null,8,["height","width","src","onClick"])):F("",!0)],64)):x.outputs.length>1?(g(),T(se,{key:1,class:"mb-3 rounded-lg overflow-hidden",items:x.outputs.map((U,N)=>({task_id:x.task_id,node_id:U.comfy_node_id,index:N})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4 md:hidden"}},page:1,indicators:""},{default:B(({item:U})=>[M("div",$i,[x!=null&&x.child_tasks&&("hasChildTaskByParentTaskNodeId"in z?z.hasChildTaskByParentTaskNodeId:i(Qt))(x,U.index,U.node_id)?(g(),T(W,{key:0,"flow-result":x,"outputs-index":U.index,"open-image-modal":d},null,8,["flow-result","outputs-index"])):(g(),T(G,{key:1,class:R(`mb-2 h-100 max-h-[${i(a).$state.outputMaxSize}px] mx-auto rounded-lg cursor-pointer`),draggable:"false",height:i(a).$state.outputMaxSize,width:i(a).$state.outputMaxSize,fit:"cover",loading:"lazy",src:("outputImgSrc"in z?z.outputImgSrc:i(Se))(U),onClick:N=>d(("outputImgSrc"in z?z.outputImgSrc:i(Se))(U))},null,8,["class","height","width","src","onClick"])),C(ie,{class:"mt-2 w-fit mx-auto",icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",size:"xs",variant:"outline",onClick:()=>{L(x,U.index)}},{default:B(()=>[V(" Send to flow ")]),_:2},1032,["onClick"])])]),_:2},1032,["items"])):F("",!0),M("div",Si,[M("div",Ii,[(g(!0),P(J,null,fe(Z(x).split("|"),U=>(g(),T(xe,{key:U,class:"mr-2 mb-2 last:mr-0 hover:cursor-pointer",variant:"soft",color:"gray",onClick:()=>{("useCopyToClipboard"in z?z.useCopyToClipboard:i(Ua))().copy(U),("useToast"in z?z.useToast:i(gt))().add({title:"Clipboard",description:`${U.split(":")[0].trim()} copied to clipboard`,timeout:2e3})}},{default:B(()=>[V(H(U),1)]),_:2},1032,["onClick"]))),128))])]),M("div",Ci,[C(ie,{class:"mr-3",color:"red",icon:"i-heroicons-trash",variant:"outline",size:"xs",onClick:()=>i(a).deleteFlowHistory(x.task_id)},{default:B(()=>[V(" Delete ")]),_:2},1032,["onClick"]),C(Ce,{items:ne(x),mode:"click",popper:{placement:"bottom-start"}},{default:B(()=>[C(ie,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid",size:"xs"})]),_:2},1032,["items"])])],8,ki))),128)),C(re,{modelValue:i(m),"onUpdate:modelValue":O[7]||(O[7]=x=>he(m)?m.value=x:null),"flow-result":i(f),"output-img-src":i(u),"output-param-index":i(I),"input-params-mapped":i(_),"is-child-task":i(A),"onUpdate:show":O[8]||(O[8]=x=>m.value=x)},null,8,["modelValue","flow-result","output-img-src","output-param-index","input-params-mapped","is-child-task"])])):(g(),P("p",xi," No output results available "))],64)),C(_e,{modelValue:i(y),"onUpdate:modelValue":O[11]||(O[11]=x=>he(y)?y.value=x:null),class:"z-[90]",transition:!1,fullscreen:""},{default:B(()=>[C(ie,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:O[9]||(O[9]=()=>y.value=!1)}),M("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:O[10]||(O[10]=et(()=>y.value=!1,["left"]))},[i(b)?(g(),T(G,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",src:i(b)},null,8,["src"])):F("",!0)])]),_:1},8,["modelValue"])],512)}}}),Mi={class:"flex flex-col lg:flex-row flex-grow items-start w-full"},Pi={class:"card-wrapper w-full lg:pr-5"},zi={key:0,class:"p-0 text-sm"},Fi={class:"flex flex-row items-center text-slate-400 mb-2"},Ti={class:"flex flex-row flex-wrap items-center text-md mb-2"},Bi=M("b",null,"Author:",-1),Oi=["href"],Ai={class:"flex flex-row items-center text-md mb-2"},Ui=["href"],Ei={key:1},ji={class:"flex flex-row items-center text-md mb-2"},Ri=M("b",null,"Version:",-1),Di={key:0},Ni={class:"flex flex-row items-center text-md mb-2"},Li=M("b",null,"Tags:",-1),Vi={key:0,class:"flex flex-row flex-wrap items-center text-md mb-2"},Wi=["href"],Hi={key:1,class:"flex flex-row flex-wrap items-center text-md"},qi=M("b",null,"Requires:",-1),Yi={key:0,class:"flex justify-end"},Gi={class:"flex flex-row items-center justify-center text-sm mr-2"},Ki={key:1},Qi={class:"text-sm flex justify-end"},Xi={class:"flex flex-row items-center justify-center text-sm mr-3"},Ji={key:0,class:"text-right"},Zi=M("p",{class:"text-orange-500"},"Only admin can manage workflows.",-1),es=M("span",{class:"text-slate-500"},"Ask your admin to setup this workflow",-1),ts=[Zi,es],as={class:"prompt-wrapper w-full"},ns={class:"flex items-center justify-between"},ls=M("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Confirm workflow deletion ",-1),os={class:"pb-2"},is=M("b",null,"private",-1),ss={class:"flex justify-end items-center"},vs=Y({__name:"[name]",setup(e){const t=wn(),a=Ue();a.setCurrentFlow(t.params.name);const n=S(()=>a.flowInstallingByName(t.params.name)),s=S(()=>{var h;return n.value&&((h=n.value)==null?void 0:h.progress)<100||!1}),o=$(!1),l=S(()=>{var h;return n.value?"error"in n.value&&((h=n.value)==null?void 0:h.error)!==""?`${n.value.progress.toFixed(0)}% Error setting up`:`${n.value.progress.toFixed(0)}% Setting up`:"Setup flow"}),r=$(!1),d=$(!1),p=S(()=>{var m;const h=[[{label:"Delete flow",icon:"i-heroicons-trash",click:k}]];return((m=a==null?void 0:a.currentFlow)==null?void 0:m.new_version_available)!==""&&h[0].unshift({label:`Update to ${a.currentFlow.new_version_available}`,icon:"i-heroicons-arrow-path",click:()=>{a.updateFlow(a.currentFlow)}}),h});function w(h,m=!1){r.value=!0,a.deleteFlow(h).then(()=>{m&&In().push("/")}).finally(()=>{r.value=!1,d.value=!1})}function k(){var m;const h=((m=a.currentFlow)==null?void 0:m.private)||!1;if(h){d.value=!0;return}w(a.currentFlow,h)}const v=$(!1),y=$(null),b=function(h){var m;(m=y.value)==null||m.copyPromptInputs(h)},c=kn();return(h,m)=>{const u=be,f=ba,_=va,I=we,A=kt,L=Tn,Z=wo,ne=jo,z=_i,O=ha,K=it,X=$n;return g(),T(X,null,{default:B(()=>[!i(a).loading.flows_available&&!i(a).loading.flows_installed&&i(a).currentFlow&&!i(a).$state.loading.tasks_history?(g(),P(J,{key:0},[M("div",Mi,[M("div",Pi,[C(L,{as:"div",class:"w-full mb-5"},Sn({header:B(()=>{var E,j;return[M("h2",{class:"text-xl font-bold cursor-pointer select-none flex items-center",onClick:m[0]||(m[0]=()=>{v.value=!i(v)})},[(E=i(a).currentFlow)!=null&&E.private?(g(),T(f,{key:0,text:"This flow is local, manually added"},{default:B(()=>[C(u,{name:"i-heroicons-lock-closed",class:"mr-2"})]),_:1})):F("",!0),C(u,{name:i(v)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),V(" "+H((j=i(a).currentFlow)==null?void 0:j.display_name),1)])]}),default:B(()=>{var E,j,D,ie,Ce,xe,_e,W,G,se,re,$e,x,U,N,ee,le;return[i(v)?F("",!0):(g(),P("div",zi,[M("p",Fi,H((E=i(a).currentFlow)==null?void 0:E.description),1),M("p",Ti,[C(u,{name:"i-heroicons-user-16-solid",class:"mr-1"}),Bi,V(" "),M("a",{class:"hover:underline text-md",href:(j=i(a).currentFlow)==null?void 0:j.homepage,rel:"noopener",target:"_blank"},H((D=i(a).currentFlow)==null?void 0:D.author),9,Oi)]),M("p",Ai,[C(u,{name:"i-heroicons-document-text",class:"mr-1"}),(ie=i(a).currentFlow)!=null&&ie.documentation?(g(),P("a",{key:0,class:"hover:underline",href:(Ce=i(a).currentFlow)==null?void 0:Ce.documentation,rel:"noopener",target:"_blank"}," Documentation ",8,Ui)):(g(),P("span",Ei,"No documentation"))]),M("p",ji,[C(u,{name:"i-heroicons-clock",class:"mr-1"}),Ri,V(" "),M("span",null,H((xe=i(a).currentFlow)==null?void 0:xe.version),1),((_e=i(a).currentFlow)==null?void 0:_e.new_version_available)!==""?(g(),P("span",Di," (new version available: "+H((W=i(a).currentFlow)==null?void 0:W.new_version_available)+") ",1)):F("",!0)]),M("p",Ni,[C(u,{name:"i-heroicons-tag",class:"mr-1"}),Li,V(" "),((G=i(a).currentFlow)==null?void 0:G.tags.length)>0?(g(!0),P(J,{key:0},fe((se=i(a).currentFlow)==null?void 0:se.tags,Q=>(g(),T(_,{key:Q,label:Q,color:"white",variant:"solid",class:"m-1"},null,8,["label"]))),128)):(g(),T(_,{key:1,label:"No tags",color:"white",variant:"solid",class:"m-1"}))]),(($e=(re=i(a).currentFlow)==null?void 0:re.models)==null?void 0:$e.length)>0?(g(),P("p",Vi,[C(u,{name:"i-heroicons-arrow-down-on-square-stack",class:"mr-1"}),M("b",null,"Models ("+H((x=i(a).currentFlow)==null?void 0:x.models.length)+"):",1),V(" "),(g(!0),P(J,null,fe((U=i(a).currentFlow)==null?void 0:U.models,Q=>(g(),T(_,{key:Q.name,class:"m-1",color:"white",variant:"solid"},{default:B(()=>[Q.gated?(g(),T(f,{key:0,text:"Gated model, requires auth token for download",popper:{placement:"top"}},{default:B(()=>[C(u,{name:"i-heroicons-key",class:"mr-1"})]),_:1})):F("",!0),M("a",{class:"hover:underline underline-offset-4",href:Q.homepage,rel:"noopener",target:"_blank"},H(Q.name),9,Wi)]),_:2},1024))),128))])):F("",!0),((ee=(N=i(a).currentFlow)==null?void 0:N.requires)==null?void 0:ee.length)>0?(g(),P("p",Hi,[qi,V(" "),(g(!0),P(J,null,fe((le=i(a).currentFlow)==null?void 0:le.requires,Q=>(g(),T(_,{key:Q,class:"m-1",color:"yellow",variant:"outline"},{default:B(()=>[V(H(Q),1)]),_:2},1024))),128))])):F("",!0)]))]}),_:2},[i(v)?void 0:{name:"footer",fn:B(()=>[i(c).isAdmin?(g(),P("div",Yi,[M("div",Gi,[C(u,{name:i(a).isFlowInstalled(i(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),M("span",{class:R({"text-green-500":i(a).isFlowInstalled(i(t).params.name),"text-red-500":!i(a).isFlowInstalled(i(t).params.name)})},H(i(a).isFlowInstalled(i(t).params.name)?"Installed":"Not installed"),3)]),i(a).isFlowInstalled(i(t).params.name)?F("",!0):(g(),T(f,{key:0,text:"Setup flow dependencies and configure it in ComfyUI",popper:{placement:"top"},"open-delay":500},{default:B(()=>[C(I,{icon:"i-heroicons-arrow-down-tray",class:"mx-3",color:"primary",variant:"outline",loading:i(s),onClick:m[1]||(m[1]=()=>i(a).setupFlow(i(a).currentFlow))},{default:B(()=>[V(H(i(l)),1)]),_:1},8,["loading"])]),_:1})),!i(a).isFlowInstalled(i(t).params.name)&&i(s)?(g(),T(f,{key:1,text:"Cancel flow installation",popper:{placement:"top"},"open-delay":500},{default:B(()=>[C(I,{icon:"i-heroicons-stop",variant:"outline",color:"orange",loading:i(o),onClick:m[2]||(m[2]=()=>{o.value=!0,i(a).cancelFlowSetup(i(a).currentFlow).then(()=>{o.value=!1})})},{default:B(()=>[V(" Cancel ")]),_:1},8,["loading"])]),_:1})):F("",!0),i(a).isFlowInstalled(i(t).params.name)?(g(),T(A,{key:2,items:i(p),mode:"click",label:"Actions",popper:{placement:"bottom-end"}},{default:B(()=>[C(I,{color:"white",label:"Actions","trailing-icon":"i-heroicons-chevron-down-20-solid"})]),_:1},8,["items"])):F("",!0)])):(g(),P("div",Ki,[M("div",Qi,[M("div",Xi,[C(u,{name:i(a).isFlowInstalled(i(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),M("span",{class:R({"text-green-500":i(a).isFlowInstalled(i(t).params.name),"text-red-500":!i(a).isFlowInstalled(i(t).params.name)})},H(i(a).isFlowInstalled(i(t).params.name)?"Installed":"Not installed"),3)]),i(a).isFlowInstalled(i(t).params.name)?F("",!0):(g(),P("div",Ji,ts))])]))]),key:"0"}]),1024)]),M("div",as,[!i(r)&&i(a).isFlowInstalled(i(t).params.name)?(g(),T(Z,{key:0,ref_key:"workflowPrompt",ref:y},null,512)):F("",!0)])]),!i(r)&&i(a).isFlowInstalled(i(t).params.name)?(g(),T(ne,{key:0})):F("",!0),!i(r)&&i(a).isFlowInstalled(i(t).params.name)||i(a).flowResultsByName(i(t).params.name).length>0?(g(),T(z,{key:1,onCopyPromptInputs:m[3]||(m[3]=E=>b(E))})):F("",!0)],64)):(g(),T(O,{key:1,class:"mb-3"})),C(K,{modelValue:i(d),"onUpdate:modelValue":m[7]||(m[7]=E=>he(d)?d.value=E:null),"prevent-close":""},{default:B(()=>[C(L,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:B(()=>[M("div",ns,[ls,C(I,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:m[4]||(m[4]=E=>d.value=!1)})])]),default:B(()=>{var E;return[M("p",os,[V(" Are you sure you want to delete the "),is,V(" workflow "),M("b",null,H((E=i(a).currentFlow)==null?void 0:E.display_name),1),V("? ")]),M("div",ss,[C(I,{icon:"i-heroicons-x-mark-16-solid",variant:"outline",color:"green",class:"mr-2",onClick:m[5]||(m[5]=j=>d.value=!1)},{default:B(()=>[V(" Cancel ")]),_:1}),C(I,{icon:"i-heroicons-trash",variant:"outline",color:"red",onClick:m[6]||(m[6]=j=>{var D;return w(i(a).currentFlow,((D=i(a).currentFlow)==null?void 0:D.private)||!1)})},{default:B(()=>[V(" Delete ")]),_:1})])]}),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{vs as default};
