import{g as q,y as I,E as k,a0 as qt,P as J,a1 as we,a2 as In,a3 as de,a4 as Bt,a5 as xt,a6 as _e,F as Q,a7 as ze,a8 as Ve,q as ce,a9 as V,aa as Ht,ab as Ue,ac as nt,ad as rt,ae as Se,af as Cn,ag as Pn,ah as _n,ai as Re,aj as qe,ak as Qe,al as St,am as re,an as Fn,ao as Mn,ap as Wt,aq as Tn,ar as Bn,as as At,at as Xe,au as Oe,av as ae,aw as xn,ax as An,ay as Qt,az as On,aA as zn,aB as Gt,aC as Un,aD as jn,aE as Ne,aF as En,K as U,aG as Ln,A as je,aH as Nn,B as G,_ as Fe,l as ve,W as it,C as Ee,D as me,H as ut,aI as Dn,aJ as Jt,aK as Vn,X as Pe,Y as ie,aL as Ie,o as v,i as B,w as x,b as _,J as se,a as C,c as P,aM as Yt,aN as Rn,L as Z,j as M,r as le,aO as qn,t as R,d as j,e as Kt,aP as Xt,aQ as Hn,aR as Wn,aS as Ot,aT as Qn,aU as yt,aV as Gn,aW as Jn,aX as zt,aY as Zt,aZ as Yn,u as Kn,a_ as It,a$ as Xn,Q as Ut,k as i,S as Ce,M as We,m as ge,h as He,b0 as en,b1 as Zn,b2 as ea,b3 as ta,b4 as ft,b5 as na,b6 as aa,I as jt,b7 as st,b8 as Ae,V as la,R as oa,z as Ct,b9 as ra,ba as tn,bb as nn,bc as sa,n as an,v as ia,s as ua,bd as da}from"./CXdK2D5N.js";import{t as ln,c as Et,o as dt,i as ca,p as ma,u as pa,f as fa,d as fe,e as on,b as rn,a as sn,_ as va}from"./BbpQ_GF3.js";import{a as ga,_ as ha}from"./Cy5saAI2.js";import{u as Pt}from"./Drv1Onk1.js";import{_ as _t}from"./Bk3FoX7N.js";import{_ as un}from"./DIP15i1j.js";import{_ as dn}from"./CU_1F8B5.js";const ba={wrapper:"w-full relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium",description:"mt-1 text-sm leading-4 opacity-90",actions:"flex items-center gap-2 mt-3 flex-shrink-0",shadow:"",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0 self-center",size:"md"},color:{white:{solid:"text-gray-900 dark:text-white bg-white dark:bg-gray-900 ring-1 ring-gray-200 dark:ring-gray-800"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{color:"white",variant:"solid",icon:null,closeButton:null,actionButton:{size:"xs",color:"primary",variant:"link"}}},ya={wrapper:"relative",container:"relative w-full flex overflow-x-auto snap-x snap-mandatory scroll-smooth",item:"flex flex-none snap-center",arrows:{wrapper:"flex items-center justify-between"},indicators:{wrapper:"absolute flex items-center justify-center gap-3 bottom-4 inset-x-0",base:"rounded-full h-3 w-3",active:"bg-primary-500 dark:bg-primary-400",inactive:"bg-gray-100 dark:bg-gray-800 mix-blend-overlay"},default:{prevButton:{color:"black",class:"rtl:[&_span:first-child]:rotate-180 absolute left-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"black",class:"rtl:[&_span:last-child]:rotate-180 absolute right-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-right-20-solid "}}},wa={wrapper:"relative w-full flex items-center",base:"w-full absolute appearance-none cursor-pointer disabled:cursor-not-allowed disabled:bg-opacity-50 focus:outline-none peer group",rounded:"rounded-lg",background:"bg-transparent",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",progress:{base:"absolute pointer-events-none peer-disabled:bg-opacity-50",rounded:"rounded-s-lg",background:"bg-{color}-500 dark:bg-{color}-400",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"}},thumb:{base:"[&::-webkit-slider-thumb]:relative [&::-moz-range-thumb]:relative [&::-webkit-slider-thumb]:z-[1] [&::-moz-range-thumb]:z-[1] [&::-webkit-slider-thumb]:appearance-none [&::-moz-range-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:border-0",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:dark:bg-gray-900 [&::-moz-range-thumb]:bg-current",ring:"[&::-webkit-slider-thumb]:ring-2 [&::-webkit-slider-thumb]:ring-current",size:{"2xs":"[&::-webkit-slider-thumb]:h-1.5 [&::-moz-range-thumb]:h-1.5 [&::-webkit-slider-thumb]:w-1.5 [&::-moz-range-thumb]:w-1.5 [&::-webkit-slider-thumb]:mt-[-2.5px] [&::-moz-range-thumb]:mt-[-2.5px]",xs:"[&::-webkit-slider-thumb]:h-2 [&::-moz-range-thumb]:h-2 [&::-webkit-slider-thumb]:w-2 [&::-moz-range-thumb]:w-2 [&::-webkit-slider-thumb]:mt-[-3px] [&::-moz-range-thumb]:mt-[-3px]",sm:"[&::-webkit-slider-thumb]:h-3 [&::-moz-range-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-moz-range-thumb]:w-3 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",md:"[&::-webkit-slider-thumb]:h-4 [&::-moz-range-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-moz-range-thumb]:w-4 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",lg:"[&::-webkit-slider-thumb]:h-5 [&::-moz-range-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-moz-range-thumb]:w-5 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",xl:"[&::-webkit-slider-thumb]:h-6 [&::-moz-range-thumb]:h-6 [&::-webkit-slider-thumb]:w-6 [&::-moz-range-thumb]:w-6 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1","2xl":"[&::-webkit-slider-thumb]:h-7 [&::-moz-range-thumb]:h-7 [&::-webkit-slider-thumb]:w-7 [&::-moz-range-thumb]:w-7 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1"}},track:{base:"[&::-webkit-slider-runnable-track]:group-disabled:bg-opacity-50 [&::-moz-range-track]:group-disabled:bg-opacity-50",background:"[&::-webkit-slider-runnable-track]:bg-gray-200 [&::-moz-range-track]:bg-gray-200 [&::-webkit-slider-runnable-track]:dark:bg-gray-700 [&::-moz-range-track]:dark:bg-gray-700",rounded:"[&::-webkit-slider-runnable-track]:rounded-lg [&::-moz-range-track]:rounded-lg",size:{"2xs":"[&::-webkit-slider-runnable-track]:h-px [&::-moz-range-track]:h-px",xs:"[&::-webkit-slider-runnable-track]:h-0.5 [&::-moz-range-track]:h-0.5",sm:"[&::-webkit-slider-runnable-track]:h-1 [&::-moz-range-track]:h-1",md:"[&::-webkit-slider-runnable-track]:h-2 [&::-moz-range-track]:h-2",lg:"[&::-webkit-slider-runnable-track]:h-3 [&::-moz-range-track]:h-3",xl:"[&::-webkit-slider-runnable-track]:h-4 [&::-moz-range-track]:h-4","2xl":"[&::-webkit-slider-runnable-track]:h-5 [&::-moz-range-track]:h-5"}},size:{"2xs":"h-1.5",xs:"h-2",sm:"h-3",md:"h-4",lg:"h-5",xl:"h-6","2xl":"h-7"},default:{size:"md",color:"primary"}},ka={base:"animate-pulse",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-md"},$a={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function cn(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.value){let a=V(n);a instanceof HTMLElement&&t.add(a)}return t}var mn=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(mn||{});let Ye=Object.assign(q({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:I(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:a}){let o=I(null);a({el:o,$el:o});let r=k(()=>qt(o)),l=I(!1);J(()=>l.value=!0),we(()=>l.value=!1),Ia({ownerDocument:r},k(()=>l.value&&!!(e.features&16)));let s=Ca({ownerDocument:r,container:o,initialFocus:k(()=>e.initialFocus)},k(()=>l.value&&!!(e.features&2)));Pa({ownerDocument:r,container:o,containers:e.containers,previousActiveElement:s},k(()=>l.value&&!!(e.features&8)));let u=In();function p(f){let d=V(o);d&&(h=>h())(()=>{Ue(u.value,{[nt.Forwards]:()=>{rt(d,Se.First,{skipElements:[f.relatedTarget]})},[nt.Backwards]:()=>{rt(d,Se.Last,{skipElements:[f.relatedTarget]})}})})}let b=I(!1);function w(f){f.key==="Tab"&&(b.value=!0,requestAnimationFrame(()=>{b.value=!1}))}function m(f){if(!l.value)return;let d=cn(e.containers);V(o)instanceof HTMLElement&&d.add(V(o));let h=f.relatedTarget;h instanceof HTMLElement&&h.dataset.headlessuiFocusGuard!=="true"&&(pn(d,h)||(b.value?rt(V(o),Ue(u.value,{[nt.Forwards]:()=>Se.Next,[nt.Backwards]:()=>Se.Previous})|Se.WrapAround,{relativeTo:f.target}):f.target instanceof HTMLElement&&Ve(f.target)))}return()=>{let f={},d={ref:o,onKeydown:w,onFocusout:m},{features:h,initialFocus:g,containers:c,...$}=e;return de(Q,[!!(h&4)&&de(Bt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:xt.Focusable}),_e({ourProps:d,theirProps:{...t,...$},slot:f,attrs:t,slots:n,name:"FocusTrap"}),!!(h&4)&&de(Bt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:xt.Focusable})])}}}),{features:mn});function Sa(e){let t=I(Et.slice());return ce([e],([n],[a])=>{a===!0&&n===!1?ln(()=>{t.value.splice(0)}):a===!1&&n===!0&&(t.value=Et.slice())},{flush:"post"}),()=>{var n;return(n=t.value.find(a=>a!=null&&a.isConnected))!=null?n:null}}function Ia({ownerDocument:e},t){let n=Sa(t);J(()=>{ze(()=>{var a,o;t.value||((a=e.value)==null?void 0:a.activeElement)===((o=e.value)==null?void 0:o.body)&&Ve(n())},{flush:"post"})}),we(()=>{t.value&&Ve(n())})}function Ca({ownerDocument:e,container:t,initialFocus:n},a){let o=I(null),r=I(!1);return J(()=>r.value=!0),we(()=>r.value=!1),J(()=>{ce([t,n,a],(l,s)=>{if(l.every((p,b)=>(s==null?void 0:s[b])===p)||!a.value)return;let u=V(t);u&&ln(()=>{var p,b;if(!r.value)return;let w=V(n),m=(p=e.value)==null?void 0:p.activeElement;if(w){if(w===m){o.value=m;return}}else if(u.contains(m)){o.value=m;return}w?Ve(w):rt(u,Se.First|Se.NoScroll)===Cn.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.value=(b=e.value)==null?void 0:b.activeElement})},{immediate:!0,flush:"post"})}),o}function Pa({ownerDocument:e,container:t,containers:n,previousActiveElement:a},o){var r;Ht((r=e.value)==null?void 0:r.defaultView,"focus",l=>{if(!o.value)return;let s=cn(n);V(t)instanceof HTMLElement&&s.add(V(t));let u=a.value;if(!u)return;let p=l.target;p&&p instanceof HTMLElement?pn(s,p)?(a.value=p,Ve(p)):(l.preventDefault(),l.stopPropagation(),Ve(u)):Ve(a.value)},!0)}function pn(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function _a(e){let t=Pn(e.getSnapshot());return we(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function Fa(e,t){let n=e(),a=new Set;return{getSnapshot(){return n},subscribe(o){return a.add(o),()=>a.delete(o)},dispatch(o,...r){let l=t[o].call(n,...r);l&&(n=l,a.forEach(s=>s()))}}}function Ma(){let e;return{before({doc:t}){var n;let a=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-a.clientWidth},after({doc:t,d:n}){let a=t.documentElement,o=a.clientWidth-a.offsetWidth,r=e-o;n.style(a,"paddingRight",`${r}px`)}}}function Ta(){return _n()?{before({doc:e,d:t,meta:n}){function a(o){return n.containers.flatMap(r=>r()).some(r=>r.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=dt();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let r=(o=window.scrollY)!=null?o:window.pageYOffset,l=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let u=s.target.closest("a");if(!u)return;let{hash:p}=new URL(u.href),b=e.querySelector(p);b&&!a(b)&&(l=b)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(s.target instanceof HTMLElement)if(a(s.target)){let u=s.target;for(;u.parentElement&&a(u.parentElement);)u=u.parentElement;t.style(u,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(s.target instanceof HTMLElement){if(s.target.tagName==="INPUT")return;if(a(s.target)){let u=s.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let u=(s=window.scrollY)!=null?s:window.pageYOffset;r!==u&&window.scrollTo(0,r),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function Ba(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function xa(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let De=Fa(()=>new Map,{PUSH(e,t){var n;let a=(n=this.get(e))!=null?n:{doc:e,count:0,d:dt(),meta:new Set};return a.count++,a.meta.add(t),this.set(e,a),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let a={doc:e,d:t,meta:xa(n)},o=[Ta(),Ma(),Ba()];o.forEach(({before:r})=>r==null?void 0:r(a)),o.forEach(({after:r})=>r==null?void 0:r(a))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});De.subscribe(()=>{let e=De.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let a=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!a||!o&&a)&&De.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&De.dispatch("TEARDOWN",n)}});function Aa(e,t,n){let a=_a(De),o=k(()=>{let r=e.value?a.value.get(e.value):void 0;return r?r.count>0:!1});return ce([e,t],([r,l],[s],u)=>{if(!r||!l)return;De.dispatch("PUSH",r,n);let p=!1;u(()=>{p||(De.dispatch("POP",s??r,n),p=!0)})},{immediate:!0}),o}let vt=new Map,Ke=new Map;function Lt(e,t=I(!0)){ze(n=>{var a;if(!t.value)return;let o=V(e);if(!o)return;n(function(){var l;if(!o)return;let s=(l=Ke.get(o))!=null?l:1;if(s===1?Ke.delete(o):Ke.set(o,s-1),s!==1)return;let u=vt.get(o);u&&(u["aria-hidden"]===null?o.removeAttribute("aria-hidden"):o.setAttribute("aria-hidden",u["aria-hidden"]),o.inert=u.inert,vt.delete(o))});let r=(a=Ke.get(o))!=null?a:0;Ke.set(o,r+1),r===0&&(vt.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),o.setAttribute("aria-hidden","true"),o.inert=!0)})}let fn=Symbol("StackContext");var wt=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(wt||{});function Oa(){return qe(fn,()=>{})}function za({type:e,enabled:t,element:n,onUpdate:a}){let o=Oa();function r(...l){a==null||a(...l),o(...l)}J(()=>{ce(t,(l,s)=>{l?r(0,e,n):s===!0&&r(1,e,n)},{immediate:!0,flush:"sync"})}),we(()=>{t.value&&r(1,e,n)}),Re(fn,r)}let Ua=Symbol("DescriptionContext");function ja({slot:e=I({}),name:t="Description",props:n={}}={}){let a=I([]);function o(r){return a.value.push(r),()=>{let l=a.value.indexOf(r);l!==-1&&a.value.splice(l,1)}}return Re(Ua,{register:o,slot:e,name:t,props:n}),k(()=>a.value.length>0?a.value.join(" "):void 0)}var Ea=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ea||{});let kt=Symbol("DialogContext");function vn(e){let t=qe(kt,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,vn),n}return t}let at="DC8F892D-2EBD-447C-A4C8-A03058436FF4",La=q({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:at},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:n,slots:a,expose:o}){var r,l;let s=(r=e.id)!=null?r:`headlessui-dialog-${Qe()}`,u=I(!1);J(()=>{u.value=!0});let p=!1,b=k(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(p||(p=!0,console.warn(`Invalid role [${b}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),w=I(0),m=St(),f=k(()=>e.open===at&&m!==null?(m.value&re.Open)===re.Open:e.open),d=I(null),h=k(()=>qt(d));if(o({el:d,$el:d}),!(e.open!==at||m!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof f.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${f.value===at?void 0:e.open}`);let g=k(()=>u.value&&f.value?0:1),c=k(()=>g.value===0),$=k(()=>w.value>1),y=qe(kt,null)!==null,[A,F]=Fn(),{resolveContainers:E,mainTreeNodeRef:Y,MainTreeNode:ee}=Mn({portals:A,defaultContainers:[k(()=>{var N;return(N=te.panelRef.value)!=null?N:d.value})]}),K=k(()=>$.value?"parent":"leaf"),oe=k(()=>m!==null?(m.value&re.Closing)===re.Closing:!1),D=k(()=>y||oe.value?!1:c.value),S=k(()=>{var N,H,ne;return(ne=Array.from((H=(N=h.value)==null?void 0:N.querySelectorAll("body > *"))!=null?H:[]).find(X=>X.id==="headlessui-portal-root"?!1:X.contains(V(Y))&&X instanceof HTMLElement))!=null?ne:null});Lt(S,D);let T=k(()=>$.value?!0:c.value),O=k(()=>{var N,H,ne;return(ne=Array.from((H=(N=h.value)==null?void 0:N.querySelectorAll("[data-headlessui-portal]"))!=null?H:[]).find(X=>X.contains(V(Y))&&X instanceof HTMLElement))!=null?ne:null});Lt(O,T),za({type:"Dialog",enabled:k(()=>g.value===0),element:d,onUpdate:(N,H)=>{if(H==="Dialog")return Ue(N,{[wt.Add]:()=>w.value+=1,[wt.Remove]:()=>w.value-=1})}});let L=ja({name:"DialogDescription",slot:k(()=>({open:f.value}))}),W=I(null),te={titleId:W,panelRef:I(null),dialogState:g,setTitleId(N){W.value!==N&&(W.value=N)},close(){t("close",!1)}};Re(kt,te);let ke=k(()=>!(!c.value||$.value));Wt(E,(N,H)=>{N.preventDefault(),te.close(),Oe(()=>H==null?void 0:H.focus())},ke);let ue=k(()=>!($.value||g.value!==0));Ht((l=h.value)==null?void 0:l.defaultView,"keydown",N=>{ue.value&&(N.defaultPrevented||N.key===ae.Escape&&(N.preventDefault(),N.stopPropagation(),te.close()))});let Me=k(()=>!(oe.value||g.value!==0||y));return Aa(h,Me,N=>{var H;return{containers:[...(H=N.containers)!=null?H:[],E]}}),ze(N=>{if(g.value!==0)return;let H=V(d);if(!H)return;let ne=new ResizeObserver(X=>{for(let Te of X){let $e=Te.target.getBoundingClientRect();$e.x===0&&$e.y===0&&$e.width===0&&$e.height===0&&te.close()}});ne.observe(H),N(()=>ne.disconnect())}),()=>{let{open:N,initialFocus:H,...ne}=e,X={...n,ref:d,id:s,role:b.value,"aria-modal":g.value===0?!0:void 0,"aria-labelledby":W.value,"aria-describedby":L.value},Te={open:g.value===0};return de(At,{force:!0},()=>[de(Tn,()=>de(Bn,{target:d.value},()=>de(At,{force:!1},()=>de(Ye,{initialFocus:H,containers:E,features:c.value?Ue(K.value,{parent:Ye.features.RestoreFocus,leaf:Ye.features.All&~Ye.features.FocusLock}):Ye.features.None},()=>de(F,{},()=>_e({ourProps:X,theirProps:{...ne,...n},slot:Te,attrs:n,slots:a,visible:g.value===0,features:Xe.RenderStrategy|Xe.Static,name:"Dialog"})))))),de(ee)])}}}),Na=q({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:a}){var o;let r=(o=e.id)!=null?o:`headlessui-dialog-panel-${Qe()}`,l=vn("DialogPanel");a({el:l.panelRef,$el:l.panelRef});function s(u){u.stopPropagation()}return()=>{let{...u}=e,p={id:r,ref:l.panelRef,onClick:s};return _e({ourProps:p,theirProps:u,slot:{open:l.dialogState.value===0},attrs:t,slots:n,name:"DialogPanel"})}}});var Da=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Da||{}),Va=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Va||{});function Ra(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let gn=Symbol("MenuContext");function ct(e){let t=qe(gn,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ct),n}return t}let qa=q({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let a=I(1),o=I(null),r=I(null),l=I([]),s=I(""),u=I(null),p=I(1);function b(m=f=>f){let f=u.value!==null?l.value[u.value]:null,d=Un(m(l.value.slice()),g=>V(g.dataRef.domRef)),h=f?d.indexOf(f):null;return h===-1&&(h=null),{items:d,activeItemIndex:h}}let w={menuState:a,buttonRef:o,itemsRef:r,items:l,searchQuery:s,activeItemIndex:u,activationTrigger:p,closeMenu:()=>{a.value=1,u.value=null},openMenu:()=>a.value=0,goToItem(m,f,d){let h=b(),g=fa(m===fe.Specific?{focus:fe.Specific,id:f}:{focus:m},{resolveItems:()=>h.items,resolveActiveIndex:()=>h.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.disabled});s.value="",u.value=g,p.value=d??1,l.value=h.items},search(m){let f=s.value!==""?0:1;s.value+=m.toLowerCase();let d=(u.value!==null?l.value.slice(u.value+f).concat(l.value.slice(0,u.value+f)):l.value).find(g=>g.dataRef.textValue.startsWith(s.value)&&!g.dataRef.disabled),h=d?l.value.indexOf(d):-1;h===-1||h===u.value||(u.value=h,p.value=1)},clearSearch(){s.value=""},registerItem(m,f){let d=b(h=>[...h,{id:m,dataRef:f}]);l.value=d.items,u.value=d.activeItemIndex,p.value=1},unregisterItem(m){let f=b(d=>{let h=d.findIndex(g=>g.id===m);return h!==-1&&d.splice(h,1),d});l.value=f.items,u.value=f.activeItemIndex,p.value=1}};return Wt([o,r],(m,f)=>{var d;w.closeMenu(),xn(f,An.Loose)||(m.preventDefault(),(d=V(o))==null||d.focus())},k(()=>a.value===0)),Re(gn,w),Qt(k(()=>Ue(a.value,{0:re.Open,1:re.Closed}))),()=>{let m={open:a.value===0,close:w.closeMenu};return _e({ourProps:{},theirProps:e,slot:m,slots:t,attrs:n,name:"Menu"})}}}),Ha=q({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:a}){var o;let r=(o=e.id)!=null?o:`headlessui-menu-button-${Qe()}`,l=ct("MenuButton");a({el:l.buttonRef,$el:l.buttonRef});function s(w){switch(w.key){case ae.Space:case ae.Enter:case ae.ArrowDown:w.preventDefault(),w.stopPropagation(),l.openMenu(),Oe(()=>{var m;(m=V(l.itemsRef))==null||m.focus({preventScroll:!0}),l.goToItem(fe.First)});break;case ae.ArrowUp:w.preventDefault(),w.stopPropagation(),l.openMenu(),Oe(()=>{var m;(m=V(l.itemsRef))==null||m.focus({preventScroll:!0}),l.goToItem(fe.Last)});break}}function u(w){switch(w.key){case ae.Space:w.preventDefault();break}}function p(w){e.disabled||(l.menuState.value===0?(l.closeMenu(),Oe(()=>{var m;return(m=V(l.buttonRef))==null?void 0:m.focus({preventScroll:!0})})):(w.preventDefault(),l.openMenu(),Ra(()=>{var m;return(m=V(l.itemsRef))==null?void 0:m.focus({preventScroll:!0})})))}let b=On(k(()=>({as:e.as,type:t.type})),l.buttonRef);return()=>{var w;let m={open:l.menuState.value===0},{...f}=e,d={ref:l.buttonRef,id:r,type:b.value,"aria-haspopup":"menu","aria-controls":(w=V(l.itemsRef))==null?void 0:w.id,"aria-expanded":l.menuState.value===0,onKeydown:s,onKeyup:u,onClick:p};return _e({ourProps:d,theirProps:f,slot:m,attrs:t,slots:n,name:"MenuButton"})}}}),Wa=q({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:a}){var o;let r=(o=e.id)!=null?o:`headlessui-menu-items-${Qe()}`,l=ct("MenuItems"),s=I(null);a({el:l.itemsRef,$el:l.itemsRef}),ca({container:k(()=>V(l.itemsRef)),enabled:k(()=>l.menuState.value===0),accept(m){return m.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:m.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(m){m.setAttribute("role","none")}});function u(m){var f;switch(s.value&&clearTimeout(s.value),m.key){case ae.Space:if(l.searchQuery.value!=="")return m.preventDefault(),m.stopPropagation(),l.search(m.key);case ae.Enter:if(m.preventDefault(),m.stopPropagation(),l.activeItemIndex.value!==null){let d=l.items.value[l.activeItemIndex.value];(f=V(d.dataRef.domRef))==null||f.click()}l.closeMenu(),Gt(V(l.buttonRef));break;case ae.ArrowDown:return m.preventDefault(),m.stopPropagation(),l.goToItem(fe.Next);case ae.ArrowUp:return m.preventDefault(),m.stopPropagation(),l.goToItem(fe.Previous);case ae.Home:case ae.PageUp:return m.preventDefault(),m.stopPropagation(),l.goToItem(fe.First);case ae.End:case ae.PageDown:return m.preventDefault(),m.stopPropagation(),l.goToItem(fe.Last);case ae.Escape:m.preventDefault(),m.stopPropagation(),l.closeMenu(),Oe(()=>{var d;return(d=V(l.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case ae.Tab:m.preventDefault(),m.stopPropagation(),l.closeMenu(),Oe(()=>zn(V(l.buttonRef),m.shiftKey?Se.Previous:Se.Next));break;default:m.key.length===1&&(l.search(m.key),s.value=setTimeout(()=>l.clearSearch(),350));break}}function p(m){switch(m.key){case ae.Space:m.preventDefault();break}}let b=St(),w=k(()=>b!==null?(b.value&re.Open)===re.Open:l.menuState.value===0);return()=>{var m,f;let d={open:l.menuState.value===0},{...h}=e,g={"aria-activedescendant":l.activeItemIndex.value===null||(m=l.items.value[l.activeItemIndex.value])==null?void 0:m.id,"aria-labelledby":(f=V(l.buttonRef))==null?void 0:f.id,id:r,onKeydown:u,onKeyup:p,role:"menu",tabIndex:0,ref:l.itemsRef};return _e({ourProps:g,theirProps:h,slot:d,attrs:t,slots:n,features:Xe.RenderStrategy|Xe.Static,visible:w.value,name:"MenuItems"})}}}),Qa=q({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:n,expose:a}){var o;let r=(o=e.id)!=null?o:`headlessui-menu-item-${Qe()}`,l=ct("MenuItem"),s=I(null);a({el:s,$el:s});let u=k(()=>l.activeItemIndex.value!==null?l.items.value[l.activeItemIndex.value].id===r:!1),p=ma(s),b=k(()=>({disabled:e.disabled,get textValue(){return p()},domRef:s}));J(()=>l.registerItem(r,b)),we(()=>l.unregisterItem(r)),ze(()=>{l.menuState.value===0&&u.value&&l.activationTrigger.value!==0&&Oe(()=>{var c,$;return($=(c=V(s))==null?void 0:c.scrollIntoView)==null?void 0:$.call(c,{block:"nearest"})})});function w(c){if(e.disabled)return c.preventDefault();l.closeMenu(),Gt(V(l.buttonRef))}function m(){if(e.disabled)return l.goToItem(fe.Nothing);l.goToItem(fe.Specific,r)}let f=pa();function d(c){f.update(c)}function h(c){f.wasMoved(c)&&(e.disabled||u.value||l.goToItem(fe.Specific,r,0))}function g(c){f.wasMoved(c)&&(e.disabled||u.value&&l.goToItem(fe.Nothing))}return()=>{let{disabled:c,...$}=e,y={active:u.value,disabled:c,close:l.closeMenu};return _e({ourProps:{id:r,ref:s,role:"menuitem",tabIndex:c===!0?void 0:-1,"aria-disabled":c===!0?!0:void 0,onClick:w,onFocus:m,onPointerenter:d,onMouseenter:d,onPointermove:h,onMousemove:h,onPointerleave:g,onMouseleave:g},theirProps:{...n,...$},slot:y,attrs:n,slots:t,name:"MenuItem"})}}});function Ga(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function gt(e,...t){e&&t.length>0&&e.classList.add(...t)}function lt(e,...t){e&&t.length>0&&e.classList.remove(...t)}var $t=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))($t||{});function Ja(e,t){let n=dt();if(!e)return n.dispose;let{transitionDuration:a,transitionDelay:o}=getComputedStyle(e),[r,l]=[a,o].map(s=>{let[u=0]=s.split(",").filter(Boolean).map(p=>p.includes("ms")?parseFloat(p):parseFloat(p)*1e3).sort((p,b)=>b-p);return u});return r!==0?n.setTimeout(()=>t("finished"),r+l):t("finished"),n.add(()=>t("cancelled")),n.dispose}function Nt(e,t,n,a,o,r){let l=dt(),s=r!==void 0?Ga(r):()=>{};return lt(e,...o),gt(e,...t,...n),l.nextFrame(()=>{lt(e,...n),gt(e,...a),l.add(Ja(e,u=>(lt(e,...a,...t),gt(e,...o),s(u))))}),l.add(()=>lt(e,...t,...n,...a,...o)),l.add(()=>s("cancelled")),l.dispose}function Le(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Ft=Symbol("TransitionContext");var Ya=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Ya||{});function Ka(){return qe(Ft,null)!==null}function Xa(){let e=qe(Ft,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Za(){let e=qe(Mt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let Mt=Symbol("NestingContext");function mt(e){return"children"in e?mt(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function hn(e){let t=I([]),n=I(!1);J(()=>n.value=!0),we(()=>n.value=!1);function a(r,l=Ne.Hidden){let s=t.value.findIndex(({id:u})=>u===r);s!==-1&&(Ue(l,{[Ne.Unmount](){t.value.splice(s,1)},[Ne.Hidden](){t.value[s].state="hidden"}}),!mt(t)&&n.value&&(e==null||e()))}function o(r){let l=t.value.find(({id:s})=>s===r);return l?l.state!=="visible"&&(l.state="visible"):t.value.push({id:r,state:"visible"}),()=>a(r,Ne.Unmount)}return{children:t,register:o,unregister:a}}let bn=Xe.RenderStrategy,yn=q({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:a,expose:o}){let r=I(0);function l(){r.value|=re.Opening,t("beforeEnter")}function s(){r.value&=~re.Opening,t("afterEnter")}function u(){r.value|=re.Closing,t("beforeLeave")}function p(){r.value&=~re.Closing,t("afterLeave")}if(!Ka()&&jn())return()=>de(wn,{...e,onBeforeEnter:l,onAfterEnter:s,onBeforeLeave:u,onAfterLeave:p},a);let b=I(null),w=k(()=>e.unmount?Ne.Unmount:Ne.Hidden);o({el:b,$el:b});let{show:m,appear:f}=Xa(),{register:d,unregister:h}=Za(),g=I(m.value?"visible":"hidden"),c={value:!0},$=Qe(),y={value:!1},A=hn(()=>{!y.value&&g.value!=="hidden"&&(g.value="hidden",h($),p())});J(()=>{let T=d($);we(T)}),ze(()=>{if(w.value===Ne.Hidden&&$){if(m.value&&g.value!=="visible"){g.value="visible";return}Ue(g.value,{hidden:()=>h($),visible:()=>d($)})}});let F=Le(e.enter),E=Le(e.enterFrom),Y=Le(e.enterTo),ee=Le(e.entered),K=Le(e.leave),oe=Le(e.leaveFrom),D=Le(e.leaveTo);J(()=>{ze(()=>{if(g.value==="visible"){let T=V(b);if(T instanceof Comment&&T.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function S(T){let O=c.value&&!f.value,L=V(b);!L||!(L instanceof HTMLElement)||O||(y.value=!0,m.value&&l(),m.value||u(),T(m.value?Nt(L,F,E,Y,ee,W=>{y.value=!1,W===$t.Finished&&s()}):Nt(L,K,oe,D,ee,W=>{y.value=!1,W===$t.Finished&&(mt(A)||(g.value="hidden",h($),p()))})))}return J(()=>{ce([m],(T,O,L)=>{S(L),c.value=!1},{immediate:!0})}),Re(Mt,A),Qt(k(()=>Ue(g.value,{visible:re.Open,hidden:re.Closed})|r.value)),()=>{let{appear:T,show:O,enter:L,enterFrom:W,enterTo:te,entered:ke,leave:ue,leaveFrom:Me,leaveTo:N,...H}=e,ne={ref:b},X={...H,...f.value&&m.value&&En.isServer?{class:U([n.class,H.class,...F,...E])}:{}};return _e({theirProps:X,ourProps:ne,slot:{},slots:a,attrs:n,features:bn,visible:g.value==="visible",name:"TransitionChild"})}}}),el=yn,wn=q({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:a}){let o=St(),r=k(()=>e.show===null&&o!==null?(o.value&re.Open)===re.Open:e.show);ze(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=I(r.value?"visible":"hidden"),s=hn(()=>{l.value="hidden"}),u=I(!0),p={show:r,appear:k(()=>e.appear||!u.value)};return J(()=>{ze(()=>{u.value=!1,r.value?l.value="visible":mt(s)||(l.value="hidden")})}),Re(Mt,s),Re(Ft,p),()=>{let b=Ln(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),w={unmount:e.unmount};return _e({ourProps:{...w,as:"template"},theirProps:{},slot:{},slots:{...a,default:()=>[de(el,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...w,...b},a.default)]},attrs:{},features:bn,visible:l.value==="visible",name:"Transition"})}}});const ht=je(G.ui.strategy,G.ui.dropdown,Nn),tl=q({components:{HMenu:qa,HMenuButton:Ha,HMenuItems:Wa,HMenuItem:Qa,UIcon:ve,UAvatar:it,UKbd:on},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>ht.default.openDelay},closeDelay:{type:Number,default:()=>ht.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:t}){const{ui:n,attrs:a}=Ee("dropdown",me(e,"ui"),ht,me(e,"class")),o=k(()=>ut(e.mode==="hover"?{offsetDistance:0}:{},e.popper,n.value.popper)),[r,l]=Dn(o.value),s=I(null);let u=null,p=null;J(()=>{var $,y;const g=($=r.value)==null?void 0:$.$.provides;if(!g)return;const c=Object.getOwnPropertySymbols(g);s.value=c.length&&g[c[0]],e.open&&((y=s.value)==null||y.openMenu())});const b=k(()=>{var y,A,F;if(e.mode!=="hover")return{};const g=((y=e.popper)==null?void 0:y.offsetDistance)||((A=n.value.popper)==null?void 0:A.offsetDistance)||8,c=(F=o.value.placement)==null?void 0:F.split("-")[0],$=`${g}px`;return c==="top"||c==="bottom"?{paddingTop:$,paddingBottom:$}:c==="left"||c==="right"?{paddingLeft:$,paddingRight:$}:{paddingTop:$,paddingBottom:$,paddingLeft:$,paddingRight:$}});function w(g){!g.cancelable||!s.value||(s.value.menuState===0?s.value.closeMenu():s.value.openMenu())}function m(){e.mode!=="hover"||!s.value||(p&&(clearTimeout(p),p=null),s.value.menuState!==0&&(u=u||setTimeout(()=>{s.value.openMenu&&s.value.openMenu(),u=null},e.openDelay)))}function f(){e.mode!=="hover"||!s.value||(u&&(clearTimeout(u),u=null),s.value.menuState!==1&&(p=p||setTimeout(()=>{s.value.closeMenu&&s.value.closeMenu(),p=null},e.closeDelay)))}function d(g,c,{href:$,navigate:y,close:A,isExternal:F}){c.click&&c.click(g),$&&!F&&(y(g),A())}ce(()=>e.open,(g,c)=>{s.value&&(c===void 0||g===c||(g?s.value.openMenu():s.value.closeMenu()))}),ce(()=>{var g;return(g=s.value)==null?void 0:g.menuState},(g,c)=>{c===void 0||g===c||t("update:open",g===0)});const h=Kt;return Jt(()=>Xt("$ctlRmIk4j0")),{ui:n,attrs:a,popper:o,trigger:r,container:l,containerStyle:b,onTouchStart:w,onMouseEnter:m,onMouseLeave:f,onClick:d,getNuxtLinkProps:Vn,twMerge:Pe,twJoin:ie,NuxtLink:h}}}),nl=["disabled"];function al(e,t,n,a,o,r){const l=Ie("HMenuButton"),s=ve,u=it,p=on,b=Ie("HMenuItem"),w=Kt,m=Ie("HMenuItems"),f=Ie("HMenu");return v(),B(f,Z({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:x(({open:d})=>[_(l,{ref:"trigger",as:"div",disabled:e.disabled,class:U(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:x(()=>[se(e.$slots,"default",{open:d,disabled:e.disabled},()=>[C("button",{disabled:e.disabled}," Open ",8,nl)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),d&&e.items.length?(v(),P("div",{key:0,ref:"container",class:U([e.ui.container,e.ui.width]),style:Yt(e.containerStyle),onMouseenter:t[0]||(t[0]=(...h)=>e.onMouseEnter&&e.onMouseEnter(...h))},[_(Rn,Z({appear:""},e.ui.transition),{default:x(()=>[C("div",null,[e.popper.arrow?(v(),P("div",{key:0,"data-popper-arrow":"",class:U(Object.values(e.ui.arrow))},null,2)):M("",!0),_(m,{class:U([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:x(()=>[(v(!0),P(Q,null,le(e.items,(h,g)=>(v(),P("div",{key:g,class:U(e.ui.padding)},[(v(!0),P(Q,null,le(h,(c,$)=>(v(),B(w,Z({key:$,ref_for:!0},e.getNuxtLinkProps(c),{custom:""}),{default:x(({href:y,target:A,rel:F,navigate:E,isExternal:Y,isActive:ee})=>[_(b,{disabled:c.disabled},{default:x(({active:K,disabled:oe,close:D})=>[(v(),B(qn(y?"a":"button"),{href:oe?void 0:y,rel:F,target:A,class:U(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,K||ee?e.ui.item.active:e.ui.item.inactive,oe&&e.ui.item.disabled),c.class)),onClick:S=>e.onClick(S,c,{href:y,navigate:E,close:D,isExternal:Y})},{default:x(()=>[se(e.$slots,c.slot||"item",{item:c},()=>{var S;return[c.icon?(v(),B(s,{key:0,name:c.icon,class:U(e.twMerge(e.twJoin(e.ui.item.icon.base,K||ee?e.ui.item.icon.active:e.ui.item.icon.inactive),c.iconClass))},null,8,["name","class"])):c.avatar?(v(),B(u,Z({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...c.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):M("",!0),C("span",{class:U(e.twMerge(e.ui.item.label,c.labelClass))},R(c.label),3),(S=c.shortcuts)!=null&&S.length?(v(),P("span",{key:2,class:U(e.ui.item.shortcuts)},[(v(!0),P(Q,null,le(c.shortcuts,T=>(v(),B(p,{key:T},{default:x(()=>[j(R(T),1)]),_:2},1024))),128))],2)):M("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):M("",!0)]),_:3},16,["class","onMouseleave"])}const Tt=Fe(tl,[["render",al]]),Be=je(G.ui.strategy,G.ui.textarea,Hn),ll=q({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(Be.size).includes(e)}},color:{type:String,default:()=>Be.default.color,validator(e){return[...G.ui.colors,...Object.keys(Be.color)].includes(e)}},variant:{type:String,default:()=>Be.default.variant,validator(e){return[...Object.keys(Be.variant),...Object.values(Be.color).flatMap(t=>Object.keys(t))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t}){const{ui:n,attrs:a}=Ee("textarea",me(e,"ui"),Be,me(e,"class")),{emitFormBlur:o,emitFormInput:r,inputId:l,color:s,size:u,name:p}=Pt(e,Be),b=I(ut({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),w=I(null),m=()=>{var y;e.autofocus&&((y=w.value)==null||y.focus())},f=()=>{if(e.autoresize){if(!w.value)return;w.value.rows=e.rows;const y=window.getComputedStyle(w.value),A=parseInt(y.paddingTop),F=parseInt(y.paddingBottom),E=A+F,Y=parseInt(y.lineHeight),{scrollHeight:ee}=w.value,K=(ee-E)/Y;K>e.rows&&(w.value.rows=e.maxrows?Math.min(K,e.maxrows):K)}},d=y=>{b.value.trim&&(y=y.trim()),b.value.number&&(y=Wn(y)),t("update:modelValue",y),r()},h=y=>{f(),b.value.lazy||d(y.target.value)},g=y=>{const A=y.target.value;t("change",A),b.value.lazy&&d(A),b.value.trim&&(y.target.value=A.trim())},c=y=>{t("blur",y),o()};J(()=>{setTimeout(()=>{m()},e.autofocusDelay)}),ce(()=>e.modelValue,()=>{Oe(f)}),J(()=>{setTimeout(()=>{m(),f()},100)});const $=k(()=>{var A,F;const y=((F=(A=n.value.color)==null?void 0:A[s.value])==null?void 0:F[e.variant])||n.value.variant[e.variant];return Pe(ie(n.value.base,n.value.form,n.value.rounded,n.value.placeholder,n.value.size[u.value],e.padded?n.value.padding[u.value]:"p-0",y==null?void 0:y.replaceAll("{color}",s.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:n,attrs:a,name:p,inputId:l,textarea:w,textareaClass:$,onInput:h,onChange:g,onBlur:c}}}),ol=["id","value","name","rows","required","disabled","placeholder"];function rl(e,t,n,a,o,r){return v(),P("div",{class:U(e.ui.wrapper)},[C("textarea",Z({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:t[0]||(t[0]=(...l)=>e.onInput&&e.onInput(...l)),onBlur:t[1]||(t[1]=(...l)=>e.onBlur&&e.onBlur(...l)),onChange:t[2]||(t[2]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,ol),se(e.$slots,"default")],2)}const sl=Fe(ll,[["render",rl]]);async function il(e,t){return await ul(t).catch(a=>(console.error("Failed to get image meta for "+t,a+""),{width:0,height:0,ratio:0}))}async function ul(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,n)=>{const a=new Image;a.onload=()=>{const o={width:a.width,height:a.height,ratio:a.width/a.height};t(o)},a.onerror=o=>n(o),a.src=e})}function Dt(e){return t=>t?e[t]||t:e.missingValue}function dl({formatter:e,keyMap:t,joinWith:n="/",valueMap:a}={}){e||(e=(r,l)=>`${r}=${l}`),t&&typeof t!="function"&&(t=Dt(t));const o=a||{};return Object.keys(o).forEach(r=>{typeof o[r]!="function"&&(o[r]=Dt(o[r]))}),(r={})=>Object.entries(r).filter(([s,u])=>typeof u<"u").map(([s,u])=>{const p=o[s];return typeof p=="function"&&(u=p(r[s])),s=typeof t=="function"?t(s):s,e(s,u)}).join(n)}function ye(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function cl(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const n of e.split(" ")){const a=Number.parseInt(n.replace("x",""));a&&t.add(a)}return Array.from(t)}function ml(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function pl(e){const t={};if(typeof e=="string")for(const n of e.split(/[\s,]+/).filter(a=>a)){const a=n.split(":");a.length!==2?t["1px"]=a[0].trim():t[a[0].trim()]=a[1].trim()}else Object.assign(t,e);return t}function fl(e){const t={options:e},n=(o,r={})=>kn(t,o,r),a=(o,r={},l={})=>n(o,{...l,modifiers:ut(r,l.modifiers||{})}).url;for(const o in e.presets)a[o]=(r,l,s)=>a(r,l,{...e.presets[o],...s});return a.options=e,a.getImage=n,a.getMeta=(o,r)=>vl(t,o,r),a.getSizes=(o,r)=>bl(t,o,r),t.$img=a,a}async function vl(e,t,n){const a=kn(e,t,{...n});return typeof a.getMeta=="function"?await a.getMeta():await il(e,a.url)}function kn(e,t,n){var p,b;if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{provider:a,defaults:o}=gl(e,n.provider||e.options.provider),r=hl(e,n.preset);if(t=Ot(t)?t:Qn(t),!a.supportsAlias)for(const w in e.options.alias)t.startsWith(w)&&(t=yt(e.options.alias[w],t.substr(w.length)));if(a.validateDomains&&Ot(t)){const w=Gn(t).host;if(!e.options.domains.find(m=>m===w))return{url:t}}const l=ut(n,r,o);l.modifiers={...l.modifiers};const s=l.modifiers.format;(p=l.modifiers)!=null&&p.width&&(l.modifiers.width=ye(l.modifiers.width)),(b=l.modifiers)!=null&&b.height&&(l.modifiers.height=ye(l.modifiers.height));const u=a.getImage(t,l,e);return u.format=u.format||s||"",u}function gl(e,t){const n=e.options.providers[t];if(!n)throw new Error("Unknown provider: "+t);return n}function hl(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function bl(e,t,n){var d,h,g,c,$;const a=ye((d=n.modifiers)==null?void 0:d.width),o=ye((h=n.modifiers)==null?void 0:h.height),r=pl(n.sizes),l=(g=n.densities)!=null&&g.trim()?cl(n.densities.trim()):e.options.densities;ml(l);const s=a&&o?o/a:0,u=[],p=[];if(Object.keys(r).length>=1){for(const y in r){const A=Vt(y,String(r[y]),o,s,e);if(A!==void 0){u.push({size:A.size,screenMaxWidth:A.screenMaxWidth,media:`(max-width: ${A.screenMaxWidth}px)`});for(const F of l)p.push({width:A._cWidth*F,src:Rt(e,t,n,A,F)})}}yl(u)}else for(const y of l){const A=Object.keys(r)[0];let F=Vt(A,String(r[A]),o,s,e);F===void 0&&(F={size:"",screenMaxWidth:0,_cWidth:(c=n.modifiers)==null?void 0:c.width,_cHeight:($=n.modifiers)==null?void 0:$.height}),p.push({width:y,src:Rt(e,t,n,F,y)})}wl(p);const b=p[p.length-1],w=u.length?u.map(y=>`${y.media?y.media+" ":""}${y.size}`).join(", "):void 0,m=w?"w":"x",f=p.map(y=>`${y.src} ${y.width}${m}`).join(", ");return{sizes:w,srcset:f,src:b==null?void 0:b.src}}function Vt(e,t,n,a,o){const r=o.options.screens&&o.options.screens[e]||Number.parseInt(e),l=t.endsWith("vw");if(!l&&/^\d+$/.test(t)&&(t=t+"px"),!l&&!t.endsWith("px"))return;let s=Number.parseInt(t);if(!r||!s)return;l&&(s=Math.round(s/100*r));const u=a?Math.round(s*a):n;return{size:t,screenMaxWidth:r,_cWidth:s,_cHeight:u}}function Rt(e,t,n,a,o){return e.$img(t,{...n.modifiers,width:a._cWidth?a._cWidth*o:void 0,height:a._cHeight?a._cHeight*o:void 0},n)}function yl(e){var n;e.sort((a,o)=>a.screenMaxWidth-o.screenMaxWidth);let t=null;for(let a=e.length-1;a>=0;a--){const o=e[a];o.media===t&&e.splice(a,1),t=o.media}for(let a=0;a<e.length;a++)e[a].media=((n=e[a+1])==null?void 0:n.media)||""}function wl(e){e.sort((n,a)=>n.width-a.width);let t=null;for(let n=e.length-1;n>=0;n--){const a=e[n];a.width===t&&e.splice(n,1),t=a.width}}const kl=dl({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>zt(e)+"_"+zt(t)}),$l=(e,{modifiers:t={},baseURL:n}={},a)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const o=kl(t)||"_";return n||(n=yt(a.options.nuxt.baseURL,"/_ipx")),{url:yt(n,o,Jn(e))}},Sl=!0,Il=!0,Cl=Object.freeze(Object.defineProperty({__proto__:null,getImage:$l,supportsAlias:Il,validateDomains:Sl},Symbol.toStringTag,{value:"Module"})),$n={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};$n.providers={ipxStatic:{provider:Cl,defaults:{}}};const Ze=()=>{const e=Yn(),t=Zt();return t.$img||t._img||(t._img=fl({...$n,nuxt:{baseURL:e.app.baseURL}}))};function Pl(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const _l={src:{type:String,default:void 0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:[Boolean,Object],default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},Fl=e=>{const t=k(()=>({provider:e.provider,preset:e.preset})),n=k(()=>({width:ye(e.width),height:ye(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),a=Ze(),o=k(()=>({...e.modifiers,width:ye(e.width),height:ye(e.height),format:e.format,quality:e.quality||a.options.quality,background:e.background,fit:e.fit}));return{options:t,attrs:n,modifiers:o}},Ml={..._l,placeholder:{type:[Boolean,String,Number,Array],default:void 0},placeholderClass:{type:String,default:void 0}},et=q({name:"NuxtImg",props:Ml,emits:["load","error"],setup:(e,t)=>{const n=Ze(),a=Fl(e),o=I(!1),r=I(),l=k(()=>n.getSizes(e.src,{...a.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...a.modifiers.value,width:ye(e.width),height:ye(e.height)}})),s=k(()=>{const f={...a.attrs.value,"data-nuxt-img":""};return(!e.placeholder||o.value)&&(f.sizes=l.value.sizes,f.srcset=l.value.srcset),f}),u=k(()=>{let f=e.placeholder;if(f===""&&(f=!0),!f||o.value)return!1;if(typeof f=="string")return f;const d=Array.isArray(f)?f:typeof f=="number"?[f,f]:[10,10];return n(e.src,{...a.modifiers.value,width:d[0],height:d[1],quality:d[2]||50,blur:d[3]||3},a.options.value)}),p=k(()=>e.sizes?l.value.src:n(e.src,a.modifiers.value,a.options.value)),b=k(()=>u.value?u.value:p.value);if(e.preload){const f=Object.values(l.value).every(d=>d);Kn({link:[{rel:"preload",as:"image",nonce:e.nonce,...f?{href:l.value.src,imagesizes:l.value.sizes,imagesrcset:l.value.srcset}:{href:b.value},...typeof e.preload!="boolean"&&e.preload.fetchPriority?{fetchpriority:e.preload.fetchPriority}:{}}]})}const m=Zt().isHydrating;return J(()=>{if(u.value){const f=new Image;f.src=p.value,e.sizes&&(f.sizes=l.value.sizes||"",f.srcset=l.value.srcset),f.onload=d=>{o.value=!0,t.emit("load",d)},Pl("nuxt-image");return}r.value&&(r.value.complete&&m&&(r.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),r.value.onload=f=>{t.emit("load",f)},r.value.onerror=f=>{t.emit("error",f)})}),()=>de("img",{ref:r,...s.value,...t.attrs,class:e.placeholder&&!o.value?[e.placeholderClass]:void 0,src:b.value})}}),Tl=je(G.ui.strategy,G.ui.modal,$a),Bl=q({components:{HDialog:La,HDialogPanel:Na,TransitionRoot:wn,TransitionChild:yn},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:t}){const{ui:n,attrs:a}=Ee("modal",me(e,"ui"),Tl,me(e,"class")),o=k({get(){return e.modelValue},set(u){t("update:modelValue",u)}}),r=k(()=>e.transition?{...n.value.transition}:{});function l(u){if(e.preventClose){t("close-prevented");return}o.value=u,t("close")}const s=()=>{t("after-leave")};return Jt(()=>Xt("$HAJMhYDoe7")),{ui:n,attrs:a,isOpen:o,transitionClass:r,onAfterLeave:s,close:l}}});function xl(e,t,n,a,o,r){const l=Ie("TransitionChild"),s=Ie("HDialogPanel"),u=Ie("HDialog"),p=Ie("TransitionRoot");return v(),B(p,{appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},{default:x(()=>[_(u,Z({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:x(()=>[e.overlay?(v(),B(l,Z({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:x(()=>[C("div",{class:U([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):M("",!0),C("div",{class:U(e.ui.inner)},[C("div",{class:U([e.ui.container,!e.fullscreen&&e.ui.padding])},[_(l,Z({as:"template",appear:e.appear},e.transitionClass),{default:x(()=>[_(s,{class:U([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:x(()=>[se(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const tt=Fe(Bl,[["render",xl]]),ot=je(G.ui.strategy,G.ui.range,wa),Al=q({inheritAttrs:!1,props:{modelValue:{type:Number,default:0},id:{type:String,default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},size:{type:String,default:null,validator(e){return Object.keys(ot.size).includes(e)}},color:{type:String,default:()=>ot.default.color,validator(e){return G.ui.colors.includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:n,attrs:a}=Ee("range",me(e,"ui"),ot),{emitFormChange:o,inputId:r,color:l,size:s,name:u}=Pt(e,ot),p=k({get(){return e.modelValue},set(c){t("update:modelValue",c)}}),b=c=>{t("change",c.target.value),o()},w=k(()=>Pe(ie(n.value.wrapper,n.value.size[s.value]),e.class)),m=k(()=>Pe(ie(n.value.base,n.value.background,n.value.rounded,l.value&&n.value.ring.replaceAll("{color}",l.value),n.value.size[s.value]),e.inputClass)),f=k(()=>ie(n.value.thumb.base,l.value&&n.value.thumb.color.replaceAll("{color}",l.value),n.value.thumb.ring,n.value.thumb.background,n.value.thumb.size[s.value])),d=k(()=>ie(n.value.track.base,n.value.track.background,n.value.track.rounded,n.value.track.size[s.value])),h=k(()=>ie(n.value.progress.base,n.value.progress.rounded,l.value&&n.value.progress.background.replaceAll("{color}",l.value),n.value.progress.size[s.value])),g=k(()=>{const{modelValue:c,min:$,max:y}=e;return{width:`${(Math.max($,Math.min(c,y))-$)/(y-$)*100}%`}});return{ui:n,attrs:a,name:u,inputId:r,value:p,wrapperClass:w,inputClass:m,thumbClass:f,trackClass:d,progressClass:h,progressStyle:g,onChange:b}}}),Ol=["id","name","min","max","disabled","step"];function zl(e,t,n,a,o,r){return v(),P("div",{class:U(e.wrapperClass)},[It(C("input",Z({id:e.inputId,ref:"input","onUpdate:modelValue":t[0]||(t[0]=l=>e.value=l),name:e.name,min:e.min,max:e.max,disabled:e.disabled,step:e.step,type:"range",class:[e.inputClass,e.thumbClass,e.trackClass]},e.attrs,{onChange:t[1]||(t[1]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,Ol),[[Xn,e.value,void 0,{number:!0}]]),C("span",{class:U(e.progressClass),style:Yt(e.progressStyle)},null,6)],2)}const Ul=Fe(Al,[["render",zl]]),jl="0.05";function El(e,t){const n=parseFloat(e);if(isNaN(n))return e;const a=n+t;return a<0?"0":String(Number(a.toFixed(10)))}function Ll(e,t){let n=t,a=t,o=0,r=0;for(;n>=0&&(n--,!(e[n]==="("&&o===r));)e[n]==="("&&o++,e[n]===")"&&r++;if(n<0)return!1;for(o=0,r=0;a<e.length&&!(e[a]===")"&&o===r);)e[a]==="("&&o++,e[a]===")"&&r++,a++;return a===e.length?!1:{start:n+1,end:a}}function Nl(e){const t=/^\((.*)\)$/,n=e.match(t),a=/:([+-]?(\d*\.)?\d+([eE][+-]?\d+)?)/,o=e.match(a);return n&&!o?`(${n[1]}:1.0)`:e}function Dl(e){const t=e.composedPath()[0],n=parseFloat(jl);if(t.tagName!=="TEXTAREA"||!(e.key==="ArrowUp"||e.key==="ArrowDown")||!e.ctrlKey&&!e.metaKey)return;e.preventDefault();let a=t.selectionStart,o=t.selectionEnd,r=t.value.substring(a,o);if(!r){const u=Ll(t.value,a);if(u)a=u.start,o=u.end,r=t.value.substring(a,o);else{const p=" .,\\/!?%^*;:{}=-_`~()\r\n	";for(;!p.includes(t.value[a-1])&&a>0;)a--;for(;!p.includes(t.value[o])&&o<t.value.length;)o++;if(r=t.value.substring(a,o),!r)return}}r[r.length-1]===" "&&(r=r.substring(0,r.length-1),o-=1),t.value[a-1]==="("&&t.value[o]===")"&&(a-=1,o+=1,r=t.value.substring(a,o)),(r[0]!=="("||r[r.length-1]!==")")&&(r=`(${r})`),r=Nl(r);const l=e.key==="ArrowUp"?n:-n,s=r.replace(/\((.*):(\d+(?:\.\d+)?)\)/,(u,p,b)=>(b=El(b,l),Number(b)==1?p:`(${p}:${b})`));return t.setRangeText(s,a,o,"select"),t.value}const Vl={key:0,class:"text-red-300"},Rl={key:0,class:"flex items-center"},ql={key:2,class:"flex flex-row flex-grow items-center justify-between"},Hl=q({__name:"InputParam",props:{inputParam:{type:Object,required:!0},index:{type:Number,required:!0},inputParamsMap:{type:Array,required:!0},advanced:{type:Boolean,default:!1}},setup(e){const t=e;function n(d){return d?URL.createObjectURL(d):""}const a=I(null),o=I(""),r=I(!1),l=I({width:0,height:0});function s(){try{const d=t.inputParamsMap[t.index][t.inputParam.name].source_input_name,h=t.inputParamsMap.find(g=>{const c=Object.keys(g)[0];if(c===d)return g[c]});b(h[d].value)}catch{l.value.width=0,l.value.height=0}}J(()=>{t.inputParam.type==="range_scale"&&s()}),t.inputParam.type==="range_scale"&&ce(t.inputParamsMap,()=>{s()});function u(){URL.revokeObjectURL(o.value),o.value="",a&&(a.value.$refs.input.value=""),t.inputParamsMap[t.index][t.inputParam.name].value=null}const p=k(()=>t.inputParam.type!=="bool"?t.inputParam.display_name:"");function b(d){if(!(d instanceof File)){l.value.width=0,l.value.height=0;return}const h=URL.createObjectURL(d),g=new Image;g.onload=function(){l.value.width=g.naturalWidth,l.value.height=g.naturalHeight,URL.revokeObjectURL(g.src)},g.src=h}const w=k(()=>{if(t.inputParam.type==="range_scale"){const d=t.inputParamsMap[t.index][t.inputParam.name].value;return`value: ${d}x (${l.value.width}x${l.value.height} -> ${(l.value.width*d).toFixed(0)}x${(l.value.height*d).toFixed(0)})`}return["range","range_scale"].includes(t.inputParam.type)?`value: ${t.inputParamsMap[t.index][t.inputParam.name].value}`:""});Ut(()=>{URL.revokeObjectURL(o.value)});const m=I(null);function f(d){const h=Dl(d);h&&(t.inputParamsMap[t.index][t.inputParam.name].value=h)}return J(()=>{t.inputParam.type==="text"&&m.value&&m.value.$refs.textarea.addEventListener("keydown",f)}),Ut(()=>{t.inputParam.type==="text"&&m.value&&m.value.$refs.textarea.removeEventListener("keydown",f)}),(d,h)=>{var K;const g=sl,c=_t,$=ge,y=et,A=tt,F=rn,E=un,Y=Ul,ee=dn;return(((K=e.inputParam)==null?void 0:K.advanced)||!1)===e.advanced?(v(),B(ee,{key:0,label:i(p),class:"mb-3",help:i(w)},{hint:x(()=>[e.inputParam.optional?M("",!0):(v(),P("span",Vl,"required"))]),default:x(()=>{var oe;return[e.inputParam.type==="text"?(v(),B(g,{key:0,ref_key:"textareaInput",ref:m,size:"md",placeholder:e.inputParam.display_name,required:!e.inputParam.optional,resize:!0,label:e.inputParam.display_name,value:e.inputParamsMap[e.index][e.inputParam.name].value,variant:"outline",onInput:h[0]||(h[0]=D=>{const S=D.target;e.inputParamsMap[e.index][e.inputParam.name].value=S.value})},null,8,["placeholder","required","label","value"])):M("",!0),e.inputParam.type==="number"?(v(),P(Q,{key:1},[e.inputParam.name==="seed"?(v(),P("div",Rl,[e.inputParam.type==="number"?(v(),B(c,{key:0,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:h[1]||(h[1]=D=>{const S=D.target;e.inputParamsMap[e.index][e.inputParam.name].value=S.value})},null,8,["label","required","value","max","min"])):M("",!0),_($,{icon:"i-heroicons-arrow-path",color:"violet",variant:"outline",size:"xs",class:"ml-2",onClick:h[2]||(h[2]=()=>{e.inputParamsMap[e.index][e.inputParam.name].value=Math.floor(Math.random()*1e7)})})])):(v(),B(c,{key:1,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:h[3]||(h[3]=D=>{const S=D.target;e.inputParamsMap[e.index][e.inputParam.name].value=S.value})},null,8,["label","required","value","max","min"]))],64)):M("",!0),e.inputParam.type==="image"?(v(),P("div",ql,[_(c,{ref_key:"imageInput",ref:a,type:"file",accept:"image/*",class:"w-full",label:e.inputParam.display_name,onChange:h[4]||(h[4]=D=>{console.debug("files",D);const S=D==null?void 0:D[0];e.inputParamsMap[e.index][e.inputParam.name].value=S,o.value=n(S),console.debug("inputParamsMap",e.inputParamsMap)})},null,8,["label"]),i(o)!==""?(v(),B(y,{key:0,src:i(o),class:"w-10 h-10 rounded-lg cursor-pointer ml-2",onClick:h[5]||(h[5]=()=>{r.value=!0})},null,8,["src"])):M("",!0),i(o)!==""?(v(),B($,{key:1,icon:"i-heroicons-x-mark",variant:"outline",class:"ml-2",onClick:u})):M("",!0)])):M("",!0),e.inputParam.type==="image"?(v(),B(A,{key:3,modelValue:i(r),"onUpdate:modelValue":h[8]||(h[8]=D=>Ce(r)?r.value=D:null),class:"z-[90]",transition:!1,fullscreen:""},{default:x(()=>[_($,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:h[6]||(h[6]=()=>r.value=!1)}),C("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:h[7]||(h[7]=We(()=>r.value=!1,["left"]))},[i(o)?(v(),B(y,{key:0,class:"lg:h-full",fit:"inside",src:i(o)},null,8,["src"])):M("",!0)])]),_:1},8,["modelValue"])):M("",!0),e.inputParam.type==="list"?(v(),B(F,{key:4,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":h[9]||(h[9]=D=>e.inputParamsMap[e.index][e.inputParam.name].value=D),placeholder:e.inputParam.display_name,options:Object.keys(e.inputParam.options)},null,8,["modelValue","placeholder","options"])):M("",!0),e.inputParam.type==="bool"?(v(),B(E,{key:5,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":h[10]||(h[10]=D=>e.inputParamsMap[e.index][e.inputParam.name].value=D),label:(oe=e.inputParam)==null?void 0:oe.display_name},null,8,["modelValue","label"])):M("",!0),["range","range_scale"].includes(e.inputParam.type)?(v(),B(Y,{key:6,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":h[11]||(h[11]=D=>e.inputParamsMap[e.index][e.inputParam.name].value=D),label:e.inputParam.display_name,size:"sm",min:e.inputParam.min,max:e.inputParam.max,step:e.inputParam.step},null,8,["modelValue","label","min","max","step"])):M("",!0)]}),_:1},8,["label","help"])):M("",!0)}}}),Wl={key:0,class:"heading"},Ql={key:1},Gl=q({__name:"InputParams",props:{inputParamsMap:{type:Array,required:!0},additionalInputParamsMap:{type:Array,required:!1,default:[]},advanced:{type:Boolean,default:!1}},setup(e){const t=e,n=He(),a=I(!t.advanced);return(o,r)=>{const l=ve,s=Hl;return v(),P(Q,null,[e.advanced?(v(),P("div",Wl,[C("h4",{class:"text-md font-bold cursor-pointer select-none flex items-center mb-3",onClick:r[0]||(r[0]=()=>{a.value=!i(a)})},[_(l,{name:i(a)?"i-heroicons-chevron-up":"i-heroicons-chevron-down",class:"mr-2"},null,8,["name"]),j(" Advanced options ")])])):M("",!0),i(a)?(v(),P("div",Ql,[(v(!0),P(Q,null,le(i(n).currentFlow.input_params,(u,p)=>(v(),B(s,{key:p,"input-params-map":e.inputParamsMap,index:p,"input-param":u,advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128)),(v(!0),P(Q,null,le(e.additionalInputParamsMap,(u,p)=>(v(),B(s,{key:Object.keys(u)[0],"input-params-map":e.additionalInputParamsMap,index:p,"input-param":u[Object.keys(u)[0]],advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128))])):M("",!0)],64)}}}),Jl={key:0,id:"prompt",class:"w-full my-10 lg:my-0 p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg"},Yl={class:"flex justify-end px-2"},Kl=q({__name:"Prompt",setup(e,{expose:t}){var b,w,m,f;const n=He();let a=localStorage.getItem(`input_params_map_${(b=n.currentFlow)==null?void 0:b.name}`);if(a){const d=JSON.parse(a);"flow_version"in d&&d.flow_version.split(".")[0]===((w=n.currentFlow)==null?void 0:w.version.split(".")[0])?a=d:(a=null,localStorage.removeItem(`input_params_map_${(m=n.currentFlow)==null?void 0:m.name}`))}const o=I(((f=n.currentFlow)==null?void 0:f.input_params.map(d=>{var h;if(d.type==="text")return{[d.name]:{value:a!==null?a[d.name]:d.default||"",type:d.type,optional:d.optional,advanced:d.advanced||!1}};if(d.type==="number")return{[d.name]:{value:a!==null?a[d.name]:d.default||0,type:d.type,optional:d.optional,advanced:d.advanced||!1}};if(d.type==="image")return{[d.name]:{value:a!==null?a[d.name]:d.default||{},type:d.type,optional:d.optional,advanced:d.advanced||!1}};if(d.type==="list")return{[d.name]:{value:a!==null?a[d.name]:d.default||Object.keys(d.options)[0]||"",type:d.type,optional:d.optional,options:d.options,advanced:d.advanced||!1}};if(d.type==="bool")return{[d.name]:{value:a!==null?a[d.name]:d.default||!1,type:d.type,optional:d.optional,advanced:d.advanced||!1}};if(["range","range_scale"].includes(d.type)){const g={value:a!==null?a[d.name]:d.default||0,type:d.type,optional:d.optional,advanced:d.advanced||!1,min:d.min||0,max:d.max||100,step:d.step||1};if(d.type==="range_scale"&&(g.source_input_name=d.source_input_name||null,g.source_input_name===null||g.source_input_name==="")){const c=(h=n.currentFlow)==null?void 0:h.input_params.find($=>$.type==="image"&&!$.optional);c&&(g.source_input_name=c.name)}return{[d.name]:g}}}))||[]),r=I([{seed:{name:"seed",display_name:"Random seed",value:Math.floor(Math.random()*1e7),type:"number",optional:!0,advanced:!0,min:0,max:1e7}}]);function l(d){console.debug("Copy prompt inputs",d),Object.keys(d).forEach(g=>{const c=o.value.findIndex($=>Object.keys($)[0]===g);c!==-1&&(o.value[c][g].value=d[g].value)});const h=document.getElementById("prompt");h&&h.scrollIntoView({behavior:"smooth"})}t({copyPromptInputs:l}),o.value.forEach(d=>{const h=Object.keys(d)[0];d[h].type!=="image"&&ce(()=>d[h].value,()=>{var c,$;const g={};o.value.forEach(y=>{const A=Object.keys(y)[0];g[A]=y[A].value}),localStorage.setItem(`input_params_map_${(c=n.currentFlow)==null?void 0:c.name}`,JSON.stringify({...g,flow_version:($=n.currentFlow)==null?void 0:$.version}))})});const s=I(!1),u=I(1),p=I(!1);return(d,h)=>{const g=ve,c=Gl,$=_t,y=dn,A=ge;return i(n).currentFlow?(v(),P("div",Jl,[C("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:h[0]||(h[0]=()=>{p.value=!i(p)})},[_(g,{name:i(p)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),j(" Prompt ")]),It(C("div",null,[_(c,{"input-params-map":i(o),"additional-input-params-map":i(r),advanced:!1},null,8,["input-params-map","additional-input-params-map"]),_(c,{"input-params-map":i(o),"additional-input-params-map":i(r),advanced:!0},null,8,["input-params-map","additional-input-params-map"]),_(y,{label:"Number of images"},{default:x(()=>[_($,{modelValue:i(u),"onUpdate:modelValue":h[1]||(h[1]=F=>Ce(u)?u.value=F:null),type:"number",min:"1",max:"50",label:"Batch size",class:"mb-3 max-w-fit flex justify-end"},null,8,["modelValue"])]),_:1}),C("div",Yl,[_(A,{icon:"i-heroicons-sparkles-16-solid",variant:"outline",loading:i(s),onClick:h[2]||(h[2]=()=>{s.value=!0,i(n).runFlow(i(n).currentFlow,[...i(o),...i(r)],i(u)).finally(()=>{s.value=!1;const F=i(r).find(E=>Object.keys(E)[0]==="seed");F.seed.value=Number(F.seed.value)+i(u)+1})})},{default:x(()=>[j(" Run prompt ")]),_:1},8,["loading"])])],512),[[en,!i(p)]])])):M("",!0)}}}),Xl=e=>{const t=I(0);function n(r){e.value.style.scrollSnapType="none",e.value.style.scrollBehavior="auto",t.value=r.pageX,window.addEventListener("mousemove",o),window.addEventListener("mouseup",a)}function a(){e.value.style.removeProperty("scroll-behavior"),e.value.style.removeProperty("scroll-snap-type"),e.value.style.removeProperty("pointer-events"),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",a)}function o(r){r.preventDefault(),e.value.style.pointerEvents="none";const l=r.pageX-t.value;t.value=r.pageX,e.value.scrollBy(-l,0)}J(()=>{e.value&&e.value.addEventListener("mousedown",n)}),we(()=>{e.value&&e.value.removeEventListener("mousedown",n)})},bt=je(G.ui.strategy,G.ui.carousel,ya),Zl=q({components:{UButton:ge},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},arrows:{type:Boolean,default:!1},indicators:{type:Boolean,default:!1},prevButton:{type:Object,default:()=>bt.default.prevButton},nextButton:{type:Object,default:()=>bt.default.nextButton},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:void 0}},setup(e,{expose:t}){const{ui:n,attrs:a}=Ee("carousel",me(e,"ui"),bt,me(e,"class")),o=I(),r=I(0),{x:l}=Zn(o,{behavior:"smooth"}),{width:s}=ea(o);Xl(o),ta(o,h=>{var c,$;const[g]=h;r.value=(($=(c=g==null?void 0:g.target)==null?void 0:c.firstElementChild)==null?void 0:$.clientWidth)||0});const u=k(()=>r.value?Math.round(l.value/r.value)+1:0),p=k(()=>r.value?e.items.length-Math.round(s.value/r.value)+1:0),b=k(()=>u.value<=1),w=k(()=>u.value===p.value);function m(){l.value+=r.value}function f(){l.value-=r.value}function d(h){l.value=(h-1)*r.value}return t({pages:p,page:u,prev:f,next:m,select:d}),{ui:n,attrs:a,isFirst:b,isLast:w,carouselRef:o,pages:p,currentPage:u,onClickNext:m,onClickPrev:f,onClick:d,twMerge:Pe}}}),eo=["role"],to=["aria-selected","aria-label","onClick"];function no(e,t,n,a,o,r){const l=ge;return v(),P("div",Z({class:e.ui.wrapper},e.attrs),[C("div",{ref:"carouselRef",class:U([e.ui.container,"no-scrollbar"])},[(v(!0),P(Q,null,le(e.items,(s,u)=>(v(),P("div",{key:u,class:U(e.ui.item),role:e.indicators?"tabpanel":null},[se(e.$slots,"default",{item:s,index:u},void 0,!0)],10,eo))),128))],2),e.arrows?(v(),P("div",{key:0,class:U(e.ui.arrows.wrapper)},[se(e.$slots,"prev",{onClick:e.onClickPrev,disabled:e.isFirst},()=>{var s;return[e.prevButton?(v(),B(l,Z({key:0,disabled:e.isFirst},{...e.ui.default.prevButton,...e.prevButton},{class:e.twMerge(e.ui.default.prevButton.class,(s=e.prevButton)==null?void 0:s.class),"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["disabled","class","onClick"])):M("",!0)]},!0),se(e.$slots,"next",{onClick:e.onClickNext,disabled:e.isLast},()=>{var s;return[e.nextButton?(v(),B(l,Z({key:0,disabled:e.isLast},{...e.ui.default.nextButton,...e.nextButton},{class:e.twMerge(e.ui.default.nextButton.class,(s=e.nextButton)==null?void 0:s.class),"aria-label":"Next",onClick:e.onClickNext}),null,16,["disabled","class","onClick"])):M("",!0)]},!0)],2)):M("",!0),e.indicators?(v(),P("div",{key:1,role:"tablist",class:U(e.ui.indicators.wrapper)},[(v(!0),P(Q,null,le(e.pages,s=>se(e.$slots,"indicator",{key:s,onClick:e.onClick,active:s===e.currentPage,page:s},()=>[C("button",{type:"button",role:"tab","aria-selected":s===e.currentPage,class:U([e.ui.indicators.base,s===e.currentPage?e.ui.indicators.active:e.ui.indicators.inactive]),"aria-label":`set slide ${s}`,onClick:u=>e.onClick(s)},null,10,to)],!0)),128))],2)):M("",!0)],16)}const Sn=Fe(Zl,[["render",no],["__scopeId","data-v-ea54307d"]]),ao={class:"flex flex-col basis-full"},lo=q({__name:"QueueInputFiles",props:{running:{type:Object,required:!0}},setup(e){const t=Ze(),n=function(s,u){return`${ft()}/tasks/inputs?task_id=${s}&input_index=${u}`},a=I(!1),o=I(""),r=I(0),l=I(!0);return(s,u)=>{var d,h,g,c,$;const p=ve,b=et,w=Sn,m=ge,f=tt;return s.$props.running&&s.$props.running.input_files&&((d=Object.keys(s.$props.running.input_files))==null?void 0:d.length)>0?(v(),P("div",{key:0,class:U(["ml-2 mt-2 mb-5",{"mb-10":((h=Object.keys(s.$props.running.input_files))==null?void 0:h.length)>1&&!i(l)}])},[C("h4",{class:"mb-3 font-bold cursor-pointer select-none flex items-center text-sm",onClick:u[0]||(u[0]=()=>l.value=!i(l))},[_(p,{name:i(l)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),C("span",null," Input files ("+R((g=Object.keys(s.$props.running.input_files))==null?void 0:g.length)+") ",1)]),i(l)?M("",!0):(v(),P(Q,{key:0},[((c=Object.keys(s.$props.running.input_files))==null?void 0:c.length)===1?(v(),B(b,{key:0,class:"mb-5 rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:i(t)(`${("buildBackendApiUrl"in s?s.buildBackendApiUrl:i(ft))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:n(s.$props.running.task_id,0),onClick:u[1]||(u[1]=()=>{o.value=n(s.$props.running.task_id,0),r.value=0,a.value=!0})},null,8,["placeholder","src"])):M("",!0),(($=Object.keys(s.$props.running.input_files))==null?void 0:$.length)>1?(v(),B(w,{key:1,items:Object.keys(s.$props.running.input_files).map(y=>({task_id:e.running.task_id,index:y})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:x(({item:y})=>[C("div",ao,[_(b,{class:"rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:i(t)(`${("buildBackendApiUrl"in s?s.buildBackendApiUrl:i(ft))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:n(y.task_id,y.index),onClick:()=>{o.value=n(s.$props.running.task_id,y.index),r.value=y.index,a.value=!0}},null,8,["placeholder","src","onClick"])])]),_:1},8,["items"])):M("",!0),_(f,{modelValue:i(a),"onUpdate:modelValue":u[4]||(u[4]=y=>Ce(a)?a.value=y:null),class:"z-[90]",transition:!1,fullscreen:""},{default:x(()=>[_(m,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:u[2]||(u[2]=()=>a.value=!1)}),C("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:u[3]||(u[3]=We(()=>a.value=!1,["left"]))},[i(o)?(v(),B(b,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",placeholder:"/vix_logo.png",src:i(o)},null,8,["src"])):M("",!0)])]),_:1},8,["modelValue"])],64))],2)):M("",!0)}}}),xe=je(G.ui.strategy,G.ui.alert,ba),oo=q({components:{UIcon:ve,UAvatar:it,UButton:ge},inheritAttrs:!1,props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>xe.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>xe.default.closeButton},actions:{type:Array,default:()=>[]},color:{type:String,default:()=>xe.default.color,validator(e){return[...G.ui.colors,...Object.keys(xe.color)].includes(e)}},variant:{type:String,default:()=>xe.default.variant,validator(e){return[...Object.keys(xe.variant),...Object.values(xe.color).flatMap(t=>Object.keys(t))].includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["close"],setup(e){const{ui:t,attrs:n}=Ee("alert",me(e,"ui"),xe),a=k(()=>{var l,s;const r=((s=(l=t.value.color)==null?void 0:l[e.color])==null?void 0:s[e.variant])||t.value.variant[e.variant];return Pe(ie(t.value.wrapper,t.value.rounded,t.value.shadow,t.value.padding,r==null?void 0:r.replaceAll("{color}",e.color)),e.class)});function o(r){r.click&&r.click()}return{ui:t,attrs:n,alertClass:a,onAction:o,twMerge:Pe}}});function ro(e,t,n,a,o,r){const l=ve,s=it,u=ge;return v(),P("div",Z({class:e.alertClass},e.attrs),[C("div",{class:U(["flex",[e.ui.gap,{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}]])},[se(e.$slots,"icon",{icon:e.icon},()=>[e.icon?(v(),B(l,{key:0,name:e.icon,class:U(e.ui.icon.base)},null,8,["name","class"])):M("",!0)]),se(e.$slots,"avatar",{avatar:e.avatar},()=>[e.avatar?(v(),B(s,Z({key:0},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):M("",!0)]),C("div",{class:U(e.ui.inner)},[e.title||e.$slots.title?(v(),P("p",{key:0,class:U(e.ui.title)},[se(e.$slots,"title",{title:e.title},()=>[j(R(e.title),1)])],2)):M("",!0),e.description||e.$slots.description?(v(),P("div",{key:1,class:U(e.twMerge(e.ui.description,!(e.title&&e.$slots.title)&&"mt-0 leading-5"))},[se(e.$slots,"description",{description:e.description},()=>[j(R(e.description),1)])],2)):M("",!0),(e.description||e.$slots.description)&&(e.actions.length||e.$slots.actions)?(v(),P("div",{key:2,class:U(e.ui.actions)},[se(e.$slots,"actions",{},()=>[(v(!0),P(Q,null,le(e.actions,(p,b)=>(v(),B(u,Z({key:b,ref_for:!0},{...e.ui.default.actionButton||{},...p},{onClick:We(w=>e.onAction(p),["stop"])}),null,16,["onClick"]))),128))])],2)):M("",!0)],2),e.closeButton||!e.description&&!e.$slots.description&&e.actions.length?(v(),P("div",{key:0,class:U(e.twMerge(e.ui.actions,"mt-0"))},[!e.description&&!e.$slots.description&&(e.actions.length||e.$slots.actions)?se(e.$slots,"actions",{key:0},()=>[(v(!0),P(Q,null,le(e.actions,(p,b)=>(v(),B(u,Z({key:b,ref_for:!0},{...e.ui.default.actionButton||{},...p},{onClick:We(w=>e.onAction(p),["stop"])}),null,16,["onClick"]))),128))]):M("",!0),e.closeButton?(v(),B(u,Z({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{onClick:t[0]||(t[0]=We(p=>e.$emit("close"),["stop"]))}),null,16)):M("",!0)],2)):M("",!0)],2)],16)}const so=Fe(oo,[["render",ro]]),io=q({__name:"QueueErrorAlert",props:{running:{type:Object,required:!0}},setup(e){const t=He(),n=I(!1);return(a,o)=>{const r=so;return v(),B(r,{class:"mb-5",icon:"i-heroicons-exclamation-circle-16-solid",color:"red",variant:"soft",title:"Task failed",description:e.running.error,actions:[{variant:"outline",color:"yellow",label:"Restart",loading:i(n),icon:"i-heroicons-arrow-path",click:()=>{n.value=!0,i(t).restartFlow(a.$props.running).finally(()=>{n.value=!1})}}]},null,8,["description","actions"])}}}),uo={class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md mt-5 mb-10"},co={class:"flex items-center justify-between mb-2"},mo={key:0},po={key:1,class:"text-red-400"},fo={class:"text-sm mb-5 text-slate-500"},vo={class:"flex justify-between"},go=q({__name:"Queue",setup(e){const t=He(),n=I(!1),a=I(!0);return(o,r)=>{var m,f,d,h,g,c,$,y,A;const l=ve,s=ge,u=sn,p=lo,b=io,w=Tt;return v(),P("div",uo,[C("div",co,[C("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center",onClick:r[0]||(r[0]=()=>{a.value=!i(a)})},[_(l,{name:i(a)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),C("span",null," Queue ("+R(i(t).flowsRunningByName((m=i(t).currentFlow)==null?void 0:m.name).length)+") ",1),i(t).flowsRunningByName((f=i(t).currentFlow)==null?void 0:f.name).length>0?(v(),P("span",mo,"  - "+R(`${((h=i(t).flowsRunningByName((d=i(t).currentFlow)==null?void 0:d.name).filter(F=>F.progress>0)[0])==null?void 0:h.progress.toFixed(0))??0}%`),1)):M("",!0),i(t).flowsRunningByNameWithErrors((g=i(t))==null?void 0:g.currentFlow.name).length>0?(v(),P("span",po,"  ("+R(i(t).flowsRunningByNameWithErrors((c=i(t).currentFlow)==null?void 0:c.name).length)+") ",1)):M("",!0)]),($=i(t).currentFlow)!=null&&$.name&&i(t).flowsRunningByName((y=i(t).currentFlow)==null?void 0:y.name).length>0?(v(),B(s,{key:0,icon:"i-heroicons-stop",color:"orange",variant:"outline",loading:i(n),onClick:r[1]||(r[1]=()=>{var F;n.value=!0,i(t).cancelRunningFlows((F=i(t).currentFlow)==null?void 0:F.name).finally(()=>{n.value=!1})})},{default:x(()=>[j(" Cancel all ")]),_:1},8,["loading"])):M("",!0)]),i(a)?M("",!0):(v(!0),P(Q,{key:0},le(i(t).flowsRunningByName((A=i(t).currentFlow)==null?void 0:A.name),F=>(v(),P("div",{key:F.task_id,class:"mb-5"},[_(u,{class:"mb-3",value:F==null?void 0:F.progress,indicator:"",color:F.error?"red":"green"},null,8,["value","color"]),C("p",fo,R(["#"+F.task_id,...Object.keys(F.input_params_mapped).filter(E=>F.input_params_mapped[E].value&&F.input_params_mapped[E].value!=="").map(E=>`${F.input_params_mapped[E].display_name}: ${F.input_params_mapped[E].value}`)].join(" | ")+`${F.execution_time?" | execution_time: "+F.execution_time.toFixed(2)+"s":""}`),1),_(p,{running:F},null,8,["running"]),F.error?(v(),B(b,{key:0,running:F},null,8,["running"])):M("",!0),C("div",vo,[_(s,{icon:F.progress>=0&&F.progress<100?"i-heroicons-stop":"i-heroicons-minus-circle",color:F.error?"red":"orange",variant:"outline",loading:i(n),onClick:()=>{n.value=!0,i(t).cancelRunningFlow(F).finally(()=>{n.value=!1})}},{default:x(()=>[j(R(F.progress>=0&&F.progress<100?"Cancel":"Remove"),1)]),_:2},1032,["icon","color","loading","onClick"]),_(w,{items:[[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var E;return i(t).downloadFlowComfy((E=i(t).currentFlow)==null?void 0:E.name,F.task_id)}}]],mode:"click",popper:{placement:"bottom-end"}},{default:x(()=>[_(s,{color:"blue",variant:"outline",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])]))),128))])}}}),ho=Fe(go,[["__scopeId","data-v-82e889dc"]]),bo=q({__name:"ScrollToTop",props:{show:{type:Boolean,required:!0},target:{type:String,required:!0}},setup(e){const t=e;function n(){const a=document.getElementById(t.target);a&&a.scrollIntoView({behavior:"smooth"})}return(a,o)=>{const r=ge;return It((v(),B(r,{icon:"i-heroicons-arrow-small-up",color:"black",variant:"outline",onClick:n},null,512)),[[en,e.show]])}}}),be=je(G.ui.strategy,G.ui.select,na),yo=q({components:{UIcon:ve},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>be.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>be.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(be.size).includes(e)}},color:{type:String,default:()=>be.default.color,validator(e){return[...G.ui.colors,...Object.keys(be.color)].includes(e)}},variant:{type:String,default:()=>be.default.variant,validator(e){return[...Object.keys(be.variant),...Object.values(be.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t,slots:n}){const{ui:a,attrs:o}=Ee("select",me(e,"ui"),be,me(e,"class")),{size:r,rounded:l}=aa({ui:a,props:e}),{emitFormChange:s,inputId:u,color:p,size:b,name:w}=Pt(e,be),m=k(()=>r.value||b.value),f=O=>{t("update:modelValue",O.target.value)},d=O=>{t("change",O.target.value),s()},h=O=>jt(O,e.valueAttribute,""),g=O=>jt(O,e.optionAttribute,""),c=O=>["string","number","boolean"].includes(typeof O)?{[e.valueAttribute]:O,[e.optionAttribute]:O}:{...O,[e.valueAttribute]:h(O),[e.optionAttribute]:g(O)},$=k(()=>e.options.map(O=>c(O))),y=k(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...$.value]:$.value),A=k(()=>{const O=c(e.modelValue),L=y.value.find(W=>W[e.valueAttribute]===O[e.valueAttribute]);return L?L[e.valueAttribute]:""}),F=k(()=>{var L,W;const O=((W=(L=a.value.color)==null?void 0:L[p.value])==null?void 0:W[e.variant])||a.value.variant[e.variant];return Pe(ie(a.value.base,a.value.form,l.value,a.value.size[m.value],e.padded?a.value.padding[m.value]:"p-0",O==null?void 0:O.replaceAll("{color}",p.value),(E.value||n.leading)&&a.value.leading.padding[m.value],(Y.value||n.trailing)&&a.value.trailing.padding[m.value]),e.placeholder&&!e.modelValue&&a.value.placeholder,e.selectClass)}),E=k(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),Y=k(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),ee=k(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),K=k(()=>e.loading&&!E.value?e.loadingIcon:e.trailingIcon||e.icon),oe=k(()=>ie(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[m.value])),D=k(()=>ie(a.value.icon.base,p.value&&G.ui.colors.includes(p.value)&&a.value.icon.color.replaceAll("{color}",p.value),a.value.icon.size[m.value],e.loading&&a.value.icon.loading)),S=k(()=>ie(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[m.value])),T=k(()=>ie(a.value.icon.base,p.value&&G.ui.colors.includes(p.value)&&a.value.icon.color.replaceAll("{color}",p.value),a.value.icon.size[m.value],e.loading&&!E.value&&a.value.icon.loading));return{ui:a,attrs:o,name:w,inputId:u,normalizedOptionsWithPlaceholder:y,normalizedValue:A,isLeading:E,isTrailing:Y,selectClass:F,leadingIconName:ee,leadingIconClass:D,leadingWrapperIconClass:oe,trailingIconName:K,trailingIconClass:T,trailingWrapperIconClass:S,onInput:f,onChange:d}}}),wo=["id","name","value","required","disabled"],ko=["value","label"],$o=["value","selected","disabled","textContent"],So=["value","selected","disabled","textContent"];function Io(e,t,n,a,o,r){const l=ve;return v(),P("div",{class:U(e.ui.wrapper)},[C("select",Z({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:t[0]||(t[0]=(...s)=>e.onInput&&e.onInput(...s)),onChange:t[1]||(t[1]=(...s)=>e.onChange&&e.onChange(...s))}),[(v(!0),P(Q,null,le(e.normalizedOptionsWithPlaceholder,(s,u)=>(v(),P(Q,null,[s.children?(v(),P("optgroup",{key:`${s[e.valueAttribute]}-optgroup-${u}`,value:s[e.valueAttribute],label:s[e.optionAttribute]},[(v(!0),P(Q,null,le(s.children,(p,b)=>(v(),P("option",{key:`${p[e.valueAttribute]}-${u}-${b}`,value:p[e.valueAttribute],selected:p[e.valueAttribute]===e.normalizedValue,disabled:p.disabled,textContent:R(p[e.optionAttribute])},null,8,$o))),128))],8,ko)):(v(),P("option",{key:`${s[e.valueAttribute]}-${u}`,value:s[e.valueAttribute],selected:s[e.valueAttribute]===e.normalizedValue,disabled:s.disabled,textContent:R(s[e.optionAttribute])},null,8,So))],64))),256))],16,wo),e.isLeading&&e.leadingIconName||e.$slots.leading?(v(),P("span",{key:0,class:U(e.leadingWrapperIconClass)},[se(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[_(l,{name:e.leadingIconName,class:U(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):M("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(v(),P("span",{key:1,class:U(e.trailingWrapperIconClass)},[se(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[_(l,{name:e.trailingIconName,class:U(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):M("",!0)],2)}const Co=Fe(yo,[["render",Io],["__scopeId","data-v-9e521a3e"]]),Po={class:"flex flex-col items-center mb-2"},_o={class:"text-slate-500 text-center text-sm"},Fo={key:0},Mo={key:1},To=q({__name:"ChildOutput",props:{flowResult:{type:Object,required:!0}},setup(e){const t=e,n=Ze(),a=I(t.flowResult),o=l=>l.child_tasks.length===0?l:l.child_tasks.length===1?(a.value=l,o(l.child_tasks[0])):(l.child_tasks[l.child_tasks.length-1].child_tasks.length===0&&(a.value=l.child_tasks[l.child_tasks.length-1]),o(l.child_tasks[l.child_tasks.length-1])),r=k(()=>{const l=o(t.flowResult);return l||null});return(l,s)=>{const u=et,p=Ie("ImgComparisonSlider"),b=la;return v(),P("div",Po,[_(p,{class:"mb-2 mx-auto outline-none w-fit rounded-lg"},{default:x(()=>{var w;return[_(u,{slot:"first",class:"h-100 mx-auto rounded-lg cursor-pointer",draggable:"false",loading:"lazy",placeholder:i(n)(`${("buildBackendUrl"in l?l.buildBackendUrl:i(st))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:("outputImgSrc"in l?l.outputImgSrc:i(Ae))({task_id:i(a).task_id,node_id:(w=i(a))==null?void 0:w.outputs[0].comfy_node_id})},null,8,["placeholder","src"]),i(r)&&i(r).progress===100?(v(),B(u,{key:0,slot:"second",class:"h-100 mx-auto rounded-lg cursor-pointer",draggable:"false",loading:"lazy",placeholder:i(n)(`${("buildBackendUrl"in l?l.buildBackendUrl:i(st))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:("outputImgSrc"in l?l.outputImgSrc:i(Ae))({task_id:i(r).task_id,node_id:i(r).outputs[0].comfy_node_id})},null,8,["placeholder","src"])):M("",!0)]}),_:1}),C("p",_o,[i(r)&&i(r).progress===100?(v(),P("span",Fo,[j(" Comparison with child task "),_(b,{to:`/workflows/${i(r).name}?task_id=${i(r).task_id}`,class:"text-blue-500 hover:underline"},{default:x(()=>[j(" #"+R(i(r).task_id),1)]),_:1},8,["to"])])):(v(),P("span",Mo,"No child output available"))])])}}}),Bo={class:"p-4"},xo=C("h2",{class:"text-lg text-center mb-4"},"Send to flow",-1),Ao={class:"flex justify-center mb-4"},Oo={key:0,class:"text-sm text-slate-500 text-center mb-4"},zo={class:"text-md text-center text-red-500 mb-4"},Uo={key:1},jo={class:"flex items-center justify-between"},Eo=q({__name:"SendToFlowModal",props:{show:{type:Boolean,required:!1},flowResult:{type:Object,required:!1,default:()=>null},outputImgSrc:{type:String,required:!0},outputParamIndex:{type:Number,required:!0},inputParamsMapped:{type:Object,required:!0}},emits:["update:show"],setup(e,{emit:t}){const n=e,a=He(),o=k(()=>a.sub_flows.map(b=>({value:b.name,label:`${b.display_name} - ${b.description}`}))),r=I(o.value[0]||""),l=I(!1),s=t;function u(){console.debug("[Send to flow]: ",r.value);const b=a.sub_flows.find(m=>m.name===r.value.value&&m.display_name===r.value.label.split(" - ")[0]);if(console.debug("[Send to flow]: targetFlow",b),!b){Ct().add({title:`Target sub-flow "${r.value.value}" not found`,description:"Please, verify the target sub-flow is installed and available and try again",timeout:5e3});return}const w=b.input_params.reduce((m,f)=>{const d={};return f.type==="text"?d[f.name]={value:f.default||"",type:f.type}:f.type==="number"?d[f.name]={value:f.default||0,type:f.type}:f.type==="image"?d[f.name]={value:JSON.stringify({task_id:n.flowResult.task_id,node_id:n.flowResult.outputs[n.outputParamIndex].comfy_node_id})||"",type:f.type}:f.type==="list"?d[f.name]={value:f.default||Object.keys(f.options)[0]||"",type:f.type,options:f.options}:f.type==="bool"?d[f.name]={value:f.default||!1,type:f.type}:["range","range_scale"].includes(f.type)&&(d[f.name]={value:f.default||0,type:f.type}),m.push(d),m},[]);console.debug("[Send to flow]: input_params_map",w),l.value=!0,a.runFlow(b,w,1,p.value).finally(()=>{l.value=!1,s("update:show",!1)})}const p=I(!1);return oa(()=>{a.fetchSubFlows("image").then(()=>{r.value=o.value[0]||""}),p.value=!1}),(b,w)=>{const m=et,f=rn,d=un,h=ge,g=tt;return v(),B(g,{modelValue:b.$props.show,"onUpdate:modelValue":w[2]||(w[2]=c=>b.$props.show=c),class:"z-[90]",transition:!1},{default:x(()=>[C("div",Bo,[xo,C("div",Ao,[_(m,{src:e.outputImgSrc,class:"w-1/2 rounded-lg",draggable:!1},null,8,["src"])]),e.inputParamsMapped?(v(),P("p",Oo,R(["#"+e.flowResult.task_id,...Object.keys(e.inputParamsMapped).filter(c=>e.inputParamsMapped[c].value!=="").map(c=>`${e.inputParamsMapped[c].display_name}: ${e.inputParamsMapped[c].value}`)].join(" | ")),1)):M("",!0),C("p",zo,[i(o).length>0?(v(),B(f,{key:0,modelValue:i(r),"onUpdate:modelValue":w[0]||(w[0]=c=>Ce(r)?r.value=c:null),class:"w-full",size:"lg",options:i(o)},null,8,["modelValue","options"])):(v(),P("span",Uo,"No sub-flows available"))]),C("div",jo,[_(d,{modelValue:i(p),"onUpdate:modelValue":w[1]||(w[1]=c=>Ce(p)?p.value=c:null),label:"Child task (bind as sub-tasks)"},null,8,["modelValue"]),_(h,{icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",loading:i(l),disabled:i(o).length===0,onClick:u},{default:x(()=>[j(" Send ")]),_:1},8,["loading","disabled"])])])]),_:1},8,["modelValue"])}}});function Lo(e={}){const{copy:t,isSupported:n}=ra(),a=Ct();function o(r,l={},s={}){n&&t(r).then(()=>{!l.title&&!l.description||a.add({...l,...e})},function(u){a.add({...s,description:s.description||u.message,...e})})}return{copy:o}}const No={class:"flex flex-col md:flex-row items-center justify-center mb-5 sticky top-1 z-[10]"},Do={class:"flex items-center justify-center"},Vo={class:"p-4"},Ro=C("p",{class:"text-lg text-center mb-4"},"Are you sure you want to delete all results?",-1),qo={class:"text-md text-center text-red-500 mb-4"},Ho={class:"flex justify-center"},Wo={key:0,class:"results overflow-auto"},Qo=["id"],Go={class:"flex flex-col basis-full"},Jo={class:"text-sm text-slate-500 text-center mb-1"},Yo={class:"w-5/6 mx-auto"},Ko={class:"w-full flex justify-center items-center"},Xo={key:1,class:"text-center text-slate-500"},Zo=q({__name:"Output",emits:["copy-prompt-inputs"],setup(e,{emit:t}){const n=He(),a=k(()=>{var S;return n.flowResultsByName((S=n.currentFlow)==null?void 0:S.name).length>0||!1}),o=k(()=>{var S;return n.flowResultsByName((S=n.currentFlow)==null?void 0:S.name).reverse()||[]}),r=k(()=>n.$state.resultsPageSize);ce(o,()=>{o.value.length<=n.$state.resultsPageSize?n.$state.resultsPage=1:n.$state.resultsPage>Math.ceil(o.value.length/n.$state.resultsPageSize)&&(n.$state.resultsPage=Math.ceil(o.value.length/n.$state.resultsPageSize))}),ce(r,()=>{o.value.length<=n.$state.resultsPageSize?n.$state.resultsPage=1:n.$state.resultsPage>Math.ceil(o.value.length/n.$state.resultsPageSize)&&(n.$state.resultsPage=Math.ceil(o.value.length/n.$state.resultsPageSize)),n.saveUserOptions()}),we(()=>{n.$state.flow_results_filter="",n.$state.resultsPage=1});const l=t;function s(S){l("copy-prompt-inputs",S.input_params_mapped)}function u(S){h.value=S,d.value=!0}const p=I(null),b=I(!1);window.addEventListener("scroll",()=>{var S;b.value=window.scrollY>(((S=p.value)==null?void 0:S.offsetTop)+window.screen.height||0)});const w=k(()=>n.$state.resultsPage);ce(w,()=>{const S=document.getElementById("output-container");S&&S.scrollIntoView({behavior:"smooth"})});const m=Ze(),f=I(!1),d=I(!1),h=I(""),g=I(!1),c=I(!1),$=I(!1),y=I(""),A=I(null),F=I({}),E=I(0);function Y(S){if($.value=!0,S.child_tasks.length===0)A.value=S,y.value=Ae({task_id:S.task_id,node_id:S.outputs[0].comfy_node_id}),F.value=S.input_params_mapped;else{const T=sa(S);A.value=T,F.value=S.input_params_mapped,console.debug("[Send to flow]: sendToFlowResult",A),y.value=Ae({task_id:T.task_id,node_id:T.outputs[0].comfy_node_id}),console.debug("[Send to flow]: sendToImgSrc",y)}E.value=0}function ee(S){return["#"+S.task_id,...Object.keys(S.input_params_mapped).filter(T=>S.input_params_mapped[T].value&&S.input_params_mapped[T].value!=="").map(T=>`${S.input_params_mapped[T].display_name}: ${S.input_params_mapped[T].value}`)].join(" | ")+`${S.execution_time?" | execution_time: "+S.execution_time.toFixed(2)+"s":""}${S!=null&&S.parent_task_id?" | parent_task: "+(S==null?void 0:S.parent_task_id):""}`}const K=I(!1),oe=I(null);function D(S){const T=[[{label:"Use params",labelClass:"text-cyan-500",icon:"i-heroicons-document-duplicate-16-solid",iconClass:"bg-cyan-500",click:()=>s(S)}],[{label:"Send to flow",labelClass:"text-violet-500",icon:"i-heroicons-arrow-uturn-up-solid",iconClass:"bg-violet-500",click:()=>{Y(S)},disabled:S.outputs.length!==1}],[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var O;return n.downloadFlowComfy((O=n.currentFlow)==null?void 0:O.name,S.task_id)}}]];return S.child_tasks.length>0&&T.push([{label:"View child tasks",labelClass:"text-green-500",icon:"i-heroicons-queue-list-20-solid",iconClass:"bg-green-500",click:()=>{K.value=!0,oe.value=S}}]),T}return J(()=>{const S=tn(),T=nn();if(S.query.task_id){const O=S.query.task_id,L=o.value.findIndex(ke=>ke.task_id===O),W=Math.ceil((L+1)/n.$state.resultsPageSize);n.$state.resultsPage=W,T.replace({query:{}});const te=document.getElementById(`task_id_${O}`);te&&setTimeout(()=>{te.scrollIntoView({behavior:"smooth"})},500)}}),(S,T)=>{var Ge;const O=bo,L=ve,W=_t,te=ga,ke=Co,ue=ge,Me=Tt,N=an,H=tt,ne=To,X=et,Te=Sn,$e=Eo;return v(),P("div",{id:"output-container",ref_key:"outputContainer",ref:p,class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md my-10"},[_(O,{show:i(b),class:"fixed bottom-5 right-5",target:"output-container"},null,8,["show"]),C("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:T[0]||(T[0]=()=>{f.value=!i(f)})},[_(L,{name:i(f)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),j(" Output ("+R(i(o).length)+") ",1)]),i(f)?M("",!0):(v(),P(Q,{key:0},[C("div",No,[_(W,{modelValue:i(n).$state.flow_results_filter,"onUpdate:modelValue":T[1]||(T[1]=z=>i(n).$state.flow_results_filter=z),icon:"i-heroicons-magnifying-glass-20-solid",color:"white",class:"md:mr-3",label:"Filter results by prompt",trailing:!0,placeholder:"Filter results by prompt"},null,8,["modelValue"]),i(o).length>i(n).$state.resultsPageSize?(v(),B(te,{key:0,modelValue:i(n).$state.resultsPage,"onUpdate:modelValue":T[2]||(T[2]=z=>i(n).$state.resultsPage=z),class:"my-1 md:my-0","page-count":i(n).$state.resultsPageSize,total:i(o).length,"show-first":"","show-last":""},null,8,["modelValue","page-count","total"])):M("",!0),C("div",Do,[_(ke,{modelValue:i(n).resultsPageSize,"onUpdate:modelValue":T[3]||(T[3]=z=>i(n).resultsPageSize=z),class:"md:mx-3 w-fit mr-3",options:[5,10,20,50,100],label:"Results per page"},null,8,["modelValue"]),_(Me,{items:[[{label:"Delete all results",labelClass:"text-red-500",icon:"i-heroicons-trash",iconClass:"dark:text-red-500 text-red-500",click:()=>g.value=!0}]],mode:"click",label:"Options",popper:{placement:"bottom-end"}},{default:x(()=>[_(ue,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:1},8,["items"])]),_(H,{modelValue:i(g),"onUpdate:modelValue":T[6]||(T[6]=z=>Ce(g)?g.value=z:null),class:"z-[90]",transition:!1},{default:x(()=>[C("div",Vo,[Ro,C("p",qo,[j(" All history and images of "),_(N,{class:"mx-1",color:"orange",variant:"outline"},{default:x(()=>[j(R(i(n).currentFlow.display_name),1)]),_:1}),j(" will be deleted. ")]),C("div",Ho,[_(ue,{class:"mr-2",color:"red",variant:"outline",loading:i(c),onClick:T[4]||(T[4]=()=>{var z;c.value=!0,i(n).deleteFlowResults((z=i(n).currentFlow)==null?void 0:z.name).then(()=>{c.value=!1,g.value=!1})})},{default:x(()=>[j(" Yes ")]),_:1},8,["loading"]),_(ue,{variant:"outline",onClick:T[5]||(T[5]=()=>g.value=!1)},{default:x(()=>[j("No")]),_:1})])])]),_:1},8,["modelValue"])]),i(a)?(v(),P("div",Wo,[(v(!0),P(Q,null,le(i(n).flowResultsByNamePaginated((Ge=i(n).currentFlow)==null?void 0:Ge.name),z=>(v(),P("div",{id:"task_id_"+z.task_id,key:z.task_id,class:"flex flex-col justify-center mx-auto mb-5"},[z.child_tasks&&(z==null?void 0:z.child_tasks.length)>0?(v(),B(ne,{key:0,"flow-result":z},null,8,["flow-result"])):(v(),P(Q,{key:1},[z.outputs.length===1?(v(),B(X,{key:0,class:"mb-2 h-100 mx-auto rounded-lg cursor-pointer",draggable:"false",fit:"outside",loading:"lazy",placeholder:i(m)(`${("buildBackendUrl"in S?S.buildBackendUrl:i(st))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:("outputImgSrc"in S?S.outputImgSrc:i(Ae))({task_id:z.task_id,node_id:z.outputs[0].comfy_node_id}),onClick:()=>u(("outputImgSrc"in S?S.outputImgSrc:i(Ae))({task_id:z.task_id,node_id:z.outputs[0].comfy_node_id}))},null,8,["placeholder","src","onClick"])):(v(),B(Te,{key:1,class:"mb-3 rounded-lg overflow-hidden",items:z.outputs.map((pe,Je)=>({task_id:z.task_id,node_id:pe.comfy_node_id,index:Je})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:x(({item:pe})=>[C("div",Go,[_(X,{class:"w-full cursor-pointer mx-auto",loading:"lazy",placeholder:i(m)(`${("buildBackendUrl"in S?S.buildBackendUrl:i(st))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:("outputImgSrc"in S?S.outputImgSrc:i(Ae))(pe),draggable:"false",onClick:()=>u(("outputImgSrc"in S?S.outputImgSrc:i(Ae))(pe))},null,8,["placeholder","src","onClick"]),_(ue,{class:"mt-2 w-fit mx-auto",icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",onClick:()=>{Y(z)}},{default:x(()=>[j(" Send to flow ")]),_:2},1032,["onClick"])])]),_:2},1032,["items"]))],64)),C("div",Jo,[C("div",Yo,[(v(!0),P(Q,null,le(ee(z).split("|"),pe=>(v(),B(N,{key:pe,class:"mr-2 mb-2 last:mr-0 hover:cursor-pointer",variant:"solid",color:"gray",onClick:()=>{("useCopyToClipboard"in S?S.useCopyToClipboard:i(Lo))().copy(pe),("useToast"in S?S.useToast:i(Ct))().add({title:"Clipboard",description:`${pe.split(":")[0].trim()} copied to clipboard`,timeout:2e3})}},{default:x(()=>[j(R(pe),1)]),_:2},1032,["onClick"]))),128))])]),C("div",Ko,[_(ue,{class:"mr-3",color:"red",icon:"i-heroicons-trash",variant:"outline",onClick:()=>i(n).deleteFlowHistory(z.task_id)},{default:x(()=>[j(" Delete ")]),_:2},1032,["onClick"]),_(Me,{items:D(z),mode:"click",popper:{placement:"bottom-start"}},{default:x(()=>[_(ue,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])],8,Qo))),128)),_($e,{modelValue:i($),"onUpdate:modelValue":T[7]||(T[7]=z=>Ce($)?$.value=z:null),"flow-result":i(A),"output-img-src":i(y),"output-param-index":i(E),"input-params-mapped":i(F),"onUpdate:show":T[8]||(T[8]=z=>$.value=z)},null,8,["modelValue","flow-result","output-img-src","output-param-index","input-params-mapped"])])):(v(),P("p",Xo," No output results available "))],64)),_(H,{modelValue:i(d),"onUpdate:modelValue":T[11]||(T[11]=z=>Ce(d)?d.value=z:null),class:"z-[90]",transition:!1,fullscreen:""},{default:x(()=>[_(ue,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:T[9]||(T[9]=()=>d.value=!1)}),C("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:T[10]||(T[10]=We(()=>d.value=!1,["left"]))},[i(h)?(v(),B(X,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",src:i(h)},null,8,["src"])):M("",!0)])]),_:1},8,["modelValue"])],512)}}}),er=je(G.ui.strategy,G.ui.skeleton,ka),tr=q({inheritAttrs:!1,props:{class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:n}=Ee("skeleton",me(e,"ui"),er),a=k(()=>Pe(ie(t.value.base,t.value.background,t.value.rounded),e.class));return{ui:t,attrs:n,skeletonClass:a}}});function nr(e,t,n,a,o,r){return v(),P("div",Z({class:e.skeletonClass},e.attrs),null,16)}const ar=Fe(tr,[["render",nr]]),lr={class:"flex flex-col lg:flex-row flex-grow items-start w-full"},or={class:"card-wrapper w-full lg:pr-5"},rr={key:0,class:"p-0 text-sm"},sr={class:"flex flex-row items-center text-slate-400 mb-2"},ir={class:"flex flex-row flex-wrap items-center text-md mb-2"},ur=C("b",null,"Author:",-1),dr=["href"],cr={class:"flex flex-row items-center text-md mb-2"},mr=["href"],pr={key:1},fr={class:"flex flex-row items-center text-md mb-2"},vr=C("b",null,"Version:",-1),gr={key:0},hr={class:"flex flex-row items-center text-md mb-2"},br=C("b",null,"Tags:",-1),yr={key:0,class:"flex flex-row flex-wrap items-center text-md mb-2"},wr=["href"],kr={key:1,class:"flex flex-row flex-wrap items-center text-md"},$r=C("b",null,"Requires:",-1),Sr={key:0,class:"flex justify-end"},Ir={class:"flex flex-row items-center justify-center text-sm mr-2"},Cr={key:1},Pr={class:"text-sm flex justify-end"},_r={class:"flex flex-row items-center justify-center text-sm mr-3"},Fr={key:0,class:"text-right"},Mr=C("p",{class:"text-orange-500"},"Only admin can manage workflows.",-1),Tr=C("span",{class:"text-slate-500"},"Ask your admin to setup this workflow",-1),Br=[Mr,Tr],xr={class:"prompt-wrapper w-full"},Ar={class:"flex items-center justify-between"},Or=C("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Confirm workflow deletion ",-1),zr={class:"pb-2"},Ur=C("b",null,"private",-1),jr={class:"flex justify-end items-center"},Hr=q({__name:"[name]",setup(e){const t=tn(),n=He();n.setCurrentFlow(t.params.name);const a=k(()=>n.flowInstallingByName(t.params.name)),o=k(()=>{var g;return a.value&&((g=a.value)==null?void 0:g.progress)<100||!1}),r=I(!1),l=k(()=>{var g;return a.value?"error"in a.value&&((g=a.value)==null?void 0:g.error)!==""?`${a.value.progress.toFixed(0)}% Error setting up`:`${a.value.progress.toFixed(0)}% Setting up`:"Setup flow"}),s=I(!1),u=I(!1),p=k(()=>{var c;const g=[[{label:"Delete flow",icon:"i-heroicons-trash",click:w}]];return((c=n==null?void 0:n.currentFlow)==null?void 0:c.new_version_available)!==""&&g[0].unshift({label:`Update to ${n.currentFlow.new_version_available}`,icon:"i-heroicons-arrow-path",click:()=>{n.updateFlow(n.currentFlow)}}),g});function b(g,c=!1){s.value=!0,n.deleteFlow(g).then(()=>{c&&nn().push("/")}).finally(()=>{s.value=!1,u.value=!1})}function w(){var c;const g=((c=n.currentFlow)==null?void 0:c.private)||!1;if(g){u.value=!0;return}b(n.currentFlow,g)}const m=I(!1),f=I(null),d=function(g){var c;(c=f.value)==null||c.copyPromptInputs(g)},h=ia();return(g,c)=>{const $=ve,y=va,A=an,F=ge,E=Tt,Y=ha,ee=Kl,K=ho,oe=Zo,D=sn,S=ar,T=tt,O=ua;return v(),B(O,null,{default:x(()=>[!i(n).loading.flows_available&&!i(n).loading.flows_installed&&i(n).currentFlow&&!i(n).$state.loading.tasks_history?(v(),P(Q,{key:0},[C("div",lr,[C("div",or,[_(Y,{as:"div",class:"w-full mb-5"},da({header:x(()=>{var L,W;return[C("h2",{class:"text-xl font-bold cursor-pointer select-none flex items-center",onClick:c[0]||(c[0]=()=>{m.value=!i(m)})},[(L=i(n).currentFlow)!=null&&L.private?(v(),B(y,{key:0,text:"This flow is local, manually added"},{default:x(()=>[_($,{name:"i-heroicons-lock-closed",class:"mr-2"})]),_:1})):M("",!0),_($,{name:i(m)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),j(" "+R((W=i(n).currentFlow)==null?void 0:W.display_name),1)])]}),default:x(()=>{var L,W,te,ke,ue,Me,N,H,ne,X,Te,$e,Ge,z,pe,Je,pt;return[i(m)?M("",!0):(v(),P("div",rr,[C("p",sr,R((L=i(n).currentFlow)==null?void 0:L.description),1),C("p",ir,[_($,{name:"i-heroicons-user-16-solid",class:"mr-1"}),ur,j("  "),C("a",{class:"hover:underline text-md",href:(W=i(n).currentFlow)==null?void 0:W.homepage,rel:"noopener",target:"_blank"},R((te=i(n).currentFlow)==null?void 0:te.author),9,dr)]),C("p",cr,[_($,{name:"i-heroicons-document-text",class:"mr-1"}),(ke=i(n).currentFlow)!=null&&ke.documentation?(v(),P("a",{key:0,class:"hover:underline",href:(ue=i(n).currentFlow)==null?void 0:ue.documentation,rel:"noopener",target:"_blank"}," Documentation ",8,mr)):(v(),P("span",pr,"No documentation"))]),C("p",fr,[_($,{name:"i-heroicons-clock",class:"mr-1"}),vr,j("  "),C("span",null,R((Me=i(n).currentFlow)==null?void 0:Me.version),1),((N=i(n).currentFlow)==null?void 0:N.new_version_available)!==""?(v(),P("span",gr,"  (new version available: "+R((H=i(n).currentFlow)==null?void 0:H.new_version_available)+") ",1)):M("",!0)]),C("p",hr,[_($,{name:"i-heroicons-tag",class:"mr-1"}),br,j("  "),((ne=i(n).currentFlow)==null?void 0:ne.tags.length)>0?(v(!0),P(Q,{key:0},le((X=i(n).currentFlow)==null?void 0:X.tags,he=>(v(),B(A,{key:he,label:he,color:"white",variant:"solid",class:"m-1"},null,8,["label"]))),128)):(v(),B(A,{key:1,label:"No tags",color:"white",variant:"solid",class:"m-1"}))]),(($e=(Te=i(n).currentFlow)==null?void 0:Te.models)==null?void 0:$e.length)>0?(v(),P("p",yr,[_($,{name:"i-heroicons-arrow-down-on-square-stack",class:"mr-1"}),C("b",null,"Models ("+R((Ge=i(n).currentFlow)==null?void 0:Ge.models.length)+"):",1),j("  "),(v(!0),P(Q,null,le((z=i(n).currentFlow)==null?void 0:z.models,he=>(v(),B(A,{key:he.name,class:"m-1",color:"white",variant:"solid"},{default:x(()=>[he.gated?(v(),B(y,{key:0,text:"Gated model, requires auth token for download",popper:{placement:"top"}},{default:x(()=>[_($,{name:"i-heroicons-key",class:"mr-1"})]),_:1})):M("",!0),C("a",{class:"hover:underline underline-offset-4",href:he.homepage,rel:"noopener",target:"_blank"},R(he.name),9,wr)]),_:2},1024))),128))])):M("",!0),((Je=(pe=i(n).currentFlow)==null?void 0:pe.requires)==null?void 0:Je.length)>0?(v(),P("p",kr,[$r,j("  "),(v(!0),P(Q,null,le((pt=i(n).currentFlow)==null?void 0:pt.requires,he=>(v(),B(A,{key:he,class:"m-1",color:"yellow",variant:"outline"},{default:x(()=>[j(R(he),1)]),_:2},1024))),128))])):M("",!0)]))]}),_:2},[i(m)?void 0:{name:"footer",fn:x(()=>[i(h).isAdmin?(v(),P("div",Sr,[C("div",Ir,[_($,{name:i(n).isFlowInstalled(i(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),C("span",{class:U({"text-green-500":i(n).isFlowInstalled(i(t).params.name),"text-red-500":!i(n).isFlowInstalled(i(t).params.name)})},R(i(n).isFlowInstalled(i(t).params.name)?"Installed":"Not installed"),3)]),i(n).isFlowInstalled(i(t).params.name)?M("",!0):(v(),B(y,{key:0,text:"Setup flow dependencies and configure it in ComfyUI",popper:{placement:"top"},"open-delay":500},{default:x(()=>[_(F,{icon:"i-heroicons-arrow-down-tray",class:"mx-3",color:"primary",variant:"outline",loading:i(o),onClick:c[1]||(c[1]=()=>i(n).setupFlow(i(n).currentFlow))},{default:x(()=>[j(R(i(l)),1)]),_:1},8,["loading"])]),_:1})),!i(n).isFlowInstalled(i(t).params.name)&&i(o)?(v(),B(y,{key:1,text:"Cancel flow installation",popper:{placement:"top"},"open-delay":500},{default:x(()=>[_(F,{icon:"i-heroicons-stop",variant:"outline",color:"orange",loading:i(r),onClick:c[2]||(c[2]=()=>{r.value=!0,i(n).cancelFlowSetup(i(n).currentFlow).then(()=>{r.value=!1})})},{default:x(()=>[j(" Cancel ")]),_:1},8,["loading"])]),_:1})):M("",!0),i(n).isFlowInstalled(i(t).params.name)?(v(),B(E,{key:2,items:i(p),mode:"click",label:"Actions",popper:{placement:"bottom-end"}},{default:x(()=>[_(F,{color:"white",label:"Actions","trailing-icon":"i-heroicons-chevron-down-20-solid"})]),_:1},8,["items"])):M("",!0)])):(v(),P("div",Cr,[C("div",Pr,[C("div",_r,[_($,{name:i(n).isFlowInstalled(i(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),C("span",{class:U({"text-green-500":i(n).isFlowInstalled(i(t).params.name),"text-red-500":!i(n).isFlowInstalled(i(t).params.name)})},R(i(n).isFlowInstalled(i(t).params.name)?"Installed":"Not installed"),3)]),i(n).isFlowInstalled(i(t).params.name)?M("",!0):(v(),P("div",Fr,Br))])]))]),key:"0"}]),1024)]),C("div",xr,[!i(s)&&i(n).isFlowInstalled(i(t).params.name)?(v(),B(ee,{key:0,ref_key:"workflowPrompt",ref:f},null,512)):M("",!0)])]),!i(s)&&i(n).isFlowInstalled(i(t).params.name)?(v(),B(K,{key:0})):M("",!0),!i(s)&&i(n).isFlowInstalled(i(t).params.name)||i(n).flowResultsByName(i(t).params.name).length>0?(v(),B(oe,{key:1,onCopyPromptInputs:c[3]||(c[3]=L=>d(L))})):M("",!0)],64)):(v(),P(Q,{key:1},[_(D,{class:"mb-3"}),_(S,{class:"w-full h-80"})],64)),_(T,{modelValue:i(u),"onUpdate:modelValue":c[7]||(c[7]=L=>Ce(u)?u.value=L:null),"prevent-close":""},{default:x(()=>[_(Y,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:x(()=>[C("div",Ar,[Or,_(F,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:c[4]||(c[4]=L=>u.value=!1)})])]),default:x(()=>{var L;return[C("p",zr,[j(" Are you sure you want to delete the "),Ur,j(" workflow "),C("b",null,R((L=i(n).currentFlow)==null?void 0:L.display_name),1),j("? ")]),C("div",jr,[_(F,{icon:"i-heroicons-x-mark-16-solid",variant:"outline",color:"green",class:"mr-2",onClick:c[5]||(c[5]=W=>u.value=!1)},{default:x(()=>[j(" Cancel ")]),_:1}),_(F,{icon:"i-heroicons-trash",variant:"outline",color:"red",onClick:c[6]||(c[6]=W=>{var te;return b(i(n).currentFlow,((te=i(n).currentFlow)==null?void 0:te.private)||!1)})},{default:x(()=>[j(" Delete ")]),_:1})])]}),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{Hr as default};
