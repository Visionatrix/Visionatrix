import{_ as B,a as C}from"./BEIcySYo.js";import{_ as N,a as I,b as T}from"./Dw7e4W8X.js";import{g as U,h as F,o as n,c as a,b as i,w as r,a as l,t as w,i as t,j as f,k as z,d as k,F as b,r as j,l as L,m as W,n as q,u as A,q as D}from"./2Wk1cLn0.js";const M={class:"p-4 w-full md:w-6/12 lg:w-4/12 z-[10]"},O={class:"flex flex-grow justify-between"},P=["title"],E={class:"flex flex-col items-between text-sm"},H=["title"],G={class:"flex flex-row flex-wrap items-center mb-2"},J={class:"flex flex-row items-center"},K=l("b",null,"Author:",-1),Q=["href"],R={class:"flex flex-row items-center mb-2"},X=["href"],Y={key:1},Z={class:"flex flex-row items-center"},ee=l("b",null,"Tags:",-1),te=U({__name:"ListItem",props:{flow:{type:Object,required:!0}},setup(s){const e=F();return(S,c)=>{const u=L,p=N,_=W,x=q,h=I;return n(),a("div",M,[i(h,{as:"div",class:"hover:shadow-md"},{header:r(()=>{var o,m,d;return[l("div",O,[l("h2",{class:"text-xl font-bold text-ellipsis",title:(o=s.flow)==null?void 0:o.display_name},w((m=s.flow)==null?void 0:m.display_name),9,P),t(e).isFlowInstalled((d=s.flow)==null?void 0:d.name)?(n(),f(p,{key:0,text:"Mark flow as favorite",popper:{placement:"top"},"open-delay":500},{default:r(()=>[i(u,{icon:t(e).isFlowFavorite(s.flow.name)?"i-heroicons-star-16-solid":"i-heroicons-star",variant:"outline",color:"yellow",onClick:c[0]||(c[0]=g=>t(e).markFlowFavorite(s.flow))},null,8,["icon"])]),_:1})):z("",!0)])]}),footer:r(()=>{var o;return[i(u,{to:`/workflows/${(o=s.flow)==null?void 0:o.name}`,icon:"i-heroicons-arrow-up-right-16-solid",class:"flex justify-center dark:bg-slate-500 bg-slate-500 dark:hover:bg-slate-700 hover:bg-slate-700 dark:text-white"},{default:r(()=>[k(" Open ")]),_:1},8,["to"])]}),default:r(()=>{var o,m,d,g,y,v,$;return[l("div",E,[l("p",{class:"text-md text-slate-400 truncate text-ellipsis mb-2",title:(o=s.flow)==null?void 0:o.description},w((m=s.flow)==null?void 0:m.description),9,H),l("p",G,[l("span",J,[i(_,{name:"i-heroicons-user-16-solid",class:"mr-1"}),K,k("  ")]),l("a",{class:"hover:underline flex flex-row items-center",href:(d=s.flow)==null?void 0:d.homepage,rel:"noopener",target:"_blank"},w((g=s.flow)==null?void 0:g.author),9,Q)]),l("p",R,[i(_,{name:"i-heroicons-document-text",class:"mr-1"}),(y=s.flow)!=null&&y.documentation?(n(),a("a",{key:0,class:"hover:underline",href:(v=s.flow)==null?void 0:v.documentation,rel:"noopener",target:"_blank"},"Documentation",8,X)):(n(),a("span",Y,"No documentation"))]),l("p",Z,[i(_,{name:"i-heroicons-tag",class:"mr-1"}),ee,k("  "),(n(!0),a(b,null,j(($=s.flow)==null?void 0:$.tags,V=>(n(),f(x,{key:V,label:V,color:"white",variant:"solid",class:"m-1"},null,8,["label"]))),128))])])]}),_:1})])}}}),oe={class:"w-full sticky z-[100] top-1 flex flex-col md:flex-row justify-center items-center my-1"},se={key:0,class:"truncate"},ne={key:1},le={class:"flex flex-wrap justify-center items-center mb-10"},ae={key:2,class:"text-center text-slate-500"},_e=U({__name:"index",setup(s){A({title:"Workflows - Visionatrix",meta:[{name:"description",content:"Workflows - Visionatrix"}]});const e=F();return(S,c)=>{const u=B,p=C,_=T,x=te,h=D;return n(),f(h,{class:"lg:h-dvh"},{default:r(()=>[t(e).$state.loading.flows_available||t(e).loading.flows_installed||t(e).$state.loading.tasks_history?(n(),f(u,{key:0})):t(e).flows.length>0?(n(),a(b,{key:1},[l("div",oe,[i(p,{modelValue:t(e).$state.flows_tags_filter,"onUpdate:modelValue":c[0]||(c[0]=o=>t(e).$state.flows_tags_filter=o),class:"mb-1 md:mr-3 md:mb-0",options:t(e).flowsTags,multiple:"",searchable:""},{label:r(()=>[t(e).$state.flows_tags_filter.length>0?(n(),a("span",se,w(t(e).$state.flows_tags_filter.join(",")),1)):(n(),a("span",ne,"Select tags to filter"))]),_:1},8,["modelValue","options"]),i(_,{modelValue:t(e).$state.page,"onUpdate:modelValue":c[1]||(c[1]=o=>t(e).$state.page=o),"page-count":t(e).$state.pageSize,total:t(e).flows.length},null,8,["modelValue","page-count","total"])]),l("div",le,[(n(!0),a(b,null,j(t(e).paginatedFlows,o=>(n(),f(x,{key:o.name,flow:o},null,8,["flow"]))),128))])],64)):(n(),a("p",ae," No flows available "))]),_:1})}}});export{_e as default};
