import{D as p,j as Ie,ae as ht,n as G,bn as Le,bo as gt,x as $,$ as $e,a5 as fe,Z as He,f as K,a9 as H,bp as yt,a7 as R,an as Ue,ag as De,aw as Ke,ak as ae,O as ue,a1 as pe,a2 as Qe,aB as Je,a3 as Ye,a4 as le,aC as xe,F as Ve,ai as se,ax as Xe,ar as me,aj as Ze,ah as ve,as as W,bq as Ot,aA as Ge,M as P,at as F,br as St,au as It,av as Ct,bs as _e,z as Be,bt as wt,A as U,_ as et,k as Me,B as ze,C as ye,bj as tt,G as lt,V as nt,W as Z,o as N,c as q,a as te,K as Ce,I as Y,J as B,b as ce,i as J,aQ as xt,bi as Mt,bu as Rt,U as at,aH as Tt,bv as Et,H as At,aI as zt,aK as kt,h as ne,w as re,aN as he,t as ge,aM as $t,r as Dt,aL as Vt,d as Ne,aO as Bt}from"./79GkDzXa.js";function de(e,o,l){let n=l.initialDeps??[],t;return()=>{var u,a,i,f;let h;l.key&&((u=l.debug)!=null&&u.call(l))&&(h=Date.now());const r=e();if(!(r.length!==n.length||r.some((w,S)=>n[S]!==w)))return t;n=r;let v;if(l.key&&((a=l.debug)!=null&&a.call(l))&&(v=Date.now()),t=o(...r),l.key&&((i=l.debug)!=null&&i.call(l))){const w=Math.round((Date.now()-h)*100)/100,S=Math.round((Date.now()-v)*100)/100,A=S/16,L=(T,I)=>{for(T=String(T);T.length<I;)T=" "+T;return T};console.info(`%câ± ${L(S,5)} /${L(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*A,120))}deg 100% 31%);`,l==null?void 0:l.key)}return(f=l==null?void 0:l.onChange)==null||f.call(l,t),t}}function Ae(e,o){if(e===void 0)throw new Error("Unexpected undefined");return e}const Ft=(e,o)=>Math.abs(e-o)<1,Lt=(e,o,l)=>{let n;return function(...t){e.clearTimeout(n),n=e.setTimeout(()=>o.apply(this,t),l)}},Nt=e=>e,jt=e=>{const o=Math.max(e.startIndex-e.overscan,0),l=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let t=o;t<=l;t++)n.push(t);return n},Pt=(e,o)=>{const l=e.scrollElement;if(!l)return;const n=e.targetWindow;if(!n)return;const t=a=>{const{width:i,height:f}=a;o({width:Math.round(i),height:Math.round(f)})};if(t(l.getBoundingClientRect()),!n.ResizeObserver)return()=>{};const u=new n.ResizeObserver(a=>{const i=a[0];if(i!=null&&i.borderBoxSize){const f=i.borderBoxSize[0];if(f){t({width:f.inlineSize,height:f.blockSize});return}}t(l.getBoundingClientRect())});return u.observe(l,{box:"border-box"}),()=>{u.unobserve(l)}},je={passive:!0},qt=typeof window>"u"?!0:"onscrollend"in window,Wt=(e,o)=>{const l=e.scrollElement;if(!l)return;const n=e.targetWindow;if(!n)return;let t=0;const u=qt?()=>{}:Lt(n,()=>{o(t,!1)},e.options.isScrollingResetDelay),a=h=>()=>{const{horizontal:r,isRtl:s}=e.options;t=r?l.scrollLeft*(s&&-1||1):l.scrollTop,u(),o(t,h)},i=a(!0),f=a(!1);return f(),l.addEventListener("scroll",i,je),l.addEventListener("scrollend",f,je),()=>{l.removeEventListener("scroll",i),l.removeEventListener("scrollend",f)}},Ht=(e,o,l)=>{if(o!=null&&o.borderBoxSize){const n=o.borderBoxSize[0];if(n)return Math.round(n[l.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[l.options.horizontal?"width":"height"])},Ut=(e,{adjustments:o=0,behavior:l},n)=>{var t,u;const a=e+o;(u=(t=n.scrollElement)==null?void 0:t.scrollTo)==null||u.call(t,{[n.options.horizontal?"left":"top"]:a,behavior:l})};class Kt{constructor(o){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let l=null;const n=()=>l||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:l=new this.targetWindow.ResizeObserver(t=>{t.forEach(u=>{this._measureElement(u.target,u)})}));return{disconnect:()=>{var t;(t=n())==null||t.disconnect(),l=null},observe:t=>{var u;return(u=n())==null?void 0:u.observe(t,{box:"border-box"})},unobserve:t=>{var u;return(u=n())==null?void 0:u.unobserve(t)}}})(),this.range=null,this.setOptions=l=>{Object.entries(l).forEach(([n,t])=>{typeof t>"u"&&delete l[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Nt,rangeExtractor:jt,onChange:()=>{},measureElement:Ht,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...l}},this.notify=l=>{var n,t;(t=(n=this.options).onChange)==null||t.call(n,this,l)},this.maybeNotify=de(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),l=>{this.notify(l)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(l=>l()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var l;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((l=this.scrollElement)==null?void 0:l.window)??null,this.elementsCache.forEach(t=>{this.observer.observe(t)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,t=>{this.scrollRect=t,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(t,u)=>{this.scrollAdjustments=0,this.scrollDirection=u?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=u,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(l,n)=>{const t=new Map,u=new Map;for(let a=n-1;a>=0;a--){const i=l[a];if(t.has(i.lane))continue;const f=u.get(i.lane);if(f==null||i.end>f.end?u.set(i.lane,i):i.end<f.end&&t.set(i.lane,!0),t.size===this.options.lanes)break}return u.size===this.options.lanes?Array.from(u.values()).sort((a,i)=>a.end===i.end?a.index-i.index:a.end-i.end)[0]:void 0},this.getMeasurementOptions=de(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(l,n,t,u,a)=>(this.pendingMeasuredCacheIndexes=[],{count:l,paddingStart:n,scrollMargin:t,getItemKey:u,enabled:a}),{key:!1}),this.getMeasurements=de(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:l,paddingStart:n,scrollMargin:t,getItemKey:u,enabled:a},i)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(r=>{this.itemSizeCache.set(r.key,r.size)}));const f=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const h=this.measurementsCache.slice(0,f);for(let r=f;r<l;r++){const s=u(r),v=this.options.lanes===1?h[r-1]:this.getFurthestMeasurement(h,r),w=v?v.end+this.options.gap:n+t,S=i.get(s),A=typeof S=="number"?S:this.options.estimateSize(r),L=w+A,T=v?v.lane:r%this.options.lanes;h[r]={index:r,start:w,size:A,end:L,key:s,lane:T}}return this.measurementsCache=h,h},{key:!1,debug:()=>this.options.debug}),this.calculateRange=de(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(l,n,t)=>this.range=l.length>0&&n>0?Qt({measurements:l,outerSize:n,scrollOffset:t}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=de(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(l,n,t,u)=>n===null?[]:l({startIndex:n.startIndex,endIndex:n.endIndex,overscan:t,count:u}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=l=>{const n=this.options.indexAttribute,t=l.getAttribute(n);return t?parseInt(t,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(l,n)=>{const t=this.indexFromElement(l),u=this.measurementsCache[t];if(!u)return;const a=u.key,i=this.elementsCache.get(a);i!==l&&(i&&this.observer.unobserve(i),this.observer.observe(l),this.elementsCache.set(a,l)),l.isConnected&&this.resizeItem(t,this.options.measureElement(l,n,this))},this.resizeItem=(l,n)=>{const t=this.measurementsCache[l];if(!t)return;const u=this.itemSizeCache.get(t.key)??t.size,a=n-u;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,a,this):t.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,n)),this.notify(!1))},this.measureElement=l=>{if(!l){this.elementsCache.forEach((n,t)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(t))});return}this._measureElement(l,void 0)},this.getVirtualItems=de(()=>[this.getIndexes(),this.getMeasurements()],(l,n)=>{const t=[];for(let u=0,a=l.length;u<a;u++){const i=l[u],f=n[i];t.push(f)}return t},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=l=>{const n=this.getMeasurements();if(n.length!==0)return Ae(n[it(0,n.length-1,t=>Ae(n[t]).start,l)])},this.getOffsetForAlignment=(l,n)=>{const t=this.getSize(),u=this.getScrollOffset();n==="auto"&&(l<=u?n="start":l>=u+t?n="end":n="start"),n==="start"?l=l:n==="end"?l=l-t:n==="center"&&(l=l-t/2);const a=this.options.horizontal?"scrollWidth":"scrollHeight",f=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[a]:this.scrollElement[a]:0)-t;return Math.max(Math.min(f,l),0)},this.getOffsetForIndex=(l,n="auto")=>{l=Math.max(0,Math.min(l,this.options.count-1));const t=this.measurementsCache[l];if(!t)return;const u=this.getSize(),a=this.getScrollOffset();if(n==="auto")if(t.end>=a+u-this.options.scrollPaddingEnd)n="end";else if(t.start<=a+this.options.scrollPaddingStart)n="start";else return[a,n];const i=n==="end"?t.end+this.options.scrollPaddingEnd:t.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,n),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(l,{align:n="start",behavior:t}={})=>{this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(l,n),{adjustments:void 0,behavior:t})},this.scrollToIndex=(l,{align:n="auto",behavior:t}={})=>{l=Math.max(0,Math.min(l,this.options.count-1)),this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const u=this.getOffsetForIndex(l,n);if(!u)return;const[a,i]=u;this._scrollToOffset(a,{adjustments:void 0,behavior:t}),t!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(l))){const[h]=Ae(this.getOffsetForIndex(l,i));Ft(h,this.getScrollOffset())||this.scrollToIndex(l,{align:i,behavior:t})}else this.scrollToIndex(l,{align:i,behavior:t})}))},this.scrollBy=(l,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+l,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var l;const n=this.getMeasurements();let t;return n.length===0?t=this.options.paddingStart:t=this.options.lanes===1?((l=n[n.length-1])==null?void 0:l.end)??0:Math.max(...n.slice(-this.options.lanes).map(u=>u.end)),Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(l,{adjustments:n,behavior:t})=>{this.options.scrollToFn(l,{behavior:t,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(o)}}const it=(e,o,l,n)=>{for(;e<=o;){const t=(e+o)/2|0,u=l(t);if(u<n)e=t+1;else if(u>n)o=t-1;else return t}return e>0?e-1:0};function Qt({measurements:e,outerSize:o,scrollOffset:l}){const n=e.length-1,u=it(0,n,i=>e[i].start,l);let a=u;for(;a<n&&e[a].end<l+o;)a++;return{startIndex:u,endIndex:a}}function Jt(e){const o=new Kt(Ie(e)),l=ht(o),n=o._didMount();return G(()=>Ie(e).getScrollElement(),t=>{t&&o._willUpdate()},{immediate:!0}),G(()=>Ie(e),t=>{o.setOptions({...t,onChange:(u,a)=>{var i;Le(l),(i=t.onChange)==null||i.call(t,u,a)}}),o._willUpdate(),Le(l)},{immediate:!0}),gt(n),l}function Yt(e){return Jt(p(()=>({observeElementRect:Pt,observeElementOffset:Wt,scrollToFn:Ut,...Ie(e)})))}function ot(e,o,l){let n=$(l==null?void 0:l.value),t=p(()=>e.value!==void 0);return[p(()=>t.value?e.value:n.value),function(u){return t.value||(n.value=u),o==null?void 0:o(u)}]}function Xt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(o=>setTimeout(()=>{throw o}))}function we(){let e=[],o={addEventListener(l,n,t,u){return l.addEventListener(n,t,u),o.add(()=>l.removeEventListener(n,t,u))},requestAnimationFrame(...l){let n=requestAnimationFrame(...l);o.add(()=>cancelAnimationFrame(n))},nextFrame(...l){o.requestAnimationFrame(()=>{o.requestAnimationFrame(...l)})},setTimeout(...l){let n=setTimeout(...l);o.add(()=>clearTimeout(n))},microTask(...l){let n={current:!0};return Xt(()=>{n.current&&l[0]()}),o.add(()=>{n.current=!1})},style(l,n,t){let u=l.style.getPropertyValue(n);return Object.assign(l.style,{[n]:t}),this.add(()=>{Object.assign(l.style,{[n]:u})})},group(l){let n=we();return l(n),this.add(()=>n.dispose())},add(l){return e.push(l),()=>{let n=e.indexOf(l);if(n>=0)for(let t of e.splice(n,1))t()}},dispose(){for(let l of e.splice(0))l()}};return o}function Zt(){let e=we();return $e(()=>e.dispose()),e}function Gt(){let e=Zt();return o=>{e.dispose(),e.nextFrame(o)}}function Pe(e){return[e.screenX,e.screenY]}function ut(){let e=$([-1,-1]);return{wasMoved(o){let l=Pe(o);return e.value[0]===l[0]&&e.value[1]===l[1]?!1:(e.value=l,!0)},update(o){e.value=Pe(o)}}}function _t({container:e,accept:o,walk:l,enabled:n}){fe(()=>{let t=e.value;if(!t||n!==void 0&&!n.value)return;let u=He(e);if(!u)return;let a=Object.assign(f=>o(f),{acceptNode:o}),i=u.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,a,!1);for(;i.nextNode();)l(i.currentNode)})}var st=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(st||{});function el(e){function o(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",o))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",o),o())}let oe=[];el(()=>{function e(o){o.target instanceof HTMLElement&&o.target!==document.body&&oe[0]!==o.target&&(oe.unshift(o.target),oe=oe.filter(l=>l!=null&&l.isConnected),oe.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function tl(e){throw new Error("Unexpected object: "+e)}var D=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(D||{});function ke(e,o){let l=o.resolveItems();if(l.length<=0)return null;let n=o.resolveActiveIndex(),t=n??-1;switch(e.focus){case 0:{for(let u=0;u<l.length;++u)if(!o.resolveDisabled(l[u],u,l))return u;return n}case 1:{t===-1&&(t=l.length);for(let u=t-1;u>=0;--u)if(!o.resolveDisabled(l[u],u,l))return u;return n}case 2:{for(let u=t+1;u<l.length;++u)if(!o.resolveDisabled(l[u],u,l))return u;return n}case 3:{for(let u=l.length-1;u>=0;--u)if(!o.resolveDisabled(l[u],u,l))return u;return n}case 4:{for(let u=0;u<l.length;++u)if(o.resolveId(l[u],u,l)===e.id)return u;return n}case 5:return null;default:tl(e)}}function Fe(e={},o=null,l=[]){for(let[n,t]of Object.entries(e))dt(l,rt(o,n),t);return l}function rt(e,o){return e?e+"["+o+"]":o}function dt(e,o,l){if(Array.isArray(l))for(let[n,t]of l.entries())dt(e,rt(o,n.toString()),t);else l instanceof Date?e.push([o,l.toISOString()]):typeof l=="boolean"?e.push([o,l?"1":"0"]):typeof l=="string"?e.push([o,l]):typeof l=="number"?e.push([o,`${l}`]):l==null?e.push([o,""]):Fe(l,o,e)}function $l(e){var o,l;let n=(o=e==null?void 0:e.form)!=null?o:e.closest("form");if(n){for(let t of n.elements)if(t!==e&&(t.tagName==="INPUT"&&t.type==="submit"||t.tagName==="BUTTON"&&t.type==="submit"||t.nodeName==="INPUT"&&t.type==="image")){t.click();return}(l=n.requestSubmit)==null||l.call(n)}}var ll={};function nl(e,o){return e===o}var al=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(al||{}),il=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(il||{}),ol=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(ol||{});let ct=Symbol("ComboboxContext");function be(e){let o=ve(ct,null);if(o===null){let l=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,be),l}return o}let vt=Symbol("VirtualContext"),ul=K({name:"VirtualProvider",setup(e,{slots:o}){let l=be("VirtualProvider"),n=p(()=>{let i=R(l.optionsRef);if(!i)return{start:0,end:0};let f=window.getComputedStyle(i);return{start:parseFloat(f.paddingBlockStart||f.paddingTop),end:parseFloat(f.paddingBlockEnd||f.paddingBottom)}}),t=Yt(p(()=>({scrollPaddingStart:n.value.start,scrollPaddingEnd:n.value.end,count:l.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return R(l.optionsRef)},overscan:12}))),u=p(()=>{var i;return(i=l.virtual.value)==null?void 0:i.options}),a=$(0);return G([u],()=>{a.value+=1}),De(vt,l.virtual.value?t:null),()=>[pe("div",{style:{position:"relative",width:"100%",height:`${t.value.getTotalSize()}px`},ref:i=>{if(i){if(typeof process<"u"&&ll.JEST_WORKER_ID!==void 0||l.activationTrigger.value===0)return;l.activeOptionIndex.value!==null&&l.virtual.value.options.length>l.activeOptionIndex.value&&t.value.scrollToIndex(l.activeOptionIndex.value)}}},t.value.getVirtualItems().map(i=>Ot(o.default({option:l.virtual.value.options[i.index],open:l.comboboxState.value===0})[0],{key:`${a.value}-${i.index}`,"data-index":i.index,"aria-setsize":l.virtual.value.options.length,"aria-posinset":i.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${i.start}px)`,overflowAnchor:"none"}})))]}}),sl=K({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:o,attrs:l,emit:n}){let t=$(1),u=$(null),a=$(null),i=$(null),f=$(null),h=$({static:!1,hold:!1}),r=$([]),s=$(null),v=$(2),w=$(!1);function S(b=g=>g){let g=s.value!==null?r.value[s.value]:null,M=b(r.value.slice()),E=M.length>0&&M[0].dataRef.order.value!==null?M.sort((z,j)=>z.dataRef.order.value-j.dataRef.order.value):Ge(M,z=>R(z.dataRef.domRef)),x=g?E.indexOf(g):null;return x===-1&&(x=null),{options:E,activeOptionIndex:x}}let A=p(()=>e.multiple?1:0),L=p(()=>e.nullable),[T,I]=ot(p(()=>e.modelValue),b=>n("update:modelValue",b),p(()=>e.defaultValue)),d=p(()=>T.value===void 0?H(A.value,{1:[],0:void 0}):T.value),y=null,c=null;function O(b){return H(A.value,{0(){return I==null?void 0:I(b)},1:()=>{let g=P(m.value.value).slice(),M=P(b),E=g.findIndex(x=>m.compare(M,P(x)));return E===-1?g.push(M):g.splice(E,1),I==null?void 0:I(g)}})}let C=p(()=>{});G([C],([b],[g])=>{if(m.virtual.value&&b&&g&&s.value!==null){let M=b.indexOf(g[s.value]);M!==-1?s.value=M:s.value=null}});let m={comboboxState:t,value:d,mode:A,compare(b,g){if(typeof e.by=="string"){let M=e.by;return(b==null?void 0:b[M])===(g==null?void 0:g[M])}return e.by===null?nl(b,g):e.by(b,g)},calculateIndex(b){return m.virtual.value?e.by===null?m.virtual.value.options.indexOf(b):m.virtual.value.options.findIndex(g=>m.compare(g,b)):r.value.findIndex(g=>m.compare(g.dataRef.value,b))},defaultValue:p(()=>e.defaultValue),nullable:L,immediate:p(()=>!1),virtual:p(()=>null),inputRef:a,labelRef:u,buttonRef:i,optionsRef:f,disabled:p(()=>e.disabled),options:r,change(b){I(b)},activeOptionIndex:p(()=>{if(w.value&&s.value===null&&(m.virtual.value?m.virtual.value.options.length>0:r.value.length>0)){if(m.virtual.value){let g=m.virtual.value.options.findIndex(M=>{var E;return!((E=m.virtual.value)!=null&&E.disabled(M))});if(g!==-1)return g}let b=r.value.findIndex(g=>!g.dataRef.disabled);if(b!==-1)return b}return s.value}),activationTrigger:v,optionsPropsRef:h,closeCombobox(){w.value=!1,!e.disabled&&t.value!==1&&(t.value=1,s.value=null)},openCombobox(){if(w.value=!0,!e.disabled&&t.value!==0){if(m.value.value){let b=m.calculateIndex(m.value.value);b!==-1&&(s.value=b)}t.value=0}},setActivationTrigger(b){v.value=b},goToOption(b,g,M){w.value=!1,y!==null&&cancelAnimationFrame(y),y=requestAnimationFrame(()=>{if(e.disabled||f.value&&!h.value.static&&t.value===1)return;if(m.virtual.value){s.value=b===D.Specific?g:ke({focus:b},{resolveItems:()=>m.virtual.value.options,resolveActiveIndex:()=>{var z,j;return(j=(z=m.activeOptionIndex.value)!=null?z:m.virtual.value.options.findIndex(Q=>{var ie;return!((ie=m.virtual.value)!=null&&ie.disabled(Q))}))!=null?j:null},resolveDisabled:z=>m.virtual.value.disabled(z),resolveId(){throw new Error("Function not implemented.")}}),v.value=M??2;return}let E=S();if(E.activeOptionIndex===null){let z=E.options.findIndex(j=>!j.dataRef.disabled);z!==-1&&(E.activeOptionIndex=z)}let x=b===D.Specific?g:ke({focus:b},{resolveItems:()=>E.options,resolveActiveIndex:()=>E.activeOptionIndex,resolveId:z=>z.id,resolveDisabled:z=>z.dataRef.disabled});s.value=x,v.value=M??2,r.value=E.options})},selectOption(b){let g=r.value.find(E=>E.id===b);if(!g)return;let{dataRef:M}=g;O(M.value)},selectActiveOption(){if(m.activeOptionIndex.value!==null){if(m.virtual.value)O(m.virtual.value.options[m.activeOptionIndex.value]);else{let{dataRef:b}=r.value[m.activeOptionIndex.value];O(b.value)}m.goToOption(D.Specific,m.activeOptionIndex.value)}},registerOption(b,g){let M=yt({id:b,dataRef:g});if(m.virtual.value){r.value.push(M);return}c&&cancelAnimationFrame(c);let E=S(x=>(x.push(M),x));s.value===null&&m.isSelected(g.value.value)&&(E.activeOptionIndex=E.options.indexOf(M)),r.value=E.options,s.value=E.activeOptionIndex,v.value=2,E.options.some(x=>!R(x.dataRef.domRef))&&(c=requestAnimationFrame(()=>{let x=S();r.value=x.options,s.value=x.activeOptionIndex}))},unregisterOption(b,g){if(y!==null&&cancelAnimationFrame(y),g&&(w.value=!0),m.virtual.value){r.value=r.value.filter(E=>E.id!==b);return}let M=S(E=>{let x=E.findIndex(z=>z.id===b);return x!==-1&&E.splice(x,1),E});r.value=M.options,s.value=M.activeOptionIndex,v.value=2},isSelected(b){return H(A.value,{0:()=>m.compare(P(m.value.value),P(b)),1:()=>P(m.value.value).some(g=>m.compare(P(g),P(b)))})},isActive(b){return s.value===m.calculateIndex(b)}};Ue([a,i,f],()=>m.closeCombobox(),p(()=>t.value===0)),De(ct,m),Ke(p(()=>H(t.value,{0:ae.Open,1:ae.Closed})));let k=p(()=>{var b;return(b=R(a))==null?void 0:b.closest("form")});return ue(()=>{G([k],()=>{if(!k.value||e.defaultValue===void 0)return;function b(){m.change(e.defaultValue)}return k.value.addEventListener("reset",b),()=>{var g;(g=k.value)==null||g.removeEventListener("reset",b)}},{immediate:!0})}),()=>{var b,g,M;let{name:E,disabled:x,form:z,...j}=e,Q={open:t.value===0,disabled:x,activeIndex:m.activeOptionIndex.value,activeOption:m.activeOptionIndex.value===null?null:m.virtual.value?m.virtual.value.options[(b=m.activeOptionIndex.value)!=null?b:0]:(M=(g=m.options.value[m.activeOptionIndex.value])==null?void 0:g.dataRef.value)!=null?M:null,value:d.value};return pe(Ve,[...E!=null&&d.value!=null?Fe({[E]:d.value}).map(([ie,Te])=>pe(Qe,Je({features:Ye.Hidden,key:ie,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:z,disabled:x,name:ie,value:Te}))):[],le({theirProps:{...l,...xe(j,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:Q,slots:o,attrs:l,name:"Combobox"})])}}}),rl=K({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:o,slots:l,expose:n}){var t;let u=(t=e.id)!=null?t:`headlessui-combobox-button-${se()}`,a=be("ComboboxButton");n({el:a.buttonRef,$el:a.buttonRef});function i(r){a.disabled.value||(a.comboboxState.value===0?a.closeCombobox():(r.preventDefault(),a.openCombobox()),W(()=>{var s;return(s=R(a.inputRef))==null?void 0:s.focus({preventScroll:!0})}))}function f(r){switch(r.key){case F.ArrowDown:r.preventDefault(),r.stopPropagation(),a.comboboxState.value===1&&a.openCombobox(),W(()=>{var s;return(s=a.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return;case F.ArrowUp:r.preventDefault(),r.stopPropagation(),a.comboboxState.value===1&&(a.openCombobox(),W(()=>{a.value.value||a.goToOption(D.Last)})),W(()=>{var s;return(s=a.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return;case F.Escape:if(a.comboboxState.value!==0)return;r.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&r.stopPropagation(),a.closeCombobox(),W(()=>{var s;return(s=a.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return}}let h=Xe(p(()=>({as:e.as,type:o.type})),a.buttonRef);return()=>{var r,s;let v={open:a.comboboxState.value===0,disabled:a.disabled.value,value:a.value.value},{...w}=e,S={ref:a.buttonRef,id:u,type:h.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(r=R(a.optionsRef))==null?void 0:r.id,"aria-expanded":a.comboboxState.value===0,"aria-labelledby":a.labelRef.value?[(s=R(a.labelRef))==null?void 0:s.id,u].join(" "):void 0,disabled:a.disabled.value===!0?!0:void 0,onKeydown:f,onClick:i};return le({ourProps:S,theirProps:w,slot:v,attrs:o,slots:l,name:"ComboboxButton"})}}}),dl=K({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:o,attrs:l,slots:n,expose:t}){var u;let a=(u=e.id)!=null?u:`headlessui-combobox-input-${se()}`,i=be("ComboboxInput"),f=p(()=>He(R(i.inputRef))),h={value:!1};t({el:i.inputRef,$el:i.inputRef});function r(){i.change(null);let c=R(i.optionsRef);c&&(c.scrollTop=0),i.goToOption(D.Nothing)}let s=p(()=>{var c;let O=i.value.value;return R(i.inputRef)?typeof e.displayValue<"u"&&O!==void 0?(c=e.displayValue(O))!=null?c:"":typeof O=="string"?O:"":""});ue(()=>{G([s,i.comboboxState,f],([c,O],[C,m])=>{if(h.value)return;let k=R(i.inputRef);k&&((m===0&&O===1||c!==C)&&(k.value=c),requestAnimationFrame(()=>{var b;if(h.value||!k||((b=f.value)==null?void 0:b.activeElement)!==k)return;let{selectionStart:g,selectionEnd:M}=k;Math.abs((M??0)-(g??0))===0&&g===0&&k.setSelectionRange(k.value.length,k.value.length)}))},{immediate:!0}),G([i.comboboxState],([c],[O])=>{if(c===0&&O===1){if(h.value)return;let C=R(i.inputRef);if(!C)return;let m=C.value,{selectionStart:k,selectionEnd:b,selectionDirection:g}=C;C.value="",C.value=m,g!==null?C.setSelectionRange(k,b,g):C.setSelectionRange(k,b)}})});let v=$(!1);function w(){v.value=!0}function S(){we().nextFrame(()=>{v.value=!1})}let A=Gt();function L(c){switch(h.value=!0,A(()=>{h.value=!1}),c.key){case F.Enter:if(h.value=!1,i.comboboxState.value!==0||v.value)return;if(c.preventDefault(),c.stopPropagation(),i.activeOptionIndex.value===null){i.closeCombobox();return}i.selectActiveOption(),i.mode.value===0&&i.closeCombobox();break;case F.ArrowDown:return h.value=!1,c.preventDefault(),c.stopPropagation(),H(i.comboboxState.value,{0:()=>i.goToOption(D.Next),1:()=>i.openCombobox()});case F.ArrowUp:return h.value=!1,c.preventDefault(),c.stopPropagation(),H(i.comboboxState.value,{0:()=>i.goToOption(D.Previous),1:()=>{i.openCombobox(),W(()=>{i.value.value||i.goToOption(D.Last)})}});case F.Home:if(c.shiftKey)break;return h.value=!1,c.preventDefault(),c.stopPropagation(),i.goToOption(D.First);case F.PageUp:return h.value=!1,c.preventDefault(),c.stopPropagation(),i.goToOption(D.First);case F.End:if(c.shiftKey)break;return h.value=!1,c.preventDefault(),c.stopPropagation(),i.goToOption(D.Last);case F.PageDown:return h.value=!1,c.preventDefault(),c.stopPropagation(),i.goToOption(D.Last);case F.Escape:if(h.value=!1,i.comboboxState.value!==0)return;c.preventDefault(),i.optionsRef.value&&!i.optionsPropsRef.value.static&&c.stopPropagation(),i.nullable.value&&i.mode.value===0&&i.value.value===null&&r(),i.closeCombobox();break;case F.Tab:if(h.value=!1,i.comboboxState.value!==0)return;i.mode.value===0&&i.activationTrigger.value!==1&&i.selectActiveOption(),i.closeCombobox();break}}function T(c){o("change",c),i.nullable.value&&i.mode.value===0&&c.target.value===""&&r(),i.openCombobox()}function I(c){var O,C,m;let k=(O=c.relatedTarget)!=null?O:oe.find(b=>b!==c.currentTarget);if(h.value=!1,!((C=R(i.optionsRef))!=null&&C.contains(k))&&!((m=R(i.buttonRef))!=null&&m.contains(k))&&i.comboboxState.value===0)return c.preventDefault(),i.mode.value===0&&(i.nullable.value&&i.value.value===null?r():i.activationTrigger.value!==1&&i.selectActiveOption()),i.closeCombobox()}function d(c){var O,C,m;let k=(O=c.relatedTarget)!=null?O:oe.find(b=>b!==c.currentTarget);(C=R(i.buttonRef))!=null&&C.contains(k)||(m=R(i.optionsRef))!=null&&m.contains(k)||i.disabled.value||i.immediate.value&&i.comboboxState.value!==0&&(i.openCombobox(),we().nextFrame(()=>{i.setActivationTrigger(1)}))}let y=p(()=>{var c,O,C,m;return(m=(C=(O=e.defaultValue)!=null?O:i.defaultValue.value!==void 0?(c=e.displayValue)==null?void 0:c.call(e,i.defaultValue.value):null)!=null?C:i.defaultValue.value)!=null?m:""});return()=>{var c,O,C,m,k,b,g;let M={open:i.comboboxState.value===0},{displayValue:E,onChange:x,...z}=e,j={"aria-controls":(c=i.optionsRef.value)==null?void 0:c.id,"aria-expanded":i.comboboxState.value===0,"aria-activedescendant":i.activeOptionIndex.value===null?void 0:i.virtual.value?(O=i.options.value.find(Q=>!i.virtual.value.disabled(Q.dataRef.value)&&i.compare(Q.dataRef.value,i.virtual.value.options[i.activeOptionIndex.value])))==null?void 0:O.id:(C=i.options.value[i.activeOptionIndex.value])==null?void 0:C.id,"aria-labelledby":(b=(m=R(i.labelRef))==null?void 0:m.id)!=null?b:(k=R(i.buttonRef))==null?void 0:k.id,"aria-autocomplete":"list",id:a,onCompositionstart:w,onCompositionend:S,onKeydown:L,onInput:T,onFocus:d,onBlur:I,role:"combobox",type:(g=l.type)!=null?g:"text",tabIndex:0,ref:i.inputRef,defaultValue:y.value,disabled:i.disabled.value===!0?!0:void 0};return le({ourProps:j,theirProps:z,slot:M,attrs:l,slots:n,features:me.RenderStrategy|me.Static,name:"ComboboxInput"})}}}),cl=K({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:o,slots:l,expose:n}){let t=be("ComboboxOptions"),u=`headlessui-combobox-options-${se()}`;n({el:t.optionsRef,$el:t.optionsRef}),fe(()=>{t.optionsPropsRef.value.static=e.static}),fe(()=>{t.optionsPropsRef.value.hold=e.hold});let a=Ze(),i=p(()=>a!==null?(a.value&ae.Open)===ae.Open:t.comboboxState.value===0);_t({container:p(()=>R(t.optionsRef)),enabled:p(()=>t.comboboxState.value===0),accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});function f(h){h.preventDefault()}return()=>{var h,r,s;let v={open:t.comboboxState.value===0},w={"aria-labelledby":(s=(h=R(t.labelRef))==null?void 0:h.id)!=null?s:(r=R(t.buttonRef))==null?void 0:r.id,id:u,ref:t.optionsRef,role:"listbox","aria-multiselectable":t.mode.value===1?!0:void 0,onMousedown:f},S=xe(e,["hold"]);return le({ourProps:w,theirProps:S,slot:v,attrs:o,slots:t.virtual.value&&t.comboboxState.value===0?{...l,default:()=>[pe(ul,{},l.default)]}:l,features:me.RenderStrategy|me.Static,visible:i.value,name:"ComboboxOptions"})}}}),vl=K({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:o,attrs:l,expose:n}){let t=be("ComboboxOption"),u=`headlessui-combobox-option-${se()}`,a=$(null),i=p(()=>e.disabled);n({el:a,$el:a});let f=p(()=>{var I;return t.virtual.value?t.activeOptionIndex.value===t.calculateIndex(e.value):t.activeOptionIndex.value===null?!1:((I=t.options.value[t.activeOptionIndex.value])==null?void 0:I.id)===u}),h=p(()=>t.isSelected(e.value)),r=ve(vt,null),s=p(()=>({disabled:e.disabled,value:e.value,domRef:a,order:p(()=>e.order)}));ue(()=>t.registerOption(u,s)),$e(()=>t.unregisterOption(u,f.value)),fe(()=>{let I=R(a);I&&(r==null||r.value.measureElement(I))}),fe(()=>{t.comboboxState.value===0&&f.value&&(t.virtual.value||t.activationTrigger.value!==0&&W(()=>{var I,d;return(d=(I=R(a))==null?void 0:I.scrollIntoView)==null?void 0:d.call(I,{block:"nearest"})}))});function v(I){I.preventDefault(),I.button===st.Left&&(i.value||(t.selectOption(u),St()||requestAnimationFrame(()=>{var d;return(d=R(t.inputRef))==null?void 0:d.focus({preventScroll:!0})}),t.mode.value===0&&t.closeCombobox()))}function w(){var I;if(e.disabled||(I=t.virtual.value)!=null&&I.disabled(e.value))return t.goToOption(D.Nothing);let d=t.calculateIndex(e.value);t.goToOption(D.Specific,d)}let S=ut();function A(I){S.update(I)}function L(I){var d;if(!S.wasMoved(I)||e.disabled||(d=t.virtual.value)!=null&&d.disabled(e.value)||f.value)return;let y=t.calculateIndex(e.value);t.goToOption(D.Specific,y,0)}function T(I){var d;S.wasMoved(I)&&(e.disabled||(d=t.virtual.value)!=null&&d.disabled(e.value)||f.value&&(t.optionsPropsRef.value.hold||t.goToOption(D.Nothing)))}return()=>{let{disabled:I}=e,d={active:f.value,selected:h.value,disabled:I},y={id:u,ref:a,role:"option",tabIndex:I===!0?void 0:-1,"aria-disabled":I===!0?!0:void 0,"aria-selected":h.value,disabled:void 0,onMousedown:v,onFocus:w,onPointerenter:A,onMouseenter:A,onPointermove:L,onMousemove:L,onPointerleave:T,onMouseleave:T},c=xe(e,["order","value"]);return le({ourProps:y,theirProps:c,slot:d,attrs:l,slots:o,name:"ComboboxOption"})}}}),qe=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function We(e){var o,l;let n=(o=e.innerText)!=null?o:"",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return n;let u=!1;for(let i of t.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))i.remove(),u=!0;let a=u?(l=t.innerText)!=null?l:"":n;return qe.test(a)&&(a=a.replace(qe,"")),a}function fl(e){let o=e.getAttribute("aria-label");if(typeof o=="string")return o.trim();let l=e.getAttribute("aria-labelledby");if(l){let n=l.split(" ").map(t=>{let u=document.getElementById(t);if(u){let a=u.getAttribute("aria-label");return typeof a=="string"?a.trim():We(u).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return We(e).trim()}function pl(e){let o=$(""),l=$("");return()=>{let n=R(e);if(!n)return"";let t=n.innerText;if(o.value===t)return l.value;let u=fl(n).trim().toLowerCase();return o.value=t,l.value=u,u}}function ml(e,o){return e===o}var bl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(bl||{}),hl=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(hl||{}),gl=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(gl||{});function yl(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let ft=Symbol("ListboxContext");function Re(e){let o=ve(ft,null);if(o===null){let l=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,Re),l}return o}let Ol=K({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ml},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:o,attrs:l,emit:n}){let t=$(1),u=$(null),a=$(null),i=$(null),f=$([]),h=$(""),r=$(null),s=$(1);function v(d=y=>y){let y=r.value!==null?f.value[r.value]:null,c=Ge(d(f.value.slice()),C=>R(C.dataRef.domRef)),O=y?c.indexOf(y):null;return O===-1&&(O=null),{options:c,activeOptionIndex:O}}let w=p(()=>e.multiple?1:0),[S,A]=ot(p(()=>e.modelValue),d=>n("update:modelValue",d),p(()=>e.defaultValue)),L=p(()=>S.value===void 0?H(w.value,{1:[],0:void 0}):S.value),T={listboxState:t,value:L,mode:w,compare(d,y){if(typeof e.by=="string"){let c=e.by;return(d==null?void 0:d[c])===(y==null?void 0:y[c])}return e.by(d,y)},orientation:p(()=>e.horizontal?"horizontal":"vertical"),labelRef:u,buttonRef:a,optionsRef:i,disabled:p(()=>e.disabled),options:f,searchQuery:h,activeOptionIndex:r,activationTrigger:s,closeListbox(){e.disabled||t.value!==1&&(t.value=1,r.value=null)},openListbox(){e.disabled||t.value!==0&&(t.value=0)},goToOption(d,y,c){if(e.disabled||t.value===1)return;let O=v(),C=ke(d===D.Specific?{focus:D.Specific,id:y}:{focus:d},{resolveItems:()=>O.options,resolveActiveIndex:()=>O.activeOptionIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.disabled});h.value="",r.value=C,s.value=c??1,f.value=O.options},search(d){if(e.disabled||t.value===1)return;let y=h.value!==""?0:1;h.value+=d.toLowerCase();let c=(r.value!==null?f.value.slice(r.value+y).concat(f.value.slice(0,r.value+y)):f.value).find(C=>C.dataRef.textValue.startsWith(h.value)&&!C.dataRef.disabled),O=c?f.value.indexOf(c):-1;O===-1||O===r.value||(r.value=O,s.value=1)},clearSearch(){e.disabled||t.value!==1&&h.value!==""&&(h.value="")},registerOption(d,y){let c=v(O=>[...O,{id:d,dataRef:y}]);f.value=c.options,r.value=c.activeOptionIndex},unregisterOption(d){let y=v(c=>{let O=c.findIndex(C=>C.id===d);return O!==-1&&c.splice(O,1),c});f.value=y.options,r.value=y.activeOptionIndex,s.value=1},theirOnChange(d){e.disabled||A(d)},select(d){e.disabled||A(H(w.value,{0:()=>d,1:()=>{let y=P(T.value.value).slice(),c=P(d),O=y.findIndex(C=>T.compare(c,P(C)));return O===-1?y.push(c):y.splice(O,1),y}}))}};Ue([a,i],(d,y)=>{var c;T.closeListbox(),It(y,Ct.Loose)||(d.preventDefault(),(c=R(a))==null||c.focus())},p(()=>t.value===0)),De(ft,T),Ke(p(()=>H(t.value,{0:ae.Open,1:ae.Closed})));let I=p(()=>{var d;return(d=R(a))==null?void 0:d.closest("form")});return ue(()=>{G([I],()=>{if(!I.value||e.defaultValue===void 0)return;function d(){T.theirOnChange(e.defaultValue)}return I.value.addEventListener("reset",d),()=>{var y;(y=I.value)==null||y.removeEventListener("reset",d)}},{immediate:!0})}),()=>{let{name:d,modelValue:y,disabled:c,form:O,...C}=e,m={open:t.value===0,disabled:c,value:L.value};return pe(Ve,[...d!=null&&L.value!=null?Fe({[d]:L.value}).map(([k,b])=>pe(Qe,Je({features:Ye.Hidden,key:k,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:O,disabled:c,name:k,value:b}))):[],le({ourProps:{},theirProps:{...l,...xe(C,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:m,slots:o,attrs:l,name:"Listbox"})])}}}),Sl=K({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:o,slots:l,expose:n}){var t;let u=(t=e.id)!=null?t:`headlessui-listbox-button-${se()}`,a=Re("ListboxButton");n({el:a.buttonRef,$el:a.buttonRef});function i(s){switch(s.key){case F.Space:case F.Enter:case F.ArrowDown:s.preventDefault(),a.openListbox(),W(()=>{var v;(v=R(a.optionsRef))==null||v.focus({preventScroll:!0}),a.value.value||a.goToOption(D.First)});break;case F.ArrowUp:s.preventDefault(),a.openListbox(),W(()=>{var v;(v=R(a.optionsRef))==null||v.focus({preventScroll:!0}),a.value.value||a.goToOption(D.Last)});break}}function f(s){switch(s.key){case F.Space:s.preventDefault();break}}function h(s){a.disabled.value||(a.listboxState.value===0?(a.closeListbox(),W(()=>{var v;return(v=R(a.buttonRef))==null?void 0:v.focus({preventScroll:!0})})):(s.preventDefault(),a.openListbox(),yl(()=>{var v;return(v=R(a.optionsRef))==null?void 0:v.focus({preventScroll:!0})})))}let r=Xe(p(()=>({as:e.as,type:o.type})),a.buttonRef);return()=>{var s,v;let w={open:a.listboxState.value===0,disabled:a.disabled.value,value:a.value.value},{...S}=e,A={ref:a.buttonRef,id:u,type:r.value,"aria-haspopup":"listbox","aria-controls":(s=R(a.optionsRef))==null?void 0:s.id,"aria-expanded":a.listboxState.value===0,"aria-labelledby":a.labelRef.value?[(v=R(a.labelRef))==null?void 0:v.id,u].join(" "):void 0,disabled:a.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:f,onClick:h};return le({ourProps:A,theirProps:S,slot:w,attrs:o,slots:l,name:"ListboxButton"})}}}),Il=K({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:o,slots:l,expose:n}){var t;let u=(t=e.id)!=null?t:`headlessui-listbox-options-${se()}`,a=Re("ListboxOptions"),i=$(null);n({el:a.optionsRef,$el:a.optionsRef});function f(s){switch(i.value&&clearTimeout(i.value),s.key){case F.Space:if(a.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),a.search(s.key);case F.Enter:if(s.preventDefault(),s.stopPropagation(),a.activeOptionIndex.value!==null){let v=a.options.value[a.activeOptionIndex.value];a.select(v.dataRef.value)}a.mode.value===0&&(a.closeListbox(),W(()=>{var v;return(v=R(a.buttonRef))==null?void 0:v.focus({preventScroll:!0})}));break;case H(a.orientation.value,{vertical:F.ArrowDown,horizontal:F.ArrowRight}):return s.preventDefault(),s.stopPropagation(),a.goToOption(D.Next);case H(a.orientation.value,{vertical:F.ArrowUp,horizontal:F.ArrowLeft}):return s.preventDefault(),s.stopPropagation(),a.goToOption(D.Previous);case F.Home:case F.PageUp:return s.preventDefault(),s.stopPropagation(),a.goToOption(D.First);case F.End:case F.PageDown:return s.preventDefault(),s.stopPropagation(),a.goToOption(D.Last);case F.Escape:s.preventDefault(),s.stopPropagation(),a.closeListbox(),W(()=>{var v;return(v=R(a.buttonRef))==null?void 0:v.focus({preventScroll:!0})});break;case F.Tab:s.preventDefault(),s.stopPropagation();break;default:s.key.length===1&&(a.search(s.key),i.value=setTimeout(()=>a.clearSearch(),350));break}}let h=Ze(),r=p(()=>h!==null?(h.value&ae.Open)===ae.Open:a.listboxState.value===0);return()=>{var s,v;let w={open:a.listboxState.value===0},{...S}=e,A={"aria-activedescendant":a.activeOptionIndex.value===null||(s=a.options.value[a.activeOptionIndex.value])==null?void 0:s.id,"aria-multiselectable":a.mode.value===1?!0:void 0,"aria-labelledby":(v=R(a.buttonRef))==null?void 0:v.id,"aria-orientation":a.orientation.value,id:u,onKeydown:f,role:"listbox",tabIndex:0,ref:a.optionsRef};return le({ourProps:A,theirProps:S,slot:w,attrs:o,slots:l,features:me.RenderStrategy|me.Static,visible:r.value,name:"ListboxOptions"})}}}),Cl=K({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:o,attrs:l,expose:n}){var t;let u=(t=e.id)!=null?t:`headlessui-listbox-option-${se()}`,a=Re("ListboxOption"),i=$(null);n({el:i,$el:i});let f=p(()=>a.activeOptionIndex.value!==null?a.options.value[a.activeOptionIndex.value].id===u:!1),h=p(()=>H(a.mode.value,{0:()=>a.compare(P(a.value.value),P(e.value)),1:()=>P(a.value.value).some(d=>a.compare(P(d),P(e.value)))})),r=p(()=>H(a.mode.value,{1:()=>{var d;let y=P(a.value.value);return((d=a.options.value.find(c=>y.some(O=>a.compare(P(O),P(c.dataRef.value)))))==null?void 0:d.id)===u},0:()=>h.value})),s=pl(i),v=p(()=>({disabled:e.disabled,value:e.value,get textValue(){return s()},domRef:i}));ue(()=>a.registerOption(u,v)),$e(()=>a.unregisterOption(u)),ue(()=>{G([a.listboxState,h],()=>{a.listboxState.value===0&&h.value&&H(a.mode.value,{1:()=>{r.value&&a.goToOption(D.Specific,u)},0:()=>{a.goToOption(D.Specific,u)}})},{immediate:!0})}),fe(()=>{a.listboxState.value===0&&f.value&&a.activationTrigger.value!==0&&W(()=>{var d,y;return(y=(d=R(i))==null?void 0:d.scrollIntoView)==null?void 0:y.call(d,{block:"nearest"})})});function w(d){if(e.disabled)return d.preventDefault();a.select(e.value),a.mode.value===0&&(a.closeListbox(),W(()=>{var y;return(y=R(a.buttonRef))==null?void 0:y.focus({preventScroll:!0})}))}function S(){if(e.disabled)return a.goToOption(D.Nothing);a.goToOption(D.Specific,u)}let A=ut();function L(d){A.update(d)}function T(d){A.wasMoved(d)&&(e.disabled||f.value||a.goToOption(D.Specific,u,0))}function I(d){A.wasMoved(d)&&(e.disabled||f.value&&a.goToOption(D.Nothing))}return()=>{let{disabled:d}=e,y={active:f.value,selected:h.value,disabled:d},{value:c,disabled:O,...C}=e,m={id:u,ref:i,role:"option",tabIndex:d===!0?void 0:-1,"aria-disabled":d===!0?!0:void 0,"aria-selected":h.value,disabled:void 0,onClick:w,onFocus:S,onPointerenter:L,onMouseenter:L,onPointermove:T,onMousemove:T,onPointerleave:I,onMouseleave:I};return le({ourProps:m,theirProps:C,slot:y,attrs:l,slots:o,name:"ListboxOption"})}}});const pt=(e,o,l=!0)=>{const n=ve("form-events",void 0),t=ve("form-group",void 0),u=ve("form-inputs",void 0);t&&(!l||e!=null&&e.legend?t.inputId.value=void 0:e!=null&&e.id&&(t.inputId.value=e==null?void 0:e.id),u&&(u.value[t.name.value]=t.inputId.value));const a=$(!1);function i(s,v){n&&n.emit({type:s,path:v})}function f(){i("blur",t==null?void 0:t.name.value),a.value=!0}function h(){i("change",t==null?void 0:t.name.value)}const r=_e(()=>{(a.value||t!=null&&t.eagerValidation.value)&&i("input",t==null?void 0:t.name.value)},300);return{inputId:p(()=>(e==null?void 0:e.id)??(t==null?void 0:t.inputId.value)),name:p(()=>(e==null?void 0:e.name)??(t==null?void 0:t.name.value)),size:p(()=>{var v;const s=o.size[t==null?void 0:t.size.value]?t==null?void 0:t.size.value:null;return(e==null?void 0:e.size)??s??((v=o.default)==null?void 0:v.size)}),color:p(()=>{var s;return(s=t==null?void 0:t.error)!=null&&s.value?"red":e==null?void 0:e.color}),emitFormBlur:f,emitFormInput:r,emitFormChange:h}},ee=Be(U.ui.strategy,U.ui.input,wt),wl=K({components:{UIcon:Me},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ee.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(ee.size).includes(e)}},color:{type:String,default:()=>ee.default.color,validator(e){return[...U.ui.colors,...Object.keys(ee.color)].includes(e)}},variant:{type:String,default:()=>ee.default.variant,validator(e){return[...Object.keys(ee.variant),...Object.values(ee.color).flatMap(o=>Object.keys(o))].includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:o,slots:l}){const{ui:n,attrs:t}=ze("input",ye(e,"ui"),ee,ye(e,"class")),{size:u,rounded:a}=tt({ui:n,props:e}),{emitFormBlur:i,emitFormInput:f,size:h,color:r,inputId:s,name:v}=pt(e,ee),w=p(()=>u.value??h.value),S=$(lt({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),A=$(null),L=()=>{var x;e.autofocus&&((x=A.value)==null||x.focus())},T=x=>{S.value.trim&&(x=x.trim()),(S.value.number||e.type==="number")&&(x=xt(x)),o("update:modelValue",x),f()},I=x=>{S.value.lazy||T(x.target.value)},d=x=>{if(e.type==="file"){const z=x.target.files;o("change",z)}else{const z=x.target.value;o("change",z),S.value.lazy&&T(z),S.value.trim&&(x.target.value=z.trim())}},y=x=>{i(),o("blur",x)};ue(()=>{setTimeout(()=>{L()},e.autofocusDelay)});const c=p(()=>{var z,j;const x=((j=(z=n.value.color)==null?void 0:z[r.value])==null?void 0:j[e.variant])||n.value.variant[e.variant];return nt(Z(n.value.base,n.value.form,a.value,n.value.placeholder,e.type==="file"&&n.value.file.base,n.value.size[w.value],e.padded?n.value.padding[w.value]:"p-0",x==null?void 0:x.replaceAll("{color}",r.value),(O.value||l.leading)&&n.value.leading.padding[w.value],(C.value||l.trailing)&&n.value.trailing.padding[w.value]),e.inputClass)}),O=p(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),C=p(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),m=p(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),k=p(()=>e.loading&&!O.value?e.loadingIcon:e.trailingIcon||e.icon),b=p(()=>Z(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[w.value])),g=p(()=>Z(n.value.icon.base,r.value&&U.ui.colors.includes(r.value)&&n.value.icon.color.replaceAll("{color}",r.value),n.value.icon.size[w.value],e.loading&&n.value.icon.loading)),M=p(()=>Z(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[w.value])),E=p(()=>Z(n.value.icon.base,r.value&&U.ui.colors.includes(r.value)&&n.value.icon.color.replaceAll("{color}",r.value),n.value.icon.size[w.value],e.loading&&!O.value&&n.value.icon.loading));return{ui:n,attrs:t,name:v,inputId:s,input:A,isLeading:O,isTrailing:C,inputClass:c,leadingIconName:m,leadingIconClass:g,leadingWrapperIconClass:b,trailingIconName:k,trailingIconClass:E,trailingWrapperIconClass:M,onInput:I,onChange:d,onBlur:y}}}),xl=["id","name","type","required","placeholder","disabled"];function Ml(e,o,l,n,t,u){const a=Me;return N(),q("div",{class:B(e.type==="hidden"?"hidden":e.ui.wrapper)},[te("input",Ce({id:e.inputId,ref:"input",name:e.name,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass},e.type==="file"?e.attrs:{...e.attrs,value:e.modelValue},{onInput:o[0]||(o[0]=(...i)=>e.onInput&&e.onInput(...i)),onBlur:o[1]||(o[1]=(...i)=>e.onBlur&&e.onBlur(...i)),onChange:o[2]||(o[2]=(...i)=>e.onChange&&e.onChange(...i))}),null,16,xl),Y(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(N(),q("span",{key:0,class:B(e.leadingWrapperIconClass)},[Y(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[ce(a,{name:e.leadingIconName,class:B(e.leadingIconClass)},null,8,["name","class"])])],2)):J("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(N(),q("span",{key:1,class:B(e.trailingWrapperIconClass)},[Y(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[ce(a,{name:e.trailingIconName,class:B(e.trailingIconClass)},null,8,["name","class"])])],2)):J("",!0)],2)}const Dl=et(wl,[["render",Ml]]),X=Be(U.ui.strategy,U.ui.select,Mt),Se=Be(U.ui.strategy,U.ui.selectMenu,Rt),Rl=K({components:{HCombobox:sl,HComboboxButton:rl,HComboboxOptions:cl,HComboboxOption:vl,HComboboxInput:dl,HListbox:Ol,HListboxButton:Sl,HListboxOptions:Il,HListboxOption:Cl,UIcon:Me,UAvatar:at},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>X.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>X.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>Se.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:"Search..."},searchableLazy:{type:Boolean,default:!1},clearSearchOnClose:{type:Boolean,default:()=>Se.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:[String,Function],default:()=>Se.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(X.size).includes(e)}},color:{type:String,default:()=>X.default.color,validator(e){return[...U.ui.colors,...Object.keys(X.color)].includes(e)}},variant:{type:String,default:()=>X.default.variant,validator(e){return[...Object.keys(X.variant),...Object.values(X.color).flatMap(o=>Object.keys(o))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:o,slots:l}){const{ui:n,attrs:t}=ze("select",ye(e,"ui"),X,ye(e,"class")),{ui:u}=ze("selectMenu",ye(e,"uiMenu"),Se),a=p(()=>lt({},e.popper,u.value.popper)),[i,f]=Tt(a.value),{size:h,rounded:r}=tt({ui:n,props:e}),{emitFormBlur:s,emitFormChange:v,inputId:w,color:S,size:A,name:L}=pt(e,X),T=p(()=>h.value??A.value),I=$(""),d=p({get(){return e.query??I.value},set(V){I.value=V,o("update:query",V)}}),y=p(()=>e.multiple?!Array.isArray(e.modelValue)||!e.modelValue.length?[]:e.valueAttribute?j.value.filter(V=>e.modelValue.includes(V[e.valueAttribute])):j.value.filter(V=>e.modelValue.includes(V)):e.valueAttribute?j.value.find(V=>V[e.valueAttribute]===e.modelValue):j.value.find(V=>V===e.modelValue)),c=p(()=>{var V;return e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length?`${y.value.length} selected`:null:e.modelValue!==void 0&&e.modelValue!==null?e.valueAttribute?((V=y.value)==null?void 0:V[e.optionAttribute])??null:["string","number"].includes(typeof e.modelValue)?e.modelValue:e.modelValue[e.optionAttribute]:null}),O=p(()=>{var _,Oe;const V=((Oe=(_=n.value.color)==null?void 0:_[S.value])==null?void 0:Oe[e.variant])||n.value.variant[e.variant];return nt(Z(n.value.base,u.value.select,r.value,n.value.size[T.value],n.value.gap[T.value],e.padded?n.value.padding[T.value]:"p-0",V==null?void 0:V.replaceAll("{color}",S.value),(C.value||l.leading)&&n.value.leading.padding[T.value],(m.value||l.trailing)&&n.value.trailing.padding[T.value]),e.placeholder&&(!e.modelValue||Array.isArray(e.modelValue)&&!e.modelValue.length)&&n.value.placeholder,e.selectClass)}),C=p(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),m=p(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),k=p(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),b=p(()=>e.loading&&!C.value?e.loadingIcon:e.trailingIcon||e.icon),g=p(()=>Z(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[T.value])),M=p(()=>Z(n.value.icon.base,S.value&&U.ui.colors.includes(S.value)&&n.value.icon.color.replaceAll("{color}",S.value),n.value.icon.size[T.value],e.loading&&n.value.icon.loading)),E=p(()=>Z(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[T.value])),x=p(()=>Z(n.value.icon.base,S.value&&U.ui.colors.includes(S.value)&&n.value.icon.color.replaceAll("{color}",S.value),n.value.icon.size[T.value],e.loading&&!C.value&&n.value.icon.loading)),z=e.searchable&&typeof e.searchable=="function"?_e(e.searchable,e.debounce):void 0,j=Et(async()=>z?await z(d.value):e.options||[],[],{lazy:e.searchableLazy}),Q=p(()=>!d.value||z?j.value:j.value.filter(V=>{var _;return((_=e.searchAttributes)!=null&&_.length?e.searchAttributes:[e.optionAttribute]).some(Oe=>{if(["string","number"].includes(typeof V))return String(V).search(new RegExp(d.value,"i"))!==-1;const Ee=At(V,Oe);return Ee!=null&&String(Ee).search(new RegExp(d.value,"i"))!==-1})})),ie=p(()=>d.value===""||e.showCreateOptionWhen==="empty"&&Q.value.length||e.showCreateOptionWhen==="always"&&Q.value.find(_=>["string","number"].includes(typeof _)?_===d.value:_[e.optionAttribute]===d.value)||typeof e.showCreateOptionWhen=="function"&&!e.showCreateOptionWhen(d.value,Q.value)?null:["string","number"].includes(typeof e.modelValue)?d.value:{[e.optionAttribute]:d.value});function Te(){e.clearSearchOnClose&&(d.value="")}G(f,V=>{V?o("open"):(Te(),o("close"),s())});function mt(V){o("update:modelValue",V),o("change",V),v()}function bt(V){d.value=V.target.value}return zt(()=>Bt()),{ui:n,uiMenu:u,attrs:t,name:L,inputId:w,popper:a,trigger:i,container:f,selected:y,label:c,isLeading:C,isTrailing:m,selectClass:O,leadingIconName:k,leadingIconClass:M,leadingWrapperIconClass:g,trailingIconName:b,trailingIconClass:x,trailingWrapperIconClass:E,filteredOptions:Q,createOption:ie,query:d,onUpdate:mt,onQueryChange:bt}}}),Tl=["value","required"],El=["id","disabled"],Al={class:"truncate"};function zl(e,o,l,n,t,u){const a=Me,i=kt("HComboboxInput"),f=at;return N(),ne(he(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.multiple?Array.isArray(e.modelValue)?e.modelValue:[]:e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:B(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:re(({open:h})=>[e.required?(N(),q("input",{key:0,value:e.modelValue,required:e.required,class:B(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,Tl)):J("",!0),(N(),ne(he(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:B(e.uiMenu.trigger)},{default:re(()=>[Y(e.$slots,"default",{open:h,disabled:e.disabled,loading:e.loading},()=>[te("button",Ce({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(N(),q("span",{key:0,class:B(e.leadingWrapperIconClass)},[Y(e.$slots,"leading",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[ce(a,{name:e.leadingIconName,class:B(e.leadingIconClass)},null,8,["name","class"])])],2)):J("",!0),Y(e.$slots,"label",{selected:e.selected},()=>[e.label?(N(),q("span",{key:0,class:B(e.uiMenu.label)},ge(e.label),3)):(N(),q("span",{key:1,class:B(e.uiMenu.label)},ge(e.placeholder||"Â "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(N(),q("span",{key:1,class:B(e.trailingWrapperIconClass)},[Y(e.$slots,"trailing",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[ce(a,{name:e.trailingIconName,class:B(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):J("",!0)],16,El)])]),_:2},1032,["class"])),h?(N(),q("div",{key:1,ref:"container",class:B([e.uiMenu.container,e.uiMenu.width])},[ce($t,Ce({appear:""},e.uiMenu.transition),{default:re(()=>[te("div",null,[e.popper.arrow?(N(),q("div",{key:0,"data-popper-arrow":"",class:B(Object.values(e.uiMenu.arrow))},null,2)):J("",!0),(N(),ne(he(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:B([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:re(()=>{var r,s;return[e.searchable?(N(),ne(i,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:B(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):J("",!0),(N(!0),q(Ve,null,Dt(e.filteredOptions,(v,w)=>(N(),ne(he(e.searchable?"HComboboxOption":"HListboxOption"),{key:w,as:"template",value:e.valueAttribute?v[e.valueAttribute]:v,disabled:v.disabled},{default:re(({active:S,selected:A,disabled:L})=>[te("li",{class:B([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,S?e.uiMenu.option.active:e.uiMenu.option.inactive,A&&e.uiMenu.option.selected,L&&e.uiMenu.option.disabled])},[te("div",{class:B(e.uiMenu.option.container)},[Y(e.$slots,"option",{option:v,active:S,selected:A},()=>[v.icon?(N(),ne(a,{key:0,name:v.icon,class:B([e.uiMenu.option.icon.base,S?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,v.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):v.avatar?(N(),ne(f,Ce({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...v.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):v.chip?(N(),q("span",{key:2,class:B(e.uiMenu.option.chip.base),style:Vt({background:`#${v.chip}`})},null,6)):J("",!0),te("span",Al,ge(["string","number"].includes(typeof v)?v:v[e.optionAttribute]),1)])],2),A?(N(),q("span",{key:0,class:B([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[ce(a,{name:e.selectedIcon,class:B(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):J("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(N(),ne(he(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:re(({active:v,selected:w})=>[te("li",{class:B([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,v?e.uiMenu.option.active:e.uiMenu.option.inactive])},[te("div",{class:B(e.uiMenu.option.container)},[Y(e.$slots,"option-create",{option:e.createOption,active:v,selected:w},()=>[te("span",{class:B(e.uiMenu.option.create)},'Create "'+ge(e.createOption[e.optionAttribute])+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((r=e.filteredOptions)!=null&&r.length)?(N(),q("p",{key:2,class:B(e.uiMenu.option.empty)},[Y(e.$slots,"option-empty",{query:e.query},()=>[Ne(' No results for "'+ge(e.query)+'". ',1)])],2)):(s=e.filteredOptions)!=null&&s.length?J("",!0):(N(),q("p",{key:3,class:B(e.uiMenu.empty)},[Y(e.$slots,"empty",{query:e.query},()=>[o[0]||(o[0]=Ne(" No options. "))])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):J("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const Vl=et(Rl,[["render",zl]]);export{Dl as _,Vl as a,oe as b,D as c,ot as d,$l as e,ke as f,pt as g,_t as i,we as o,pl as p,Xt as t,ut as u};
