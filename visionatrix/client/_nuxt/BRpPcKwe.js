import{_ as S}from"./CUe96ODB.js";import{_ as B,a as I,b as q}from"./CcgYE5VY.js";import{g as C,h as N,r as z,o as n,c as d,b as i,w as m,a as s,t as w,i as e,j as g,k as U,d as p,n as L,l as W,m as A,u as D,q as M,F as V,s as O}from"./B5Mitlnu.js";const P={class:"p-4 w-full md:w-6/12 lg:w-4/12"},T={class:"flex flex-grow justify-between"},E=["title"],H={class:"flex flex-col items-between"},Y=["title"],G={class:"flex flex-row flex-wrap items-center text-md mb-2"},J={class:"flex flex-row items-center"},K=s("b",null,"Author:",-1),Q=["href"],R={class:"flex flex-row items-center text-md mb-2"},X=["href"],Z={key:1},ee={class:"flex flex-row items-center text-md mb-2"},te=s("b",null,"Models:",-1),oe={class:"flex flex-row items-center text-md"},se=s("b",null,"Installed:",-1),ne=C({__name:"ListItem",props:{flow:{type:Object,required:!0}},setup(t){const o=t,_=N(),c=z(_.flows_installed.filter(x=>{var r;return x.name===((r=o==null?void 0:o.flow)==null?void 0:r.name)}).length===1);return(x,r)=>{const h=W,k=B,l=A,j=I;return n(),d("div",P,[i(j,{as:"div",class:"hover:shadow-md"},{header:m(()=>{var a,f,u;return[s("div",T,[s("h2",{class:"text-xl font-bold text-ellipsis",title:(a=t.flow)==null?void 0:a.display_name},w((f=t.flow)==null?void 0:f.display_name),9,E),e(_).isFlowInstalled((u=t.flow)==null?void 0:u.name)?(n(),g(k,{key:0,text:"Mark flow as favorite",popper:{placement:"top"},"open-delay":500},{default:m(()=>[i(h,{icon:e(_).isFlowFavorite(t.flow.name)?"i-heroicons-star-16-solid":"i-heroicons-star",variant:"outline",color:"yellow",onClick:r[0]||(r[0]=b=>e(_).markFlowFavorite(t.flow))},null,8,["icon"])]),_:1})):U("",!0)])]}),footer:m(()=>{var a;return[i(h,{to:`/workflows/${(a=t.flow)==null?void 0:a.name}`,icon:"i-heroicons-arrow-up-right-16-solid",class:"flex justify-center dark:bg-slate-500 bg-slate-500 dark:hover:bg-slate-700 hover:bg-slate-700 dark:text-white"},{default:m(()=>[p(" Open ")]),_:1},8,["to"])]}),default:m(()=>{var a,f,u,b,y,v,$,F;return[s("div",H,[s("p",{class:"text-md text-slate-400 truncate text-ellipsis mb-2",title:(a=t.flow)==null?void 0:a.description},w((f=t.flow)==null?void 0:f.description),9,Y),s("p",G,[s("span",J,[i(l,{name:"i-heroicons-user-16-solid",class:"mr-1"}),K,p("  ")]),s("a",{class:"hover:underline flex flex-row items-center",href:(u=t.flow)==null?void 0:u.homepage,rel:"noopener",target:"_blank"},w((b=t.flow)==null?void 0:b.author),9,Q)]),s("p",R,[i(l,{name:"i-heroicons-document-text",class:"mr-1"}),(y=t.flow)!=null&&y.documentation?(n(),d("a",{key:0,class:"hover:underline",href:(v=t.flow)==null?void 0:v.documentation,rel:"noopener",target:"_blank"},"Documentation",8,X)):(n(),d("span",Z,"No documentation"))]),s("p",ee,[i(l,{name:"i-heroicons-arrow-down-on-square-stack",class:"mr-1"}),te,p("  "+w((F=($=t.flow)==null?void 0:$.models)==null?void 0:F.length),1)]),s("p",oe,[se,p("  "),i(l,{name:e(c)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),s("span",{class:L({"text-green-500":e(c),"text-red-500":!e(c)})},w(e(c)?"Yes":"No"),3)])])]}),_:1})])}}}),le={key:0,class:"w-full sticky top-1 flex justify-center my-1"},ae={class:"flex flex-wrap justify-center items-center mb-10"},ie={key:2,class:"text-center text-slate-500"},me=C({__name:"index",setup(t){D({title:"Workflows - Visionatrix",meta:[{name:"description",content:"Workflows - Visionatrix"}]});const o=N();return(_,c)=>{const x=S,r=q,h=ne,k=M;return n(),g(k,{class:"lg:h-dvh"},{default:m(()=>[e(o).$state.loading.flows_available||e(o).loading.flows_installed||e(o).$state.loading.tasks_history?(n(),g(x,{key:0})):e(o).flows.length>0?(n(),d(V,{key:1},[e(o).flows.length>e(o).$state.pageSize?(n(),d("div",le,[i(r,{modelValue:e(o).$state.page,"onUpdate:modelValue":c[0]||(c[0]=l=>e(o).$state.page=l),"page-count":e(o).$state.pageSize,total:e(o).flows.length},null,8,["modelValue","page-count","total"])])):U("",!0),s("div",ae,[(n(!0),d(V,null,O(e(o).paginatedFlows,l=>(n(),g(h,{key:l.name,flow:l},null,8,["flow"]))),128))])],64)):(n(),d("p",ie," No flows available "))]),_:1})}}});export{me as default};
