import{g as V,K as S,z as k,U as Rt,V as Z,W as be,X as ma,Y as ie,Z as Ct,$ as Mt,a0 as ke,F as H,a1 as ze,a2 as Ue,L as ue,a3 as D,a4 as Lt,a5 as Fe,a6 as Qe,a7 as Ze,a8 as ye,a9 as fa,aa as pa,ab as va,ac as Be,ad as Oe,ae as Ve,af as ht,ag as te,ah as ga,ai as ba,aj as Dt,ak as Me,al as ha,am as ya,an as zt,ao as We,ap as ee,aq as wa,ar as ka,as as Nt,at as $a,au as Sa,av as Vt,aw as Pa,ax as Ia,ay as Te,az as Ca,D as j,aA as Ma,s as $e,aB as za,v as G,_ as he,m as fe,O as et,x as Se,y as le,B as tt,aC as Fa,aD as xt,aE as Ba,P as we,Q as re,aF as Ce,o as f,j as O,w as T,b as F,G as K,a as I,c as $,aG as Ht,aH as Oa,E as _,k as z,r as ne,aI as Aa,t as x,d as q,e as Wt,aJ as yt,aK as Ta,aL as ja,aM as Ft,aN as Ua,aO as pt,aP as Ea,aQ as Ra,aR as Bt,aS as La,aT as qt,u as Da,aU as wt,aV as Na,aW as Le,aX as Va,aY as xa,i as c,N as Ee,H as De,l as pe,h as Re,aZ as _t,a_ as Ha,a$ as Wa,b0 as qa,b1 as Ne,b2 as _a,b3 as Ga,C as Ye,b4 as Qa,b5 as Ya,n as Gt,b6 as Ja,q as Ka,b7 as Xa}from"./2Wk1cLn0.js";import{c as Qt,b as Za,_ as en,a as tn}from"./Dw7e4W8X.js";import{t as Yt,b as Ot,o as at,i as an,p as nn,u as ln,f as on,c as me,d as kt,a as Jt,_ as Kt}from"./BEIcySYo.js";import{a as $t,_ as rn}from"./CNj7zYX9.js";const sn={wrapper:"w-full relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium",description:"mt-1 text-sm leading-4 opacity-90",actions:"flex items-center gap-2 mt-3 flex-shrink-0",shadow:"",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0 self-center",size:"md"},color:{white:{solid:"text-gray-900 dark:text-white bg-white dark:bg-gray-900 ring-1 ring-gray-200 dark:ring-gray-800"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{color:"white",variant:"solid",icon:null,closeButton:null,actionButton:{size:"xs",color:"primary",variant:"link"}}},un={wrapper:"relative",container:"relative w-full flex overflow-x-auto snap-x snap-mandatory scroll-smooth",item:"flex flex-none snap-center",arrows:{wrapper:"flex items-center justify-between"},indicators:{wrapper:"absolute flex items-center justify-center gap-3 bottom-4 inset-x-0",base:"rounded-full h-3 w-3",active:"bg-primary-500 dark:bg-primary-400",inactive:"bg-gray-100 dark:bg-gray-800 mix-blend-overlay"},default:{prevButton:{color:"black",class:"rtl:[&_span:first-child]:rotate-180 absolute left-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"black",class:"rtl:[&_span:last-child]:rotate-180 absolute right-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-right-20-solid "}}},dn={wrapper:"",inner:"",label:{wrapper:"flex content-center items-center justify-between",base:"block font-medium text-gray-700 dark:text-gray-200",required:"after:content-['*'] after:ms-0.5 after:text-red-500 dark:after:text-red-400"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},container:"mt-1 relative",description:"text-gray-500 dark:text-gray-400",hint:"text-gray-500 dark:text-gray-400",help:"mt-2 text-gray-500 dark:text-gray-400",error:"mt-2 text-red-500 dark:text-red-400",default:{size:"sm"}},cn={wrapper:"relative w-full flex items-center",base:"w-full absolute appearance-none cursor-pointer disabled:cursor-not-allowed disabled:bg-opacity-50 focus:outline-none peer group",rounded:"rounded-lg",background:"bg-transparent",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",progress:{base:"absolute pointer-events-none peer-disabled:bg-opacity-50",rounded:"rounded-s-lg",background:"bg-{color}-500 dark:bg-{color}-400",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"}},thumb:{base:"[&::-webkit-slider-thumb]:relative [&::-moz-range-thumb]:relative [&::-webkit-slider-thumb]:z-[1] [&::-moz-range-thumb]:z-[1] [&::-webkit-slider-thumb]:appearance-none [&::-moz-range-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:border-0",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:dark:bg-gray-900 [&::-moz-range-thumb]:bg-current",ring:"[&::-webkit-slider-thumb]:ring-2 [&::-webkit-slider-thumb]:ring-current",size:{"2xs":"[&::-webkit-slider-thumb]:h-1.5 [&::-moz-range-thumb]:h-1.5 [&::-webkit-slider-thumb]:w-1.5 [&::-moz-range-thumb]:w-1.5 [&::-webkit-slider-thumb]:mt-[-2.5px] [&::-moz-range-thumb]:mt-[-2.5px]",xs:"[&::-webkit-slider-thumb]:h-2 [&::-moz-range-thumb]:h-2 [&::-webkit-slider-thumb]:w-2 [&::-moz-range-thumb]:w-2 [&::-webkit-slider-thumb]:mt-[-3px] [&::-moz-range-thumb]:mt-[-3px]",sm:"[&::-webkit-slider-thumb]:h-3 [&::-moz-range-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-moz-range-thumb]:w-3 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",md:"[&::-webkit-slider-thumb]:h-4 [&::-moz-range-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-moz-range-thumb]:w-4 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",lg:"[&::-webkit-slider-thumb]:h-5 [&::-moz-range-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-moz-range-thumb]:w-5 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",xl:"[&::-webkit-slider-thumb]:h-6 [&::-moz-range-thumb]:h-6 [&::-webkit-slider-thumb]:w-6 [&::-moz-range-thumb]:w-6 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1","2xl":"[&::-webkit-slider-thumb]:h-7 [&::-moz-range-thumb]:h-7 [&::-webkit-slider-thumb]:w-7 [&::-moz-range-thumb]:w-7 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1"}},track:{base:"[&::-webkit-slider-runnable-track]:group-disabled:bg-opacity-50 [&::-moz-range-track]:group-disabled:bg-opacity-50",background:"[&::-webkit-slider-runnable-track]:bg-gray-200 [&::-moz-range-track]:bg-gray-200 [&::-webkit-slider-runnable-track]:dark:bg-gray-700 [&::-moz-range-track]:dark:bg-gray-700",rounded:"[&::-webkit-slider-runnable-track]:rounded-lg [&::-moz-range-track]:rounded-lg",size:{"2xs":"[&::-webkit-slider-runnable-track]:h-px [&::-moz-range-track]:h-px",xs:"[&::-webkit-slider-runnable-track]:h-0.5 [&::-moz-range-track]:h-0.5",sm:"[&::-webkit-slider-runnable-track]:h-1 [&::-moz-range-track]:h-1",md:"[&::-webkit-slider-runnable-track]:h-2 [&::-moz-range-track]:h-2",lg:"[&::-webkit-slider-runnable-track]:h-3 [&::-moz-range-track]:h-3",xl:"[&::-webkit-slider-runnable-track]:h-4 [&::-moz-range-track]:h-4","2xl":"[&::-webkit-slider-runnable-track]:h-5 [&::-moz-range-track]:h-5"}},size:{"2xs":"h-1.5",xs:"h-2",sm:"h-3",md:"h-4",lg:"h-5",xl:"h-6","2xl":"h-7"},default:{size:"md",color:"primary"}},mn={base:"animate-pulse",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-md"},fn={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function Xt(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let a of e.value){let n=D(a);n instanceof HTMLElement&&t.add(n)}return t}var Zt=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Zt||{});let xe=Object.assign(V({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:S(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:a,expose:n}){let r=S(null);n({el:r,$el:r});let i=k(()=>Rt(r)),l=S(!1);Z(()=>l.value=!0),be(()=>l.value=!1),vn({ownerDocument:i},k(()=>l.value&&!!(e.features&16)));let s=gn({ownerDocument:i,container:r,initialFocus:k(()=>e.initialFocus)},k(()=>l.value&&!!(e.features&2)));bn({ownerDocument:i,container:r,containers:e.containers,previousActiveElement:s},k(()=>l.value&&!!(e.features&8)));let u=ma();function m(d){let p=D(r);p&&(b=>b())(()=>{Fe(u.value,{[Qe.Forwards]:()=>{Ze(p,ye.First,{skipElements:[d.relatedTarget]})},[Qe.Backwards]:()=>{Ze(p,ye.Last,{skipElements:[d.relatedTarget]})}})})}let y=S(!1);function g(d){d.key==="Tab"&&(y.value=!0,requestAnimationFrame(()=>{y.value=!1}))}function o(d){if(!l.value)return;let p=Xt(e.containers);D(r)instanceof HTMLElement&&p.add(D(r));let b=d.relatedTarget;b instanceof HTMLElement&&b.dataset.headlessuiFocusGuard!=="true"&&(ea(p,b)||(y.value?Ze(D(r),Fe(u.value,{[Qe.Forwards]:()=>ye.Next,[Qe.Backwards]:()=>ye.Previous})|ye.WrapAround,{relativeTo:d.target}):d.target instanceof HTMLElement&&Ue(d.target)))}return()=>{let d={},p={ref:r,onKeydown:g,onFocusout:o},{features:b,initialFocus:w,containers:v,...P}=e;return ie(H,[!!(b&4)&&ie(Ct,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Mt.Focusable}),ke({ourProps:p,theirProps:{...t,...P},slot:d,attrs:t,slots:a,name:"FocusTrap"}),!!(b&4)&&ie(Ct,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Mt.Focusable})])}}}),{features:Zt});function pn(e){let t=S(Ot.slice());return ue([e],([a],[n])=>{n===!0&&a===!1?Yt(()=>{t.value.splice(0)}):n===!1&&a===!0&&(t.value=Ot.slice())},{flush:"post"}),()=>{var a;return(a=t.value.find(n=>n!=null&&n.isConnected))!=null?a:null}}function vn({ownerDocument:e},t){let a=pn(t);Z(()=>{ze(()=>{var n,r;t.value||((n=e.value)==null?void 0:n.activeElement)===((r=e.value)==null?void 0:r.body)&&Ue(a())},{flush:"post"})}),be(()=>{t.value&&Ue(a())})}function gn({ownerDocument:e,container:t,initialFocus:a},n){let r=S(null),i=S(!1);return Z(()=>i.value=!0),be(()=>i.value=!1),Z(()=>{ue([t,a,n],(l,s)=>{if(l.every((m,y)=>(s==null?void 0:s[y])===m)||!n.value)return;let u=D(t);u&&Yt(()=>{var m,y;if(!i.value)return;let g=D(a),o=(m=e.value)==null?void 0:m.activeElement;if(g){if(g===o){r.value=o;return}}else if(u.contains(o)){r.value=o;return}g?Ue(g):Ze(u,ye.First|ye.NoScroll)===fa.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),r.value=(y=e.value)==null?void 0:y.activeElement})},{immediate:!0,flush:"post"})}),r}function bn({ownerDocument:e,container:t,containers:a,previousActiveElement:n},r){var i;Lt((i=e.value)==null?void 0:i.defaultView,"focus",l=>{if(!r.value)return;let s=Xt(a);D(t)instanceof HTMLElement&&s.add(D(t));let u=n.value;if(!u)return;let m=l.target;m&&m instanceof HTMLElement?ea(s,m)?(n.value=m,Ue(m)):(l.preventDefault(),l.stopPropagation(),Ue(u)):Ue(n.value)},!0)}function ea(e,t){for(let a of e)if(a.contains(t))return!0;return!1}function hn(e){let t=pa(e.getSnapshot());return be(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function yn(e,t){let a=e(),n=new Set;return{getSnapshot(){return a},subscribe(r){return n.add(r),()=>n.delete(r)},dispatch(r,...i){let l=t[r].call(a,...i);l&&(a=l,n.forEach(s=>s()))}}}function wn(){let e;return{before({doc:t}){var a;let n=t.documentElement;e=((a=t.defaultView)!=null?a:window).innerWidth-n.clientWidth},after({doc:t,d:a}){let n=t.documentElement,r=n.clientWidth-n.offsetWidth,i=e-r;a.style(n,"paddingRight",`${i}px`)}}}function kn(){return va()?{before({doc:e,d:t,meta:a}){function n(r){return a.containers.flatMap(i=>i()).some(i=>i.contains(r))}t.microTask(()=>{var r;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=at();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let i=(r=window.scrollY)!=null?r:window.pageYOffset,l=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let u=s.target.closest("a");if(!u)return;let{hash:m}=new URL(u.href),y=e.querySelector(m);y&&!n(y)&&(l=y)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(s.target instanceof HTMLElement)if(n(s.target)){let u=s.target;for(;u.parentElement&&n(u.parentElement);)u=u.parentElement;t.style(u,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(s.target instanceof HTMLElement)if(n(s.target)){let u=s.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()},{passive:!1}),t.add(()=>{var s;let u=(s=window.scrollY)!=null?s:window.pageYOffset;i!==u&&window.scrollTo(0,i),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function $n(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Sn(e){let t={};for(let a of e)Object.assign(t,a(t));return t}let je=yn(()=>new Map,{PUSH(e,t){var a;let n=(a=this.get(e))!=null?a:{doc:e,count:0,d:at(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let a=this.get(e);return a&&(a.count--,a.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:a}){let n={doc:e,d:t,meta:Sn(a)},r=[kn(),wn(),$n()];r.forEach(({before:i})=>i==null?void 0:i(n)),r.forEach(({after:i})=>i==null?void 0:i(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});je.subscribe(()=>{let e=je.getSnapshot(),t=new Map;for(let[a]of e)t.set(a,a.documentElement.style.overflow);for(let a of e.values()){let n=t.get(a.doc)==="hidden",r=a.count!==0;(r&&!n||!r&&n)&&je.dispatch(a.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",a),a.count===0&&je.dispatch("TEARDOWN",a)}});function Pn(e,t,a){let n=hn(je),r=k(()=>{let i=e.value?n.value.get(e.value):void 0;return i?i.count>0:!1});return ue([e,t],([i,l],[s],u)=>{if(!i||!l)return;je.dispatch("PUSH",i,a);let m=!1;u(()=>{m||(je.dispatch("POP",s??i,a),m=!0)})},{immediate:!0}),r}let ut=new Map,He=new Map;function At(e,t=S(!0)){ze(a=>{var n;if(!t.value)return;let r=D(e);if(!r)return;a(function(){var l;if(!r)return;let s=(l=He.get(r))!=null?l:1;if(s===1?He.delete(r):He.set(r,s-1),s!==1)return;let u=ut.get(r);u&&(u["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",u["aria-hidden"]),r.inert=u.inert,ut.delete(r))});let i=(n=He.get(r))!=null?n:0;He.set(r,i+1),i===0&&(ut.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0)})}let ta=Symbol("StackContext");var vt=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(vt||{});function In(){return Oe(ta,()=>{})}function Cn({type:e,enabled:t,element:a,onUpdate:n}){let r=In();function i(...l){n==null||n(...l),r(...l)}Z(()=>{ue(t,(l,s)=>{l?i(0,e,a):s===!0&&i(1,e,a)},{immediate:!0,flush:"sync"})}),be(()=>{t.value&&i(1,e,a)}),Be(ta,i)}let Mn=Symbol("DescriptionContext");function zn({slot:e=S({}),name:t="Description",props:a={}}={}){let n=S([]);function r(i){return n.value.push(i),()=>{let l=n.value.indexOf(i);l!==-1&&n.value.splice(l,1)}}return Be(Mn,{register:r,slot:e,name:t,props:a}),k(()=>n.value.length>0?n.value.join(" "):void 0)}var Fn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Fn||{});let gt=Symbol("DialogContext");function aa(e){let t=Oe(gt,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,aa),a}return t}let Je="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Bn=V({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Je},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:a,slots:n,expose:r}){var i,l;let s=(i=e.id)!=null?i:`headlessui-dialog-${Ve()}`,u=S(!1);Z(()=>{u.value=!0});let m=!1,y=k(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(m||(m=!0,console.warn(`Invalid role [${y}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),g=S(0),o=ht(),d=k(()=>e.open===Je&&o!==null?(o.value&te.Open)===te.Open:e.open),p=S(null),b=k(()=>Rt(p));if(r({el:p,$el:p}),!(e.open!==Je||o!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof d.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${d.value===Je?void 0:e.open}`);let w=k(()=>u.value&&d.value?0:1),v=k(()=>w.value===0),P=k(()=>g.value>1),h=Oe(gt,null)!==null,[A,C]=ga(),{resolveContainers:L,mainTreeNodeRef:E,MainTreeNode:B}=ba({portals:A,defaultContainers:[k(()=>{var N;return(N=ce.panelRef.value)!=null?N:p.value})]}),R=k(()=>P.value?"parent":"leaf"),Q=k(()=>o!==null?(o.value&te.Closing)===te.Closing:!1),de=k(()=>h||Q.value?!1:v.value),ae=k(()=>{var N,M,W;return(W=Array.from((M=(N=b.value)==null?void 0:N.querySelectorAll("body > *"))!=null?M:[]).find(oe=>oe.id==="headlessui-portal-root"?!1:oe.contains(D(E))&&oe instanceof HTMLElement))!=null?W:null});At(ae,de);let J=k(()=>P.value?!0:v.value),U=k(()=>{var N,M,W;return(W=Array.from((M=(N=b.value)==null?void 0:N.querySelectorAll("[data-headlessui-portal]"))!=null?M:[]).find(oe=>oe.contains(D(E))&&oe instanceof HTMLElement))!=null?W:null});At(U,J),Cn({type:"Dialog",enabled:k(()=>w.value===0),element:p,onUpdate:(N,M)=>{if(M==="Dialog")return Fe(N,{[vt.Add]:()=>g.value+=1,[vt.Remove]:()=>g.value-=1})}});let Y=zn({name:"DialogDescription",slot:k(()=>({open:d.value}))}),X=S(null),ce={titleId:X,panelRef:S(null),dialogState:w,setTitleId(N){X.value!==N&&(X.value=N)},close(){t("close",!1)}};Be(gt,ce);let se=k(()=>!(!v.value||P.value));Dt(L,(N,M)=>{N.preventDefault(),ce.close(),Me(()=>M==null?void 0:M.focus())},se);let qe=k(()=>!(P.value||w.value!==0));Lt((l=b.value)==null?void 0:l.defaultView,"keydown",N=>{qe.value&&(N.defaultPrevented||N.key===ee.Escape&&(N.preventDefault(),N.stopPropagation(),ce.close()))});let _e=k(()=>!(Q.value||w.value!==0||h));return Pn(b,_e,N=>{var M;return{containers:[...(M=N.containers)!=null?M:[],L]}}),ze(N=>{if(w.value!==0)return;let M=D(p);if(!M)return;let W=new ResizeObserver(oe=>{for(let it of oe){let Ge=it.target.getBoundingClientRect();Ge.x===0&&Ge.y===0&&Ge.width===0&&Ge.height===0&&ce.close()}});W.observe(M),N(()=>W.disconnect())}),()=>{let{open:N,initialFocus:M,...W}=e,oe={...a,ref:p,id:s,role:y.value,"aria-modal":w.value===0?!0:void 0,"aria-labelledby":X.value,"aria-describedby":Y.value},it={open:w.value===0};return ie(zt,{force:!0},()=>[ie(ha,()=>ie(ya,{target:p.value},()=>ie(zt,{force:!1},()=>ie(xe,{initialFocus:M,containers:L,features:v.value?Fe(R.value,{parent:xe.features.RestoreFocus,leaf:xe.features.All&~xe.features.FocusLock}):xe.features.None},()=>ie(C,{},()=>ke({ourProps:oe,theirProps:{...W,...a},slot:it,attrs:a,slots:n,visible:w.value===0,features:We.RenderStrategy|We.Static,name:"Dialog"})))))),ie(B)])}}}),On=V({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:n}){var r;let i=(r=e.id)!=null?r:`headlessui-dialog-panel-${Ve()}`,l=aa("DialogPanel");n({el:l.panelRef,$el:l.panelRef});function s(u){u.stopPropagation()}return()=>{let{...u}=e,m={id:i,ref:l.panelRef,onClick:s};return ke({ourProps:m,theirProps:u,slot:{open:l.dialogState.value===0},attrs:t,slots:a,name:"DialogPanel"})}}});var An=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(An||{}),Tn=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Tn||{});function jn(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let na=Symbol("MenuContext");function nt(e){let t=Oe(na,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,nt),a}return t}let Un=V({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:a}){let n=S(1),r=S(null),i=S(null),l=S([]),s=S(""),u=S(null),m=S(1);function y(o=d=>d){let d=u.value!==null?l.value[u.value]:null,p=Pa(o(l.value.slice()),w=>D(w.dataRef.domRef)),b=d?p.indexOf(d):null;return b===-1&&(b=null),{items:p,activeItemIndex:b}}let g={menuState:n,buttonRef:r,itemsRef:i,items:l,searchQuery:s,activeItemIndex:u,activationTrigger:m,closeMenu:()=>{n.value=1,u.value=null},openMenu:()=>n.value=0,goToItem(o,d,p){let b=y(),w=on(o===me.Specific?{focus:me.Specific,id:d}:{focus:o},{resolveItems:()=>b.items,resolveActiveIndex:()=>b.activeItemIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.disabled});s.value="",u.value=w,m.value=p??1,l.value=b.items},search(o){let d=s.value!==""?0:1;s.value+=o.toLowerCase();let p=(u.value!==null?l.value.slice(u.value+d).concat(l.value.slice(0,u.value+d)):l.value).find(w=>w.dataRef.textValue.startsWith(s.value)&&!w.dataRef.disabled),b=p?l.value.indexOf(p):-1;b===-1||b===u.value||(u.value=b,m.value=1)},clearSearch(){s.value=""},registerItem(o,d){let p=y(b=>[...b,{id:o,dataRef:d}]);l.value=p.items,u.value=p.activeItemIndex,m.value=1},unregisterItem(o){let d=y(p=>{let b=p.findIndex(w=>w.id===o);return b!==-1&&p.splice(b,1),p});l.value=d.items,u.value=d.activeItemIndex,m.value=1}};return Dt([r,i],(o,d)=>{var p;g.closeMenu(),wa(d,ka.Loose)||(o.preventDefault(),(p=D(r))==null||p.focus())},k(()=>n.value===0)),Be(na,g),Nt(k(()=>Fe(n.value,{0:te.Open,1:te.Closed}))),()=>{let o={open:n.value===0,close:g.closeMenu};return ke({ourProps:{},theirProps:e,slot:o,slots:t,attrs:a,name:"Menu"})}}}),En=V({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:n}){var r;let i=(r=e.id)!=null?r:`headlessui-menu-button-${Ve()}`,l=nt("MenuButton");n({el:l.buttonRef,$el:l.buttonRef});function s(g){switch(g.key){case ee.Space:case ee.Enter:case ee.ArrowDown:g.preventDefault(),g.stopPropagation(),l.openMenu(),Me(()=>{var o;(o=D(l.itemsRef))==null||o.focus({preventScroll:!0}),l.goToItem(me.First)});break;case ee.ArrowUp:g.preventDefault(),g.stopPropagation(),l.openMenu(),Me(()=>{var o;(o=D(l.itemsRef))==null||o.focus({preventScroll:!0}),l.goToItem(me.Last)});break}}function u(g){switch(g.key){case ee.Space:g.preventDefault();break}}function m(g){e.disabled||(l.menuState.value===0?(l.closeMenu(),Me(()=>{var o;return(o=D(l.buttonRef))==null?void 0:o.focus({preventScroll:!0})})):(g.preventDefault(),l.openMenu(),jn(()=>{var o;return(o=D(l.itemsRef))==null?void 0:o.focus({preventScroll:!0})})))}let y=$a(k(()=>({as:e.as,type:t.type})),l.buttonRef);return()=>{var g;let o={open:l.menuState.value===0},{...d}=e,p={ref:l.buttonRef,id:i,type:y.value,"aria-haspopup":"menu","aria-controls":(g=D(l.itemsRef))==null?void 0:g.id,"aria-expanded":l.menuState.value===0,onKeydown:s,onKeyup:u,onClick:m};return ke({ourProps:p,theirProps:d,slot:o,attrs:t,slots:a,name:"MenuButton"})}}}),Rn=V({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:n}){var r;let i=(r=e.id)!=null?r:`headlessui-menu-items-${Ve()}`,l=nt("MenuItems"),s=S(null);n({el:l.itemsRef,$el:l.itemsRef}),an({container:k(()=>D(l.itemsRef)),enabled:k(()=>l.menuState.value===0),accept(o){return o.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:o.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(o){o.setAttribute("role","none")}});function u(o){var d;switch(s.value&&clearTimeout(s.value),o.key){case ee.Space:if(l.searchQuery.value!=="")return o.preventDefault(),o.stopPropagation(),l.search(o.key);case ee.Enter:if(o.preventDefault(),o.stopPropagation(),l.activeItemIndex.value!==null){let p=l.items.value[l.activeItemIndex.value];(d=D(p.dataRef.domRef))==null||d.click()}l.closeMenu(),Vt(D(l.buttonRef));break;case ee.ArrowDown:return o.preventDefault(),o.stopPropagation(),l.goToItem(me.Next);case ee.ArrowUp:return o.preventDefault(),o.stopPropagation(),l.goToItem(me.Previous);case ee.Home:case ee.PageUp:return o.preventDefault(),o.stopPropagation(),l.goToItem(me.First);case ee.End:case ee.PageDown:return o.preventDefault(),o.stopPropagation(),l.goToItem(me.Last);case ee.Escape:o.preventDefault(),o.stopPropagation(),l.closeMenu(),Me(()=>{var p;return(p=D(l.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case ee.Tab:o.preventDefault(),o.stopPropagation(),l.closeMenu(),Me(()=>Sa(D(l.buttonRef),o.shiftKey?ye.Previous:ye.Next));break;default:o.key.length===1&&(l.search(o.key),s.value=setTimeout(()=>l.clearSearch(),350));break}}function m(o){switch(o.key){case ee.Space:o.preventDefault();break}}let y=ht(),g=k(()=>y!==null?(y.value&te.Open)===te.Open:l.menuState.value===0);return()=>{var o,d;let p={open:l.menuState.value===0},{...b}=e,w={"aria-activedescendant":l.activeItemIndex.value===null||(o=l.items.value[l.activeItemIndex.value])==null?void 0:o.id,"aria-labelledby":(d=D(l.buttonRef))==null?void 0:d.id,id:i,onKeydown:u,onKeyup:m,role:"menu",tabIndex:0,ref:l.itemsRef};return ke({ourProps:w,theirProps:b,slot:p,attrs:t,slots:a,features:We.RenderStrategy|We.Static,visible:g.value,name:"MenuItems"})}}}),Ln=V({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:a,expose:n}){var r;let i=(r=e.id)!=null?r:`headlessui-menu-item-${Ve()}`,l=nt("MenuItem"),s=S(null);n({el:s,$el:s});let u=k(()=>l.activeItemIndex.value!==null?l.items.value[l.activeItemIndex.value].id===i:!1),m=nn(s),y=k(()=>({disabled:e.disabled,get textValue(){return m()},domRef:s}));Z(()=>l.registerItem(i,y)),be(()=>l.unregisterItem(i)),ze(()=>{l.menuState.value===0&&u.value&&l.activationTrigger.value!==0&&Me(()=>{var v,P;return(P=(v=D(s))==null?void 0:v.scrollIntoView)==null?void 0:P.call(v,{block:"nearest"})})});function g(v){if(e.disabled)return v.preventDefault();l.closeMenu(),Vt(D(l.buttonRef))}function o(){if(e.disabled)return l.goToItem(me.Nothing);l.goToItem(me.Specific,i)}let d=ln();function p(v){d.update(v)}function b(v){d.wasMoved(v)&&(e.disabled||u.value||l.goToItem(me.Specific,i,0))}function w(v){d.wasMoved(v)&&(e.disabled||u.value&&l.goToItem(me.Nothing))}return()=>{let{disabled:v,...P}=e,h={active:u.value,disabled:v,close:l.closeMenu};return ke({ourProps:{id:i,ref:s,role:"menuitem",tabIndex:v===!0?void 0:-1,"aria-disabled":v===!0?!0:void 0,onClick:g,onFocus:o,onPointerenter:p,onMouseenter:p,onPointermove:b,onMousemove:b,onPointerleave:w,onMouseleave:w},theirProps:{...a,...P},slot:h,attrs:a,slots:t,name:"MenuItem"})}}});function Dn(e){let t={called:!1};return(...a)=>{if(!t.called)return t.called=!0,e(...a)}}function dt(e,...t){e&&t.length>0&&e.classList.add(...t)}function Ke(e,...t){e&&t.length>0&&e.classList.remove(...t)}var bt=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(bt||{});function Nn(e,t){let a=at();if(!e)return a.dispose;let{transitionDuration:n,transitionDelay:r}=getComputedStyle(e),[i,l]=[n,r].map(s=>{let[u=0]=s.split(",").filter(Boolean).map(m=>m.includes("ms")?parseFloat(m):parseFloat(m)*1e3).sort((m,y)=>y-m);return u});return i!==0?a.setTimeout(()=>t("finished"),i+l):t("finished"),a.add(()=>t("cancelled")),a.dispose}function Tt(e,t,a,n,r,i){let l=at(),s=i!==void 0?Dn(i):()=>{};return Ke(e,...r),dt(e,...t,...a),l.nextFrame(()=>{Ke(e,...a),dt(e,...n),l.add(Nn(e,u=>(Ke(e,...n,...t),dt(e,...r),s(u))))}),l.add(()=>Ke(e,...t,...a,...n,...r)),l.add(()=>s("cancelled")),l.dispose}function Ae(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let St=Symbol("TransitionContext");var Vn=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Vn||{});function xn(){return Oe(St,null)!==null}function Hn(){let e=Oe(St,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Wn(){let e=Oe(Pt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let Pt=Symbol("NestingContext");function lt(e){return"children"in e?lt(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function la(e){let t=S([]),a=S(!1);Z(()=>a.value=!0),be(()=>a.value=!1);function n(i,l=Te.Hidden){let s=t.value.findIndex(({id:u})=>u===i);s!==-1&&(Fe(l,{[Te.Unmount](){t.value.splice(s,1)},[Te.Hidden](){t.value[s].state="hidden"}}),!lt(t)&&a.value&&(e==null||e()))}function r(i){let l=t.value.find(({id:s})=>s===i);return l?l.state!=="visible"&&(l.state="visible"):t.value.push({id:i,state:"visible"}),()=>n(i,Te.Unmount)}return{children:t,register:r,unregister:n}}let oa=We.RenderStrategy,ra=V({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:n,expose:r}){let i=S(0);function l(){i.value|=te.Opening,t("beforeEnter")}function s(){i.value&=~te.Opening,t("afterEnter")}function u(){i.value|=te.Closing,t("beforeLeave")}function m(){i.value&=~te.Closing,t("afterLeave")}if(!xn()&&Ia())return()=>ie(sa,{...e,onBeforeEnter:l,onAfterEnter:s,onBeforeLeave:u,onAfterLeave:m},n);let y=S(null),g=k(()=>e.unmount?Te.Unmount:Te.Hidden);r({el:y,$el:y});let{show:o,appear:d}=Hn(),{register:p,unregister:b}=Wn(),w=S(o.value?"visible":"hidden"),v={value:!0},P=Ve(),h={value:!1},A=la(()=>{!h.value&&w.value!=="hidden"&&(w.value="hidden",b(P),m())});Z(()=>{let J=p(P);be(J)}),ze(()=>{if(g.value===Te.Hidden&&P){if(o.value&&w.value!=="visible"){w.value="visible";return}Fe(w.value,{hidden:()=>b(P),visible:()=>p(P)})}});let C=Ae(e.enter),L=Ae(e.enterFrom),E=Ae(e.enterTo),B=Ae(e.entered),R=Ae(e.leave),Q=Ae(e.leaveFrom),de=Ae(e.leaveTo);Z(()=>{ze(()=>{if(w.value==="visible"){let J=D(y);if(J instanceof Comment&&J.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function ae(J){let U=v.value&&!d.value,Y=D(y);!Y||!(Y instanceof HTMLElement)||U||(h.value=!0,o.value&&l(),o.value||u(),J(o.value?Tt(Y,C,L,E,B,X=>{h.value=!1,X===bt.Finished&&s()}):Tt(Y,R,Q,de,B,X=>{h.value=!1,X===bt.Finished&&(lt(A)||(w.value="hidden",b(P),m()))})))}return Z(()=>{ue([o],(J,U,Y)=>{ae(Y),v.value=!1},{immediate:!0})}),Be(Pt,A),Nt(k(()=>Fe(w.value,{visible:te.Open,hidden:te.Closed})|i.value)),()=>{let{appear:J,show:U,enter:Y,enterFrom:X,enterTo:ce,entered:se,leave:qe,leaveFrom:_e,leaveTo:N,...M}=e,W={ref:y},oe={...M,...d.value&&o.value&&Ca.isServer?{class:j([a.class,M.class,...C,...L])}:{}};return ke({theirProps:oe,ourProps:W,slot:{},slots:n,attrs:a,features:oa,visible:w.value==="visible",name:"TransitionChild"})}}}),qn=ra,sa=V({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:n}){let r=ht(),i=k(()=>e.show===null&&r!==null?(r.value&te.Open)===te.Open:e.show);ze(()=>{if(![!0,!1].includes(i.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=S(i.value?"visible":"hidden"),s=la(()=>{l.value="hidden"}),u=S(!0),m={show:i,appear:k(()=>e.appear||!u.value)};return Z(()=>{ze(()=>{u.value=!1,i.value?l.value="visible":lt(s)||(l.value="hidden")})}),Be(Pt,s),Be(St,m),()=>{let y=Ma(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),g={unmount:e.unmount};return ke({ourProps:{...g,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[ie(qn,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...a,...g,...y},n.default)]},attrs:{},features:oa,visible:l.value==="visible",name:"Transition"})}}});const ct=$e(G.ui.strategy,G.ui.dropdown,za),_n=V({components:{HMenu:Un,HMenuButton:En,HMenuItems:Rn,HMenuItem:Ln,UIcon:fe,UAvatar:et,UKbd:Qt},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>ct.default.openDelay},closeDelay:{type:Number,default:()=>ct.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:t}){const{ui:a,attrs:n}=Se("dropdown",le(e,"ui"),ct,le(e,"class")),r=k(()=>tt(e.mode==="hover"?{offsetDistance:0}:{},e.popper,a.value.popper)),[i,l]=Fa(r.value),s=S(null);let u=null,m=null;Z(()=>{var P,h;const w=(P=i.value)==null?void 0:P.$.provides;if(!w)return;const v=Object.getOwnPropertySymbols(w);s.value=v.length&&w[v[0]],e.open&&((h=s.value)==null||h.openMenu())});const y=k(()=>{var h,A,C;if(e.mode!=="hover")return{};const w=((h=e.popper)==null?void 0:h.offsetDistance)||((A=a.value.popper)==null?void 0:A.offsetDistance)||8,v=(C=r.value.placement)==null?void 0:C.split("-")[0],P=`${w}px`;return v==="top"||v==="bottom"?{paddingTop:P,paddingBottom:P}:v==="left"||v==="right"?{paddingLeft:P,paddingRight:P}:{paddingTop:P,paddingBottom:P,paddingLeft:P,paddingRight:P}});function g(w){!w.cancelable||!s.value||(s.value.menuState===0?s.value.closeMenu():s.value.openMenu())}function o(){e.mode!=="hover"||!s.value||(m&&(clearTimeout(m),m=null),s.value.menuState!==0&&(u=u||setTimeout(()=>{s.value.openMenu&&s.value.openMenu(),u=null},e.openDelay)))}function d(){e.mode!=="hover"||!s.value||(u&&(clearTimeout(u),u=null),s.value.menuState!==1&&(m=m||setTimeout(()=>{s.value.closeMenu&&s.value.closeMenu(),m=null},e.closeDelay)))}function p(w,v,{href:P,navigate:h,close:A,isExternal:C}){v.click&&v.click(w),P&&!C&&(h(w),A())}ue(()=>e.open,(w,v)=>{s.value&&(v===void 0||w===v||(w?s.value.openMenu():s.value.closeMenu()))}),ue(()=>{var w;return(w=s.value)==null?void 0:w.menuState},(w,v)=>{v===void 0||w===v||t("update:open",w===0)});const b=Wt;return xt(()=>yt("$ctlRmIk4j0")),{ui:a,attrs:n,popper:r,trigger:i,container:l,containerStyle:y,onTouchStart:g,onMouseEnter:o,onMouseLeave:d,onClick:p,getNuxtLinkProps:Ba,twMerge:we,twJoin:re,NuxtLink:b}}}),Gn=["disabled"];function Qn(e,t,a,n,r,i){const l=Ce("HMenuButton"),s=fe,u=et,m=Qt,y=Ce("HMenuItem"),g=Wt,o=Ce("HMenuItems"),d=Ce("HMenu");return f(),O(d,_({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:T(({open:p})=>[F(l,{ref:"trigger",as:"div",disabled:e.disabled,class:j(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:T(()=>[K(e.$slots,"default",{open:p,disabled:e.disabled},()=>[I("button",{disabled:e.disabled}," Open ",8,Gn)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),p&&e.items.length?(f(),$("div",{key:0,ref:"container",class:j([e.ui.container,e.ui.width]),style:Ht(e.containerStyle),onMouseenter:t[0]||(t[0]=(...b)=>e.onMouseEnter&&e.onMouseEnter(...b))},[F(Oa,_({appear:""},e.ui.transition),{default:T(()=>[I("div",null,[e.popper.arrow?(f(),$("div",{key:0,"data-popper-arrow":"",class:j(Object.values(e.ui.arrow))},null,2)):z("",!0),F(o,{class:j([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:T(()=>[(f(!0),$(H,null,ne(e.items,(b,w)=>(f(),$("div",{key:w,class:j(e.ui.padding)},[(f(!0),$(H,null,ne(b,(v,P)=>(f(),O(g,_({key:P,ref_for:!0},e.getNuxtLinkProps(v),{custom:""}),{default:T(({href:h,target:A,rel:C,navigate:L,isExternal:E,isActive:B})=>[F(y,{disabled:v.disabled},{default:T(({active:R,disabled:Q,close:de})=>[(f(),O(Aa(h?"a":"button"),{href:Q?void 0:h,rel:C,target:A,class:j(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,R||B?e.ui.item.active:e.ui.item.inactive,Q&&e.ui.item.disabled),v.class)),onClick:ae=>e.onClick(ae,v,{href:h,navigate:L,close:de,isExternal:E})},{default:T(()=>[K(e.$slots,v.slot||"item",{item:v},()=>{var ae;return[v.icon?(f(),O(s,{key:0,name:v.icon,class:j(e.twMerge(e.twJoin(e.ui.item.icon.base,R||B?e.ui.item.icon.active:e.ui.item.icon.inactive),v.iconClass))},null,8,["name","class"])):v.avatar?(f(),O(u,_({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...v.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):z("",!0),I("span",{class:j(e.twMerge(e.ui.item.label,v.labelClass))},x(v.label),3),(ae=v.shortcuts)!=null&&ae.length?(f(),$("span",{key:2,class:j(e.ui.item.shortcuts)},[(f(!0),$(H,null,ne(v.shortcuts,J=>(f(),O(m,{key:J},{default:T(()=>[q(x(J),1)]),_:2},1024))),128))],2)):z("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):z("",!0)]),_:3},16,["class","onMouseleave"])}const It=he(_n,[["render",Qn]]),Pe=$e(G.ui.strategy,G.ui.textarea,Ta),Yn=V({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(Pe.size).includes(e)}},color:{type:String,default:()=>Pe.default.color,validator(e){return[...G.ui.colors,...Object.keys(Pe.color)].includes(e)}},variant:{type:String,default:()=>Pe.default.variant,validator(e){return[...Object.keys(Pe.variant),...Object.values(Pe.color).flatMap(t=>Object.keys(t))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t}){const{ui:a,attrs:n}=Se("textarea",le(e,"ui"),Pe,le(e,"class")),{emitFormBlur:r,emitFormInput:i,inputId:l,color:s,size:u,name:m}=kt(e,Pe),y=S(tt({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),g=S(null),o=()=>{var h;e.autofocus&&((h=g.value)==null||h.focus())},d=()=>{if(e.autoresize){if(!g.value)return;g.value.rows=e.rows;const h=window.getComputedStyle(g.value),A=parseInt(h.paddingTop),C=parseInt(h.paddingBottom),L=A+C,E=parseInt(h.lineHeight),{scrollHeight:B}=g.value,R=(B-L)/E;R>e.rows&&(g.value.rows=e.maxrows?Math.min(R,e.maxrows):R)}},p=h=>{y.value.trim&&(h=h.trim()),y.value.number&&(h=ja(h)),t("update:modelValue",h),i()},b=h=>{d(),y.value.lazy||p(h.target.value)},w=h=>{const A=h.target.value;t("change",A),y.value.lazy&&p(A),y.value.trim&&(h.target.value=A.trim())},v=h=>{t("blur",h),r()};Z(()=>{setTimeout(()=>{o()},e.autofocusDelay)}),ue(()=>e.modelValue,()=>{Me(d)}),Z(()=>{setTimeout(()=>{o(),d()},100)});const P=k(()=>{var A,C;const h=((C=(A=a.value.color)==null?void 0:A[s.value])==null?void 0:C[e.variant])||a.value.variant[e.variant];return we(re(a.value.base,a.value.form,a.value.rounded,a.value.placeholder,a.value.size[u.value],e.padded?a.value.padding[u.value]:"p-0",h==null?void 0:h.replaceAll("{color}",s.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:a,attrs:n,name:m,inputId:l,textarea:g,textareaClass:P,onInput:b,onChange:w,onBlur:v}}}),Jn=["id","value","name","rows","required","disabled","placeholder"];function Kn(e,t,a,n,r,i){return f(),$("div",{class:j(e.ui.wrapper)},[I("textarea",_({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:t[0]||(t[0]=(...l)=>e.onInput&&e.onInput(...l)),onBlur:t[1]||(t[1]=(...l)=>e.onBlur&&e.onBlur(...l)),onChange:t[2]||(t[2]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,Jn),K(e.$slots,"default")],2)}const Xn=he(Yn,[["render",Kn]]);async function Zn(e,t){return await el(t).catch(n=>(console.error("Failed to get image meta for "+t,n+""),{width:0,height:0,ratio:0}))}async function el(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,a)=>{const n=new Image;n.onload=()=>{const r={width:n.width,height:n.height,ratio:n.width/n.height};t(r)},n.onerror=r=>a(r),n.src=e})}function jt(e){return t=>t?e[t]||t:e.missingValue}function tl({formatter:e,keyMap:t,joinWith:a="/",valueMap:n}={}){e||(e=(i,l)=>`${i}=${l}`),t&&typeof t!="function"&&(t=jt(t));const r=n||{};return Object.keys(r).forEach(i=>{typeof r[i]!="function"&&(r[i]=jt(r[i]))}),(i={})=>Object.entries(i).filter(([s,u])=>typeof u<"u").map(([s,u])=>{const m=r[s];return typeof m=="function"&&(u=m(i[s])),s=typeof t=="function"?t(s):s,e(s,u)}).join(a)}function ge(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function al(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const a of e.split(" ")){const n=Number.parseInt(a.replace("x",""));n&&t.add(n)}return Array.from(t)}function nl(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function ll(e){const t={};if(typeof e=="string")for(const a of e.split(/[\s,]+/).filter(n=>n)){const n=a.split(":");n.length!==2?t["1px"]=n[0].trim():t[n[0].trim()]=n[1].trim()}else Object.assign(t,e);return t}function ol(e){const t={options:e},a=(r,i={})=>ia(t,r,i),n=(r,i={},l={})=>a(r,{...l,modifiers:tt(i,l.modifiers||{})}).url;for(const r in e.presets)n[r]=(i,l,s)=>n(i,l,{...e.presets[r],...s});return n.options=e,n.getImage=a,n.getMeta=(r,i)=>rl(t,r,i),n.getSizes=(r,i)=>ul(t,r,i),t.$img=n,n}async function rl(e,t,a){const n=ia(e,t,{...a});return typeof n.getMeta=="function"?await n.getMeta():await Zn(e,n.url)}function ia(e,t,a){var m,y;if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{provider:n,defaults:r}=sl(e,a.provider||e.options.provider),i=il(e,a.preset);if(t=Ft(t)?t:Ua(t),!n.supportsAlias)for(const g in e.options.alias)t.startsWith(g)&&(t=pt(e.options.alias[g],t.substr(g.length)));if(n.validateDomains&&Ft(t)){const g=Ea(t).host;if(!e.options.domains.find(o=>o===g))return{url:t}}const l=tt(a,i,r);l.modifiers={...l.modifiers};const s=l.modifiers.format;(m=l.modifiers)!=null&&m.width&&(l.modifiers.width=ge(l.modifiers.width)),(y=l.modifiers)!=null&&y.height&&(l.modifiers.height=ge(l.modifiers.height));const u=n.getImage(t,l,e);return u.format=u.format||s||"",u}function sl(e,t){const a=e.options.providers[t];if(!a)throw new Error("Unknown provider: "+t);return a}function il(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function ul(e,t,a){var p,b,w,v,P;const n=ge((p=a.modifiers)==null?void 0:p.width),r=ge((b=a.modifiers)==null?void 0:b.height),i=ll(a.sizes),l=(w=a.densities)!=null&&w.trim()?al(a.densities.trim()):e.options.densities;nl(l);const s=n&&r?r/n:0,u=[],m=[];if(Object.keys(i).length>=1){for(const h in i){const A=Ut(h,String(i[h]),r,s,e);if(A!==void 0){u.push({size:A.size,screenMaxWidth:A.screenMaxWidth,media:`(max-width: ${A.screenMaxWidth}px)`});for(const C of l)m.push({width:A._cWidth*C,src:Et(e,t,a,A,C)})}}dl(u)}else for(const h of l){const A=Object.keys(i)[0];let C=Ut(A,String(i[A]),r,s,e);C===void 0&&(C={size:"",screenMaxWidth:0,_cWidth:(v=a.modifiers)==null?void 0:v.width,_cHeight:(P=a.modifiers)==null?void 0:P.height}),m.push({width:h,src:Et(e,t,a,C,h)})}cl(m);const y=m[m.length-1],g=u.length?u.map(h=>`${h.media?h.media+" ":""}${h.size}`).join(", "):void 0,o=g?"w":"x",d=m.map(h=>`${h.src} ${h.width}${o}`).join(", ");return{sizes:g,srcset:d,src:y==null?void 0:y.src}}function Ut(e,t,a,n,r){const i=r.options.screens&&r.options.screens[e]||Number.parseInt(e),l=t.endsWith("vw");if(!l&&/^\d+$/.test(t)&&(t=t+"px"),!l&&!t.endsWith("px"))return;let s=Number.parseInt(t);if(!i||!s)return;l&&(s=Math.round(s/100*i));const u=n?Math.round(s*n):a;return{size:t,screenMaxWidth:i,_cWidth:s,_cHeight:u}}function Et(e,t,a,n,r){return e.$img(t,{...a.modifiers,width:n._cWidth?n._cWidth*r:void 0,height:n._cHeight?n._cHeight*r:void 0},a)}function dl(e){var a;e.sort((n,r)=>n.screenMaxWidth-r.screenMaxWidth);let t=null;for(let n=e.length-1;n>=0;n--){const r=e[n];r.media===t&&e.splice(n,1),t=r.media}for(let n=0;n<e.length;n++)e[n].media=((a=e[n+1])==null?void 0:a.media)||""}function cl(e){e.sort((a,n)=>a.width-n.width);let t=null;for(let a=e.length-1;a>=0;a--){const n=e[a];n.width===t&&e.splice(a,1),t=n.width}}const ml=tl({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>Bt(e)+"_"+Bt(t)}),fl=(e,{modifiers:t={},baseURL:a}={},n)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const r=ml(t)||"_";return a||(a=pt(n.options.nuxt.baseURL,"/_ipx")),{url:pt(a,r,Ra(e))}},pl=!0,vl=!0,gl=Object.freeze(Object.defineProperty({__proto__:null,getImage:fl,supportsAlias:vl,validateDomains:pl},Symbol.toStringTag,{value:"Module"})),ua={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};ua.providers={ipxStatic:{provider:gl,defaults:{}}};const ot=()=>{const e=La(),t=qt();return t.$img||t._img||(t._img=ol({...ua,nuxt:{baseURL:e.app.baseURL}}))};function bl(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const hl={src:{type:String,default:void 0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:Boolean,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},yl=e=>{const t=k(()=>({provider:e.provider,preset:e.preset})),a=k(()=>({width:ge(e.width),height:ge(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),n=ot(),r=k(()=>({...e.modifiers,width:ge(e.width),height:ge(e.height),format:e.format,quality:e.quality||n.options.quality,background:e.background,fit:e.fit}));return{options:t,attrs:a,modifiers:r}},wl={...hl,placeholder:{type:[Boolean,String,Number,Array],default:void 0},placeholderClass:{type:String,default:void 0}},rt=V({name:"NuxtImg",props:wl,emits:["load","error"],setup:(e,t)=>{const a=ot(),n=yl(e),r=S(!1),i=S(),l=k(()=>a.getSizes(e.src,{...n.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...n.modifiers.value,width:ge(e.width),height:ge(e.height)}})),s=k(()=>{const d={...n.attrs.value,"data-nuxt-img":""};return(!e.placeholder||r.value)&&(d.sizes=l.value.sizes,d.srcset=l.value.srcset),d}),u=k(()=>{let d=e.placeholder;if(d===""&&(d=!0),!d||r.value)return!1;if(typeof d=="string")return d;const p=Array.isArray(d)?d:typeof d=="number"?[d,d]:[10,10];return a(e.src,{...n.modifiers.value,width:p[0],height:p[1],quality:p[2]||50,blur:p[3]||3},n.options.value)}),m=k(()=>e.sizes?l.value.src:a(e.src,n.modifiers.value,n.options.value)),y=k(()=>u.value?u.value:m.value);if(e.preload){const d=Object.values(l.value).every(p=>p);Da({link:[{rel:"preload",as:"image",nonce:e.nonce,...d?{href:l.value.src,imagesizes:l.value.sizes,imagesrcset:l.value.srcset}:{href:y.value}}]})}const o=qt().isHydrating;return Z(()=>{if(u.value){const d=new Image;d.src=m.value,e.sizes&&(d.sizes=l.value.sizes||"",d.srcset=l.value.srcset),d.onload=p=>{r.value=!0,t.emit("load",p)},bl("nuxt-image");return}i.value&&(i.value.complete&&o&&(i.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),i.value.onload=d=>{t.emit("load",d)},i.value.onerror=d=>{t.emit("error",d)})}),()=>ie("img",{ref:i,src:y.value,...s.value,...t.attrs,class:e.placeholder&&!r.value?[e.placeholderClass]:void 0})}}),kl=$e(G.ui.strategy,G.ui.modal,fn),$l=V({components:{HDialog:Bn,HDialogPanel:On,TransitionRoot:sa,TransitionChild:ra},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:t}){const{ui:a,attrs:n}=Se("modal",le(e,"ui"),kl,le(e,"class")),r=k({get(){return e.modelValue},set(u){t("update:modelValue",u)}}),i=k(()=>e.transition?{...a.value.transition}:{});function l(u){if(e.preventClose){t("close-prevented");return}r.value=u,t("close")}const s=()=>{t("after-leave")};return xt(()=>yt("$HAJMhYDoe7")),{ui:a,attrs:n,isOpen:r,transitionClass:i,onAfterLeave:s,close:l}}});function Sl(e,t,a,n,r,i){const l=Ce("TransitionChild"),s=Ce("HDialogPanel"),u=Ce("HDialog"),m=Ce("TransitionRoot");return f(),O(m,{appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},{default:T(()=>[F(u,_({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:T(()=>[e.overlay?(f(),O(l,_({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:T(()=>[I("div",{class:j([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):z("",!0),I("div",{class:j(e.ui.inner)},[I("div",{class:j([e.ui.container,!e.fullscreen&&e.ui.padding])},[F(l,_({as:"template",appear:e.appear},e.transitionClass),{default:T(()=>[F(s,{class:j([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:T(()=>[K(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const st=he($l,[["render",Sl]]),Xe=$e(G.ui.strategy,G.ui.range,cn),Pl=V({inheritAttrs:!1,props:{modelValue:{type:Number,default:0},id:{type:String,default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},size:{type:String,default:null,validator(e){return Object.keys(Xe.size).includes(e)}},color:{type:String,default:()=>Xe.default.color,validator(e){return G.ui.colors.includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:a,attrs:n}=Se("range",le(e,"ui"),Xe),{emitFormChange:r,inputId:i,color:l,size:s,name:u}=kt(e,Xe),m=k({get(){return e.modelValue},set(v){t("update:modelValue",v)}}),y=v=>{t("change",v.target.value),r()},g=k(()=>we(re(a.value.wrapper,a.value.size[s.value]),e.class)),o=k(()=>we(re(a.value.base,a.value.background,a.value.rounded,l.value&&a.value.ring.replaceAll("{color}",l.value),a.value.size[s.value]),e.inputClass)),d=k(()=>re(a.value.thumb.base,l.value&&a.value.thumb.color.replaceAll("{color}",l.value),a.value.thumb.ring,a.value.thumb.background,a.value.thumb.size[s.value])),p=k(()=>re(a.value.track.base,a.value.track.background,a.value.track.rounded,a.value.track.size[s.value])),b=k(()=>re(a.value.progress.base,a.value.progress.rounded,l.value&&a.value.progress.background.replaceAll("{color}",l.value),a.value.progress.size[s.value])),w=k(()=>{const{modelValue:v,min:P,max:h}=e;return{width:`${(Math.max(P,Math.min(v,h))-P)/(h-P)*100}%`}});return{ui:a,attrs:n,name:u,inputId:i,value:m,wrapperClass:g,inputClass:o,thumbClass:d,trackClass:p,progressClass:b,progressStyle:w,onChange:y}}}),Il=["id","name","min","max","disabled","step"];function Cl(e,t,a,n,r,i){return f(),$("div",{class:j(e.wrapperClass)},[wt(I("input",_({id:e.inputId,ref:"input","onUpdate:modelValue":t[0]||(t[0]=l=>e.value=l),name:e.name,min:e.min,max:e.max,disabled:e.disabled,step:e.step,type:"range",class:[e.inputClass,e.thumbClass,e.trackClass]},e.attrs,{onChange:t[1]||(t[1]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,Il),[[Na,e.value,void 0,{number:!0}]]),I("span",{class:j(e.progressClass),style:Ht(e.progressStyle)},null,6)],2)}const Ml=he(Pl,[["render",Cl]]),mt=$e(G.ui.strategy,G.ui.formGroup,dn),zl=V({inheritAttrs:!1,props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(mt.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},eagerValidation:{type:Boolean,default:!1}},setup(e){const{ui:t,attrs:a}=Se("formGroup",le(e,"ui"),mt,le(e,"class")),n=Oe("form-errors",null),r=k(()=>{var s,u;return e.error&&typeof e.error=="string"||typeof e.error=="boolean"?e.error:(u=(s=n==null?void 0:n.value)==null?void 0:s.find(m=>m.path===e.name))==null?void 0:u.message}),i=k(()=>t.value.size[e.size??mt.default.size]),l=S(yt("$K7dDJpdOWE"));return Be("form-group",{error:r,inputId:l,name:k(()=>e.name),size:k(()=>e.size),eagerValidation:k(()=>e.eagerValidation)}),{ui:t,attrs:a,inputId:l,size:i,error:r}}}),Fl=["for"];function Bl(e,t,a,n,r,i){return f(),$("div",_({class:e.ui.wrapper},e.attrs),[I("div",{class:j(e.ui.inner)},[e.label||e.$slots.label?(f(),$("div",{key:0,class:j([e.ui.label.wrapper,e.size])},[I("label",{for:e.inputId,class:j([e.ui.label.base,e.required?e.ui.label.required:""])},[e.$slots.label?K(e.$slots,"label",Le(_({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(f(),$(H,{key:1},[q(x(e.label),1)],64))],10,Fl),e.hint||e.$slots.hint?(f(),$("span",{key:0,class:j([e.ui.hint])},[e.$slots.hint?K(e.$slots,"hint",Le(_({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(f(),$(H,{key:1},[q(x(e.hint),1)],64))],2)):z("",!0)],2)):z("",!0),e.description||e.$slots.description?(f(),$("p",{key:1,class:j([e.ui.description,e.size])},[e.$slots.description?K(e.$slots,"description",Le(_({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(f(),$(H,{key:1},[q(x(e.description),1)],64))],2)):z("",!0)],2),I("div",{class:j([e.label?e.ui.container:""])},[K(e.$slots,"default",Le(Va({error:e.error}))),typeof e.error=="string"&&e.error||e.$slots.error?(f(),$("p",{key:0,class:j([e.ui.error,e.size])},[e.$slots.error?K(e.$slots,"error",Le(_({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(f(),$(H,{key:1},[q(x(e.error),1)],64))],2)):e.help||e.$slots.help?(f(),$("p",{key:1,class:j([e.ui.help,e.size])},[e.$slots.help?K(e.$slots,"help",Le(_({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(f(),$(H,{key:1},[q(x(e.help),1)],64))],2)):z("",!0)],2)],16)}const da=he(zl,[["render",Bl]]),Ol={key:0,class:"text-red-300"},Al={key:0,class:"flex items-center"},Tl={key:2,class:"flex flex-row flex-grow items-center justify-between"},jl=V({__name:"InputParam",props:{inputParam:{type:Object,required:!0},index:{type:Number,required:!0},inputParamsMap:{type:Array,required:!0},advanced:{type:Boolean,default:!1}},setup(e){const t=e;function a(o){return o?URL.createObjectURL(o):""}const n=S(null),r=S(""),i=S(!1),l=S({width:0,height:0});function s(){const o=t.inputParamsMap[t.index][t.inputParam.name].source_input_name,d=t.inputParamsMap.find(p=>{const b=Object.keys(p)[0];if(b===o)return p[b]});y(d[o].value)}Z(()=>{t.inputParam.type==="range_scale"&&s()}),t.inputParam.type==="range_scale"&&ue(t.inputParamsMap,()=>{s()});function u(){URL.revokeObjectURL(r.value),r.value="",n&&(n.value.$refs.input.value=""),t.inputParamsMap[t.index][t.inputParam.name].value=null}const m=k(()=>t.inputParam.type!=="bool"?t.inputParam.display_name:"");function y(o){if(!(o instanceof File)){l.value.width=0,l.value.height=0;return}const d=URL.createObjectURL(o),p=new Image;p.onload=function(){l.value.width=p.naturalWidth,l.value.height=p.naturalHeight,URL.revokeObjectURL(p.src)},p.src=d}const g=k(()=>{if(t.inputParam.type==="range_scale"){const o=t.inputParamsMap[t.index][t.inputParam.name].value;return`value: ${o}x (${l.value.width}x${l.value.height} -> ${(l.value.width*o).toFixed(0)}x${(l.value.height*o).toFixed(0)})`}return["range","range_scale"].includes(t.inputParam.type)?`value: ${t.inputParamsMap[t.index][t.inputParam.name].value}`:""});return xa(()=>{URL.revokeObjectURL(r.value)}),(o,d)=>{var E;const p=Xn,b=$t,w=pe,v=rt,P=st,h=Jt,A=rn,C=Ml,L=da;return(((E=e.inputParam)==null?void 0:E.advanced)||!1)===e.advanced?(f(),O(L,{key:0,label:c(m),class:"mb-3",help:c(g)},{hint:T(()=>[e.inputParam.optional?z("",!0):(f(),$("span",Ol,"required"))]),default:T(()=>{var B;return[e.inputParam.type==="text"?(f(),O(p,{key:0,size:"md",placeholder:e.inputParam.display_name,required:!e.inputParam.optional,resize:!0,label:e.inputParam.display_name,value:e.inputParamsMap[e.index][e.inputParam.name].value,variant:"outline",onInput:d[0]||(d[0]=R=>{const Q=R.target;e.inputParamsMap[e.index][e.inputParam.name].value=Q.value})},null,8,["placeholder","required","label","value"])):z("",!0),e.inputParam.type==="number"?(f(),$(H,{key:1},[e.inputParam.name==="seed"?(f(),$("div",Al,[e.inputParam.type==="number"?(f(),O(b,{key:0,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:d[1]||(d[1]=R=>{const Q=R.target;e.inputParamsMap[e.index][e.inputParam.name].value=Q.value})},null,8,["label","required","value","max","min"])):z("",!0),F(w,{icon:"i-heroicons-arrow-path",color:"violet",variant:"outline",size:"xs",class:"ml-2",onClick:d[2]||(d[2]=()=>{e.inputParamsMap[e.index][e.inputParam.name].value=Math.floor(Math.random()*1e7)})})])):(f(),O(b,{key:1,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:d[3]||(d[3]=R=>{const Q=R.target;e.inputParamsMap[e.index][e.inputParam.name].value=Q.value})},null,8,["label","required","value","max","min"]))],64)):z("",!0),e.inputParam.type==="image"?(f(),$("div",Tl,[F(b,{ref_key:"imageInput",ref:n,type:"file",accept:"image/*",class:"w-full",label:e.inputParam.display_name,onChange:d[4]||(d[4]=R=>{console.debug("files",R);const Q=R==null?void 0:R[0];e.inputParamsMap[e.index][e.inputParam.name].value=Q,r.value=a(Q),console.debug("inputParamsMap",e.inputParamsMap)})},null,8,["label"]),c(r)!==""?(f(),O(v,{key:0,src:c(r),class:"w-10 h-10 rounded-lg cursor-pointer ml-2",onClick:d[5]||(d[5]=()=>{i.value=!0})},null,8,["src"])):z("",!0),c(r)!==""?(f(),O(w,{key:1,icon:"i-heroicons-x-mark",variant:"outline",class:"ml-2",onClick:u})):z("",!0)])):z("",!0),e.inputParam.type==="image"?(f(),O(P,{key:3,modelValue:c(i),"onUpdate:modelValue":d[8]||(d[8]=R=>Ee(i)?i.value=R:null),class:"z-[90]",transition:!1,fullscreen:""},{default:T(()=>[F(w,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:d[6]||(d[6]=()=>i.value=!1)}),I("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:d[7]||(d[7]=De(()=>i.value=!1,["left"]))},[c(r)?(f(),O(v,{key:0,class:"lg:h-full",fit:"inside",src:c(r)},null,8,["src"])):z("",!0)])]),_:1},8,["modelValue"])):z("",!0),e.inputParam.type==="list"?(f(),O(h,{key:4,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":d[9]||(d[9]=R=>e.inputParamsMap[e.index][e.inputParam.name].value=R),placeholder:e.inputParam.display_name,options:Object.keys(e.inputParam.options)},null,8,["modelValue","placeholder","options"])):z("",!0),e.inputParam.type==="bool"?(f(),O(A,{key:5,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":d[10]||(d[10]=R=>e.inputParamsMap[e.index][e.inputParam.name].value=R),label:(B=e.inputParam)==null?void 0:B.display_name},null,8,["modelValue","label"])):z("",!0),["range","range_scale"].includes(e.inputParam.type)?(f(),O(C,{key:6,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":d[11]||(d[11]=R=>e.inputParamsMap[e.index][e.inputParam.name].value=R),label:e.inputParam.display_name,size:"sm",min:e.inputParam.min,max:e.inputParam.max,step:e.inputParam.step},null,8,["modelValue","label","min","max","step"])):z("",!0)]}),_:1},8,["label","help"])):z("",!0)}}}),Ul={key:0,class:"heading"},El={key:1},Rl=V({__name:"InputParams",props:{inputParamsMap:{type:Array,required:!0},additionalInputParamsMap:{type:Array,required:!1,default:[]},advanced:{type:Boolean,default:!1}},setup(e){const t=e,a=Re(),n=S(!t.advanced);return(r,i)=>{const l=fe,s=jl;return f(),$(H,null,[e.advanced?(f(),$("div",Ul,[I("h4",{class:"text-md font-bold cursor-pointer select-none flex items-center mb-3",onClick:i[0]||(i[0]=()=>{n.value=!c(n)})},[F(l,{name:c(n)?"i-heroicons-chevron-up":"i-heroicons-chevron-down",class:"mr-2"},null,8,["name"]),q(" Advanced options ")])])):z("",!0),c(n)?(f(),$("div",El,[(f(!0),$(H,null,ne(c(a).currentFlow.input_params,(u,m)=>(f(),O(s,{key:m,"input-params-map":e.inputParamsMap,index:m,"input-param":u,advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128)),(f(!0),$(H,null,ne(e.additionalInputParamsMap,(u,m)=>(f(),O(s,{key:Object.keys(u)[0],"input-params-map":e.additionalInputParamsMap,index:m,"input-param":u[Object.keys(u)[0]],advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128))])):z("",!0)],64)}}}),Ll={key:0,id:"prompt",class:"w-full my-10 lg:my-0 p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg"},Dl={class:"flex justify-end px-2"},Nl=V({__name:"Prompt",setup(e,{expose:t}){var y,g;const a=Re();let n=localStorage.getItem(`input_params_map_${(y=a.currentFlow)==null?void 0:y.name}`);n&&(n=JSON.parse(n));const r=S(((g=a.currentFlow)==null?void 0:g.input_params.map(o=>{if(o.type==="text")return{[o.name]:{value:n!==null?n[o.name]:o.default||"",type:o.type,optional:o.optional,advanced:o.advanced||!1}};if(o.type==="number")return{[o.name]:{value:n!==null?n[o.name]:o.default||0,type:o.type,optional:o.optional,advanced:o.advanced||!1}};if(o.type==="image")return{[o.name]:{value:n!==null?n[o.name]:o.default||{},type:o.type,optional:o.optional,advanced:o.advanced||!1}};if(o.type==="list")return{[o.name]:{value:n!==null?n[o.name]:o.default||Object.keys(o.options)[0]||"",type:o.type,optional:o.optional,options:o.options,advanced:o.advanced||!1}};if(o.type==="bool")return{[o.name]:{value:n!==null?n[o.name]:o.default||!1,type:o.type,optional:o.optional,advanced:o.advanced||!1}};if(["range","range_scale"].includes(o.type)){const d={value:n!==null?n[o.name]:o.default||0,type:o.type,optional:o.optional,advanced:o.advanced||!1,min:o.min||0,max:o.max||100,step:o.step||1};return o.type==="range_scale"&&(d.source_input_name=o.source_input_name),{[o.name]:d}}}))||[]),i=S([{seed:{name:"seed",display_name:"Random seed",value:Math.floor(Math.random()*1e7),type:"number",optional:!0,advanced:!0,min:0,max:1e7}}]);function l(o){console.debug("Copy prompt inputs",o),Object.keys(o).forEach(p=>{const b=r.value.findIndex(w=>Object.keys(w)[0]===p);b!==-1&&(r.value[b][p].value=o[p])});const d=document.getElementById("prompt");d&&d.scrollIntoView({behavior:"smooth"})}t({copyPromptInputs:l}),r.value.forEach(o=>{const d=Object.keys(o)[0];o[d].type!=="image"&&ue(()=>o[d].value,()=>{var b;const p={};r.value.forEach(w=>{const v=Object.keys(w)[0];p[v]=w[v].value}),localStorage.setItem(`input_params_map_${(b=a.currentFlow)==null?void 0:b.name}`,JSON.stringify(p))})});const s=S(!1),u=S(1),m=S(!1);return(o,d)=>{const p=fe,b=Rl,w=$t,v=da,P=pe;return c(a).currentFlow?(f(),$("div",Ll,[I("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:d[0]||(d[0]=()=>{m.value=!c(m)})},[F(p,{name:c(m)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),q(" Prompt ")]),wt(I("div",null,[F(b,{"input-params-map":c(r),"additional-input-params-map":c(i),advanced:!1},null,8,["input-params-map","additional-input-params-map"]),c(a).currentFlow.input_params.some(h=>h.advanced)?(f(),O(b,{key:0,"input-params-map":c(r),"additional-input-params-map":c(i),advanced:!0},null,8,["input-params-map","additional-input-params-map"])):z("",!0),F(v,{label:"Number of images"},{default:T(()=>[F(w,{modelValue:c(u),"onUpdate:modelValue":d[1]||(d[1]=h=>Ee(u)?u.value=h:null),type:"number",min:"1",max:"50",label:"Batch size",class:"mb-3 max-w-fit flex justify-end"},null,8,["modelValue"])]),_:1}),I("div",Dl,[F(P,{icon:"i-heroicons-sparkles-16-solid",variant:"outline",loading:c(s),onClick:d[2]||(d[2]=()=>{s.value=!0,c(a).runFlow(c(a).currentFlow,[...c(r),...c(i)],c(u)).finally(()=>{s.value=!1;const h=c(i).find(A=>Object.keys(A)[0]==="seed");h.seed.value=Number(h.seed.value)+c(u)+1})})},{default:T(()=>[q(" Run prompt ")]),_:1},8,["loading"])])],512),[[_t,!c(m)]])])):z("",!0)}}}),Vl=e=>{const t=S(0);function a(i){e.value.style.scrollSnapType="none",e.value.style.scrollBehavior="auto",t.value=i.pageX,window.addEventListener("mousemove",r),window.addEventListener("mouseup",n)}function n(){e.value.style.removeProperty("scroll-behavior"),e.value.style.removeProperty("scroll-snap-type"),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",n)}function r(i){i.preventDefault();const l=i.pageX-t.value;t.value=i.pageX,e.value.scrollBy(-l,0)}Z(()=>{e.value&&e.value.addEventListener("mousedown",a)}),be(()=>{e.value&&e.value.removeEventListener("mousedown",a)})},ft=$e(G.ui.strategy,G.ui.carousel,un),xl=V({components:{UButton:pe},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},arrows:{type:Boolean,default:!1},indicators:{type:Boolean,default:!1},prevButton:{type:Object,default:()=>ft.default.prevButton},nextButton:{type:Object,default:()=>ft.default.nextButton},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:void 0}},setup(e,{expose:t}){const{ui:a,attrs:n}=Se("carousel",le(e,"ui"),ft,le(e,"class")),r=S(),i=S(0),{x:l}=Ha(r,{behavior:"smooth"}),{width:s}=Wa(r);Vl(r),qa(r,b=>{var v,P;const[w]=b;i.value=((P=(v=w==null?void 0:w.target)==null?void 0:v.firstElementChild)==null?void 0:P.clientWidth)||0});const u=k(()=>i.value?Math.round(l.value/i.value)+1:0),m=k(()=>i.value?e.items.length-Math.round(s.value/i.value)+1:0),y=k(()=>u.value<=1),g=k(()=>u.value===m.value);function o(){l.value+=i.value}function d(){l.value-=i.value}function p(b){l.value=(b-1)*i.value}return t({pages:m,page:u,prev:d,next:o,select:p}),{ui:a,attrs:n,isFirst:y,isLast:g,carouselRef:r,pages:m,currentPage:u,onClickNext:o,onClickPrev:d,onClick:p,twMerge:we}}}),Hl=["role"],Wl=["aria-selected","aria-label","onClick"];function ql(e,t,a,n,r,i){const l=pe;return f(),$("div",_({class:e.ui.wrapper},e.attrs),[I("div",{ref:"carouselRef",class:j([e.ui.container,"no-scrollbar"])},[(f(!0),$(H,null,ne(e.items,(s,u)=>(f(),$("div",{key:u,class:j(e.ui.item),role:e.indicators?"tabpanel":null},[K(e.$slots,"default",{item:s,index:u},void 0,!0)],10,Hl))),128))],2),e.arrows?(f(),$("div",{key:0,class:j(e.ui.arrows.wrapper)},[K(e.$slots,"prev",{onClick:e.onClickPrev,disabled:e.isFirst},()=>{var s;return[e.prevButton?(f(),O(l,_({key:0,disabled:e.isFirst},{...e.ui.default.prevButton,...e.prevButton},{class:e.twMerge(e.ui.default.prevButton.class,(s=e.prevButton)==null?void 0:s.class),"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["disabled","class","onClick"])):z("",!0)]},!0),K(e.$slots,"next",{onClick:e.onClickNext,disabled:e.isLast},()=>{var s;return[e.nextButton?(f(),O(l,_({key:0,disabled:e.isLast},{...e.ui.default.nextButton,...e.nextButton},{class:e.twMerge(e.ui.default.nextButton.class,(s=e.nextButton)==null?void 0:s.class),"aria-label":"Next",onClick:e.onClickNext}),null,16,["disabled","class","onClick"])):z("",!0)]},!0)],2)):z("",!0),e.indicators?(f(),$("div",{key:1,role:"tablist",class:j(e.ui.indicators.wrapper)},[(f(!0),$(H,null,ne(e.pages,s=>K(e.$slots,"indicator",{key:s,onClick:e.onClick,active:s===e.currentPage,page:s},()=>[I("button",{type:"button",role:"tab","aria-selected":s===e.currentPage,class:j([e.ui.indicators.base,s===e.currentPage?e.ui.indicators.active:e.ui.indicators.inactive]),"aria-label":`set slide ${s}`,onClick:u=>e.onClick(s)},null,10,Wl)],!0)),128))],2)):z("",!0)],16)}const ca=he(xl,[["render",ql],["__scopeId","data-v-ea54307d"]]),_l={class:"flex flex-col basis-full"},Gl=V({__name:"QueueInputFiles",props:{running:{type:Object,required:!0}},setup(e){const t=ot(),a=function(s,u){return`${Ne()}/task-inputs?task_id=${s}&input_index=${u}`},n=S(!1),r=S(""),i=S(0),l=S(!0);return(s,u)=>{var p,b,w,v,P;const m=fe,y=rt,g=ca,o=pe,d=st;return s.$props.running&&s.$props.running.input_files&&((p=Object.keys(s.$props.running.input_files))==null?void 0:p.length)>0?(f(),$("div",{key:0,class:j(["ml-2 mt-2 mb-5",{"mb-10":((b=Object.keys(s.$props.running.input_files))==null?void 0:b.length)>1&&!c(l)}])},[I("h4",{class:"mb-3 font-bold cursor-pointer select-none flex items-center text-sm",onClick:u[0]||(u[0]=()=>l.value=!c(l))},[F(m,{name:c(l)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),I("span",null," Input files ("+x((w=Object.keys(s.$props.running.input_files))==null?void 0:w.length)+") ",1)]),c(l)?z("",!0):(f(),$(H,{key:0},[((v=Object.keys(s.$props.running.input_files))==null?void 0:v.length)===1?(f(),O(y,{key:0,class:"mb-5 rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:c(t)(`${("buildBackendApiUrl"in s?s.buildBackendApiUrl:c(Ne))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:a(s.$props.running.task_id,0),onClick:u[1]||(u[1]=()=>{r.value=a(s.$props.running.task_id,0),i.value=0,n.value=!0})},null,8,["placeholder","src"])):z("",!0),((P=Object.keys(s.$props.running.input_files))==null?void 0:P.length)>1?(f(),O(g,{key:1,items:Object.keys(s.$props.running.input_files).map(h=>({task_id:e.running.task_id,index:h})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:T(({item:h})=>[I("div",_l,[F(y,{class:"rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:c(t)(`${("buildBackendApiUrl"in s?s.buildBackendApiUrl:c(Ne))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:a(h.task_id,h.index),onClick:()=>{r.value=a(s.$props.running.task_id,h.index),i.value=h.index,n.value=!0}},null,8,["placeholder","src","onClick"])])]),_:1},8,["items"])):z("",!0),F(d,{modelValue:c(n),"onUpdate:modelValue":u[4]||(u[4]=h=>Ee(n)?n.value=h:null),class:"z-[90]",transition:!1,fullscreen:""},{default:T(()=>[F(o,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:u[2]||(u[2]=()=>n.value=!1)}),I("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:u[3]||(u[3]=De(()=>n.value=!1,["left"]))},[c(r)?(f(),O(y,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",placeholder:"/vix_logo.png",src:c(r)},null,8,["src"])):z("",!0)])]),_:1},8,["modelValue"])],64))],2)):z("",!0)}}}),Ie=$e(G.ui.strategy,G.ui.alert,sn),Ql=V({components:{UIcon:fe,UAvatar:et,UButton:pe},inheritAttrs:!1,props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>Ie.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>Ie.default.closeButton},actions:{type:Array,default:()=>[]},color:{type:String,default:()=>Ie.default.color,validator(e){return[...G.ui.colors,...Object.keys(Ie.color)].includes(e)}},variant:{type:String,default:()=>Ie.default.variant,validator(e){return[...Object.keys(Ie.variant),...Object.values(Ie.color).flatMap(t=>Object.keys(t))].includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["close"],setup(e){const{ui:t,attrs:a}=Se("alert",le(e,"ui"),Ie),n=k(()=>{var l,s;const i=((s=(l=t.value.color)==null?void 0:l[e.color])==null?void 0:s[e.variant])||t.value.variant[e.variant];return we(re(t.value.wrapper,t.value.rounded,t.value.shadow,t.value.padding,i==null?void 0:i.replaceAll("{color}",e.color)),e.class)});function r(i){i.click&&i.click()}return{ui:t,attrs:a,alertClass:n,onAction:r,twMerge:we}}});function Yl(e,t,a,n,r,i){const l=fe,s=et,u=pe;return f(),$("div",_({class:e.alertClass},e.attrs),[I("div",{class:j(["flex",[e.ui.gap,{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}]])},[K(e.$slots,"icon",{icon:e.icon},()=>[e.icon?(f(),O(l,{key:0,name:e.icon,ui:e.ui.icon.base},null,8,["name","ui"])):z("",!0)]),K(e.$slots,"avatar",{avatar:e.avatar},()=>[e.avatar?(f(),O(s,_({key:0},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):z("",!0)]),I("div",{class:j(e.ui.inner)},[e.title||e.$slots.title?(f(),$("p",{key:0,class:j(e.ui.title)},[K(e.$slots,"title",{title:e.title},()=>[q(x(e.title),1)])],2)):z("",!0),e.description||e.$slots.description?(f(),$("p",{key:1,class:j(e.twMerge(e.ui.description,!(e.title&&e.$slots.title)&&"mt-0 leading-5"))},[K(e.$slots,"description",{description:e.description},()=>[q(x(e.description),1)])],2)):z("",!0),(e.description||e.$slots.description)&&e.actions.length?(f(),$("div",{key:2,class:j(e.ui.actions)},[(f(!0),$(H,null,ne(e.actions,(m,y)=>(f(),O(u,_({key:y,ref_for:!0},{...e.ui.default.actionButton||{},...m},{onClick:De(g=>e.onAction(m),["stop"])}),null,16,["onClick"]))),128))],2)):z("",!0)],2),e.closeButton||!e.description&&!e.$slots.description&&e.actions.length?(f(),$("div",{key:0,class:j(e.twMerge(e.ui.actions,"mt-0"))},[!e.description&&!e.$slots.description&&e.actions.length?(f(!0),$(H,{key:0},ne(e.actions,(m,y)=>(f(),O(u,_({key:y,ref_for:!0},{...e.ui.default.actionButton||{},...m},{onClick:De(g=>e.onAction(m),["stop"])}),null,16,["onClick"]))),128)):z("",!0),e.closeButton?(f(),O(u,_({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{onClick:t[0]||(t[0]=De(m=>e.$emit("close"),["stop"]))}),null,16)):z("",!0)],2)):z("",!0)],2)],16)}const Jl=he(Ql,[["render",Yl]]),Kl=V({__name:"QueueErrorAlert",props:{running:{type:Object,required:!0}},setup(e){const t=Re(),a=S(!1);return(n,r)=>{const i=Jl;return f(),O(i,{class:"mb-5",icon:"i-heroicons-exclamation-circle-16-solid",color:"red",variant:"soft",title:"Task failed",description:e.running.error,actions:[{variant:"outline",color:"yellow",label:"Restart",loading:c(a),icon:"i-heroicons-arrow-path",click:()=>{a.value=!0,c(t).restartFlow(n.$props.running).finally(()=>{a.value=!1})}}]},null,8,["description","actions"])}}}),Xl={class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md mt-5 mb-10"},Zl={class:"flex items-center justify-between mb-2"},eo={key:0},to={key:1,class:"text-red-400"},ao={class:"text-sm mb-5 text-slate-500"},no={class:"flex justify-between"},lo=V({__name:"Queue",setup(e){const t=Re(),a=S(!1),n=S(!0);return(r,i)=>{var o,d,p,b,w,v,P,h,A;const l=fe,s=pe,u=Kt,m=Gl,y=Kl,g=It;return f(),$("div",Xl,[I("div",Zl,[I("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center",onClick:i[0]||(i[0]=()=>{n.value=!c(n)})},[F(l,{name:c(n)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),I("span",null," Queue ("+x(c(t).flowsRunningByName((o=c(t).currentFlow)==null?void 0:o.name).length)+") ",1),c(t).flowsRunningByName((d=c(t).currentFlow)==null?void 0:d.name).length>0?(f(),$("span",eo,"  - "+x(`${((b=c(t).flowsRunningByName((p=c(t).currentFlow)==null?void 0:p.name).filter(C=>C.progress>0)[0])==null?void 0:b.progress.toFixed(0))??0}%`),1)):z("",!0),c(t).flowsRunningByNameWithErrors((w=c(t))==null?void 0:w.currentFlow.name).length>0?(f(),$("span",to,"  ("+x(c(t).flowsRunningByNameWithErrors((v=c(t).currentFlow)==null?void 0:v.name).length)+") ",1)):z("",!0)]),(P=c(t).currentFlow)!=null&&P.name&&c(t).flowsRunningByName((h=c(t).currentFlow)==null?void 0:h.name).length>0?(f(),O(s,{key:0,icon:"i-heroicons-stop",color:"orange",variant:"outline",loading:c(a),onClick:i[1]||(i[1]=()=>{var C;a.value=!0,c(t).cancelRunningFlows((C=c(t).currentFlow)==null?void 0:C.name).finally(()=>{a.value=!1})})},{default:T(()=>[q(" Cancel all ")]),_:1},8,["loading"])):z("",!0)]),c(n)?z("",!0):(f(!0),$(H,{key:0},ne(c(t).flowsRunningByName((A=c(t).currentFlow)==null?void 0:A.name),C=>(f(),$("div",{key:C.task_id,class:"mb-5"},[F(u,{class:"mb-3",value:C==null?void 0:C.progress,indicator:"",color:C.error?"red":"green"},null,8,["value","color"]),I("p",ao,x(["#"+C.task_id,...Object.keys(C.input_params_mapped).filter(L=>C.input_params_mapped[L]&&C.input_params_mapped[L]!=="").map(L=>`${L}: ${C.input_params_mapped[L]}`)].join(" | ")+`${C.execution_time?" | execution_time: "+C.execution_time.toFixed(2)+"s":""}`),1),F(m,{running:C},null,8,["running"]),C.error?(f(),O(y,{key:0,running:C},null,8,["running"])):z("",!0),I("div",no,[F(s,{icon:C.progress>=0&&C.progress<100?"i-heroicons-stop":"i-heroicons-minus-circle",color:C.error?"red":"orange",variant:"outline",loading:c(a),onClick:()=>{a.value=!0,c(t).cancelRunningFlow(C).finally(()=>{a.value=!1})}},{default:T(()=>[q(x(C.progress>=0&&C.progress<100?"Cancel":"Remove"),1)]),_:2},1032,["icon","color","loading","onClick"]),F(g,{items:[[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var L;return c(t).downloadFlowComfy((L=c(t).currentFlow)==null?void 0:L.name,C.task_id)}}]],mode:"click",popper:{placement:"bottom-end"}},{default:T(()=>[F(s,{color:"blue",variant:"outline",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])]))),128))])}}}),oo=he(lo,[["__scopeId","data-v-a0861fda"]]),ro=V({__name:"ScrollToTop",props:{show:{type:Boolean,required:!0},target:{type:String,required:!0}},setup(e){const t=e;function a(){const n=document.getElementById(t.target);n&&n.scrollIntoView({behavior:"smooth"})}return(n,r)=>{const i=pe;return wt((f(),O(i,{icon:"i-heroicons-arrow-small-up",color:"black",variant:"outline",onClick:a},null,512)),[[_t,e.show]])}}}),ve=$e(G.ui.strategy,G.ui.select,_a),so=V({components:{UIcon:fe},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ve.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>ve.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(ve.size).includes(e)}},color:{type:String,default:()=>ve.default.color,validator(e){return[...G.ui.colors,...Object.keys(ve.color)].includes(e)}},variant:{type:String,default:()=>ve.default.variant,validator(e){return[...Object.keys(ve.variant),...Object.values(ve.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t,slots:a}){const{ui:n,attrs:r}=Se("select",le(e,"ui"),ve,le(e,"class")),{size:i,rounded:l}=Ga({ui:n,props:e}),{emitFormChange:s,inputId:u,color:m,size:y,name:g}=kt(e,ve),o=k(()=>i.value||y.value),d=U=>{t("update:modelValue",U.target.value)},p=U=>{t("change",U.target.value),s()},b=U=>Ye(U,e.valueAttribute,Ye(U,e.optionAttribute)),w=U=>Ye(U,e.optionAttribute,Ye(U,e.valueAttribute)),v=U=>["string","number","boolean"].includes(typeof U)?{[e.valueAttribute]:U,[e.optionAttribute]:U}:{...U,[e.valueAttribute]:b(U),[e.optionAttribute]:w(U)},P=k(()=>e.options.map(U=>v(U))),h=k(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...P.value]:P.value),A=k(()=>{const U=v(e.modelValue),Y=h.value.find(X=>X[e.valueAttribute]===U[e.valueAttribute]);return Y?Y[e.valueAttribute]:""}),C=k(()=>{var Y,X;const U=((X=(Y=n.value.color)==null?void 0:Y[m.value])==null?void 0:X[e.variant])||n.value.variant[e.variant];return we(re(n.value.base,n.value.form,l.value,n.value.size[o.value],e.padded?n.value.padding[o.value]:"p-0",U==null?void 0:U.replaceAll("{color}",m.value),(L.value||a.leading)&&n.value.leading.padding[o.value],(E.value||a.trailing)&&n.value.trailing.padding[o.value]),e.placeholder&&!e.modelValue&&n.value.placeholder,e.selectClass)}),L=k(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),E=k(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),B=k(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),R=k(()=>e.loading&&!L.value?e.loadingIcon:e.trailingIcon||e.icon),Q=k(()=>re(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[o.value])),de=k(()=>re(n.value.icon.base,m.value&&G.ui.colors.includes(m.value)&&n.value.icon.color.replaceAll("{color}",m.value),n.value.icon.size[o.value],e.loading&&n.value.icon.loading)),ae=k(()=>re(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[o.value])),J=k(()=>re(n.value.icon.base,m.value&&G.ui.colors.includes(m.value)&&n.value.icon.color.replaceAll("{color}",m.value),n.value.icon.size[o.value],e.loading&&!L.value&&n.value.icon.loading));return{ui:n,attrs:r,name:g,inputId:u,normalizedOptionsWithPlaceholder:h,normalizedValue:A,isLeading:L,isTrailing:E,selectClass:C,leadingIconName:B,leadingIconClass:de,leadingWrapperIconClass:Q,trailingIconName:R,trailingIconClass:J,trailingWrapperIconClass:ae,onInput:d,onChange:p}}}),io=["id","name","value","required","disabled"],uo=["value","label"],co=["value","selected","disabled","textContent"],mo=["value","selected","disabled","textContent"];function fo(e,t,a,n,r,i){const l=fe;return f(),$("div",{class:j(e.ui.wrapper)},[I("select",_({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:t[0]||(t[0]=(...s)=>e.onInput&&e.onInput(...s)),onChange:t[1]||(t[1]=(...s)=>e.onChange&&e.onChange(...s))}),[(f(!0),$(H,null,ne(e.normalizedOptionsWithPlaceholder,(s,u)=>(f(),$(H,null,[s.children?(f(),$("optgroup",{key:`${s[e.valueAttribute]}-optgroup-${u}`,value:s[e.valueAttribute],label:s[e.optionAttribute]},[(f(!0),$(H,null,ne(s.children,(m,y)=>(f(),$("option",{key:`${m[e.valueAttribute]}-${u}-${y}`,value:m[e.valueAttribute],selected:m[e.valueAttribute]===e.normalizedValue,disabled:m.disabled,textContent:x(m[e.optionAttribute])},null,8,co))),128))],8,uo)):(f(),$("option",{key:`${s[e.valueAttribute]}-${u}`,value:s[e.valueAttribute],selected:s[e.valueAttribute]===e.normalizedValue,disabled:s.disabled,textContent:x(s[e.optionAttribute])},null,8,mo))],64))),256))],16,io),e.isLeading&&e.leadingIconName||e.$slots.leading?(f(),$("span",{key:0,class:j(e.leadingWrapperIconClass)},[K(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[F(l,{name:e.leadingIconName,class:j(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):z("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(f(),$("span",{key:1,class:j(e.trailingWrapperIconClass)},[K(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[F(l,{name:e.trailingIconName,class:j(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):z("",!0)],2)}const po=he(so,[["render",fo],["__scopeId","data-v-931b50ef"]]),vo={class:"p-4"},go=I("h2",{class:"text-lg text-center mb-4"},"Send to flow",-1),bo={class:"flex justify-center mb-4"},ho={class:"text-sm text-slate-500 text-center mb-4"},yo={class:"text-md text-center text-red-500 mb-4"},wo={key:1},ko={class:"flex justify-end"},$o=V({__name:"SendToFlowModal",props:{show:{type:Boolean,required:!1},flowResult:{type:Object,required:!1,default:()=>null},outputImgSrc:{type:String,required:!0},outputParamIndex:{type:Number,required:!0}},emits:["update:show"],setup(e,{emit:t}){const a=e,n=Re(),r=k(()=>n.sub_flows.map(m=>({value:m.name,label:`${m.display_name} - ${m.description}`}))),i=S(r.value[0]||""),l=S(!1),s=t;function u(){console.debug("[Send to flow]: ",i.value);const m=n.sub_flows.find(g=>g.name===i.value.value&&g.display_name===i.value.label.split(" - ")[0]);if(console.debug("[Send to flow]: targetFlow",m),!m){Ya().add({title:`Target sub-flow "${i.value.value}" not found`,description:"Please, verify the target sub-flow is installed and available and try again",timeout:5e3});return}const y=m.input_params.reduce((g,o)=>{const d={};return o.type==="text"?d[o.name]={value:o.default||"",type:o.type}:o.type==="number"?d[o.name]={value:o.default||0,type:o.type}:o.type==="image"?d[o.name]={value:JSON.stringify({task_id:a.flowResult.task_id,node_id:a.flowResult.output_params[a.outputParamIndex].comfy_node_id})||"",type:o.type}:o.type==="list"?d[o.name]={value:o.default||Object.keys(o.options)[0]||"",type:o.type,options:o.options}:o.type==="bool"?d[o.name]={value:o.default||!1,type:o.type}:["range","range_scale"].includes(o.type)&&(d[o.name]={value:o.default||0,type:o.type}),g.push(d),g},[]);console.debug("[Send to flow]: input_params_map",y),l.value=!0,n.runFlow(m,y).finally(()=>{l.value=!1,s("update:show",!1)})}return Qa(()=>{n.fetchSubFlows("image").then(()=>{i.value=r.value[0]||""})}),(m,y)=>{const g=rt,o=Jt,d=pe,p=st;return f(),O(p,{modelValue:m.$props.show,"onUpdate:modelValue":y[1]||(y[1]=b=>m.$props.show=b),class:"z-[90]",transition:!1},{default:T(()=>[I("div",vo,[go,I("div",bo,[F(g,{src:e.outputImgSrc,class:"w-1/2 rounded-lg",draggable:!1},null,8,["src"])]),I("p",ho,x(Object.keys(e.flowResult.input_params_mapped).filter(b=>e.flowResult.input_params_mapped[b]!=="").map(b=>`${b}: ${e.flowResult.input_params_mapped[b]}`).join(" | ")),1),I("p",yo,[c(r).length>0?(f(),O(o,{key:0,modelValue:c(i),"onUpdate:modelValue":y[0]||(y[0]=b=>Ee(i)?i.value=b:null),class:"w-full",size:"lg",options:c(r)},null,8,["modelValue","options"])):(f(),$("span",wo,"No sub-flows available"))]),I("div",ko,[F(d,{icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",loading:c(l),disabled:c(r).length===0,onClick:u},{default:T(()=>[q(" Send ")]),_:1},8,["loading","disabled"])])])]),_:1},8,["modelValue"])}}}),So={class:"flex flex-col md:flex-row items-center justify-center mb-5 sticky top-1 z-[10]"},Po={class:"flex items-center justify-center"},Io={class:"p-4"},Co=I("p",{class:"text-lg text-center mb-4"},"Are you sure you want to delete all results?",-1),Mo={class:"text-md text-center text-red-500 mb-4"},zo={class:"flex justify-center"},Fo={key:0,class:"results overflow-auto"},Bo={class:"flex flex-col basis-full"},Oo={class:"text-sm text-slate-500 text-center mb-3"},Ao={class:"w-full flex justify-center items-center"},To={key:1,class:"text-center text-slate-500"},jo=V({__name:"Output",emits:["copy-prompt-inputs"],setup(e,{emit:t}){const a=Re(),n=k(()=>{var E;return a.flowResultsByName((E=a.currentFlow)==null?void 0:E.name).length>0||!1}),r=k(()=>{var E;return a.flowResultsByName((E=a.currentFlow)==null?void 0:E.name).reverse()||[]}),i=k(()=>a.$state.resultsPageSize),l=function(E){return`${Ne()}/task-results?task_id=${E.task_id}&node_id=${E.node_id}`};ue(r,()=>{r.value.length<=a.$state.resultsPageSize?a.$state.resultsPage=1:a.$state.resultsPage>Math.ceil(r.value.length/a.$state.resultsPageSize)&&(a.$state.resultsPage=Math.ceil(r.value.length/a.$state.resultsPageSize))}),ue(i,()=>{r.value.length<=a.$state.resultsPageSize?a.$state.resultsPage=1:a.$state.resultsPage>Math.ceil(r.value.length/a.$state.resultsPageSize)&&(a.$state.resultsPage=Math.ceil(r.value.length/a.$state.resultsPageSize)),a.saveUserOptions()}),be(()=>{a.$state.flow_results_filter="",a.$state.resultsPage=1});const s=t;function u(E){s("copy-prompt-inputs",E.input_params_mapped)}function m(E){w.value=E,b.value=!0}const y=S(null),g=S(!1);window.addEventListener("scroll",()=>{var E;g.value=window.scrollY>(((E=y.value)==null?void 0:E.offsetTop)+window.screen.height||0)});const o=k(()=>a.$state.resultsPage);ue(o,()=>{const E=document.getElementById("output-container");E&&E.scrollIntoView({behavior:"smooth"})});const d=ot(),p=S(!1),b=S(!1),w=S(""),v=S(!1),P=S(!1),h=S(!1),A=S(""),C=S(null),L=S(0);return(E,B)=>{var N;const R=ro,Q=fe,de=$t,ae=Za,J=po,U=pe,Y=It,X=Gt,ce=st,se=rt,qe=ca,_e=$o;return f(),$("div",{id:"output-container",ref_key:"outputContainer",ref:y,class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md my-10"},[F(R,{show:c(g),class:"fixed bottom-5 right-5",target:"output-container"},null,8,["show"]),I("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:B[0]||(B[0]=()=>{p.value=!c(p)})},[F(Q,{name:c(p)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),q(" Output ("+x(c(r).length)+") ",1)]),c(p)?z("",!0):(f(),$(H,{key:0},[I("div",So,[F(de,{modelValue:c(a).$state.flow_results_filter,"onUpdate:modelValue":B[1]||(B[1]=M=>c(a).$state.flow_results_filter=M),icon:"i-heroicons-magnifying-glass-20-solid",color:"white",class:"md:mr-3",label:"Filter results by prompt",trailing:!0,placeholder:"Filter results by prompt"},null,8,["modelValue"]),c(r).length>c(a).$state.resultsPageSize?(f(),O(ae,{key:0,modelValue:c(a).$state.resultsPage,"onUpdate:modelValue":B[2]||(B[2]=M=>c(a).$state.resultsPage=M),class:"my-1 md:my-0","page-count":c(a).$state.resultsPageSize,total:c(r).length,"show-first":"","show-last":""},null,8,["modelValue","page-count","total"])):z("",!0),I("div",Po,[F(J,{modelValue:c(a).resultsPageSize,"onUpdate:modelValue":B[3]||(B[3]=M=>c(a).resultsPageSize=M),class:"md:mx-3 w-fit mr-3",options:[5,10,20,50,100],label:"Results per page"},null,8,["modelValue"]),F(Y,{items:[[{label:"Delete all results",labelClass:"text-red-500",icon:"i-heroicons-trash",iconClass:"dark:text-red-500 text-red-500",click:()=>v.value=!0}]],mode:"click",label:"Options",popper:{placement:"bottom-end"}},{default:T(()=>[F(U,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:1},8,["items"])]),F(ce,{modelValue:c(v),"onUpdate:modelValue":B[6]||(B[6]=M=>Ee(v)?v.value=M:null),class:"z-[90]",transition:!1},{default:T(()=>[I("div",Io,[Co,I("p",Mo,[q(" All history and images of "),F(X,{class:"mx-1",color:"orange",variant:"outline"},{default:T(()=>[q(x(c(a).currentFlow.display_name),1)]),_:1}),q(" will be deleted. ")]),I("div",zo,[F(U,{class:"mr-2",color:"red",variant:"outline",loading:c(P),onClick:B[4]||(B[4]=()=>{var M;P.value=!0,c(a).deleteFlowResults((M=c(a).currentFlow)==null?void 0:M.name).then(()=>{P.value=!1,v.value=!1})})},{default:T(()=>[q(" Yes ")]),_:1},8,["loading"]),F(U,{variant:"outline",onClick:B[5]||(B[5]=()=>v.value=!1)},{default:T(()=>[q("No")]),_:1})])])]),_:1},8,["modelValue"])]),c(n)?(f(),$("div",Fo,[(f(!0),$(H,null,ne(c(a).flowResultsByNamePaginated((N=c(a).currentFlow)==null?void 0:N.name),M=>(f(),$("div",{key:M.task_id,class:"flex flex-col justify-center mx-auto mb-5"},[M.output_params.length===1?(f(),O(se,{key:0,class:"mb-2 h-100 mx-auto rounded-lg cursor-pointer",draggable:"false",fit:"outside",loading:"lazy",placeholder:c(d)(`${("buildBackendApiUrl"in E?E.buildBackendApiUrl:c(Ne))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:l({task_id:M.task_id,node_id:M.output_params[0].comfy_node_id}),onClick:()=>m(l({task_id:M.task_id,node_id:M.output_params[0].comfy_node_id}))},null,8,["placeholder","src","onClick"])):(f(),O(qe,{key:1,class:"mb-3 rounded-lg overflow-hidden",items:M.output_params.map((W,oe)=>({task_id:M.task_id,node_id:W.comfy_node_id,index:oe})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:T(({item:W})=>[I("div",Bo,[F(se,{class:"w-full cursor-pointer mx-auto",loading:"lazy",placeholder:c(d)(`${("buildBackendApiUrl"in E?E.buildBackendApiUrl:c(Ne))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:l(W),draggable:"false",onClick:()=>m(l(W))},null,8,["placeholder","src","onClick"]),F(U,{class:"mt-2 w-fit mx-auto",icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",onClick:()=>{h.value=!0,C.value=M,A.value=l(W),L.value=W.index}},{default:T(()=>[q(" Send to flow ")]),_:2},1032,["onClick"])])]),_:2},1032,["items"])),I("p",Oo,x(["#"+M.task_id,...Object.keys(M.input_params_mapped).filter(W=>M.input_params_mapped[W]!=="").map(W=>`${W}: ${M.input_params_mapped[W]}`)].join(" | ")+`${M.execution_time?" | execution_time: "+M.execution_time.toFixed(2)+"s":""}`),1),I("div",Ao,[F(U,{class:"mr-3",color:"red",icon:"i-heroicons-trash",variant:"outline",onClick:()=>c(a).deleteFlowHistory(M.task_id)},{default:T(()=>[q(" Delete ")]),_:2},1032,["onClick"]),F(Y,{items:[[{label:"Use params",labelClass:"text-cyan-500",icon:"i-heroicons-document-duplicate-16-solid",iconClass:"bg-cyan-500",click:()=>u(M)}],[{label:"Send to flow",labelClass:"text-violet-500",icon:"i-heroicons-arrow-uturn-up-solid",iconClass:"bg-violet-500",click:()=>{h.value=!0,C.value=M,A.value=l({task_id:M.task_id,node_id:M.output_params[0].comfy_node_id}),L.value=0},disabled:M.output_params.length!==1}],[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var W;return c(a).downloadFlowComfy((W=c(a).currentFlow)==null?void 0:W.name,M.task_id)}}]],mode:"click",popper:{placement:"bottom-start"}},{default:T(()=>[F(U,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])]))),128)),F(_e,{modelValue:c(h),"onUpdate:modelValue":B[7]||(B[7]=M=>Ee(h)?h.value=M:null),"flow-result":c(C),"output-img-src":c(A),"output-param-index":c(L),"onUpdate:show":B[8]||(B[8]=M=>h.value=M)},null,8,["modelValue","flow-result","output-img-src","output-param-index"])])):(f(),$("p",To," No output results available "))],64)),F(ce,{modelValue:c(b),"onUpdate:modelValue":B[11]||(B[11]=M=>Ee(b)?b.value=M:null),class:"z-[90]",transition:!1,fullscreen:""},{default:T(()=>[F(U,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:B[9]||(B[9]=()=>b.value=!1)}),I("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:B[10]||(B[10]=De(()=>b.value=!1,["left"]))},[c(w)?(f(),O(se,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",src:c(w)},null,8,["src"])):z("",!0)])]),_:1},8,["modelValue"])],512)}}}),Uo=$e(G.ui.strategy,G.ui.skeleton,mn),Eo=V({inheritAttrs:!1,props:{class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:a}=Se("skeleton",le(e,"ui"),Uo),n=k(()=>we(re(t.value.base,t.value.background,t.value.rounded),e.class));return{ui:t,attrs:a,skeletonClass:n}}});function Ro(e,t,a,n,r,i){return f(),$("div",_({class:e.skeletonClass},e.attrs),null,16)}const Lo=he(Eo,[["render",Ro]]),Do={class:"flex flex-col lg:flex-row flex-grow items-start w-full"},No={class:"card-wrapper w-full lg:pr-5"},Vo={key:0,class:"p-0 text-sm"},xo={class:"flex flex-row items-center text-slate-400 mb-2"},Ho={class:"flex flex-row flex-wrap items-center text-md mb-2"},Wo=I("b",null,"Author:",-1),qo=["href"],_o={class:"flex flex-row items-center text-md mb-2"},Go=["href"],Qo={key:1},Yo={class:"flex flex-row items-center text-md mb-2"},Jo=I("b",null,"Tags:",-1),Ko={key:0,class:"flex flex-row flex-wrap items-center text-md"},Xo=["href"],Zo={class:"flex justify-end"},er={class:"flex flex-row items-center justify-center text-sm mr-2"},tr={class:"prompt-wrapper w-full"},rr=V({__name:"[name]",setup(e){const t=Ja(),a=Re();a.setCurrentFlow(t.params.name);const n=k(()=>a.flowInstallingByName(t.params.name)||!1),r=k(()=>a.flowInstallingByName(t.params.name)||!1),i=S(!1);function l(){i.value=!0,a.deleteFlow(a.currentFlow).then(()=>{i.value=!1})}const s=S(!1),u=S(null),m=function(y){var g;(g=u.value)==null||g.copyPromptInputs(y)};return(y,g)=>{const o=fe,d=Gt,p=pe,b=en,w=It,v=tn,P=Nl,h=oo,A=jo,C=Kt,L=Lo,E=Ka;return f(),O(E,null,{default:T(()=>[!c(a).loading.flows_available&&!c(a).loading.flows_installed&&c(a).currentFlow&&!c(a).$state.loading.tasks_history?(f(),$(H,{key:0},[I("div",Do,[I("div",No,[F(v,{as:"div",class:"w-full mb-5"},Xa({header:T(()=>{var B;return[I("h2",{class:"text-xl font-bold cursor-pointer select-none flex items-center",onClick:g[0]||(g[0]=()=>{s.value=!c(s)})},[F(o,{name:c(s)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),q(" "+x((B=c(a).currentFlow)==null?void 0:B.display_name),1)])]}),default:T(()=>{var B,R,Q,de,ae,J,U,Y,X,ce;return[c(s)?z("",!0):(f(),$("div",Vo,[I("p",xo,x((B=c(a).currentFlow)==null?void 0:B.description),1),I("p",Ho,[F(o,{name:"i-heroicons-user-16-solid",class:"mr-1"}),Wo,q("  "),I("a",{class:"hover:underline text-md",href:(R=c(a).currentFlow)==null?void 0:R.homepage,rel:"noopener",target:"_blank"},x((Q=c(a).currentFlow)==null?void 0:Q.author),9,qo)]),I("p",_o,[F(o,{name:"i-heroicons-document-text",class:"mr-1"}),(de=c(a).currentFlow)!=null&&de.documentation?(f(),$("a",{key:0,class:"hover:underline",href:(ae=c(a).currentFlow)==null?void 0:ae.documentation,rel:"noopener",target:"_blank"}," Documentation ",8,Go)):(f(),$("span",Qo,"No documentation"))]),I("p",Yo,[F(o,{name:"i-heroicons-tag",class:"mr-1"}),Jo,q("  "),(f(!0),$(H,null,ne((J=c(a).currentFlow)==null?void 0:J.tags,se=>(f(),O(d,{key:se,label:se,color:"white",variant:"solid",class:"m-1"},null,8,["label"]))),128))]),((Y=(U=c(a).currentFlow)==null?void 0:U.models)==null?void 0:Y.length)>0?(f(),$("p",Ko,[F(o,{name:"i-heroicons-arrow-down-on-square-stack",class:"mr-1"}),I("b",null,"Models ("+x((X=c(a).currentFlow)==null?void 0:X.models.length)+"):",1),q("  "),(f(!0),$(H,null,ne((ce=c(a).currentFlow)==null?void 0:ce.models,se=>(f(),O(d,{key:se.name,class:"m-1",color:"white",variant:"solid"},{default:T(()=>[I("a",{class:"hover:underline underline-offset-4",href:se.homepage,rel:"noopener",target:"_blank"},x(se.name),9,Xo)]),_:2},1024))),128))])):z("",!0)]))]}),_:2},[c(s)?void 0:{name:"footer",fn:T(()=>[I("div",Zo,[I("div",er,[F(o,{name:c(a).isFlowInstalled(c(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),I("span",{class:j({"text-green-500":c(a).isFlowInstalled(c(t).params.name),"text-red-500":!c(a).isFlowInstalled(c(t).params.name)})},x(c(a).isFlowInstalled(c(t).params.name)?"Installed":"Not installed"),3)]),c(a).isFlowInstalled(c(t).params.name)?z("",!0):(f(),O(b,{key:0,text:"Setup flow dependencies and configure it in ComfyUI",popper:{placement:"top"},"open-delay":500},{default:T(()=>[F(p,{icon:"i-heroicons-arrow-down-tray",class:"mx-3",color:"primary",variant:"outline",loading:c(n),onClick:g[1]||(g[1]=()=>c(a).setupFlow(c(a).currentFlow))},{default:T(()=>{var B;return[q(x(c(r)?`${(B=c(r))==null?void 0:B.progress.toFixed(0)}% Setting up`:"Setup flow"),1)]}),_:1},8,["loading"])]),_:1})),c(a).isFlowInstalled(c(t).params.name)?(f(),O(w,{key:1,items:[[{label:"Delete flow",icon:"i-heroicons-trash",click:l}]],mode:"click",label:"Actions",popper:{placement:"bottom-end"}},{default:T(()=>[F(p,{color:"white",label:"Actions","trailing-icon":"i-heroicons-chevron-down-20-solid"})]),_:1},8,["items"])):z("",!0)])]),key:"0"}]),1024)]),I("div",tr,[!c(i)&&c(a).isFlowInstalled(c(t).params.name)?(f(),O(P,{key:0,ref_key:"workflowPrompt",ref:u},null,512)):z("",!0)])]),!c(i)&&c(a).isFlowInstalled(c(t).params.name)?(f(),O(h,{key:0})):z("",!0),!c(i)&&c(a).isFlowInstalled(c(t).params.name)||c(a).flowResultsByName(c(t).params.name).length>0?(f(),O(A,{key:1,onCopyPromptInputs:g[2]||(g[2]=B=>m(B))})):z("",!0)],64)):(f(),$(H,{key:1},[F(C,{class:"mb-3"}),F(L,{class:"w-full h-80"})],64))]),_:1})}}});export{rr as default};
