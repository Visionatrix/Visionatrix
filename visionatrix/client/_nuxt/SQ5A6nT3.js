import{A as b,i as Ce,a9 as mt,K as _,b9 as Ne,ba as gt,r as $,a0 as fe,T as Qe,g as Q,a4 as K,bb as ht,a2 as M,ai as Ye,ab as Fe,ar as Je,af as ae,U as se,X as pe,Y as Xe,bc as Ze,Z as Ge,$ as te,az as Me,F as Ve,ad as re,as as _e,an as be,ae as et,ac as ve,V as tt,aj as W,bd as yt,av as lt,I as N,ao as F,be as Ot,ap as St,aq as It,bf as at,v as we,b1 as Ct,x as H,bg as xt,_ as Be,m as Re,M as nt,y as xe,z as ue,C as ot,aB as Mt,b2 as it,N as Le,O as Z,bh as wt,aC as Rt,aE as kt,o as V,j as le,w as de,c as P,n as E,k as U,aH as he,G as Y,a as J,E as Oe,b as ce,t as oe,aG as Tt,s as Et,aF as zt,d as Ae,D as At,aI as ut,bi as $t,aK as Dt,aT as Ft,bj as Vt}from"./B5Mitlnu.js";const Bt={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}};function ye(e,u,t){let l=t.initialDeps??[],a;return()=>{var i,n,o,p;let m;t.key&&((i=t.debug)!=null&&i.call(t))&&(m=Date.now());const d=e();if(!(d.length!==l.length||d.some((C,I)=>l[I]!==C)))return a;l=d;let v;if(t.key&&((n=t.debug)!=null&&n.call(t))&&(v=Date.now()),a=u(...d),t.key&&((o=t.debug)!=null&&o.call(t))){const C=Math.round((Date.now()-m)*100)/100,I=Math.round((Date.now()-v)*100)/100,A=I/16,B=(O,w)=>{for(O=String(O);O.length<w;)O=" "+O;return O};console.info(`%câ± ${B(I,5)} /${B(C,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*A,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(p=t==null?void 0:t.onChange)==null||p.call(t,a),a}}function ze(e,u){if(e===void 0)throw new Error("Unexpected undefined");return e}const Lt=(e,u)=>Math.abs(e-u)<1,jt=(e,u)=>{let t;return function(...l){clearTimeout(t),t=setTimeout(()=>e.apply(this,l),u)}},Pt=e=>e,Nt=e=>{const u=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),l=[];for(let a=u;a<=t;a++)l.push(a);return l},qt=(e,u)=>{const t=e.scrollElement;if(!t)return;const l=i=>{const{width:n,height:o}=i;u({width:Math.round(n),height:Math.round(o)})};if(l(t.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const a=new ResizeObserver(i=>{const n=i[0];if(n!=null&&n.borderBoxSize){const o=n.borderBoxSize[0];if(o){l({width:o.inlineSize,height:o.blockSize});return}}l(t.getBoundingClientRect())});return a.observe(t,{box:"border-box"}),()=>{a.unobserve(t)}},qe={passive:!0},Ht=typeof window>"u"?!0:"onscrollend"in window,Ut=(e,u)=>{const t=e.scrollElement;if(!t)return;let l=0;const a=Ht?()=>{}:jt(()=>{u(l,!1)},e.options.isScrollingResetDelay),i=p=>()=>{l=t[e.options.horizontal?"scrollLeft":"scrollTop"],a(),u(l,p)},n=i(!0),o=i(!1);return o(),t.addEventListener("scroll",n,qe),t.addEventListener("scrollend",o,qe),()=>{t.removeEventListener("scroll",n),t.removeEventListener("scrollend",o)}},Wt=(e,u,t)=>{if(u!=null&&u.borderBoxSize){const l=u.borderBoxSize[0];if(l)return Math.round(l[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},Kt=(e,{adjustments:u=0,behavior:t},l)=>{var a,i;const n=e+u;(i=(a=l.scrollElement)==null?void 0:a.scrollTo)==null||i.call(a,{[l.options.horizontal?"left":"top"]:n,behavior:t})};class Qt{constructor(u){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let t=null;const l=()=>t||(typeof ResizeObserver<"u"?t=new ResizeObserver(a=>{a.forEach(i=>{this._measureElement(i.target,i)})}):null);return{disconnect:()=>{var a;return(a=l())==null?void 0:a.disconnect()},observe:a=>{var i;return(i=l())==null?void 0:i.observe(a,{box:"border-box"})},unobserve:a=>{var i;return(i=l())==null?void 0:i.unobserve(a)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([l,a])=>{typeof a>"u"&&delete t[l]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Pt,rangeExtractor:Nt,onChange:()=>{},measureElement:Wt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...t}},this.notify=(t,l)=>{var a,i;const{startIndex:n,endIndex:o}=this.range??{startIndex:void 0,endIndex:void 0},p=this.calculateRange();(t||n!==(p==null?void 0:p.startIndex)||o!==(p==null?void 0:p.endIndex))&&((i=(a=this.options).onChange)==null||i.call(a,this,l))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const t=this.options.getScrollElement();this.scrollElement!==t&&(this.cleanup(),this.scrollElement=t,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,l=>{this.scrollRect=l,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(l,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.scrollOffset<l?"forward":"backward":null,this.scrollOffset=l;const i=this.isScrolling;this.isScrolling=a,this.notify(i!==a,a)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=ye(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(t,l,a,i)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:l,scrollMargin:a,getItemKey:i}),{key:!1}),this.getFurthestMeasurement=(t,l)=>{const a=new Map,i=new Map;for(let n=l-1;n>=0;n--){const o=t[n];if(a.has(o.lane))continue;const p=i.get(o.lane);if(p==null||o.end>p.end?i.set(o.lane,o):o.end<p.end&&a.set(o.lane,!0),a.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((n,o)=>n.end===o.end?n.index-o.index:n.end-o.end)[0]:void 0},this.getMeasurements=ye(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:l,scrollMargin:a,getItemKey:i},n)=>{const o=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const p=this.measurementsCache.slice(0,o);for(let m=o;m<t;m++){const d=i(m),s=this.options.lanes===1?p[m-1]:this.getFurthestMeasurement(p,m),v=s?s.end+this.options.gap:l+a,C=n.get(d),I=typeof C=="number"?C:this.options.estimateSize(m),A=v+I,B=s?s.lane:m%this.options.lanes;p[m]={index:m,start:v,size:I,end:A,key:d,lane:B}}return this.measurementsCache=p,p},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ye(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(t,l,a)=>this.range=t.length>0&&l>0?Yt({measurements:t,outerSize:l,scrollOffset:a}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ye(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,l,a,i)=>l===null?[]:t({startIndex:l.startIndex,endIndex:l.endIndex,overscan:a,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const l=this.options.indexAttribute,a=t.getAttribute(l);return a?parseInt(a,10):(console.warn(`Missing attribute name '${l}={index}' on measured element.`),-1)},this._measureElement=(t,l)=>{const a=this.measurementsCache[this.indexFromElement(t)];if(!a||!t.isConnected){this.measureElementCache.forEach((o,p)=>{o===t&&(this.observer.unobserve(t),this.measureElementCache.delete(p))});return}const i=this.measureElementCache.get(a.key);i!==t&&(i&&this.observer.unobserve(i),this.observer.observe(t),this.measureElementCache.set(a.key,t));const n=this.options.measureElement(t,l,this);this.resizeItem(a,n)},this.resizeItem=(t,l)=>{const a=this.itemSizeCache.get(t.key)??t.size,i=l-a;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,i,this):t.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,l)),this.notify(!0,!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=ye(()=>[this.getIndexes(),this.getMeasurements()],(t,l)=>{const a=[];for(let i=0,n=t.length;i<n;i++){const o=t[i],p=l[o];a.push(p)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const l=this.getMeasurements();return ze(l[st(0,l.length-1,a=>ze(l[a]).start,t)])},this.getOffsetForAlignment=(t,l)=>{const a=this.getSize();l==="auto"&&(t<=this.scrollOffset?l="start":t>=this.scrollOffset+a?l="end":l="start"),l==="start"?t=t:l==="end"?t=t-a:l==="center"&&(t=t-a/2);const i=this.options.horizontal?"scrollWidth":"scrollHeight",o=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-this.getSize();return Math.max(Math.min(o,t),0)},this.getOffsetForIndex=(t,l="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const a=ze(this.getMeasurements()[t]);if(l==="auto")if(a.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)l="end";else if(a.start<=this.scrollOffset+this.options.scrollPaddingStart)l="start";else return[this.scrollOffset,l];const i=l==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,l),l]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:l="start",behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,l),{adjustments:void 0,behavior:a})},this.scrollToIndex=(t,{align:l="auto",behavior:a}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[i,n]=this.getOffsetForIndex(t,l);this._scrollToOffset(i,{adjustments:void 0,behavior:a}),a!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(t))){const[p]=this.getOffsetForIndex(t,n);Lt(p,this.scrollOffset)||this.scrollToIndex(t,{align:n,behavior:a})}else this.scrollToIndex(t,{align:n,behavior:a})}))},this.scrollBy=(t,{behavior:l}={})=>{this.cancelScrollToIndex(),l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+t,{adjustments:void 0,behavior:l})},this.getTotalSize=()=>{var t;const l=this.getMeasurements();let a;return l.length===0?a=this.options.paddingStart:a=this.options.lanes===1?((t=l[l.length-1])==null?void 0:t.end)??0:Math.max(...l.slice(-this.options.lanes).map(i=>i.end)),a-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:l,behavior:a})=>{this.options.scrollToFn(t,{behavior:a,adjustments:l},this)},this.measure=()=>{var t,l;this.itemSizeCache=new Map,(l=(t=this.options).onChange)==null||l.call(t,this,!1)},this.setOptions(u),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(t=>{this.itemSizeCache.set(t.key,t.size)}),this.notify(!1,!1)}}const st=(e,u,t,l)=>{for(;e<=u;){const a=(e+u)/2|0,i=t(a);if(i<l)e=a+1;else if(i>l)u=a-1;else return a}return e>0?e-1:0};function Yt({measurements:e,outerSize:u,scrollOffset:t}){const l=e.length-1,i=st(0,l,o=>e[o].start,t);let n=i;for(;n<l&&e[n].end<t+u;)n++;return{startIndex:i,endIndex:n}}function Jt(e){const u=new Qt(Ce(e)),t=mt(u),l=u._didMount();return _(()=>Ce(e).getScrollElement(),a=>{a&&u._willUpdate()},{immediate:!0}),_(()=>Ce(e),a=>{u.setOptions({...a,onChange:(i,n)=>{var o;Ne(t),(o=a.onChange)==null||o.call(a,i,n)}}),u._willUpdate(),Ne(t)},{immediate:!0}),gt(l),t}function Xt(e){return Jt(b(()=>({observeElementRect:qt,observeElementOffset:Ut,scrollToFn:Kt,...Ce(e)})))}function rt(e,u,t){let l=$(t==null?void 0:t.value),a=b(()=>e.value!==void 0);return[b(()=>a.value?e.value:l.value),function(i){return a.value||(l.value=i),u==null?void 0:u(i)}]}function He(e){return[e.screenX,e.screenY]}function dt(){let e=$([-1,-1]);return{wasMoved(u){let t=He(u);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(u){e.value=He(u)}}}function Zt({container:e,accept:u,walk:t,enabled:l}){fe(()=>{let a=e.value;if(!a||l!==void 0&&!l.value)return;let i=Qe(e);if(!i)return;let n=Object.assign(p=>u(p),{acceptNode:u}),o=i.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,n,!1);for(;o.nextNode();)t(o.currentNode)})}function Gt(e){function u(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",u))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",u),u())}let ie=[];Gt(()=>{function e(u){u.target instanceof HTMLElement&&u.target!==document.body&&ie[0]!==u.target&&(ie.unshift(u.target),ie=ie.filter(t=>t!=null&&t.isConnected),ie.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function _t(e){throw new Error("Unexpected object: "+e)}var D=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(D||{});function $e(e,u){let t=u.resolveItems();if(t.length<=0)return null;let l=u.resolveActiveIndex(),a=l??-1;switch(e.focus){case 0:{for(let i=0;i<t.length;++i)if(!u.resolveDisabled(t[i],i,t))return i;return l}case 1:{a===-1&&(a=t.length);for(let i=a-1;i>=0;--i)if(!u.resolveDisabled(t[i],i,t))return i;return l}case 2:{for(let i=a+1;i<t.length;++i)if(!u.resolveDisabled(t[i],i,t))return i;return l}case 3:{for(let i=t.length-1;i>=0;--i)if(!u.resolveDisabled(t[i],i,t))return i;return l}case 4:{for(let i=0;i<t.length;++i)if(u.resolveId(t[i],i,t)===e.id)return i;return l}case 5:return null;default:_t(e)}}function el(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(u=>setTimeout(()=>{throw u}))}function De(){let e=[],u={addEventListener(t,l,a,i){return t.addEventListener(l,a,i),u.add(()=>t.removeEventListener(l,a,i))},requestAnimationFrame(...t){let l=requestAnimationFrame(...t);u.add(()=>cancelAnimationFrame(l))},nextFrame(...t){u.requestAnimationFrame(()=>{u.requestAnimationFrame(...t)})},setTimeout(...t){let l=setTimeout(...t);u.add(()=>clearTimeout(l))},microTask(...t){let l={current:!0};return el(()=>{l.current&&t[0]()}),u.add(()=>{l.current=!1})},style(t,l,a){let i=t.style.getPropertyValue(l);return Object.assign(t.style,{[l]:a}),this.add(()=>{Object.assign(t.style,{[l]:i})})},group(t){let l=De();return t(l),this.add(()=>l.dispose())},add(t){return e.push(t),()=>{let l=e.indexOf(t);if(l>=0)for(let a of e.splice(l,1))a()}},dispose(){for(let t of e.splice(0))t()}};return u}function je(e={},u=null,t=[]){for(let[l,a]of Object.entries(e))vt(t,ct(u,l),a);return t}function ct(e,u){return e?e+"["+u+"]":u}function vt(e,u,t){if(Array.isArray(t))for(let[l,a]of t.entries())vt(e,ct(u,l.toString()),a);else t instanceof Date?e.push([u,t.toISOString()]):typeof t=="boolean"?e.push([u,t?"1":"0"]):typeof t=="string"?e.push([u,t]):typeof t=="number"?e.push([u,`${t}`]):t==null?e.push([u,""]):je(t,u,e)}var tl={};function ll(e,u){return e===u}var al=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(al||{}),nl=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(nl||{}),ol=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(ol||{});let ft=Symbol("ComboboxContext");function me(e){let u=ve(ft,null);if(u===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,me),t}return u}let pt=Symbol("VirtualContext"),il=Q({name:"VirtualProvider",setup(e,{slots:u}){let t=me("VirtualProvider"),l=b(()=>{let o=M(t.optionsRef);if(!o)return{start:0,end:0};let p=window.getComputedStyle(o);return{start:parseFloat(p.paddingBlockStart||p.paddingTop),end:parseFloat(p.paddingBlockEnd||p.paddingBottom)}}),a=Xt(b(()=>({scrollPaddingStart:l.value.start,scrollPaddingEnd:l.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return M(t.optionsRef)},overscan:12}))),i=b(()=>{var o;return(o=t.virtual.value)==null?void 0:o.options}),n=$(0);return _([i],()=>{n.value+=1}),Fe(pt,t.virtual.value?a:null),()=>[pe("div",{style:{position:"relative",width:"100%",height:`${a.value.getTotalSize()}px`},ref:o=>{if(o){if(typeof process<"u"&&tl.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&a.value.scrollToIndex(t.activeOptionIndex.value)}}},a.value.getVirtualItems().map(o=>yt(u.default({option:t.virtual.value.options[o.index],open:t.comboboxState.value===0})[0],{key:`${n.value}-${o.index}`,"data-index":o.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":o.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${o.start}px)`,overflowAnchor:"none"}})))]}}),ul=Q({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:u,attrs:t,emit:l}){let a=$(1),i=$(null),n=$(null),o=$(null),p=$(null),m=$({static:!1,hold:!1}),d=$([]),s=$(null),v=$(2),C=$(!1);function I(g=S=>S){let S=s.value!==null?d.value[s.value]:null,k=g(d.value.slice()),T=k.length>0&&k[0].dataRef.order.value!==null?k.sort((z,q)=>z.dataRef.order.value-q.dataRef.order.value):lt(k,z=>M(z.dataRef.domRef)),x=S?T.indexOf(S):null;return x===-1&&(x=null),{options:T,activeOptionIndex:x}}let A=b(()=>e.multiple?1:0),B=b(()=>e.nullable),[O,w]=rt(b(()=>e.modelValue),g=>l("update:modelValue",g),b(()=>e.defaultValue)),c=b(()=>O.value===void 0?K(A.value,{1:[],0:void 0}):O.value),r=null,y=null;function h(g){return K(A.value,{0(){return w==null?void 0:w(g)},1:()=>{let S=N(f.value.value).slice(),k=N(g),T=S.findIndex(x=>f.compare(k,N(x)));return T===-1?S.push(k):S.splice(T,1),w==null?void 0:w(S)}})}let R=b(()=>{});_([R],([g],[S])=>{if(f.virtual.value&&g&&S&&s.value!==null){let k=g.indexOf(S[s.value]);k!==-1?s.value=k:s.value=null}});let f={comboboxState:a,value:c,mode:A,compare(g,S){if(typeof e.by=="string"){let k=e.by;return(g==null?void 0:g[k])===(S==null?void 0:S[k])}return e.by===null?ll(g,S):e.by(g,S)},calculateIndex(g){return f.virtual.value?e.by===null?f.virtual.value.options.indexOf(g):f.virtual.value.options.findIndex(S=>f.compare(S,g)):d.value.findIndex(S=>f.compare(S.dataRef.value,g))},defaultValue:b(()=>e.defaultValue),nullable:B,immediate:b(()=>!1),virtual:b(()=>null),inputRef:n,labelRef:i,buttonRef:o,optionsRef:p,disabled:b(()=>e.disabled),options:d,change(g){w(g)},activeOptionIndex:b(()=>{if(C.value&&s.value===null&&(f.virtual.value?f.virtual.value.options.length>0:d.value.length>0)){if(f.virtual.value){let S=f.virtual.value.options.findIndex(k=>{var T;return!((T=f.virtual.value)!=null&&T.disabled(k))});if(S!==-1)return S}let g=d.value.findIndex(S=>!S.dataRef.disabled);if(g!==-1)return g}return s.value}),activationTrigger:v,optionsPropsRef:m,closeCombobox(){C.value=!1,!e.disabled&&a.value!==1&&(a.value=1,s.value=null)},openCombobox(){if(C.value=!0,!e.disabled&&a.value!==0){if(f.value.value){let g=f.calculateIndex(f.value.value);g!==-1&&(s.value=g)}a.value=0}},setActivationTrigger(g){v.value=g},goToOption(g,S,k){C.value=!1,r!==null&&cancelAnimationFrame(r),r=requestAnimationFrame(()=>{if(e.disabled||p.value&&!m.value.static&&a.value===1)return;if(f.virtual.value){s.value=g===D.Specific?S:$e({focus:g},{resolveItems:()=>f.virtual.value.options,resolveActiveIndex:()=>{var z,q;return(q=(z=f.activeOptionIndex.value)!=null?z:f.virtual.value.options.findIndex(ge=>{var ne;return!((ne=f.virtual.value)!=null&&ne.disabled(ge))}))!=null?q:null},resolveDisabled:z=>f.virtual.value.disabled(z),resolveId(){throw new Error("Function not implemented.")}}),v.value=k??2;return}let T=I();if(T.activeOptionIndex===null){let z=T.options.findIndex(q=>!q.dataRef.disabled);z!==-1&&(T.activeOptionIndex=z)}let x=g===D.Specific?S:$e({focus:g},{resolveItems:()=>T.options,resolveActiveIndex:()=>T.activeOptionIndex,resolveId:z=>z.id,resolveDisabled:z=>z.dataRef.disabled});s.value=x,v.value=k??2,d.value=T.options})},selectOption(g){let S=d.value.find(T=>T.id===g);if(!S)return;let{dataRef:k}=S;h(k.value)},selectActiveOption(){if(f.activeOptionIndex.value!==null){if(f.virtual.value)h(f.virtual.value.options[f.activeOptionIndex.value]);else{let{dataRef:g}=d.value[f.activeOptionIndex.value];h(g.value)}f.goToOption(D.Specific,f.activeOptionIndex.value)}},registerOption(g,S){let k=ht({id:g,dataRef:S});if(f.virtual.value){d.value.push(k);return}y&&cancelAnimationFrame(y);let T=I(x=>(x.push(k),x));s.value===null&&f.isSelected(S.value.value)&&(T.activeOptionIndex=T.options.indexOf(k)),d.value=T.options,s.value=T.activeOptionIndex,v.value=2,T.options.some(x=>!M(x.dataRef.domRef))&&(y=requestAnimationFrame(()=>{let x=I();d.value=x.options,s.value=x.activeOptionIndex}))},unregisterOption(g,S){if(r!==null&&cancelAnimationFrame(r),S&&(C.value=!0),f.virtual.value){d.value=d.value.filter(T=>T.id!==g);return}let k=I(T=>{let x=T.findIndex(z=>z.id===g);return x!==-1&&T.splice(x,1),T});d.value=k.options,s.value=k.activeOptionIndex,v.value=2},isSelected(g){return K(A.value,{0:()=>f.compare(N(f.value.value),N(g)),1:()=>N(f.value.value).some(S=>f.compare(N(S),N(g)))})},isActive(g){return s.value===f.calculateIndex(g)}};Ye([n,o,p],()=>f.closeCombobox(),b(()=>a.value===0)),Fe(ft,f),Je(b(()=>K(a.value,{0:ae.Open,1:ae.Closed})));let L=b(()=>{var g;return(g=M(n))==null?void 0:g.closest("form")});return se(()=>{_([L],()=>{if(!L.value||e.defaultValue===void 0)return;function g(){f.change(e.defaultValue)}return L.value.addEventListener("reset",g),()=>{var S;(S=L.value)==null||S.removeEventListener("reset",g)}},{immediate:!0})}),()=>{var g,S,k;let{name:T,disabled:x,form:z,...q}=e,ge={open:a.value===0,disabled:x,activeIndex:f.activeOptionIndex.value,activeOption:f.activeOptionIndex.value===null?null:f.virtual.value?f.virtual.value.options[(g=f.activeOptionIndex.value)!=null?g:0]:(k=(S=f.options.value[f.activeOptionIndex.value])==null?void 0:S.dataRef.value)!=null?k:null,value:c.value};return pe(Ve,[...T!=null&&c.value!=null?je({[T]:c.value}).map(([ne,Te])=>pe(Xe,Ze({features:Ge.Hidden,key:ne,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:z,disabled:x,name:ne,value:Te}))):[],te({theirProps:{...t,...Me(q,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:ge,slots:u,attrs:t,name:"Combobox"})])}}}),sl=Q({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:u,slots:t,expose:l}){var a;let i=(a=e.id)!=null?a:`headlessui-combobox-button-${re()}`,n=me("ComboboxButton");l({el:n.buttonRef,$el:n.buttonRef});function o(d){n.disabled.value||(n.comboboxState.value===0?n.closeCombobox():(d.preventDefault(),n.openCombobox()),W(()=>{var s;return(s=M(n.inputRef))==null?void 0:s.focus({preventScroll:!0})}))}function p(d){switch(d.key){case F.ArrowDown:d.preventDefault(),d.stopPropagation(),n.comboboxState.value===1&&n.openCombobox(),W(()=>{var s;return(s=n.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return;case F.ArrowUp:d.preventDefault(),d.stopPropagation(),n.comboboxState.value===1&&(n.openCombobox(),W(()=>{n.value.value||n.goToOption(D.Last)})),W(()=>{var s;return(s=n.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return;case F.Escape:if(n.comboboxState.value!==0)return;d.preventDefault(),n.optionsRef.value&&!n.optionsPropsRef.value.static&&d.stopPropagation(),n.closeCombobox(),W(()=>{var s;return(s=n.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return}}let m=_e(b(()=>({as:e.as,type:u.type})),n.buttonRef);return()=>{var d,s;let v={open:n.comboboxState.value===0,disabled:n.disabled.value,value:n.value.value},{...C}=e,I={ref:n.buttonRef,id:i,type:m.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(d=M(n.optionsRef))==null?void 0:d.id,"aria-expanded":n.comboboxState.value===0,"aria-labelledby":n.labelRef.value?[(s=M(n.labelRef))==null?void 0:s.id,i].join(" "):void 0,disabled:n.disabled.value===!0?!0:void 0,onKeydown:p,onClick:o};return te({ourProps:I,theirProps:C,slot:v,attrs:u,slots:t,name:"ComboboxButton"})}}}),rl=Q({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:u,attrs:t,slots:l,expose:a}){var i;let n=(i=e.id)!=null?i:`headlessui-combobox-input-${re()}`,o=me("ComboboxInput"),p=b(()=>Qe(M(o.inputRef))),m={value:!1};a({el:o.inputRef,$el:o.inputRef});function d(){o.change(null);let r=M(o.optionsRef);r&&(r.scrollTop=0),o.goToOption(D.Nothing)}let s=b(()=>{var r;let y=o.value.value;return M(o.inputRef)?typeof e.displayValue<"u"&&y!==void 0?(r=e.displayValue(y))!=null?r:"":typeof y=="string"?y:"":""});se(()=>{_([s,o.comboboxState,p],([r,y],[h,R])=>{if(m.value)return;let f=M(o.inputRef);f&&((R===0&&y===1||r!==h)&&(f.value=r),requestAnimationFrame(()=>{var L;if(m.value||!f||((L=p.value)==null?void 0:L.activeElement)!==f)return;let{selectionStart:g,selectionEnd:S}=f;Math.abs((S??0)-(g??0))===0&&g===0&&f.setSelectionRange(f.value.length,f.value.length)}))},{immediate:!0}),_([o.comboboxState],([r],[y])=>{if(r===0&&y===1){if(m.value)return;let h=M(o.inputRef);if(!h)return;let R=h.value,{selectionStart:f,selectionEnd:L,selectionDirection:g}=h;h.value="",h.value=R,g!==null?h.setSelectionRange(f,L,g):h.setSelectionRange(f,L)}})});let v=$(!1);function C(){v.value=!0}function I(){De().nextFrame(()=>{v.value=!1})}function A(r){switch(m.value=!0,r.key){case F.Enter:if(m.value=!1,o.comboboxState.value!==0||v.value)return;if(r.preventDefault(),r.stopPropagation(),o.activeOptionIndex.value===null){o.closeCombobox();return}o.selectActiveOption(),o.mode.value===0&&o.closeCombobox();break;case F.ArrowDown:return m.value=!1,r.preventDefault(),r.stopPropagation(),K(o.comboboxState.value,{0:()=>o.goToOption(D.Next),1:()=>o.openCombobox()});case F.ArrowUp:return m.value=!1,r.preventDefault(),r.stopPropagation(),K(o.comboboxState.value,{0:()=>o.goToOption(D.Previous),1:()=>{o.openCombobox(),W(()=>{o.value.value||o.goToOption(D.Last)})}});case F.Home:if(r.shiftKey)break;return m.value=!1,r.preventDefault(),r.stopPropagation(),o.goToOption(D.First);case F.PageUp:return m.value=!1,r.preventDefault(),r.stopPropagation(),o.goToOption(D.First);case F.End:if(r.shiftKey)break;return m.value=!1,r.preventDefault(),r.stopPropagation(),o.goToOption(D.Last);case F.PageDown:return m.value=!1,r.preventDefault(),r.stopPropagation(),o.goToOption(D.Last);case F.Escape:if(m.value=!1,o.comboboxState.value!==0)return;r.preventDefault(),o.optionsRef.value&&!o.optionsPropsRef.value.static&&r.stopPropagation(),o.nullable.value&&o.mode.value===0&&o.value.value===null&&d(),o.closeCombobox();break;case F.Tab:if(m.value=!1,o.comboboxState.value!==0)return;o.mode.value===0&&o.activationTrigger.value!==1&&o.selectActiveOption(),o.closeCombobox();break}}function B(r){u("change",r),o.nullable.value&&o.mode.value===0&&r.target.value===""&&d(),o.openCombobox()}function O(r){var y,h,R;let f=(y=r.relatedTarget)!=null?y:ie.find(L=>L!==r.currentTarget);if(m.value=!1,!((h=M(o.optionsRef))!=null&&h.contains(f))&&!((R=M(o.buttonRef))!=null&&R.contains(f))&&o.comboboxState.value===0)return r.preventDefault(),o.mode.value===0&&(o.nullable.value&&o.value.value===null?d():o.activationTrigger.value!==1&&o.selectActiveOption()),o.closeCombobox()}function w(r){var y,h,R;let f=(y=r.relatedTarget)!=null?y:ie.find(L=>L!==r.currentTarget);(h=M(o.buttonRef))!=null&&h.contains(f)||(R=M(o.optionsRef))!=null&&R.contains(f)||o.disabled.value||o.immediate.value&&o.comboboxState.value!==0&&(o.openCombobox(),De().nextFrame(()=>{o.setActivationTrigger(1)}))}let c=b(()=>{var r,y,h,R;return(R=(h=(y=e.defaultValue)!=null?y:o.defaultValue.value!==void 0?(r=e.displayValue)==null?void 0:r.call(e,o.defaultValue.value):null)!=null?h:o.defaultValue.value)!=null?R:""});return()=>{var r,y,h,R,f,L,g;let S={open:o.comboboxState.value===0},{displayValue:k,onChange:T,...x}=e,z={"aria-controls":(r=o.optionsRef.value)==null?void 0:r.id,"aria-expanded":o.comboboxState.value===0,"aria-activedescendant":o.activeOptionIndex.value===null?void 0:o.virtual.value?(y=o.options.value.find(q=>!o.virtual.value.disabled(q.dataRef.value)&&o.compare(q.dataRef.value,o.virtual.value.options[o.activeOptionIndex.value])))==null?void 0:y.id:(h=o.options.value[o.activeOptionIndex.value])==null?void 0:h.id,"aria-labelledby":(L=(R=M(o.labelRef))==null?void 0:R.id)!=null?L:(f=M(o.buttonRef))==null?void 0:f.id,"aria-autocomplete":"list",id:n,onCompositionstart:C,onCompositionend:I,onKeydown:A,onInput:B,onFocus:w,onBlur:O,role:"combobox",type:(g=t.type)!=null?g:"text",tabIndex:0,ref:o.inputRef,defaultValue:c.value,disabled:o.disabled.value===!0?!0:void 0};return te({ourProps:z,theirProps:x,slot:S,attrs:t,slots:l,features:be.RenderStrategy|be.Static,name:"ComboboxInput"})}}}),dl=Q({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:u,slots:t,expose:l}){let a=me("ComboboxOptions"),i=`headlessui-combobox-options-${re()}`;l({el:a.optionsRef,$el:a.optionsRef}),fe(()=>{a.optionsPropsRef.value.static=e.static}),fe(()=>{a.optionsPropsRef.value.hold=e.hold});let n=et(),o=b(()=>n!==null?(n.value&ae.Open)===ae.Open:a.comboboxState.value===0);Zt({container:b(()=>M(a.optionsRef)),enabled:b(()=>a.comboboxState.value===0),accept(m){return m.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:m.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(m){m.setAttribute("role","none")}});function p(m){m.preventDefault()}return()=>{var m,d,s;let v={open:a.comboboxState.value===0},C={"aria-labelledby":(s=(m=M(a.labelRef))==null?void 0:m.id)!=null?s:(d=M(a.buttonRef))==null?void 0:d.id,id:i,ref:a.optionsRef,role:"listbox","aria-multiselectable":a.mode.value===1?!0:void 0,onMousedown:p},I=Me(e,["hold"]);return te({ourProps:C,theirProps:I,slot:v,attrs:u,slots:a.virtual.value&&a.comboboxState.value===0?{...t,default:()=>[pe(il,{},t.default)]}:t,features:be.RenderStrategy|be.Static,visible:o.value,name:"ComboboxOptions"})}}}),cl=Q({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:u,attrs:t,expose:l}){let a=me("ComboboxOption"),i=`headlessui-combobox-option-${re()}`,n=$(null);l({el:n,$el:n});let o=b(()=>{var O;return a.virtual.value?a.activeOptionIndex.value===a.calculateIndex(e.value):a.activeOptionIndex.value===null?!1:((O=a.options.value[a.activeOptionIndex.value])==null?void 0:O.id)===i}),p=b(()=>a.isSelected(e.value)),m=ve(pt,null),d=b(()=>({disabled:e.disabled,value:e.value,domRef:n,order:b(()=>e.order)}));se(()=>a.registerOption(i,d)),tt(()=>a.unregisterOption(i,o.value)),fe(()=>{let O=M(n);O&&(m==null||m.value.measureElement(O))}),fe(()=>{a.comboboxState.value===0&&o.value&&(a.virtual.value||a.activationTrigger.value!==0&&W(()=>{var O,w;return(w=(O=M(n))==null?void 0:O.scrollIntoView)==null?void 0:w.call(O,{block:"nearest"})}))});function s(O){var w;if(e.disabled||(w=a.virtual.value)!=null&&w.disabled(e.value))return O.preventDefault();a.selectOption(i),Ot()||requestAnimationFrame(()=>{var c;return(c=M(a.inputRef))==null?void 0:c.focus({preventScroll:!0})}),a.mode.value===0&&requestAnimationFrame(()=>a.closeCombobox())}function v(){var O;if(e.disabled||(O=a.virtual.value)!=null&&O.disabled(e.value))return a.goToOption(D.Nothing);let w=a.calculateIndex(e.value);a.goToOption(D.Specific,w)}let C=dt();function I(O){C.update(O)}function A(O){var w;if(!C.wasMoved(O)||e.disabled||(w=a.virtual.value)!=null&&w.disabled(e.value)||o.value)return;let c=a.calculateIndex(e.value);a.goToOption(D.Specific,c,0)}function B(O){var w;C.wasMoved(O)&&(e.disabled||(w=a.virtual.value)!=null&&w.disabled(e.value)||o.value&&(a.optionsPropsRef.value.hold||a.goToOption(D.Nothing)))}return()=>{let{disabled:O}=e,w={active:o.value,selected:p.value,disabled:O},c={id:i,ref:n,role:"option",tabIndex:O===!0?void 0:-1,"aria-disabled":O===!0?!0:void 0,"aria-selected":p.value,disabled:void 0,onClick:s,onFocus:v,onPointerenter:I,onMouseenter:I,onPointermove:A,onMousemove:A,onPointerleave:B,onMouseleave:B},r=Me(e,["order","value"]);return te({ourProps:c,theirProps:r,slot:w,attrs:t,slots:u,name:"ComboboxOption"})}}}),Ue=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function We(e){var u,t;let l=(u=e.innerText)!=null?u:"",a=e.cloneNode(!0);if(!(a instanceof HTMLElement))return l;let i=!1;for(let o of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),i=!0;let n=i?(t=a.innerText)!=null?t:"":l;return Ue.test(n)&&(n=n.replace(Ue,"")),n}function vl(e){let u=e.getAttribute("aria-label");if(typeof u=="string")return u.trim();let t=e.getAttribute("aria-labelledby");if(t){let l=t.split(" ").map(a=>{let i=document.getElementById(a);if(i){let n=i.getAttribute("aria-label");return typeof n=="string"?n.trim():We(i).trim()}return null}).filter(Boolean);if(l.length>0)return l.join(", ")}return We(e).trim()}function fl(e){let u=$(""),t=$("");return()=>{let l=M(e);if(!l)return"";let a=l.innerText;if(u.value===a)return t.value;let i=vl(l).trim().toLowerCase();return u.value=a,t.value=i,i}}function pl(e,u){return e===u}var bl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(bl||{}),ml=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ml||{}),gl=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(gl||{});function hl(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let bt=Symbol("ListboxContext");function ke(e){let u=ve(bt,null);if(u===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ke),t}return u}let yl=Q({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>pl},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:u,attrs:t,emit:l}){let a=$(1),i=$(null),n=$(null),o=$(null),p=$([]),m=$(""),d=$(null),s=$(1);function v(c=r=>r){let r=d.value!==null?p.value[d.value]:null,y=lt(c(p.value.slice()),R=>M(R.dataRef.domRef)),h=r?y.indexOf(r):null;return h===-1&&(h=null),{options:y,activeOptionIndex:h}}let C=b(()=>e.multiple?1:0),[I,A]=rt(b(()=>e.modelValue),c=>l("update:modelValue",c),b(()=>e.defaultValue)),B=b(()=>I.value===void 0?K(C.value,{1:[],0:void 0}):I.value),O={listboxState:a,value:B,mode:C,compare(c,r){if(typeof e.by=="string"){let y=e.by;return(c==null?void 0:c[y])===(r==null?void 0:r[y])}return e.by(c,r)},orientation:b(()=>e.horizontal?"horizontal":"vertical"),labelRef:i,buttonRef:n,optionsRef:o,disabled:b(()=>e.disabled),options:p,searchQuery:m,activeOptionIndex:d,activationTrigger:s,closeListbox(){e.disabled||a.value!==1&&(a.value=1,d.value=null)},openListbox(){e.disabled||a.value!==0&&(a.value=0)},goToOption(c,r,y){if(e.disabled||a.value===1)return;let h=v(),R=$e(c===D.Specific?{focus:D.Specific,id:r}:{focus:c},{resolveItems:()=>h.options,resolveActiveIndex:()=>h.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.disabled});m.value="",d.value=R,s.value=y??1,p.value=h.options},search(c){if(e.disabled||a.value===1)return;let r=m.value!==""?0:1;m.value+=c.toLowerCase();let y=(d.value!==null?p.value.slice(d.value+r).concat(p.value.slice(0,d.value+r)):p.value).find(R=>R.dataRef.textValue.startsWith(m.value)&&!R.dataRef.disabled),h=y?p.value.indexOf(y):-1;h===-1||h===d.value||(d.value=h,s.value=1)},clearSearch(){e.disabled||a.value!==1&&m.value!==""&&(m.value="")},registerOption(c,r){let y=v(h=>[...h,{id:c,dataRef:r}]);p.value=y.options,d.value=y.activeOptionIndex},unregisterOption(c){let r=v(y=>{let h=y.findIndex(R=>R.id===c);return h!==-1&&y.splice(h,1),y});p.value=r.options,d.value=r.activeOptionIndex,s.value=1},theirOnChange(c){e.disabled||A(c)},select(c){e.disabled||A(K(C.value,{0:()=>c,1:()=>{let r=N(O.value.value).slice(),y=N(c),h=r.findIndex(R=>O.compare(y,N(R)));return h===-1?r.push(y):r.splice(h,1),r}}))}};Ye([n,o],(c,r)=>{var y;O.closeListbox(),St(r,It.Loose)||(c.preventDefault(),(y=M(n))==null||y.focus())},b(()=>a.value===0)),Fe(bt,O),Je(b(()=>K(a.value,{0:ae.Open,1:ae.Closed})));let w=b(()=>{var c;return(c=M(n))==null?void 0:c.closest("form")});return se(()=>{_([w],()=>{if(!w.value||e.defaultValue===void 0)return;function c(){O.theirOnChange(e.defaultValue)}return w.value.addEventListener("reset",c),()=>{var r;(r=w.value)==null||r.removeEventListener("reset",c)}},{immediate:!0})}),()=>{let{name:c,modelValue:r,disabled:y,form:h,...R}=e,f={open:a.value===0,disabled:y,value:B.value};return pe(Ve,[...c!=null&&B.value!=null?je({[c]:B.value}).map(([L,g])=>pe(Xe,Ze({features:Ge.Hidden,key:L,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:h,disabled:y,name:L,value:g}))):[],te({ourProps:{},theirProps:{...t,...Me(R,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:f,slots:u,attrs:t,name:"Listbox"})])}}}),Ol=Q({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:u,slots:t,expose:l}){var a;let i=(a=e.id)!=null?a:`headlessui-listbox-button-${re()}`,n=ke("ListboxButton");l({el:n.buttonRef,$el:n.buttonRef});function o(s){switch(s.key){case F.Space:case F.Enter:case F.ArrowDown:s.preventDefault(),n.openListbox(),W(()=>{var v;(v=M(n.optionsRef))==null||v.focus({preventScroll:!0}),n.value.value||n.goToOption(D.First)});break;case F.ArrowUp:s.preventDefault(),n.openListbox(),W(()=>{var v;(v=M(n.optionsRef))==null||v.focus({preventScroll:!0}),n.value.value||n.goToOption(D.Last)});break}}function p(s){switch(s.key){case F.Space:s.preventDefault();break}}function m(s){n.disabled.value||(n.listboxState.value===0?(n.closeListbox(),W(()=>{var v;return(v=M(n.buttonRef))==null?void 0:v.focus({preventScroll:!0})})):(s.preventDefault(),n.openListbox(),hl(()=>{var v;return(v=M(n.optionsRef))==null?void 0:v.focus({preventScroll:!0})})))}let d=_e(b(()=>({as:e.as,type:u.type})),n.buttonRef);return()=>{var s,v;let C={open:n.listboxState.value===0,disabled:n.disabled.value,value:n.value.value},{...I}=e,A={ref:n.buttonRef,id:i,type:d.value,"aria-haspopup":"listbox","aria-controls":(s=M(n.optionsRef))==null?void 0:s.id,"aria-expanded":n.listboxState.value===0,"aria-labelledby":n.labelRef.value?[(v=M(n.labelRef))==null?void 0:v.id,i].join(" "):void 0,disabled:n.disabled.value===!0?!0:void 0,onKeydown:o,onKeyup:p,onClick:m};return te({ourProps:A,theirProps:I,slot:C,attrs:u,slots:t,name:"ListboxButton"})}}}),Sl=Q({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:u,slots:t,expose:l}){var a;let i=(a=e.id)!=null?a:`headlessui-listbox-options-${re()}`,n=ke("ListboxOptions"),o=$(null);l({el:n.optionsRef,$el:n.optionsRef});function p(s){switch(o.value&&clearTimeout(o.value),s.key){case F.Space:if(n.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),n.search(s.key);case F.Enter:if(s.preventDefault(),s.stopPropagation(),n.activeOptionIndex.value!==null){let v=n.options.value[n.activeOptionIndex.value];n.select(v.dataRef.value)}n.mode.value===0&&(n.closeListbox(),W(()=>{var v;return(v=M(n.buttonRef))==null?void 0:v.focus({preventScroll:!0})}));break;case K(n.orientation.value,{vertical:F.ArrowDown,horizontal:F.ArrowRight}):return s.preventDefault(),s.stopPropagation(),n.goToOption(D.Next);case K(n.orientation.value,{vertical:F.ArrowUp,horizontal:F.ArrowLeft}):return s.preventDefault(),s.stopPropagation(),n.goToOption(D.Previous);case F.Home:case F.PageUp:return s.preventDefault(),s.stopPropagation(),n.goToOption(D.First);case F.End:case F.PageDown:return s.preventDefault(),s.stopPropagation(),n.goToOption(D.Last);case F.Escape:s.preventDefault(),s.stopPropagation(),n.closeListbox(),W(()=>{var v;return(v=M(n.buttonRef))==null?void 0:v.focus({preventScroll:!0})});break;case F.Tab:s.preventDefault(),s.stopPropagation();break;default:s.key.length===1&&(n.search(s.key),o.value=setTimeout(()=>n.clearSearch(),350));break}}let m=et(),d=b(()=>m!==null?(m.value&ae.Open)===ae.Open:n.listboxState.value===0);return()=>{var s,v;let C={open:n.listboxState.value===0},{...I}=e,A={"aria-activedescendant":n.activeOptionIndex.value===null||(s=n.options.value[n.activeOptionIndex.value])==null?void 0:s.id,"aria-multiselectable":n.mode.value===1?!0:void 0,"aria-labelledby":(v=M(n.buttonRef))==null?void 0:v.id,"aria-orientation":n.orientation.value,id:i,onKeydown:p,role:"listbox",tabIndex:0,ref:n.optionsRef};return te({ourProps:A,theirProps:I,slot:C,attrs:u,slots:t,features:be.RenderStrategy|be.Static,visible:d.value,name:"ListboxOptions"})}}}),Il=Q({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:u,attrs:t,expose:l}){var a;let i=(a=e.id)!=null?a:`headlessui-listbox-option-${re()}`,n=ke("ListboxOption"),o=$(null);l({el:o,$el:o});let p=b(()=>n.activeOptionIndex.value!==null?n.options.value[n.activeOptionIndex.value].id===i:!1),m=b(()=>K(n.mode.value,{0:()=>n.compare(N(n.value.value),N(e.value)),1:()=>N(n.value.value).some(c=>n.compare(N(c),N(e.value)))})),d=b(()=>K(n.mode.value,{1:()=>{var c;let r=N(n.value.value);return((c=n.options.value.find(y=>r.some(h=>n.compare(N(h),N(y.dataRef.value)))))==null?void 0:c.id)===i},0:()=>m.value})),s=fl(o),v=b(()=>({disabled:e.disabled,value:e.value,get textValue(){return s()},domRef:o}));se(()=>n.registerOption(i,v)),tt(()=>n.unregisterOption(i)),se(()=>{_([n.listboxState,m],()=>{n.listboxState.value===0&&m.value&&K(n.mode.value,{1:()=>{d.value&&n.goToOption(D.Specific,i)},0:()=>{n.goToOption(D.Specific,i)}})},{immediate:!0})}),fe(()=>{n.listboxState.value===0&&p.value&&n.activationTrigger.value!==0&&W(()=>{var c,r;return(r=(c=M(o))==null?void 0:c.scrollIntoView)==null?void 0:r.call(c,{block:"nearest"})})});function C(c){if(e.disabled)return c.preventDefault();n.select(e.value),n.mode.value===0&&(n.closeListbox(),W(()=>{var r;return(r=M(n.buttonRef))==null?void 0:r.focus({preventScroll:!0})}))}function I(){if(e.disabled)return n.goToOption(D.Nothing);n.goToOption(D.Specific,i)}let A=dt();function B(c){A.update(c)}function O(c){A.wasMoved(c)&&(e.disabled||p.value||n.goToOption(D.Specific,i,0))}function w(c){A.wasMoved(c)&&(e.disabled||p.value&&n.goToOption(D.Nothing))}return()=>{let{disabled:c}=e,r={active:p.value,selected:m.value,disabled:c},{value:y,disabled:h,...R}=e,f={id:i,ref:o,role:"option",tabIndex:c===!0?void 0:-1,"aria-disabled":c===!0?!0:void 0,"aria-selected":m.value,disabled:void 0,onClick:C,onFocus:I,onPointerenter:B,onMouseenter:B,onPointermove:O,onMousemove:O,onPointerleave:w,onMouseleave:w};return te({ourProps:f,theirProps:R,slot:r,attrs:t,slots:u,name:"ListboxOption"})}}});const Pe=(e,u)=>{const t=ve("form-events",void 0),l=ve("form-group",void 0),a=ve("form-inputs",void 0);l&&(e!=null&&e.id&&(l.inputId.value=e==null?void 0:e.id),a&&(a.value[l.name.value]=l.inputId.value));const i=$(!1);function n(d,s){t&&t.emit({type:d,path:s})}function o(){n("blur",l==null?void 0:l.name.value),i.value=!0}function p(){n("change",l==null?void 0:l.name.value)}const m=at(()=>{(i.value||l!=null&&l.eagerValidation.value)&&n("input",l==null?void 0:l.name.value)},300);return{inputId:b(()=>(e==null?void 0:e.id)??(l==null?void 0:l.inputId.value)),name:b(()=>(e==null?void 0:e.name)??(l==null?void 0:l.name.value)),size:b(()=>{var s;const d=u.size[l==null?void 0:l.size.value]?l==null?void 0:l.size.value:null;return(e==null?void 0:e.size)??d??((s=u==null?void 0:u.default)==null?void 0:s.size)}),color:b(()=>{var d;return(d=l==null?void 0:l.error)!=null&&d.value?"red":e==null?void 0:e.color}),emitFormBlur:o,emitFormInput:m,emitFormChange:p}},G=we(H.ui.strategy,H.ui.select,Ct),Ie=we(H.ui.strategy,H.ui.selectMenu,xt),Cl=Q({components:{HCombobox:ul,HComboboxButton:sl,HComboboxOptions:dl,HComboboxOption:cl,HComboboxInput:rl,HListbox:yl,HListboxButton:Ol,HListboxOptions:Sl,HListboxOption:Il,UIcon:Re,UAvatar:nt},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>G.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>G.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>Ie.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:"Search..."},clearSearchOnClose:{type:Boolean,default:()=>Ie.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:String,default:()=>Ie.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(G.size).includes(e)}},color:{type:String,default:()=>G.default.color,validator(e){return[...H.ui.colors,...Object.keys(G.color)].includes(e)}},variant:{type:String,default:()=>G.default.variant,validator(e){return[...Object.keys(G.variant),...Object.values(G.color).flatMap(u=>Object.keys(u))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:u,slots:t}){const{ui:l,attrs:a}=xe("select",ue(e,"ui"),G,ue(e,"class")),{ui:i}=xe("selectMenu",ue(e,"uiMenu"),Ie),n=b(()=>ot({},e.popper,i.value.popper)),[o,p]=Mt(n.value),{size:m,rounded:d}=it({ui:l,props:e}),{emitFormBlur:s,emitFormChange:v,inputId:C,color:I,size:A,name:B}=Pe(e,G),O=b(()=>m.value||A.value),w=$(""),c=b({get(){return e.query??w.value},set(j){w.value=j,u("update:query",j)}}),r=b(()=>{if(e.multiple)return Array.isArray(e.modelValue)&&e.modelValue.length?`${e.modelValue.length} selected`:null;if(e.modelValue!==void 0&&e.modelValue!==null)if(e.valueAttribute){const j=e.options.find(X=>X[e.valueAttribute]===e.modelValue);return j?j[e.optionAttribute]:null}else return["string","number"].includes(typeof e.modelValue)?e.modelValue:e.modelValue[e.optionAttribute];return null}),y=b(()=>{var X,Se;const j=((Se=(X=l.value.color)==null?void 0:X[I.value])==null?void 0:Se[e.variant])||l.value.variant[e.variant];return Le(Z(l.value.base,i.value.select,d.value,l.value.size[O.value],l.value.gap[O.value],e.padded?l.value.padding[O.value]:"p-0",j==null?void 0:j.replaceAll("{color}",I.value),(h.value||t.leading)&&l.value.leading.padding[O.value],(R.value||t.trailing)&&l.value.trailing.padding[O.value]),e.placeholder&&e.modelValue===void 0&&e.modelValue===null&&l.value.placeholder,e.selectClass)}),h=b(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),R=b(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),f=b(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),L=b(()=>e.loading&&!h.value?e.loadingIcon:e.trailingIcon||e.icon),g=b(()=>Z(l.value.icon.leading.wrapper,l.value.icon.leading.pointer,l.value.icon.leading.padding[O.value])),S=b(()=>Z(l.value.icon.base,I.value&&H.ui.colors.includes(I.value)&&l.value.icon.color.replaceAll("{color}",I.value),l.value.icon.size[O.value],e.loading&&l.value.icon.loading)),k=b(()=>Z(l.value.icon.trailing.wrapper,l.value.icon.trailing.pointer,l.value.icon.trailing.padding[O.value])),T=b(()=>Z(l.value.icon.base,I.value&&H.ui.colors.includes(I.value)&&l.value.icon.color.replaceAll("{color}",I.value),l.value.icon.size[O.value],e.loading&&!h.value&&l.value.icon.loading)),x=typeof e.searchable=="function"?at(e.searchable,e.debounce):void 0,z=wt(async()=>e.searchable&&x?await x(c.value):c.value===""?e.options:e.options.filter(j=>{var X;return((X=e.searchAttributes)!=null&&X.length?e.searchAttributes:[e.optionAttribute]).some(Se=>{if(["string","number"].includes(typeof j))return String(j).search(new RegExp(c.value,"i"))!==-1;const Ee=At(j,Se);return Ee!=null&&String(Ee).search(new RegExp(c.value,"i"))!==-1})})),q=b(()=>c.value===""||e.showCreateOptionWhen==="empty"&&z.value.length||e.showCreateOptionWhen==="always"&&z.value.find(X=>["string","number"].includes(typeof X)?X===c.value:X[e.optionAttribute]===c.value)?null:["string","number"].includes(typeof e.modelValue)?c.value:{[e.optionAttribute]:c.value});function ge(){e.clearSearchOnClose&&(c.value="")}_(p,j=>{j?u("open"):(ge(),u("close"),s())});function ne(j){u("update:modelValue",j),u("change",j),v()}function Te(j){c.value=j.target.value}return Rt(()=>ut("$YMH7mn4R4k")),{ui:l,uiMenu:i,attrs:a,name:B,inputId:C,popper:n,trigger:o,container:p,label:r,isLeading:h,isTrailing:R,selectClass:y,leadingIconName:f,leadingIconClass:S,leadingWrapperIconClass:g,trailingIconName:L,trailingIconClass:T,trailingWrapperIconClass:k,filteredOptions:z,createOption:q,query:c,onUpdate:ne,onQueryChange:Te}}}),xl=["value","required"],Ml=["id","disabled"],wl={class:"truncate"};function Rl(e,u,t,l,a,i){const n=Re,o=kt("HComboboxInput"),p=nt;return V(),le(he(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:E(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:de(({open:m})=>[e.required?(V(),P("input",{key:0,value:e.modelValue,required:e.required,class:E(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,xl)):U("",!0),(V(),le(he(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:E(e.uiMenu.trigger)},{default:de(()=>[Y(e.$slots,"default",{open:m,disabled:e.disabled,loading:e.loading},()=>[J("button",Oe({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(V(),P("span",{key:0,class:E(e.leadingWrapperIconClass)},[Y(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[ce(n,{name:e.leadingIconName,class:E(e.leadingIconClass)},null,8,["name","class"])])],2)):U("",!0),Y(e.$slots,"label",{},()=>[e.label?(V(),P("span",{key:0,class:E(e.uiMenu.label)},oe(e.label),3)):(V(),P("span",{key:1,class:E(e.uiMenu.label)},oe(e.placeholder||"Â "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(V(),P("span",{key:1,class:E(e.trailingWrapperIconClass)},[Y(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[ce(n,{name:e.trailingIconName,class:E(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):U("",!0)],16,Ml)])]),_:2},1032,["class"])),m?(V(),P("div",{key:1,ref:"container",class:E([e.uiMenu.container,e.uiMenu.width])},[ce(Tt,Oe({appear:""},e.uiMenu.transition),{default:de(()=>[J("div",null,[e.popper.arrow?(V(),P("div",{key:0,"data-popper-arrow":"",class:E(Object.values(e.uiMenu.arrow))},null,2)):U("",!0),(V(),le(he(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:E([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:de(()=>{var d,s;return[e.searchable?(V(),le(o,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:E(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):U("",!0),(V(!0),P(Ve,null,Et(e.filteredOptions,(v,C)=>(V(),le(he(e.searchable?"HComboboxOption":"HListboxOption"),{key:C,as:"template",value:e.valueAttribute?v[e.valueAttribute]:v,disabled:v.disabled},{default:de(({active:I,selected:A,disabled:B})=>[J("li",{class:E([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,I?e.uiMenu.option.active:e.uiMenu.option.inactive,A&&e.uiMenu.option.selected,B&&e.uiMenu.option.disabled])},[J("div",{class:E(e.uiMenu.option.container)},[Y(e.$slots,"option",{option:v,active:I,selected:A},()=>[v.icon?(V(),le(n,{key:0,name:v.icon,class:E([e.uiMenu.option.icon.base,I?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,v.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):v.avatar?(V(),le(p,Oe({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...v.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):v.chip?(V(),P("span",{key:2,class:E(e.uiMenu.option.chip.base),style:zt({background:`#${v.chip}`})},null,6)):U("",!0),J("span",wl,oe(["string","number"].includes(typeof v)?v:v[e.optionAttribute]),1)])],2),A?(V(),P("span",{key:0,class:E([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[ce(n,{name:e.selectedIcon,class:E(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):U("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(V(),le(he(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:de(({active:v,selected:C})=>[J("li",{class:E([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,v?e.uiMenu.option.active:e.uiMenu.option.inactive])},[J("div",{class:E(e.uiMenu.option.container)},[Y(e.$slots,"option-create",{option:e.createOption,active:v,selected:C},()=>[J("span",{class:E(e.uiMenu.option.create)},'Create "'+oe(e.createOption[e.optionAttribute])+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((d=e.filteredOptions)!=null&&d.length)?(V(),P("p",{key:2,class:E(e.uiMenu.option.empty)},[Y(e.$slots,"option-empty",{query:e.query},()=>[Ae(' No results for "'+oe(e.query)+'". ',1)])],2)):(s=e.filteredOptions)!=null&&s.length?U("",!0):(V(),P("p",{key:3,class:E(e.uiMenu.empty)},[Y(e.$slots,"empty",{query:e.query},()=>[Ae(" No options. ")])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):U("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const Bl=Be(Cl,[["render",Rl]]),ee=we(H.ui.strategy,H.ui.input,$t),kl=Q({components:{UIcon:Re},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ee.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(ee.size).includes(e)}},color:{type:String,default:()=>ee.default.color,validator(e){return[...H.ui.colors,...Object.keys(ee.color)].includes(e)}},variant:{type:String,default:()=>ee.default.variant,validator(e){return[...Object.keys(ee.variant),...Object.values(ee.color).flatMap(u=>Object.keys(u))].includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:u,slots:t}){const{ui:l,attrs:a}=xe("input",ue(e,"ui"),ee,ue(e,"class")),{size:i,rounded:n}=it({ui:l,props:e}),{emitFormBlur:o,emitFormInput:p,size:m,color:d,inputId:s,name:v}=Pe(e,ee),C=b(()=>i.value||m.value),I=$(ot({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),A=$(null),B=()=>{var x;e.autofocus&&((x=A.value)==null||x.focus())},O=x=>{I.value.trim&&(x=x.trim()),(I.value.number||e.type==="number")&&(x=Dt(x)),u("update:modelValue",x),p()},w=x=>{I.value.lazy||O(x.target.value)},c=x=>{if(e.type==="file"){const z=x.target.files;u("change",z)}else{const z=x.target.value;u("change",z),I.value.lazy&&O(z),I.value.trim&&(x.target.value=z.trim())}},r=x=>{o(),u("blur",x)};se(()=>{setTimeout(()=>{B()},e.autofocusDelay)});const y=b(()=>{var z,q;const x=((q=(z=l.value.color)==null?void 0:z[d.value])==null?void 0:q[e.variant])||l.value.variant[e.variant];return Le(Z(l.value.base,l.value.form,n.value,l.value.placeholder,e.type==="file"&&[l.value.file.base,l.value.file.padding[C.value]],l.value.size[C.value],e.padded?l.value.padding[C.value]:"p-0",x==null?void 0:x.replaceAll("{color}",d.value),(h.value||t.leading)&&l.value.leading.padding[C.value],(R.value||t.trailing)&&l.value.trailing.padding[C.value]),e.inputClass)}),h=b(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),R=b(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),f=b(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),L=b(()=>e.loading&&!h.value?e.loadingIcon:e.trailingIcon||e.icon),g=b(()=>Z(l.value.icon.leading.wrapper,l.value.icon.leading.pointer,l.value.icon.leading.padding[C.value])),S=b(()=>Z(l.value.icon.base,d.value&&H.ui.colors.includes(d.value)&&l.value.icon.color.replaceAll("{color}",d.value),l.value.icon.size[C.value],e.loading&&l.value.icon.loading)),k=b(()=>Z(l.value.icon.trailing.wrapper,l.value.icon.trailing.pointer,l.value.icon.trailing.padding[C.value])),T=b(()=>Z(l.value.icon.base,d.value&&H.ui.colors.includes(d.value)&&l.value.icon.color.replaceAll("{color}",d.value),l.value.icon.size[C.value],e.loading&&!h.value&&l.value.icon.loading));return{ui:l,attrs:a,name:v,inputId:s,input:A,isLeading:h,isTrailing:R,inputClass:y,leadingIconName:f,leadingIconClass:S,leadingWrapperIconClass:g,trailingIconName:L,trailingIconClass:T,trailingWrapperIconClass:k,onInput:w,onChange:c,onBlur:r}}}),Tl=["id","name","value","type","required","placeholder","disabled"];function El(e,u,t,l,a,i){const n=Re;return V(),P("div",{class:E(e.ui.wrapper)},[J("input",Oe({id:e.inputId,ref:"input",name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass},e.attrs,{onInput:u[0]||(u[0]=(...o)=>e.onInput&&e.onInput(...o)),onBlur:u[1]||(u[1]=(...o)=>e.onBlur&&e.onBlur(...o)),onChange:u[2]||(u[2]=(...o)=>e.onChange&&e.onChange(...o))}),null,16,Tl),Y(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(V(),P("span",{key:0,class:E(e.leadingWrapperIconClass)},[Y(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[ce(n,{name:e.leadingIconName,class:E(e.leadingIconClass)},null,8,["name","class"])])],2)):U("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(V(),P("span",{key:1,class:E(e.trailingWrapperIconClass)},[Y(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[ce(n,{name:e.trailingIconName,class:E(e.trailingIconClass)},null,8,["name","class"])])],2)):U("",!0)],2)}const Ll=Be(kl,[["render",El]]),Ke=we(H.ui.strategy,H.ui.checkbox,Bt),zl=Q({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:void 0},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>Ke.default.color,validator(e){return H.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:u}){const{ui:t,attrs:l}=xe("checkbox",ue(e,"ui"),Ke,ue(e,"class")),{emitFormChange:a,color:i,name:n,inputId:o}=Pe(e),p=o.value??ut("$YWrWuPJ69t"),m=b({get(){return e.modelValue},set(v){u("update:modelValue",v)}}),d=v=>{u("change",v.target.checked),a()},s=b(()=>Le(Z(t.value.base,t.value.form,t.value.rounded,t.value.background,t.value.border,i.value&&t.value.ring.replaceAll("{color}",i.value),i.value&&t.value.color.replaceAll("{color}",i.value)),e.inputClass));return{ui:t,attrs:l,toggle:m,inputId:p,name:n,inputClass:s,onChange:d}}}),Al=["data-n-ids"],$l=["id","name","required","value","disabled","indeterminate"],Dl=["for"];function Fl(e,u,t,l,a,i){return V(),P("div",{class:E(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[J("div",{class:E(e.ui.container)},[Ft(J("input",Oe({id:e.inputId,"onUpdate:modelValue":u[0]||(u[0]=n=>e.toggle=n),name:e.name,required:e.required,value:e.value,disabled:e.disabled,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:u[1]||(u[1]=(...n)=>e.onChange&&e.onChange(...n))}),null,16,$l),[[Vt,e.toggle]])],2),e.label||e.$slots.label?(V(),P("div",{key:0,class:E(e.ui.inner)},[J("label",{for:e.inputId,class:E(e.ui.label)},[Y(e.$slots,"label",{},()=>[Ae(oe(e.label),1)]),e.required?(V(),P("span",{key:0,class:E(e.ui.required)},"*",2)):U("",!0)],10,Dl),e.help?(V(),P("p",{key:0,class:E(e.ui.help)},oe(e.help),3)):U("",!0)],2)):U("",!0)],10,Al)}const jl=Be(zl,[["render",Fl]]);export{jl as _,Bl as a,Ll as b,ie as c,D as d,Pe as e,$e as f,Zt as i,De as o,fl as p,el as t,dt as u};
