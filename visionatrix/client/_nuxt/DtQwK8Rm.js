import{b as Ge,t as et,o as De,a as tt}from"./BWgXH-KU.js";import{f as J,B as k,x as p,ac as at,S as H,a1 as x,bl as St,Y as R,a4 as ye,$ as Ke,Z as Qe,F as me,a3 as F,ad as X,bm as ke,ae as Ae,af as Y,bn as Q,a9 as Z,v as ie,bo as nt,a8 as wt,U as kt,bp as Ct,a2 as ue,X as se,a0 as ze,aS as lt,aT as P,bq as Et,br as $t,aU as Tt,aj as At,bs as Ft,bt as Lt,bu as Xe,a5 as Me,a7 as Bt,bv as Dt,bw as G,aW as Ot,n as E,bx as Rt,ab as Pt,E as ot,G as Le,_ as rt,c as B,o as $,a as A,H as N,k as z,t as fe,r as Pe,b as re,I as M,i as oe,aC as Ht,d as Vt,m as st,h as it,K as ut,L as Be,by as Ze,ah as He,b8 as Fe,bd as Ce,bh as jt,az as Ee,w as pe,aM as Nt,aN as Mt}from"./BSNiacP0.js";import{_ as dt}from"./Dgxc7jlx.js";const Ut={wrapper:"relative overflow-x-auto",base:"min-w-full table-fixed",divide:"divide-y divide-gray-300 dark:divide-gray-700",thead:"relative",tbody:"divide-y divide-gray-200 dark:divide-gray-800",caption:"sr-only",tr:{base:"",selected:"bg-gray-50 dark:bg-gray-800/50",expanded:"bg-gray-50 dark:bg-gray-800/50",active:"hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer"},th:{base:"text-left rtl:text-right",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},checkbox:{padding:"ps-4"},loadingState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4 animate-spin"},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},expand:{icon:"transform transition-transform duration-200"},progress:{wrapper:"absolute inset-x-0 -bottom-[0.5px] p-0"},default:{sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5"},expandButton:{icon:"i-heroicons-chevron-down",color:"gray",variant:"ghost",size:"xs",class:"-my-1.5 align-middle"},checkbox:{color:"primary"},progress:{color:"primary",animation:"carousel"},loadingState:{icon:"i-heroicons-arrow-path-20-solid",label:"Loading..."},emptyState:{icon:"i-heroicons-circle-stack-20-solid",label:"No items."}}},It={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function ct(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let a of e.value){let o=F(a);o instanceof HTMLElement&&t.add(o)}return t}var ft=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(ft||{});let ve=Object.assign(J({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:k(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:a,expose:o}){let n=k(null);o({el:n,$el:n});let r=p(()=>at(n)),l=k(!1);H(()=>l.value=!0),x(()=>l.value=!1),zt({ownerDocument:r},p(()=>l.value&&!!(e.features&16)));let s=qt({ownerDocument:r,container:n,initialFocus:p(()=>e.initialFocus)},p(()=>l.value&&!!(e.features&2)));Yt({ownerDocument:r,container:n,containers:e.containers,previousActiveElement:s},p(()=>l.value&&!!(e.features&8)));let i=St();function c(h){let b=F(n);b&&(S=>S())(()=>{X(i.value,{[ke.Forwards]:()=>{Ae(b,Y.First,{skipElements:[h.relatedTarget]})},[ke.Backwards]:()=>{Ae(b,Y.Last,{skipElements:[h.relatedTarget]})}})})}let u=k(!1);function g(h){h.key==="Tab"&&(u.value=!0,requestAnimationFrame(()=>{u.value=!1}))}function v(h){if(!l.value)return;let b=ct(e.containers);F(n)instanceof HTMLElement&&b.add(F(n));let S=h.relatedTarget;S instanceof HTMLElement&&S.dataset.headlessuiFocusGuard!=="true"&&(pt(b,S)||(u.value?Ae(F(n),X(i.value,{[ke.Forwards]:()=>Y.Next,[ke.Backwards]:()=>Y.Previous})|Y.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&Q(h.target)))}return()=>{let h={},b={ref:n,onKeydown:g,onFocusout:v},{features:S,initialFocus:C,containers:V,...T}=e;return R(me,[!!(S&4)&&R(Ke,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Qe.Focusable}),ye({ourProps:b,theirProps:{...t,...T},slot:h,attrs:t,slots:a,name:"FocusTrap"}),!!(S&4)&&R(Ke,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Qe.Focusable})])}}}),{features:ft});function Wt(e){let t=k(Ge.slice());return ie([e],([a],[o])=>{o===!0&&a===!1?et(()=>{t.value.splice(0)}):o===!1&&a===!0&&(t.value=Ge.slice())},{flush:"post"}),()=>{var a;return(a=t.value.find(o=>o!=null&&o.isConnected))!=null?a:null}}function zt({ownerDocument:e},t){let a=Wt(t);H(()=>{Z(()=>{var o,n;t.value||((o=e.value)==null?void 0:o.activeElement)===((n=e.value)==null?void 0:n.body)&&Q(a())},{flush:"post"})}),x(()=>{t.value&&Q(a())})}function qt({ownerDocument:e,container:t,initialFocus:a},o){let n=k(null),r=k(!1);return H(()=>r.value=!0),x(()=>r.value=!1),H(()=>{ie([t,a,o],(l,s)=>{if(l.every((c,u)=>(s==null?void 0:s[u])===c)||!o.value)return;let i=F(t);i&&et(()=>{var c,u;if(!r.value)return;let g=F(a),v=(c=e.value)==null?void 0:c.activeElement;if(g){if(g===v){n.value=v;return}}else if(i.contains(v)){n.value=v;return}g?Q(g):Ae(i,Y.First|Y.NoScroll)===wt.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),n.value=(u=e.value)==null?void 0:u.activeElement})},{immediate:!0,flush:"post"})}),n}function Yt({ownerDocument:e,container:t,containers:a,previousActiveElement:o},n){var r;nt((r=e.value)==null?void 0:r.defaultView,"focus",l=>{if(!n.value)return;let s=ct(a);F(t)instanceof HTMLElement&&s.add(F(t));let i=o.value;if(!i)return;let c=l.target;c&&c instanceof HTMLElement?pt(s,c)?(o.value=c,Q(c)):(l.preventDefault(),l.stopPropagation(),Q(i)):Q(o.value)},!0)}function pt(e,t){for(let a of e)if(a.contains(t))return!0;return!1}function Gt(e){let t=kt(e.getSnapshot());return x(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function Kt(e,t){let a=e(),o=new Set;return{getSnapshot(){return a},subscribe(n){return o.add(n),()=>o.delete(n)},dispatch(n,...r){let l=t[n].call(a,...r);l&&(a=l,o.forEach(s=>s()))}}}function Qt(){let e;return{before({doc:t}){var a;let o=t.documentElement;e=((a=t.defaultView)!=null?a:window).innerWidth-o.clientWidth},after({doc:t,d:a}){let o=t.documentElement,n=o.clientWidth-o.offsetWidth,r=e-n;a.style(o,"paddingRight",`${r}px`)}}}function Xt(){return Ct()?{before({doc:e,d:t,meta:a}){function o(n){return a.containers.flatMap(r=>r()).some(r=>r.contains(n))}t.microTask(()=>{var n;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=De();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let r=(n=window.scrollY)!=null?n:window.pageYOffset,l=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let i=s.target.closest("a");if(!i)return;let{hash:c}=new URL(i.href),u=e.querySelector(c);u&&!o(u)&&(l=u)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(s.target instanceof HTMLElement)if(o(s.target)){let i=s.target;for(;i.parentElement&&o(i.parentElement);)i=i.parentElement;t.style(i,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(s.target instanceof HTMLElement){if(s.target.tagName==="INPUT")return;if(o(s.target)){let i=s.target;for(;i.parentElement&&i.dataset.headlessuiPortal!==""&&!(i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth);)i=i.parentElement;i.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let i=(s=window.scrollY)!=null?s:window.pageYOffset;r!==i&&window.scrollTo(0,r),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function Zt(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Jt(e){let t={};for(let a of e)Object.assign(t,a(t));return t}let K=Kt(()=>new Map,{PUSH(e,t){var a;let o=(a=this.get(e))!=null?a:{doc:e,count:0,d:De(),meta:new Set};return o.count++,o.meta.add(t),this.set(e,o),this},POP(e,t){let a=this.get(e);return a&&(a.count--,a.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:a}){let o={doc:e,d:t,meta:Jt(a)},n=[Xt(),Qt(),Zt()];n.forEach(({before:r})=>r==null?void 0:r(o)),n.forEach(({after:r})=>r==null?void 0:r(o))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});K.subscribe(()=>{let e=K.getSnapshot(),t=new Map;for(let[a]of e)t.set(a,a.documentElement.style.overflow);for(let a of e.values()){let o=t.get(a.doc)==="hidden",n=a.count!==0;(n&&!o||!n&&o)&&K.dispatch(a.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",a),a.count===0&&K.dispatch("TEARDOWN",a)}});function xt(e,t,a){let o=Gt(K),n=p(()=>{let r=e.value?o.value.get(e.value):void 0;return r?r.count>0:!1});return ie([e,t],([r,l],[s],i)=>{if(!r||!l)return;K.dispatch("PUSH",r,a);let c=!1;i(()=>{c||(K.dispatch("POP",s??r,a),c=!0)})},{immediate:!0}),n}let Ve=new Map,ge=new Map;function Je(e,t=k(!0)){Z(a=>{var o;if(!t.value)return;let n=F(e);if(!n)return;a(function(){var l;if(!n)return;let s=(l=ge.get(n))!=null?l:1;if(s===1?ge.delete(n):ge.set(n,s-1),s!==1)return;let i=Ve.get(n);i&&(i["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",i["aria-hidden"]),n.inert=i.inert,Ve.delete(n))});let r=(o=ge.get(n))!=null?o:0;ge.set(n,r+1),r===0&&(Ve.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0)})}let vt=Symbol("StackContext");var Ue=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Ue||{});function _t(){return ue(vt,()=>{})}function ea({type:e,enabled:t,element:a,onUpdate:o}){let n=_t();function r(...l){o==null||o(...l),n(...l)}H(()=>{ie(t,(l,s)=>{l?r(0,e,a):s===!0&&r(1,e,a)},{immediate:!0,flush:"sync"})}),x(()=>{t.value&&r(1,e,a)}),se(vt,r)}let ta=Symbol("DescriptionContext");function aa({slot:e=k({}),name:t="Description",props:a={}}={}){let o=k([]);function n(r){return o.value.push(r),()=>{let l=o.value.indexOf(r);l!==-1&&o.value.splice(l,1)}}return se(ta,{register:n,slot:e,name:t,props:a}),p(()=>o.value.length>0?o.value.join(" "):void 0)}var na=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(na||{});let Ie=Symbol("DialogContext");function gt(e){let t=ue(Ie,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,gt),a}return t}let $e="DC8F892D-2EBD-447C-A4C8-A03058436FF4",la=J({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:$e},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:a,slots:o,expose:n}){var r,l;let s=(r=e.id)!=null?r:`headlessui-dialog-${ze()}`,i=k(!1);H(()=>{i.value=!0});let c=!1,u=p(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(c||(c=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),g=k(0),v=lt(),h=p(()=>e.open===$e&&v!==null?(v.value&P.Open)===P.Open:e.open),b=k(null),S=p(()=>at(b));if(n({el:b,$el:b}),!(e.open!==$e||v!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof h.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${h.value===$e?void 0:e.open}`);let C=p(()=>i.value&&h.value?0:1),V=p(()=>C.value===0),T=p(()=>g.value>1),j=ue(Ie,null)!==null,[_,ee]=Et(),{resolveContainers:U,mainTreeNodeRef:te,MainTreeNode:ae}=$t({portals:_,defaultContainers:[p(()=>{var y;return(y=I.panelRef.value)!=null?y:b.value})]}),de=p(()=>T.value?"parent":"leaf"),ne=p(()=>v!==null?(v.value&P.Closing)===P.Closing:!1),le=p(()=>j||ne.value?!1:V.value),ce=p(()=>{var y,w,L;return(L=Array.from((w=(y=S.value)==null?void 0:y.querySelectorAll("body > *"))!=null?w:[]).find(O=>O.id==="headlessui-portal-root"?!1:O.contains(F(te))&&O instanceof HTMLElement))!=null?L:null});Je(ce,le);let D=p(()=>T.value?!0:V.value),d=p(()=>{var y,w,L;return(L=Array.from((w=(y=S.value)==null?void 0:y.querySelectorAll("[data-headlessui-portal]"))!=null?w:[]).find(O=>O.contains(F(te))&&O instanceof HTMLElement))!=null?L:null});Je(d,D),ea({type:"Dialog",enabled:p(()=>C.value===0),element:b,onUpdate:(y,w)=>{if(w==="Dialog")return X(y,{[Ue.Add]:()=>g.value+=1,[Ue.Remove]:()=>g.value-=1})}});let f=aa({name:"DialogDescription",slot:p(()=>({open:h.value}))}),m=k(null),I={titleId:m,panelRef:k(null),dialogState:C,setTitleId(y){m.value!==y&&(m.value=y)},close(){t("close",!1)}};se(Ie,I);let he=p(()=>!(!V.value||T.value));Tt(U,(y,w)=>{y.preventDefault(),I.close(),At(()=>w==null?void 0:w.focus())},he);let be=p(()=>!(T.value||C.value!==0));nt((l=S.value)==null?void 0:l.defaultView,"keydown",y=>{be.value&&(y.defaultPrevented||y.key===Bt.Escape&&(y.preventDefault(),y.stopPropagation(),I.close()))});let Se=p(()=>!(ne.value||C.value!==0||j));return xt(S,Se,y=>{var w;return{containers:[...(w=y.containers)!=null?w:[],U]}}),Z(y=>{if(C.value!==0)return;let w=F(b);if(!w)return;let L=new ResizeObserver(O=>{for(let Re of O){let we=Re.target.getBoundingClientRect();we.x===0&&we.y===0&&we.width===0&&we.height===0&&I.close()}});L.observe(w),y(()=>L.disconnect())}),()=>{let{open:y,initialFocus:w,...L}=e,O={...a,ref:b,id:s,role:u.value,"aria-modal":C.value===0?!0:void 0,"aria-labelledby":m.value,"aria-describedby":f.value},Re={open:C.value===0};return R(Xe,{force:!0},()=>[R(Ft,()=>R(Lt,{target:b.value},()=>R(Xe,{force:!1},()=>R(ve,{initialFocus:w,containers:U,features:V.value?X(de.value,{parent:ve.features.RestoreFocus,leaf:ve.features.All&~ve.features.FocusLock}):ve.features.None},()=>R(ee,{},()=>ye({ourProps:O,theirProps:{...L,...a},slot:Re,attrs:a,slots:o,visible:C.value===0,features:Me.RenderStrategy|Me.Static,name:"Dialog"})))))),R(ae)])}}}),oa=J({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:o}){var n;let r=(n=e.id)!=null?n:`headlessui-dialog-panel-${ze()}`,l=gt("DialogPanel");o({el:l.panelRef,$el:l.panelRef});function s(i){i.stopPropagation()}return()=>{let{...i}=e,c={id:r,ref:l.panelRef,onClick:s};return ye({ourProps:c,theirProps:i,slot:{open:l.dialogState.value===0},attrs:t,slots:a,name:"DialogPanel"})}}});function ra(e){let t={called:!1};return(...a)=>{if(!t.called)return t.called=!0,e(...a)}}function je(e,...t){e&&t.length>0&&e.classList.add(...t)}function Te(e,...t){e&&t.length>0&&e.classList.remove(...t)}var We=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(We||{});function sa(e,t){let a=De();if(!e)return a.dispose;let{transitionDuration:o,transitionDelay:n}=getComputedStyle(e),[r,l]=[o,n].map(s=>{let[i=0]=s.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,u)=>u-c);return i});return r!==0?a.setTimeout(()=>t("finished"),r+l):t("finished"),a.add(()=>t("cancelled")),a.dispose}function xe(e,t,a,o,n,r){let l=De(),s=r!==void 0?ra(r):()=>{};return Te(e,...n),je(e,...t,...a),l.nextFrame(()=>{Te(e,...a),je(e,...o),l.add(sa(e,i=>(Te(e,...o,...t),je(e,...n),s(i))))}),l.add(()=>Te(e,...t,...a,...o,...n)),l.add(()=>s("cancelled")),l.dispose}function q(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let qe=Symbol("TransitionContext");var ia=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ia||{});function ua(){return ue(qe,null)!==null}function da(){let e=ue(qe,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function ca(){let e=ue(Ye,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let Ye=Symbol("NestingContext");function Oe(e){return"children"in e?Oe(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function mt(e){let t=k([]),a=k(!1);H(()=>a.value=!0),x(()=>a.value=!1);function o(r,l=G.Hidden){let s=t.value.findIndex(({id:i})=>i===r);s!==-1&&(X(l,{[G.Unmount](){t.value.splice(s,1)},[G.Hidden](){t.value[s].state="hidden"}}),!Oe(t)&&a.value&&(e==null||e()))}function n(r){let l=t.value.find(({id:s})=>s===r);return l?l.state!=="visible"&&(l.state="visible"):t.value.push({id:r,state:"visible"}),()=>o(r,G.Unmount)}return{children:t,register:n,unregister:o}}let yt=Me.RenderStrategy,ht=J({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:o,expose:n}){let r=k(0);function l(){r.value|=P.Opening,t("beforeEnter")}function s(){r.value&=~P.Opening,t("afterEnter")}function i(){r.value|=P.Closing,t("beforeLeave")}function c(){r.value&=~P.Closing,t("afterLeave")}if(!ua()&&Dt())return()=>R(bt,{...e,onBeforeEnter:l,onAfterEnter:s,onBeforeLeave:i,onAfterLeave:c},o);let u=k(null),g=p(()=>e.unmount?G.Unmount:G.Hidden);n({el:u,$el:u});let{show:v,appear:h}=da(),{register:b,unregister:S}=ca(),C=k(v.value?"visible":"hidden"),V={value:!0},T=ze(),j={value:!1},_=mt(()=>{!j.value&&C.value!=="hidden"&&(C.value="hidden",S(T),c())});H(()=>{let D=b(T);x(D)}),Z(()=>{if(g.value===G.Hidden&&T){if(v.value&&C.value!=="visible"){C.value="visible";return}X(C.value,{hidden:()=>S(T),visible:()=>b(T)})}});let ee=q(e.enter),U=q(e.enterFrom),te=q(e.enterTo),ae=q(e.entered),de=q(e.leave),ne=q(e.leaveFrom),le=q(e.leaveTo);H(()=>{Z(()=>{if(C.value==="visible"){let D=F(u);if(D instanceof Comment&&D.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function ce(D){let d=V.value&&!h.value,f=F(u);!f||!(f instanceof HTMLElement)||d||(j.value=!0,v.value&&l(),v.value||i(),D(v.value?xe(f,ee,U,te,ae,m=>{j.value=!1,m===We.Finished&&s()}):xe(f,de,ne,le,ae,m=>{j.value=!1,m===We.Finished&&(Oe(_)||(C.value="hidden",S(T),c()))})))}return H(()=>{ie([v],(D,d,f)=>{ce(f),V.value=!1},{immediate:!0})}),se(Ye,_),Ot(p(()=>X(C.value,{visible:P.Open,hidden:P.Closed})|r.value)),()=>{let{appear:D,show:d,enter:f,enterFrom:m,enterTo:I,entered:he,leave:be,leaveFrom:Se,leaveTo:y,...w}=e,L={ref:u},O={...w,...h.value&&v.value&&Rt.isServer?{class:E([a.class,w.class,...ee,...U])}:{}};return ye({theirProps:O,ourProps:L,slot:{},slots:o,attrs:a,features:yt,visible:C.value==="visible",name:"TransitionChild"})}}}),fa=ht,bt=J({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:o}){let n=lt(),r=p(()=>e.show===null&&n!==null?(n.value&P.Open)===P.Open:e.show);Z(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=k(r.value?"visible":"hidden"),s=mt(()=>{l.value="hidden"}),i=k(!0),c={show:r,appear:p(()=>e.appear||!i.value)};return H(()=>{Z(()=>{i.value=!1,r.value?l.value="visible":Oe(s)||(l.value="hidden")})}),se(Ye,s),se(qe,c),()=>{let u=Pt(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),g={unmount:e.unmount};return ye({ourProps:{...g,as:"template"},theirProps:{},slot:{},slots:{...o,default:()=>[R(fa,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...a,...g,...u},o.default)]},attrs:{},features:yt,visible:l.value==="visible",name:"Transition"})}}});function pa(e){return e?e[0].toUpperCase()+e.slice(1):""}const W=ot(Le.ui.strategy,Le.ui.table,Ut);function va(e,t){return jt(e,t)}function Ne(e,t,a){return e===t?0:a==="asc"?e<t?-1:1:e>t?-1:1}function _e(e){return new Set(e.map(t=>JSON.stringify(t)))}function ga(e){return t=>Fe(t,e)}const ma=J({components:{UIcon:it,UButton:st,UProgress:dt,UCheckbox:tt},inheritAttrs:!1,props:{modelValue:{type:Array,default:null},by:{type:[String,Function],default:()=>va},rows:{type:Array,default:()=>[]},columns:{type:Array,default:null},columnAttribute:{type:String,default:"label"},sort:{type:Object,default:()=>({})},sortMode:{type:String,default:"auto"},sortButton:{type:Object,default:()=>W.default.sortButton},sortAscIcon:{type:String,default:()=>W.default.sortAscIcon},sortDescIcon:{type:String,default:()=>W.default.sortDescIcon},expandButton:{type:Object,default:()=>W.default.expandButton},expand:{type:Object,default:()=>null},loading:{type:Boolean,default:!1},loadingState:{type:Object,default:()=>W.default.loadingState},emptyState:{type:Object,default:()=>W.default.emptyState},caption:{type:String,default:null},progress:{type:Object,default:()=>W.default.progress},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},multipleExpand:{type:Boolean,default:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue","update:sort","update:expand","select:all"],setup(e,{emit:t,attrs:a}){const{ui:o,attrs:n}=ut("table",Be(e,"ui"),W,Be(e,"class")),r=p(()=>{const d=e.columns??Object.keys(e.rows[0]).map(m=>({key:m,label:pa(m),sortable:!1,class:void 0,sort:Ne}));return d.find(m=>m.key==="select")||!e.modelValue?d:[{key:"select",sortable:!1,class:void 0,sort:Ne},...d]}),l=Ze(e,"sort",t,{passive:!0,defaultValue:He({},e.sort,{column:null,direction:"asc"})}),s=Ze(e,"expand",t,{passive:!0,defaultValue:He({},e.expand,{openedRows:[],row:null})}),i=k(null),c={column:l.value.column,direction:null},u=p(()=>{var m;if(!((m=l.value)!=null&&m.column)||e.sortMode==="manual")return e.rows;const{column:d,direction:f}=l.value;return e.rows.slice().sort((I,he)=>{var w;const be=Fe(I,d),Se=Fe(he,d);return(((w=r.value.find(L=>L.key===d))==null?void 0:w.sort)??Ne)(be,Se,f)})}),g=p({get(){return e.modelValue},set(d){t("update:modelValue",d)}}),v=p(()=>e.rows.length),h=p(()=>{const d=_e(g.value),f=_e(e.rows);return Array.from(d).filter(m=>f.has(m)).length}),b=p(()=>!g.value||!e.rows?!1:h.value>0&&h.value<v.value),S=p(()=>h.value===v.value),C=p(()=>e.emptyState===null?null:{...o.value.default.emptyState,...e.emptyState}),V=p(()=>e.loadingState===null?null:{...o.value.default.loadingState,...e.loadingState});function T(d,f){if(typeof e.by=="string"){const m=ga(e.by);return m(d)===m(f)}return e.by(d,f)}function j(d){return e.modelValue?g.value.some(f=>T(Ce(f),Ce(d))):!1}function _(d){if(l.value.column===d.key){const f=!d.direction||d.direction==="asc"?"desc":"asc";l.value.direction===f?l.value=He({},c,{column:null,direction:"asc"}):l.value={column:l.value.column,direction:l.value.direction==="asc"?"desc":"asc"}}else l.value={column:d.key,direction:d.direction||"asc"}}function ee(d){const f=window.getSelection();f&&f.toString().length>0||a.onSelect&&a.onSelect(d)}function U(d,f){a.onContextmenu&&a.onContextmenu(d,f)}function te(){const d=[...g.value];e.rows.forEach(f=>{j(f)||d.push(f)}),g.value=d}function ae(d){d?te():g.value=[],t("select:all",d)}function de(d,f){d?g.value=e.singleSelect?[f]:[...g.value,f]:g.value=g.value.filter(m=>!T(Ce(m),Ce(f)))}function ne(d,f,m=""){return Fe(d,f,m)}function le(d){var f;return(f=s.value)!=null&&f.openedRows?s.value.openedRows.some(m=>T(m,d)):!1}function ce(d){s.value={openedRows:le(d)?s.value.openedRows.filter(f=>!T(f,d)):e.multipleExpand?[...s.value.openedRows,d]:[d],row:d}}function D(d){if(d.sortable){if(l.value.column!==d.key)return"none";if(l.value.direction==="asc")return"ascending";if(l.value.direction==="desc")return"descending"}}return ie(u,()=>{i.value=new Date},{deep:!0}),{ui:o,attrs:n,sort:l,columns:r,rows:u,selected:g,indeterminate:b,emptyState:C,loadingState:V,isAllRowChecked:S,onChangeCheckbox:de,isSelected:j,onSort:_,onSelect:ee,onContextmenu:U,onChange:ae,getRowData:ne,toggleOpened:ce,getAriaSort:D,isExpanded:le,retriggerSlot:i}}}),ya=["aria-sort"],ha={key:1},ba={key:0},Sa={key:0},wa=["colspan"],ka={key:1},Ca=["colspan"],Ea=["onClick","onContextmenu"],$a={key:0},Ta={colspan:"100%"};function Aa(e,t,a,o,n,r){const l=tt,s=st,i=dt,c=it;return $(),B("div",M({class:e.ui.wrapper},e.attrs),[A("table",{class:E([e.ui.base,e.ui.divide])},[e.$slots.caption||e.caption?N(e.$slots,"caption",{key:0},()=>[A("caption",{class:E(e.ui.caption)},fe(e.caption),3)]):z("",!0),A("thead",{class:E(e.ui.thead)},[A("tr",{class:E(e.ui.tr.base)},[e.expand?($(),B("th",{key:0,scope:"col",class:E(e.ui.tr.base)},t[0]||(t[0]=[A("span",{class:"sr-only"},"Expand",-1)]),2)):z("",!0),($(!0),B(me,null,Pe(e.columns,(u,g)=>($(),B("th",{key:g,scope:"col",class:E([e.ui.th.base,e.ui.th.padding,e.ui.th.color,e.ui.th.font,e.ui.th.size,u.key==="select"&&e.ui.checkbox.padding,u.class]),"aria-sort":e.getAriaSort(u)},[!e.singleSelect&&e.modelValue&&u.key==="select"?N(e.$slots,"select-header",{key:0,indeterminate:e.indeterminate,checked:e.isAllRowChecked,change:e.onChange},()=>[re(l,M({"model-value":e.isAllRowChecked,indeterminate:e.indeterminate},{ref_for:!0},e.ui.default.checkbox,{"aria-label":"Select all",onChange:e.onChange}),null,16,["model-value","indeterminate","onChange"])]):N(e.$slots,`${u.key}-header`,{key:1,column:u,sort:e.sort,onSort:e.onSort},()=>[u.sortable?($(),oe(s,M({key:0,ref_for:!0},{...e.ui.default.sortButton||{},...e.sortButton},{icon:!e.sort.column||e.sort.column!==u.key?e.sortButton.icon||e.ui.default.sortButton.icon:e.sort.direction==="asc"?e.sortAscIcon:e.sortDescIcon,label:u[e.columnAttribute],onClick:v=>e.onSort(u)}),null,16,["icon","label","onClick"])):($(),B("span",ha,fe(u[e.columnAttribute]),1))])],10,ya))),128))],2),e.loading&&e.progress?($(),B("tr",ba,[A("td",{colspan:0,class:E(e.ui.progress.wrapper)},[re(i,M({...e.ui.default.progress||{},...e.progress},{size:"2xs"}),null,16)],2)])):z("",!0)],2),A("tbody",{class:E(e.ui.tbody)},[e.loadingState&&e.loading&&!e.rows.length?($(),B("tr",Sa,[A("td",{colspan:e.columns.length+(e.modelValue?1:0)+(e.expand?1:0)},[N(e.$slots,"loading-state",{},()=>[A("div",{class:E(e.ui.loadingState.wrapper)},[e.loadingState.icon?($(),oe(c,{key:0,name:e.loadingState.icon,class:E(e.ui.loadingState.icon),"aria-hidden":"true"},null,8,["name","class"])):z("",!0),A("p",{class:E(e.ui.loadingState.label)},fe(e.loadingState.label),3)],2)])],8,wa)])):e.emptyState&&!e.rows.length?($(),B("tr",ka,[A("td",{colspan:e.columns.length+(e.modelValue?1:0)+(e.expand?1:0)},[N(e.$slots,"empty-state",{},()=>[A("div",{class:E(e.ui.emptyState.wrapper)},[e.emptyState.icon?($(),oe(c,{key:0,name:e.emptyState.icon,class:E(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):z("",!0),A("p",{class:E(e.ui.emptyState.label)},fe(e.emptyState.label),3)],2)])],8,Ca)])):($(!0),B(me,{key:2},Pe(e.rows,(u,g)=>($(),B(me,{key:g},[A("tr",{class:E([e.ui.tr.base,e.isSelected(u)&&e.ui.tr.selected,e.isExpanded(u)&&e.ui.tr.expanded,e.$attrs.onSelect&&e.ui.tr.active,u==null?void 0:u.class]),onClick:()=>e.onSelect(u),onContextmenu:v=>e.onContextmenu(v,u)},[e.expand?($(),B("td",{key:0,class:E([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size])},[e.$slots["expand-action"]?N(e.$slots,"expand-action",{key:0,row:u,isExpanded:e.isExpanded(u),toggle:()=>e.toggleOpened(u)}):($(),oe(s,M({key:1,disabled:u.disabledExpand},{ref_for:!0},{...e.ui.default.expandButton||{},...e.expandButton},{ui:{icon:{base:[e.ui.expand.icon,e.isExpanded(u)&&"rotate-180"].join(" ")}},onClickCapture:Ht(v=>e.toggleOpened(u),["stop"])}),null,16,["disabled","ui","onClickCapture"]))],2)):z("",!0),($(!0),B(me,null,Pe(e.columns,(v,h)=>{var b;return $(),B("td",{key:h,class:E([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size,v==null?void 0:v.rowClass,(b=u[v.key])==null?void 0:b.class,v.key==="select"&&e.ui.checkbox.padding])},[e.modelValue&&v.key==="select"?N(e.$slots,"select-data",{key:0,checked:e.isSelected(u),change:S=>e.onChangeCheckbox(S,u)},()=>[re(l,M({"model-value":e.isSelected(u)},{ref_for:!0},e.ui.default.checkbox,{"aria-label":"Select row",onChange:S=>e.onChangeCheckbox(S,u)}),null,16,["model-value","onChange"])]):N(e.$slots,`${v.key}-data`,{key:e.retriggerSlot,column:v,row:u,index:g,getRowData:S=>e.getRowData(u,v.key,S)},()=>[Vt(fe(e.getRowData(u,v.key)),1)])],2)}),128))],42,Ea),e.isExpanded(u)?($(),B("tr",$a,[A("td",Ta,[N(e.$slots,"expand",{row:u,index:g})])])):z("",!0)],64))),128))],2)],2)],16)}const Pa=rt(ma,[["render",Aa]]),Fa=ot(Le.ui.strategy,Le.ui.modal,It),La=J({components:{HDialog:la,HDialogPanel:oa,TransitionRoot:bt,TransitionChild:ht},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:t}){const{ui:a,attrs:o}=ut("modal",Be(e,"ui"),Fa,Be(e,"class")),n=p({get(){return e.modelValue},set(i){t("update:modelValue",i)}}),r=p(()=>e.transition?{...a.value.transition}:{});function l(i){if(e.preventClose){t("close-prevented");return}n.value=i,t("close")}const s=()=>{t("after-leave")};return Nt(()=>Mt()),{ui:a,attrs:o,isOpen:n,transitionClass:r,onAfterLeave:s,close:l}}});function Ba(e,t,a,o,n,r){const l=Ee("TransitionChild"),s=Ee("HDialogPanel"),i=Ee("HDialog"),c=Ee("TransitionRoot");return $(),oe(c,{appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},{default:pe(()=>[re(i,M({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:pe(()=>[e.overlay?($(),oe(l,M({key:0,as:"template",appear:e.appear},e.ui.overlay.transition,{class:e.ui.overlay.transition.enterFrom}),{default:pe(()=>[A("div",{class:E([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear","class"])):z("",!0),A("div",{class:E(e.ui.inner)},[A("div",{class:E([e.ui.container,!e.fullscreen&&e.ui.padding])},[re(l,M({as:"template",appear:e.appear},e.transitionClass,{class:e.transitionClass.enterFrom}),{default:pe(()=>[re(s,{class:E([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:pe(()=>[N(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear","class"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const Ha=rt(La,[["render",Ba]]);export{Pa as _,Ha as a};
