import{f as H,$ as qe,a0 as wt,I as S,O as U,Q as xe,a1 as Ae,a2 as Wt,a3 as Fe,a4 as ae,a5 as je,a6 as kt,a7 as Ht,a8 as De,a9 as ct,aa as Z,ab as Qt,ac as mt,ad as xt,ae as Jt,af as Kt,ag as Gt,ah as Xt,ai as Yt,aj as Zt,ak as en,n as se,al as ft,am as tn,an as nn,ao as an,ap as ln,F as G,_ as Oe,aq as we,o as p,i as M,w as P,b as k,q as D,s as ze,a as _,c as R,ar as It,as as on,v as ge,l as C,r as ie,e as $t,at as sn,h as ve,Y as _t,t as E,d as V,y as Be,z as Se,A as Ne,au as rn,B as ce,U as Ee,av as un,aw as St,ax as Ct,C as fe,D as Ue,ay as dn,az as cn,aA as mn,aB as pt,aC as fn,aD as Ze,aE as pn,aF as vt,aG as vn,aH as Mt,aI as gn,aJ as hn,m as a,aK as at,aL as yn,aM as et,g as me,H as lt,R as Pt,k as ne,M as Y,aN as tt,S as Le,G as bn,aO as Rt,aP as wn,aQ as kn,aR as xn,aS as zt,aT as nt,aU as In,K as We,aV as Ft,aW as oe,aX as Ut,j as ot,aY as $n,aZ as _n,N as Sn,a_ as Cn,J as gt,p as Mn}from"./B3q8AI4L.js";import{a as Tt,_ as He}from"./BZbjYO9i.js";import{p as Pn,u as Rn,c as pe,i as zn,f as Fn,d as Un,a as Tn,_ as jt}from"./Bb-T3O1F.js";import{a as jn,_ as On}from"./B8ynpxrw.js";import{u as st,_ as it}from"./DnVz0MzW.js";import{_ as rt}from"./CENXCHmc.js";import{_ as Te}from"./DrFfx80D.js";import{_ as ut}from"./1K4-jfA2.js";import{_ as Ot}from"./B5RvTiLX.js";import{_ as Bt,a as Bn}from"./CzifaPwB.js";const Nn={wrapper:"relative",container:"relative w-full flex overflow-x-auto snap-x snap-mandatory scroll-smooth",item:"flex flex-none snap-center",arrows:{wrapper:"flex items-center justify-between"},indicators:{wrapper:"absolute flex items-center justify-center gap-3 bottom-4 inset-x-0",base:"rounded-full h-3 w-3",active:"bg-primary-500 dark:bg-primary-400",inactive:"bg-gray-100 dark:bg-gray-800"},default:{prevButton:{color:"black",class:"rtl:[&_span:first-child]:rotate-180 absolute start-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"black",class:"rtl:[&_span:last-child]:rotate-180 absolute end-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-right-20-solid"}}},Vn={base:"relative inline-flex flex-shrink-0 border-2 border-transparent disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none",rounded:"rounded-full",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",active:"bg-{color}-500 dark:bg-{color}-400",inactive:"bg-gray-200 dark:bg-gray-700",size:{"2xs":"h-3 w-5",xs:"h-3.5 w-6",sm:"h-4 w-7",md:"h-5 w-9",lg:"h-6 w-11",xl:"h-7 w-[3.25rem]","2xl":"h-8 w-[3.75rem]"},container:{base:"pointer-events-none relative inline-block rounded-full bg-white dark:bg-gray-900 shadow transform ring-0 transition ease-in-out duration-200",active:{"2xs":"translate-x-2 rtl:-translate-x-2",xs:"translate-x-2.5 rtl:-translate-x-2.5",sm:"translate-x-3 rtl:-translate-x-3",md:"translate-x-4 rtl:-translate-x-4",lg:"translate-x-5 rtl:-translate-x-5",xl:"translate-x-6 rtl:-translate-x-6","2xl":"translate-x-7 rtl:-translate-x-7"},inactive:"translate-x-0 rtl:-translate-x-0",size:{"2xs":"h-2 w-2",xs:"h-2.5 w-2.5",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5",xl:"h-6 w-6","2xl":"h-7 w-7"}},icon:{base:"absolute inset-0 h-full w-full flex items-center justify-center transition-opacity",active:"opacity-100 ease-in duration-200",inactive:"opacity-0 ease-out duration-100",size:{"2xs":"h-2 w-2",xs:"h-2 w-2",sm:"h-2 w-2",md:"h-3 w-3",lg:"h-4 w-4",xl:"h-5 w-5","2xl":"h-6 w-6"},on:"text-{color}-500 dark:text-{color}-400",off:"text-gray-400 dark:text-gray-500",loading:"animate-spin text-{color}-500 dark:text-{color}-400"},default:{onIcon:null,offIcon:null,loadingIcon:"i-heroicons-arrow-path-20-solid",color:"primary",size:"md"}},Dn={wrapper:"relative w-full flex items-center",base:"w-full absolute appearance-none cursor-pointer disabled:cursor-not-allowed disabled:bg-opacity-50 focus:outline-none peer group",rounded:"rounded-lg",background:"bg-transparent",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",progress:{base:"absolute pointer-events-none peer-disabled:bg-opacity-50",rounded:"rounded-s-lg",background:"bg-{color}-500 dark:bg-{color}-400",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"}},thumb:{base:"[&::-webkit-slider-thumb]:relative [&::-moz-range-thumb]:relative [&::-webkit-slider-thumb]:z-[1] [&::-moz-range-thumb]:z-[1] [&::-webkit-slider-thumb]:appearance-none [&::-moz-range-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:border-0",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:dark:bg-gray-900 [&::-moz-range-thumb]:bg-current",ring:"[&::-webkit-slider-thumb]:ring-2 [&::-webkit-slider-thumb]:ring-current",size:{"2xs":"[&::-webkit-slider-thumb]:h-1.5 [&::-moz-range-thumb]:h-1.5 [&::-webkit-slider-thumb]:w-1.5 [&::-moz-range-thumb]:w-1.5 [&::-webkit-slider-thumb]:mt-[-2.5px] [&::-moz-range-thumb]:mt-[-2.5px]",xs:"[&::-webkit-slider-thumb]:h-2 [&::-moz-range-thumb]:h-2 [&::-webkit-slider-thumb]:w-2 [&::-moz-range-thumb]:w-2 [&::-webkit-slider-thumb]:mt-[-3px] [&::-moz-range-thumb]:mt-[-3px]",sm:"[&::-webkit-slider-thumb]:h-3 [&::-moz-range-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-moz-range-thumb]:w-3 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",md:"[&::-webkit-slider-thumb]:h-4 [&::-moz-range-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-moz-range-thumb]:w-4 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",lg:"[&::-webkit-slider-thumb]:h-5 [&::-moz-range-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-moz-range-thumb]:w-5 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",xl:"[&::-webkit-slider-thumb]:h-6 [&::-moz-range-thumb]:h-6 [&::-webkit-slider-thumb]:w-6 [&::-moz-range-thumb]:w-6 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1","2xl":"[&::-webkit-slider-thumb]:h-7 [&::-moz-range-thumb]:h-7 [&::-webkit-slider-thumb]:w-7 [&::-moz-range-thumb]:w-7 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1"}},track:{base:"[&::-webkit-slider-runnable-track]:group-disabled:bg-opacity-50 [&::-moz-range-track]:group-disabled:bg-opacity-50",background:"[&::-webkit-slider-runnable-track]:bg-gray-200 [&::-moz-range-track]:bg-gray-200 [&::-webkit-slider-runnable-track]:dark:bg-gray-700 [&::-moz-range-track]:dark:bg-gray-700",rounded:"[&::-webkit-slider-runnable-track]:rounded-lg [&::-moz-range-track]:rounded-lg",size:{"2xs":"[&::-webkit-slider-runnable-track]:h-px [&::-moz-range-track]:h-px",xs:"[&::-webkit-slider-runnable-track]:h-0.5 [&::-moz-range-track]:h-0.5",sm:"[&::-webkit-slider-runnable-track]:h-1 [&::-moz-range-track]:h-1",md:"[&::-webkit-slider-runnable-track]:h-2 [&::-moz-range-track]:h-2",lg:"[&::-webkit-slider-runnable-track]:h-3 [&::-moz-range-track]:h-3",xl:"[&::-webkit-slider-runnable-track]:h-4 [&::-moz-range-track]:h-4","2xl":"[&::-webkit-slider-runnable-track]:h-5 [&::-moz-range-track]:h-5"}},size:{"2xs":"h-1.5",xs:"h-2",sm:"h-3",md:"h-4",lg:"h-5",xl:"h-6","2xl":"h-7"},default:{size:"md",color:"primary"}};var qn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(qn||{}),An=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(An||{});function En(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Nt=Symbol("MenuContext");function Qe(e){let n=wt(Nt,null);if(n===null){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Qe),t}return n}let Ln=H({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:n,attrs:t}){let s=S(1),r=S(null),o=S(null),l=S([]),m=S(""),f=S(null),w=S(1);function h(v=x=>x){let x=f.value!==null?l.value[f.value]:null,b=Kt(v(l.value.slice()),y=>ae(y.dataRef.domRef)),I=x?b.indexOf(x):null;return I===-1&&(I=null),{items:b,activeItemIndex:I}}let $={menuState:s,buttonRef:r,itemsRef:o,items:l,searchQuery:m,activeItemIndex:f,activationTrigger:w,closeMenu:()=>{s.value=1,f.value=null},openMenu:()=>s.value=0,goToItem(v,x,b){let I=h(),y=Fn(v===pe.Specific?{focus:pe.Specific,id:x}:{focus:v},{resolveItems:()=>I.items,resolveActiveIndex:()=>I.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.disabled});m.value="",f.value=y,w.value=b??1,l.value=I.items},search(v){let x=m.value!==""?0:1;m.value+=v.toLowerCase();let b=(f.value!==null?l.value.slice(f.value+x).concat(l.value.slice(0,f.value+x)):l.value).find(y=>y.dataRef.textValue.startsWith(m.value)&&!y.dataRef.disabled),I=b?l.value.indexOf(b):-1;I===-1||I===f.value||(f.value=I,w.value=1)},clearSearch(){m.value=""},registerItem(v,x){let b=h(I=>[...I,{id:v,dataRef:x}]);l.value=b.items,f.value=b.activeItemIndex,w.value=1},unregisterItem(v){let x=h(b=>{let I=b.findIndex(y=>y.id===v);return I!==-1&&b.splice(I,1),b});l.value=x.items,f.value=x.activeItemIndex,w.value=1}};return Jt([r,o],(v,x)=>{var b;$.closeMenu(),Gt(x,Xt.Loose)||(v.preventDefault(),(b=ae(r))==null||b.focus())},U(()=>s.value===0)),Yt(Nt,$),Zt(U(()=>en(s.value,{0:De.Open,1:De.Closed}))),()=>{let v={open:s.value===0,close:$.closeMenu};return je({ourProps:{},theirProps:e,slot:v,slots:n,attrs:t,name:"Menu"})}}}),Wn=H({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:s}){var r;let o=(r=e.id)!=null?r:`headlessui-menu-button-${qe()}`,l=Qe("MenuButton");s({el:l.buttonRef,$el:l.buttonRef});function m($){switch($.key){case Z.Space:case Z.Enter:case Z.ArrowDown:$.preventDefault(),$.stopPropagation(),l.openMenu(),Fe(()=>{var v;(v=ae(l.itemsRef))==null||v.focus({preventScroll:!0}),l.goToItem(pe.First)});break;case Z.ArrowUp:$.preventDefault(),$.stopPropagation(),l.openMenu(),Fe(()=>{var v;(v=ae(l.itemsRef))==null||v.focus({preventScroll:!0}),l.goToItem(pe.Last)});break}}function f($){switch($.key){case Z.Space:$.preventDefault();break}}function w($){e.disabled||(l.menuState.value===0?(l.closeMenu(),Fe(()=>{var v;return(v=ae(l.buttonRef))==null?void 0:v.focus({preventScroll:!0})})):($.preventDefault(),l.openMenu(),En(()=>{var v;return(v=ae(l.itemsRef))==null?void 0:v.focus({preventScroll:!0})})))}let h=xt(U(()=>({as:e.as,type:n.type})),l.buttonRef);return()=>{var $;let v={open:l.menuState.value===0},{...x}=e,b={ref:l.buttonRef,id:o,type:h.value,"aria-haspopup":"menu","aria-controls":($=ae(l.itemsRef))==null?void 0:$.id,"aria-expanded":l.menuState.value===0,onKeydown:m,onKeyup:f,onClick:w};return je({ourProps:b,theirProps:x,slot:v,attrs:n,slots:t,name:"MenuButton"})}}}),Hn=H({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:s}){var r;let o=(r=e.id)!=null?r:`headlessui-menu-items-${qe()}`,l=Qe("MenuItems"),m=S(null);s({el:l.itemsRef,$el:l.itemsRef}),zn({container:U(()=>ae(l.itemsRef)),enabled:U(()=>l.menuState.value===0),accept(v){return v.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});function f(v){var x;switch(m.value&&clearTimeout(m.value),v.key){case Z.Space:if(l.searchQuery.value!=="")return v.preventDefault(),v.stopPropagation(),l.search(v.key);case Z.Enter:if(v.preventDefault(),v.stopPropagation(),l.activeItemIndex.value!==null){let b=l.items.value[l.activeItemIndex.value];(x=ae(b.dataRef.domRef))==null||x.click()}l.closeMenu(),kt(ae(l.buttonRef));break;case Z.ArrowDown:return v.preventDefault(),v.stopPropagation(),l.goToItem(pe.Next);case Z.ArrowUp:return v.preventDefault(),v.stopPropagation(),l.goToItem(pe.Previous);case Z.Home:case Z.PageUp:return v.preventDefault(),v.stopPropagation(),l.goToItem(pe.First);case Z.End:case Z.PageDown:return v.preventDefault(),v.stopPropagation(),l.goToItem(pe.Last);case Z.Escape:v.preventDefault(),v.stopPropagation(),l.closeMenu(),Fe(()=>{var b;return(b=ae(l.buttonRef))==null?void 0:b.focus({preventScroll:!0})});break;case Z.Tab:v.preventDefault(),v.stopPropagation(),l.closeMenu(),Fe(()=>Qt(ae(l.buttonRef),v.shiftKey?mt.Previous:mt.Next));break;default:v.key.length===1&&(l.search(v.key),m.value=setTimeout(()=>l.clearSearch(),350));break}}function w(v){switch(v.key){case Z.Space:v.preventDefault();break}}let h=Ht(),$=U(()=>h!==null?(h.value&De.Open)===De.Open:l.menuState.value===0);return()=>{var v,x;let b={open:l.menuState.value===0},{...I}=e,y={"aria-activedescendant":l.activeItemIndex.value===null||(v=l.items.value[l.activeItemIndex.value])==null?void 0:v.id,"aria-labelledby":(x=ae(l.buttonRef))==null?void 0:x.id,id:o,onKeydown:f,onKeyup:w,role:"menu",tabIndex:0,ref:l.itemsRef};return je({ourProps:y,theirProps:I,slot:b,attrs:n,slots:t,features:ct.RenderStrategy|ct.Static,visible:$.value,name:"MenuItems"})}}}),Qn=H({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:n,attrs:t,expose:s}){var r;let o=(r=e.id)!=null?r:`headlessui-menu-item-${qe()}`,l=Qe("MenuItem"),m=S(null);s({el:m,$el:m});let f=U(()=>l.activeItemIndex.value!==null?l.items.value[l.activeItemIndex.value].id===o:!1),w=Pn(m),h=U(()=>({disabled:e.disabled,get textValue(){return w()},domRef:m}));xe(()=>l.registerItem(o,h)),Ae(()=>l.unregisterItem(o)),Wt(()=>{l.menuState.value===0&&f.value&&l.activationTrigger.value!==0&&Fe(()=>{var d,u;return(u=(d=ae(m))==null?void 0:d.scrollIntoView)==null?void 0:u.call(d,{block:"nearest"})})});function $(d){if(e.disabled)return d.preventDefault();l.closeMenu(),kt(ae(l.buttonRef))}function v(){if(e.disabled)return l.goToItem(pe.Nothing);l.goToItem(pe.Specific,o)}let x=Rn();function b(d){x.update(d)}function I(d){x.wasMoved(d)&&(e.disabled||f.value||l.goToItem(pe.Specific,o,0))}function y(d){x.wasMoved(d)&&(e.disabled||f.value&&l.goToItem(pe.Nothing))}return()=>{let{disabled:d,...u}=e,g={active:f.value,disabled:d,close:l.closeMenu};return je({ourProps:{id:o,ref:m,role:"menuitem",tabIndex:d===!0?void 0:-1,"aria-disabled":d===!0?!0:void 0,onClick:$,onFocus:v,onPointerenter:b,onMouseenter:b,onPointermove:I,onMousemove:I,onPointerleave:y,onMouseleave:y},theirProps:{...t,...u},slot:g,attrs:t,slots:n,name:"MenuItem"})}}}),Jn=Symbol("GroupContext"),Kn=H({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(e,{emit:n,attrs:t,slots:s,expose:r}){var o;let l=(o=e.id)!=null?o:`headlessui-switch-${qe()}`,m=wt(Jn,null),[f,w]=Un(U(()=>e.modelValue),u=>n("update:modelValue",u),U(()=>e.defaultChecked));function h(){w(!f.value)}let $=S(null),v=m===null?$:m.switchRef,x=xt(U(()=>({as:e.as,type:t.type})),v);r({el:v,$el:v});function b(u){u.preventDefault(),h()}function I(u){u.key===Z.Space?(u.preventDefault(),h()):u.key===Z.Enter&&Tn(u.currentTarget)}function y(u){u.preventDefault()}let d=U(()=>{var u,g;return(g=(u=ae(v))==null?void 0:u.closest)==null?void 0:g.call(u,"form")});return xe(()=>{se([d],()=>{if(!d.value||e.defaultChecked===void 0)return;function u(){w(e.defaultChecked)}return d.value.addEventListener("reset",u),()=>{var g;(g=d.value)==null||g.removeEventListener("reset",u)}},{immediate:!0})}),()=>{let{name:u,value:g,form:i,tabIndex:c,...z}=e,B={checked:f.value},q={id:l,ref:v,role:"switch",type:x.value,tabIndex:c===-1?0:c,"aria-checked":f.value,"aria-labelledby":m==null?void 0:m.labelledby.value,"aria-describedby":m==null?void 0:m.describedby.value,onClick:b,onKeyup:I,onKeypress:y};return ft(G,[u!=null&&f.value!=null?ft(tn,nn({features:an.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:f.value,form:i,disabled:z.disabled,name:u,value:g})):null,je({ourProps:q,theirProps:{...t,...ln(z,["modelValue","defaultChecked"])},slot:B,attrs:t,slots:s,name:"Switch"})])}}});const Xe=Ne(ce.ui.strategy,ce.ui.dropdown,rn),Gn=H({components:{HMenu:Ln,HMenuButton:Wn,HMenuItems:Hn,HMenuItem:Qn,UIcon:ve,UAvatar:_t,UKbd:Tt},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>Xe.default.openDelay},closeDelay:{type:Number,default:()=>Xe.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:n}){const{ui:t,attrs:s}=Be("dropdown",Se(e,"ui"),Xe,Se(e,"class")),r=U(()=>Ee(e.mode==="hover"?{offsetDistance:0}:{},e.popper,t.value.popper)),[o,l]=un(r.value),m=S(null);let f=null,w=null;xe(()=>{var u,g;const y=(u=o.value)==null?void 0:u.$.provides;if(!y)return;const d=Object.getOwnPropertySymbols(y);m.value=d.length&&y[d[0]],e.open&&((g=m.value)==null||g.openMenu())});const h=U(()=>{var g,i,c;if(e.mode!=="hover")return{};const y=((g=e.popper)==null?void 0:g.offsetDistance)||((i=t.value.popper)==null?void 0:i.offsetDistance)||8,d=(c=r.value.placement)==null?void 0:c.split("-")[0],u=`${y}px`;return d==="top"||d==="bottom"?{paddingTop:u,paddingBottom:u}:d==="left"||d==="right"?{paddingLeft:u,paddingRight:u}:{paddingTop:u,paddingBottom:u,paddingLeft:u,paddingRight:u}});function $(y){!y.cancelable||!m.value||e.mode==="click"||(m.value.menuState===0?m.value.closeMenu():m.value.openMenu())}function v(){e.mode!=="hover"||!m.value||(w&&(clearTimeout(w),w=null),m.value.menuState!==0&&(f=f||setTimeout(()=>{m.value.openMenu&&m.value.openMenu(),f=null},e.openDelay)))}function x(){e.mode!=="hover"||!m.value||(f&&(clearTimeout(f),f=null),m.value.menuState!==1&&(w=w||setTimeout(()=>{m.value.closeMenu&&m.value.closeMenu(),w=null},e.closeDelay)))}function b(y,d,{href:u,navigate:g,close:i,isExternal:c}){d.click&&d.click(y),u&&!c&&(g(y),i())}se(()=>e.open,(y,d)=>{m.value&&(d===void 0||y===d||(y?m.value.openMenu():m.value.closeMenu()))}),se(()=>{var y;return(y=m.value)==null?void 0:y.menuState},(y,d)=>{d===void 0||y===d||n("update:open",y===0)});const I=$t;return St(()=>Ct()),{ui:t,attrs:s,popper:r,trigger:o,container:l,containerStyle:h,onTouchStart:$,onMouseEnter:v,onMouseLeave:x,onClick:b,getNuxtLinkProps:dn,twMerge:Ue,twJoin:fe,NuxtLink:I}}}),Xn=["disabled"];function Yn(e,n,t,s,r,o){const l=we("HMenuButton"),m=ve,f=_t,w=Tt,h=we("HMenuItem"),$=$t,v=we("HMenuItems"),x=we("HMenu");return p(),M(x,ge({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:P(({open:b})=>[k(l,{ref:"trigger",as:"div",disabled:e.disabled,class:D(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:P(()=>[ze(e.$slots,"default",{open:b,disabled:e.disabled},()=>[_("button",{disabled:e.disabled}," Open ",8,Xn)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),b&&e.items.length?(p(),R("div",{key:0,ref:"container",class:D([e.ui.container,e.ui.width]),style:It(e.containerStyle),onMouseenter:n[0]||(n[0]=(...I)=>e.onMouseEnter&&e.onMouseEnter(...I))},[k(on,ge({appear:""},e.ui.transition),{default:P(()=>[_("div",null,[e.popper.arrow?(p(),R("div",{key:0,"data-popper-arrow":"",class:D(Object.values(e.ui.arrow))},null,2)):C("",!0),k(v,{class:D([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:P(()=>[(p(!0),R(G,null,ie(e.items,(I,y)=>(p(),R("div",{key:y,class:D(e.ui.padding)},[(p(!0),R(G,null,ie(I,(d,u)=>(p(),M($,ge({key:u,ref_for:!0},e.getNuxtLinkProps(d),{custom:""}),{default:P(({href:g,target:i,rel:c,navigate:z,isExternal:B,isActive:q})=>[k(h,{disabled:d.disabled},{default:P(({active:T,disabled:F,close:A})=>[(p(),M(sn(g?"a":"button"),{href:F?void 0:g,rel:c,target:i,class:D(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,T||q?e.ui.item.active:e.ui.item.inactive,F&&e.ui.item.disabled),d.class)),onClick:ee=>e.onClick(ee,d,{href:g,navigate:z,close:A,isExternal:B})},{default:P(()=>[ze(e.$slots,d.slot||"item",{item:d},()=>{var ee;return[d.icon?(p(),M(m,{key:0,name:d.icon,class:D(e.twMerge(e.twJoin(e.ui.item.icon.base,T||q?e.ui.item.icon.active:e.ui.item.icon.inactive),d.iconClass))},null,8,["name","class"])):d.avatar?(p(),M(f,ge({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...d.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):C("",!0),_("span",{class:D(e.twMerge(e.ui.item.label,d.labelClass))},E(d.label),3),(ee=d.shortcuts)!=null&&ee.length?(p(),R("span",{key:2,class:D(e.ui.item.shortcuts)},[(p(!0),R(G,null,ie(d.shortcuts,L=>(p(),M(w,{key:L},{default:P(()=>[V(E(L),1)]),_:2},1024))),128))],2)):C("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):C("",!0)]),_:3},16,["class","onMouseleave"])}const Je=Oe(Gn,[["render",Yn]]),_e=Ne(ce.ui.strategy,ce.ui.textarea,cn),Zn=H({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(_e.size).includes(e)}},color:{type:String,default:()=>_e.default.color,validator(e){return[...ce.ui.colors,...Object.keys(_e.color)].includes(e)}},variant:{type:String,default:()=>_e.default.variant,validator(e){return[...Object.keys(_e.variant),...Object.values(_e.color).flatMap(n=>Object.keys(n))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:n}){const{ui:t,attrs:s}=Be("textarea",Se(e,"ui"),_e,Se(e,"class")),{emitFormBlur:r,emitFormInput:o,inputId:l,color:m,size:f,name:w}=st(e,_e),h=S(Ee({},e.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),$=S(null),v=()=>{var g;e.autofocus&&((g=$.value)==null||g.focus())},x=()=>{if(e.autoresize){if(!$.value)return;$.value.rows=e.rows;const g=$.value.style.overflow;$.value.style.overflow="hidden";const i=window.getComputedStyle($.value),c=Number.parseInt(i.paddingTop),z=Number.parseInt(i.paddingBottom),B=c+z,q=Number.parseInt(i.lineHeight),{scrollHeight:T}=$.value,F=(T-B)/q;F>e.rows&&($.value.rows=e.maxrows?Math.min(F,e.maxrows):F),$.value.style.overflow=g}},b=g=>{h.value.trim&&(g=g.trim()),h.value.number&&(g=mn(g)),h.value.nullify&&(g||(g=null)),n("update:modelValue",g),o()},I=g=>{x(),h.value.lazy||b(g.target.value)},y=g=>{const i=g.target.value;n("change",i),h.value.lazy&&b(i),h.value.trim&&(g.target.value=i.trim())},d=g=>{n("blur",g),r()};xe(()=>{setTimeout(()=>{v()},e.autofocusDelay)}),se(()=>e.modelValue,()=>{Fe(x)}),xe(()=>{setTimeout(()=>{v(),x()},100)});const u=U(()=>{var i,c;const g=((c=(i=t.value.color)==null?void 0:i[m.value])==null?void 0:c[e.variant])||t.value.variant[e.variant];return Ue(fe(t.value.base,t.value.form,t.value.rounded,t.value.placeholder,t.value.size[f.value],e.padded?t.value.padding[f.value]:"p-0",g==null?void 0:g.replaceAll("{color}",m.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:t,attrs:s,name:w,inputId:l,textarea:$,textareaClass:u,onInput:I,onChange:y,onBlur:d}}}),ea=["id","value","name","rows","required","disabled","placeholder"];function ta(e,n,t,s,r,o){return p(),R("div",{class:D(e.ui.wrapper)},[_("textarea",ge({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:n[0]||(n[0]=(...l)=>e.onInput&&e.onInput(...l)),onBlur:n[1]||(n[1]=(...l)=>e.onBlur&&e.onBlur(...l)),onChange:n[2]||(n[2]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,ea),ze(e.$slots,"default")],2)}const na=Oe(Zn,[["render",ta]]);async function aa(e,n){return await la(n).catch(s=>(console.error("Failed to get image meta for "+n,s+""),{width:0,height:0,ratio:0}))}async function la(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((n,t)=>{const s=new Image;s.onload=()=>{const r={width:s.width,height:s.height,ratio:s.width/s.height};n(r)},s.onerror=r=>t(r),s.src=e})}function ht(e){return n=>n?e[n]||n:e.missingValue}function oa({formatter:e,keyMap:n,joinWith:t="/",valueMap:s}={}){e||(e=(o,l)=>`${o}=${l}`),n&&typeof n!="function"&&(n=ht(n));const r=s||{};return Object.keys(r).forEach(o=>{typeof r[o]!="function"&&(r[o]=ht(r[o]))}),(o={})=>Object.entries(o).filter(([m,f])=>typeof f<"u").map(([m,f])=>{const w=r[m];return typeof w=="function"&&(f=w(o[m])),m=typeof n=="function"?n(m):m,e(m,f)}).join(t)}function ke(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function sa(e=""){if(e===void 0||!e.length)return[];const n=new Set;for(const t of e.split(" ")){const s=Number.parseInt(t.replace("x",""));s&&n.add(s)}return Array.from(n)}function ia(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function ra(e){const n={};if(typeof e=="string")for(const t of e.split(/[\s,]+/).filter(s=>s)){const s=t.split(":");s.length!==2?n["1px"]=s[0].trim():n[s[0].trim()]=s[1].trim()}else Object.assign(n,e);return n}function ua(e){const n={options:e},t=(r,o={})=>Vt(n,r,o),s=(r,o={},l={})=>t(r,{...l,modifiers:Ee(o,l.modifiers||{})}).url;for(const r in e.presets)s[r]=(o,l,m)=>s(o,l,{...e.presets[r],...m});return s.options=e,s.getImage=t,s.getMeta=(r,o)=>da(n,r,o),s.getSizes=(r,o)=>fa(n,r,o),n.$img=s,s}async function da(e,n,t){const s=Vt(e,n,{...t});return typeof s.getMeta=="function"?await s.getMeta():await aa(e,s.url)}function Vt(e,n,t){var w,h;if(n&&typeof n!="string")throw new TypeError(`input must be a string (received ${typeof n}: ${JSON.stringify(n)})`);if(!n||n.startsWith("data:"))return{url:n};const{provider:s,defaults:r}=ca(e,t.provider||e.options.provider),o=ma(e,t.preset);if(n=pt(n)?n:fn(n),!s.supportsAlias){for(const $ in e.options.alias)if(n.startsWith($)){const v=e.options.alias[$];v&&(n=Ze(v,n.slice($.length)))}}if(s.validateDomains&&pt(n)){const $=pn(n).host;if(!e.options.domains.find(v=>v===$))return{url:n}}const l=Ee(t,o,r);l.modifiers={...l.modifiers};const m=l.modifiers.format;(w=l.modifiers)!=null&&w.width&&(l.modifiers.width=ke(l.modifiers.width)),(h=l.modifiers)!=null&&h.height&&(l.modifiers.height=ke(l.modifiers.height));const f=s.getImage(n,l,e);return f.format=f.format||m||"",f}function ca(e,n){const t=e.options.providers[n];if(!t)throw new Error("Unknown provider: "+n);return t}function ma(e,n){if(!n)return{};if(!e.options.presets[n])throw new Error("Unknown preset: "+n);return e.options.presets[n]}function fa(e,n,t){var b,I,y,d,u;const s=ke((b=t.modifiers)==null?void 0:b.width),r=ke((I=t.modifiers)==null?void 0:I.height),o=ra(t.sizes),l=(y=t.densities)!=null&&y.trim()?sa(t.densities.trim()):e.options.densities;ia(l);const m=s&&r?r/s:0,f=[],w=[];if(Object.keys(o).length>=1){for(const g in o){const i=yt(g,String(o[g]),r,m,e);if(i!==void 0){f.push({size:i.size,screenMaxWidth:i.screenMaxWidth,media:`(max-width: ${i.screenMaxWidth}px)`});for(const c of l)w.push({width:i._cWidth*c,src:bt(e,n,t,i,c)})}}pa(f)}else for(const g of l){const i=Object.keys(o)[0];let c=i?yt(i,String(o[i]),r,m,e):void 0;c===void 0&&(c={size:"",screenMaxWidth:0,_cWidth:(d=t.modifiers)==null?void 0:d.width,_cHeight:(u=t.modifiers)==null?void 0:u.height}),w.push({width:g,src:bt(e,n,t,c,g)})}va(w);const h=w[w.length-1],$=f.length?f.map(g=>`${g.media?g.media+" ":""}${g.size}`).join(", "):void 0,v=$?"w":"x",x=w.map(g=>`${g.src} ${g.width}${v}`).join(", ");return{sizes:$,srcset:x,src:h==null?void 0:h.src}}function yt(e,n,t,s,r){const o=r.options.screens&&r.options.screens[e]||Number.parseInt(e),l=n.endsWith("vw");if(!l&&/^\d+$/.test(n)&&(n=n+"px"),!l&&!n.endsWith("px"))return;let m=Number.parseInt(n);if(!o||!m)return;l&&(m=Math.round(m/100*o));const f=s?Math.round(m*s):t;return{size:n,screenMaxWidth:o,_cWidth:m,_cHeight:f}}function bt(e,n,t,s,r){return e.$img(n,{...t.modifiers,width:s._cWidth?s._cWidth*r:void 0,height:s._cHeight?s._cHeight*r:void 0},t)}function pa(e){var t;e.sort((s,r)=>s.screenMaxWidth-r.screenMaxWidth);let n=null;for(let s=e.length-1;s>=0;s--){const r=e[s];r.media===n&&e.splice(s,1),n=r.media}for(let s=0;s<e.length;s++)e[s].media=((t=e[s+1])==null?void 0:t.media)||""}function va(e){e.sort((t,s)=>t.width-s.width);let n=null;for(let t=e.length-1;t>=0;t--){const s=e[t];s.width===n&&e.splice(t,1),n=s.width}}const ga=oa({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,n)=>vt(e)+"_"+vt(n)}),ha=(e,{modifiers:n={},baseURL:t}={},s)=>{n.width&&n.height&&(n.resize=`${n.width}x${n.height}`,delete n.width,delete n.height);const r=ga(n)||"_";return t||(t=Ze(s.options.nuxt.baseURL,"/_ipx")),{url:Ze(t,r,vn(e))}},ya=!0,ba=!0,wa=Object.freeze(Object.defineProperty({__proto__:null,getImage:ha,supportsAlias:ba,validateDomains:ya},Symbol.toStringTag,{value:"Module"})),Dt={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};Dt.providers={ipxStatic:{provider:wa,defaults:{}}};const dt=()=>{const e=gn(),n=Mt();return n.$img||n._img||(n._img=ua({...Dt,nuxt:{baseURL:e.app.baseURL},runtimeConfig:e}))};function ka(e){var n;(n=performance==null?void 0:performance.mark)==null||n.call(performance,"mark_feature_usage",{detail:{feature:e}})}const xa={src:{type:String,required:!1},format:{type:String,required:!1},quality:{type:[Number,String],required:!1},background:{type:String,required:!1},fit:{type:String,required:!1},modifiers:{type:Object,required:!1},preset:{type:String,required:!1},provider:{type:String,required:!1},sizes:{type:[Object,String],required:!1},densities:{type:String,required:!1},preload:{type:[Boolean,Object],required:!1},width:{type:[String,Number],required:!1},height:{type:[String,Number],required:!1},alt:{type:String,required:!1},referrerpolicy:{type:String,required:!1},usemap:{type:String,required:!1},longdesc:{type:String,required:!1},ismap:{type:Boolean,required:!1},loading:{type:String,required:!1,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],required:!1,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,required:!1,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],required:!1}},Ia=e=>{const n=U(()=>({provider:e.provider,preset:e.preset})),t=U(()=>({width:ke(e.width),height:ke(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),s=dt(),r=U(()=>({...e.modifiers,width:ke(e.width),height:ke(e.height),format:e.format,quality:e.quality||s.options.quality,background:e.background,fit:e.fit}));return{options:n,attrs:t,modifiers:r}},$a={...xa,placeholder:{type:[Boolean,String,Number,Array],required:!1},placeholderClass:{type:String,required:!1}},_a=["src"],Ce=H({__name:"NuxtImg",props:$a,emits:["load","error"],setup(e,{emit:n}){const t=e,s=hn(),r=n,o=!1,l=dt(),m=Ia(t),f=S(!1),w=S(),h=U(()=>l.getSizes(t.src,{...m.options.value,sizes:t.sizes,densities:t.densities,modifiers:{...m.modifiers.value,width:ke(t.width),height:ke(t.height)}})),$=U(()=>{const d={...m.attrs.value,"data-nuxt-img":""};return(!t.placeholder||f.value)&&(d.sizes=h.value.sizes,d.srcset=h.value.srcset),d}),v=U(()=>{let d=t.placeholder;if(d===""&&(d=!0),!d||f.value)return!1;if(typeof d=="string")return d;const u=Array.isArray(d)?d:typeof d=="number"?[d,d]:[10,10];return l(t.src,{...m.modifiers.value,width:u[0],height:u[1],quality:u[2]||50,blur:u[3]||3},m.options.value)}),x=U(()=>t.sizes?h.value.src:l(t.src,m.modifiers.value,m.options.value)),b=U(()=>v.value?v.value:x.value),y=Mt().isHydrating;return xe(()=>{if(v.value){const d=new Image;x.value&&(d.src=x.value),t.sizes&&(d.sizes=h.value.sizes||"",d.srcset=h.value.srcset),d.onload=u=>{f.value=!0,r("load",u)},ka("nuxt-image");return}w.value&&(w.value.complete&&y&&(w.value.getAttribute("data-error")?r("error",new Event("error")):r("load",new Event("load"))),w.value.onload=d=>{r("load",d)},w.value.onerror=d=>{r("error",d)})}),(d,u)=>(p(),R("img",ge({ref_key:"imgEl",ref:w,class:t.placeholder&&!f.value?t.placeholderClass:void 0},{...a(o)?{onerror:"this.setAttribute('data-error', 1)"}:{},...$.value,...a(s)},{src:b.value}),null,16,_a))}}),Ve=Ne(ce.ui.strategy,ce.ui.range,Dn),Sa=H({inheritAttrs:!1,props:{modelValue:{type:Number,default:0},id:{type:String,default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},size:{type:String,default:null,validator(e){return Object.keys(Ve.size).includes(e)}},color:{type:String,default:()=>Ve.default.color,validator(e){return ce.ui.colors.includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:n}){const{ui:t,attrs:s}=Be("range",Se(e,"ui"),Ve),{emitFormChange:r,inputId:o,color:l,size:m,name:f}=st(e,Ve),w=U({get(){return e.modelValue},set(d){n("update:modelValue",d)}}),h=d=>{n("change",d.target.value),r()},$=U(()=>Ue(fe(t.value.wrapper,t.value.size[m.value]),e.class)),v=U(()=>Ue(fe(t.value.base,t.value.background,t.value.rounded,l.value&&t.value.ring.replaceAll("{color}",l.value),t.value.size[m.value]),e.inputClass)),x=U(()=>fe(t.value.thumb.base,l.value&&t.value.thumb.color.replaceAll("{color}",l.value),t.value.thumb.ring,t.value.thumb.background,t.value.thumb.size[m.value])),b=U(()=>fe(t.value.track.base,t.value.track.background,t.value.track.rounded,t.value.track.size[m.value])),I=U(()=>fe(t.value.progress.base,t.value.progress.rounded,l.value&&t.value.progress.background.replaceAll("{color}",l.value),t.value.progress.size[m.value])),y=U(()=>{const{modelValue:d,min:u,max:g}=e;return{width:`${(Math.max(u,Math.min(d,g))-u)/(g-u)*100}%`}});return{ui:t,attrs:s,name:f,inputId:o,value:w,wrapperClass:$,inputClass:v,thumbClass:x,trackClass:b,progressClass:I,progressStyle:y,onChange:h}}}),Ca=["id","name","min","max","disabled","step"];function Ma(e,n,t,s,r,o){return p(),R("div",{class:D(e.wrapperClass)},[at(_("input",ge({id:e.inputId,ref:"input","onUpdate:modelValue":n[0]||(n[0]=l=>e.value=l),name:e.name,min:e.min,max:e.max,disabled:e.disabled,step:e.step,type:"range",class:[e.inputClass,e.thumbClass,e.trackClass]},e.attrs,{onChange:n[1]||(n[1]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,Ca),[[yn,e.value,void 0,{number:!0}]]),_("span",{class:D(e.progressClass),style:It(e.progressStyle)},null,6)],2)}const qt=Oe(Sa,[["render",Ma]]),Pa={class:"image-mask flex flex-col w-full"},Ra={class:"canvas flex flex-col items-center justify-center mb-3 w-full"},za={class:"preview-over-original relative"},Fa={class:"actions flex items-center justify-center mb-3 mx-auto"},Ua={class:"options w-full max-w-[320px]"},Ta=H({__name:"ImageInpaint",props:tt({imageSrc:{type:String,required:!0}},{imageInpaintMask:{default:"",type:String},imageInpaintMaskModifiers:{},imageInpaintMaskData:{default:{},type:Object},imageInpaintMaskDataModifiers:{}}),emits:["update:imageInpaintMask","update:imageInpaintMaskData"],setup(e){const n=e,t=et(e,"imageInpaintMask"),s=et(e,"imageInpaintMaskData"),r=me(),o=S(null),l=S(null),m=S(null),f=S(null),w=S(30),h=S([]),$=S({width:r.$state.outputMaxSize,height:r.$state.outputMaxSize}),v=S(null),x=S({x:0,y:0}),b=S({x:0,y:0,radius:w.value,fill:"rgba(255, 255, 255, 0.5)",stroke:null,strokeWidth:0,visible:!1}),I=S(5),y=S(!1),d=S([]),u=S([]);function g(){if(!o.value||!m.value){console.error("Could not get stage, image layer, or mask layer");return}const O=o.value.getNode(),N=f.value?f.value.width:O.width(),j=f.value?f.value.height:O.height(),K=document.createElement("canvas");K.width=N,K.height=j;const X=K.getContext("2d");if(!X){console.error("Could not get 2d context for mask canvas");return}X.fillStyle="black",X.fillRect(0,0,N,j);const ue=N/O.width(),de=j/O.height();X.fillStyle="white",h.value.forEach(Pe=>{X.beginPath(),X.arc(Pe.x*ue,Pe.y*de,Pe.radius*Math.max(ue,de),0,Math.PI*2,!0),X.closePath(),X.fill()});const Q=K.toDataURL("image/png",1);Q?(F(),t.value=Q,b.value.visible=!1,y.value=!1):console.error("Could not get data URI for masked image")}function i(O){const N=o.value.getNode();if(O.type.startsWith("touch")){const j=O.evt.touches[0]||O.evt.changedTouches[0];return{x:j.clientX-N.getContainer().offsetLeft,y:j.clientY-N.getContainer().offsetTop}}return N.getPointerPosition()}function c(O){O.type==="mousedown"&&O.evt.button!==0||(y.value=!0,x.value=i(O),T(),z(x.value))}function z(O){const N={x:O.x,y:O.y,radius:w.value,fill:"rgba(255, 255, 255, 1)"};h.value=h.value.filter(j=>!(B({x:j.x,y:j.y},O)+j.radius<=N.radius)),h.value.push(N)}function B(O,N){return Math.sqrt(Math.pow(N.x-O.x,2)+Math.pow(N.y-O.y,2))}function q(O){if(O.type.startsWith("touch")&&O.evt.preventDefault(),ye(O),!y.value)return;const N=i(O);B(x.value,i(O))>=I.value&&(z(N),x.value=N)}function T(){d.value.push([...h.value]),u.value=[]}function F(){s.value={circles:[...h.value],brushRadius:w.value,undoStack:d.value,redoStack:u.value}}function A(){s.value!==null&&(h.value=s.value.circles||[],w.value=s.value.brushRadius||30,d.value=s.value.undoStack||[],u.value=s.value.redoStack||[])}function ee(){d.value.length!==0&&(u.value.push([...h.value]),h.value=d.value.pop()||[])}function L(){u.value.length!==0&&(d.value.push([...h.value]),h.value=u.value.pop()||[])}function J(){y.value=!1}function re(){t.value=""}function te(){T(),h.value=[],t.value=""}const he=U(()=>d.value.length>0),Ie=U(()=>u.value.length>0);function ye(O){const N=i(O);b.value.x=N.x,b.value.y=N.y}function be(){b.value.visible=!1,y.value=!1}function $e(){b.value.visible=!0,b.value.radius=w.value}function W(){const O=new Image;O.src=n.imageSrc,O.onload=()=>{f.value=O,le(),Me()}}function le(){if(!f.value)return;const O=window.innerWidth,N=window.innerHeight,j=f.value.width/f.value.height;let K,X;const ue=Math.min(O*.9,1200),de=Math.min(N*.8,r.outputMaxSize);j>ue/de?(K=ue,X=K/j):(X=de,K=X*j),$.value={width:Math.floor(K),height:Math.floor(X)},Me()}function Me(){const O=$.value.width,N=$.value.height,j=f.value.width,K=f.value.height,X=O/j,ue=N/K,de=Math.min(X,ue);v.value={x:0,y:0,width:j*de,height:K*de}}return lt(()=>{W(),A()}),xe(()=>{if(o.value){const O=o.value.getNode();O.on("touchstart",c),O.on("touchmove",q),O.on("touchend",J),O.on("touchcancel",be)}}),Pt(()=>{if(o.value){const O=o.value.getNode();O.off("touchstart"),O.off("touchmove"),O.off("touchend"),O.off("touchcancel")}F()}),(O,N)=>{const j=Ce,K=we("v-image"),X=we("v-layer"),ue=we("v-circle"),de=we("v-stage"),Q=ne,Pe=qt,Et=rt;return p(),R("div",Pa,[_("div",Ra,[N[1]||(N[1]=_("p",{class:"text-sm my-2 text-slate-500"},"Select the target area for image inpaint",-1)),_("div",za,[e.imageSrc&&e.imageSrc!==""&&t.value!==""?(p(),M(j,{key:0,src:e.imageSrc,fit:"inside",width:a($).width,height:a($).height,draggable:"false",class:D({absolute:t.value!==""})},null,8,["src","width","height","class"])):C("",!0),t.value?(p(),M(j,{key:1,src:t.value,fit:"inside",width:a($).width,height:a($).height,draggable:"false",class:"opacity-50"},null,8,["src","width","height"])):C("",!0)]),t.value===""?(p(),M(de,{key:0,ref_key:"stageRef",ref:o,config:a($),onMousedown:c,onMousemove:q,onMouseup:J,onMouseleave:be,onMouseenter:$e},{default:P(()=>[k(X,{ref_key:"imageLayerRef",ref:l},{default:P(()=>[k(K,{image:a(f),config:a($)},null,8,["image","config"])]),_:1},512),k(X,{ref_key:"maskLayerRef",ref:m},{default:P(()=>[(p(!0),R(G,null,ie(a(h),(Ge,Lt)=>(p(),M(ue,{key:Lt,config:Ge},null,8,["config"]))),128)),a(b).visible?(p(),M(ue,{key:0,config:a(b)},null,8,["config"])):C("",!0)]),_:1},512)]),_:1},8,["config"])):C("",!0)]),_("div",Fa,[k(Q,{class:"mr-2",size:"xs",icon:"i-heroicons-clipboard-document-check-16-solid",variant:"soft",disabled:a(h).length===0||t.value!=="",onClick:g},{default:P(()=>N[2]||(N[2]=[V(" Apply ")])),_:1},8,["disabled"]),k(Q,{class:"mr-2",size:"xs",icon:"i-heroicons-arrow-uturn-left-16-solid",variant:"soft",color:"cyan",disabled:!a(he)||t.value!=="",onClick:ee},null,8,["disabled"]),k(Q,{class:"mr-2",size:"xs",icon:"i-heroicons-arrow-uturn-right-16-solid",variant:"soft",color:"cyan",disabled:!a(Ie)||t.value!=="",onClick:L},null,8,["disabled"]),k(Q,{class:"mr-2",size:"xs",icon:"i-heroicons-arrow-turn-up-left-20-solid",variant:"soft",disabled:a(h).length===0&&t.value==="",color:"red",onClick:te},{default:P(()=>N[3]||(N[3]=[V(" Reset ")])),_:1},8,["disabled"]),k(Q,{size:"xs",icon:"i-heroicons-pencil-solid",variant:"soft",disabled:t.value==="",color:"orange",onClick:re},{default:P(()=>N[4]||(N[4]=[V(" Edit ")])),_:1},8,["disabled"])]),_("div",Ua,[k(Et,{class:"mb-3 text-sm",hint:`value: ${a(w)}`,label:"Brush radius"},{default:P(()=>[k(Pe,{modelValue:a(w),"onUpdate:modelValue":N[0]||(N[0]=Ge=>Y(w)?w.value=Ge:null),min:1,max:100,size:"sm",class:"my-2",disabled:t.value!==""},null,8,["modelValue","disabled"])]),_:1},8,["hint"])])])}}}),ja="0.05";function Oa(e,n){const t=parseFloat(e);if(isNaN(t))return e;const s=t+n;return s<0?"0":String(Number(s.toFixed(10)))}function Ba(e,n){let t=n,s=n,r=0,o=0;for(;t>=0&&(t--,!(e[t]==="("&&r===o));)e[t]==="("&&r++,e[t]===")"&&o++;if(t<0)return!1;for(r=0,o=0;s<e.length&&!(e[s]===")"&&r===o);)e[s]==="("&&r++,e[s]===")"&&o++,s++;return s===e.length?!1:{start:t+1,end:s}}function Na(e){const n=/^\((.*)\)$/,t=e.match(n),s=/:([+-]?(\d*\.)?\d+([eE][+-]?\d+)?)/,r=e.match(s);return t&&!r?`(${t[1]}:1.0)`:e}function Va(e){const n=e.composedPath()[0],t=parseFloat(ja);if(n.tagName!=="TEXTAREA"||!(e.key==="ArrowUp"||e.key==="ArrowDown")||!e.ctrlKey&&!e.metaKey)return;e.preventDefault();let s=n.selectionStart,r=n.selectionEnd,o=n.value.substring(s,r);if(!o){const f=Ba(n.value,s);if(f)s=f.start,r=f.end,o=n.value.substring(s,r);else{const w=" .,\\/!?%^*;:{}=-_`~()\r\n	";for(;!w.includes(n.value[s-1])&&s>0;)s--;for(;!w.includes(n.value[r])&&r<n.value.length;)r++;if(o=n.value.substring(s,r),!o)return}}o[o.length-1]===" "&&(o=o.substring(0,o.length-1),r-=1),n.value[s-1]==="("&&n.value[r]===")"&&(s-=1,r+=1,o=n.value.substring(s,r)),(o[0]!=="("||o[o.length-1]!==")")&&(o=`(${o})`),o=Na(o);const l=e.key==="ArrowUp"?t:-t,m=o.replace(/\((.*):(\d+(?:\.\d+)?)\)/,(f,w,h)=>(h=Oa(h,l),Number(h)==1?w:`(${w}:${h})`));return n.setRangeText(m,s,r,"select"),n.value}const Da={key:0,class:"text-red-300"},qa={key:0,class:"flex items-center"},Aa={key:2,class:"flex flex-row flex-grow items-center justify-between"},Ea={key:3,class:"flex flex-row flex-grow items-center"},La={class:"sm:inline"},Wa={class:"preview-over-original relative"},Ha={key:1,class:"text-red-300 text-sm"},Qa=H({__name:"InputParam",props:{inputParam:{type:Object,required:!0},index:{type:Number,required:!0},inputParamsMap:{type:Array,required:!0},advanced:{type:Boolean,default:!1}},setup(e){const n=e,t=S(!1),s=S(null),r=S(""),o=S({width:0,height:0}),l=S(""),m=S({}),f=S(null),w=n.inputParamsMap[n.index][n.inputParam.name].source_input_name,h=n.inputParamsMap.findIndex(i=>{if(Object.keys(i)[0]===n.inputParamsMap[n.index][n.inputParam.name].source_input_name)return!0});function $(){try{const i=n.inputParamsMap.find(c=>{const z=Object.keys(c)[0];if(z===w)return c[z]});y(i[w].value)}catch{o.value.width=0,o.value.height=0}}xe(()=>{n.inputParam.type==="range_scale"&&$(),n.inputParam.type==="image-mask"&&se(l,i=>{const c=new File([l.value],`image-mask-${n.inputParam.name}.png`,{type:"image/png"});n.inputParamsMap[n.index][n.inputParam.name].value=c,n.inputParamsMap[n.index][n.inputParam.name].mask_applied=i!==""})}),n.inputParam.type==="range_scale"&&se(n.inputParamsMap,()=>{$()});function v(i){return i?URL.createObjectURL(i):""}function x(){URL.revokeObjectURL(r.value),r.value="",s.value&&(s.value.$refs.input.value=""),n.inputParamsMap[n.index][n.inputParam.name].value=null,n.inputParamsMap[n.index][n.inputParam.name].image_preview_url=""}function b(){URL.revokeObjectURL(l.value),l.value="",m.value={},n.inputParamsMap[n.index][n.inputParam.name].value=null,n.inputParamsMap[n.index][n.inputParam.name].mask_applied=!1}const I=U(()=>n.inputParam.type!=="bool"?n.inputParam.display_name:"");function y(i){if(!(i instanceof File)){o.value.width=0,o.value.height=0;return}const c=URL.createObjectURL(i),z=new Image;z.onload=function(){o.value.width=z.naturalWidth,o.value.height=z.naturalHeight,URL.revokeObjectURL(z.src)},z.src=c}const d=U(()=>{if(n.inputParam.type==="range_scale"){const i=n.inputParamsMap[n.index][n.inputParam.name].value;return`value: ${i}x (${o.value.width}x${o.value.height} -> ${(o.value.width*i).toFixed(0)}x${(o.value.height*i).toFixed(0)})`}return["range","range_scale"].includes(n.inputParam.type)?`value: ${n.inputParamsMap[n.index][n.inputParam.name].value}`:""}),u=S(null);function g(i){const c=Va(i);c&&(n.inputParamsMap[n.index][n.inputParam.name].value=c)}return xe(()=>{n.inputParam.type==="text"&&u.value&&u.value.$refs.textarea.addEventListener("keydown",g),n.inputParam.type==="image-mask"&&(f.value=n.inputParamsMap[h][w],se(n.inputParamsMap[h][w],i=>{l.value="",m.value={},f.value=i}))}),Pt(()=>{URL.revokeObjectURL(r.value),URL.revokeObjectURL(l.value),n.inputParam.type==="text"&&u.value&&u.value.$refs.textarea.removeEventListener("keydown",g)}),(i,c)=>{var te;const z=na,B=it,q=ne,T=Ce,F=Ta,A=Te,ee=jt,L=ut,J=qt,re=rt;return(((te=e.inputParam)==null?void 0:te.advanced)||!1)===e.advanced?(p(),M(re,{key:0,label:a(I),class:"mb-3",help:a(d)},{hint:P(()=>[e.inputParam.optional?C("",!0):(p(),R("span",Da,"required"))]),default:P(()=>{var he,Ie,ye,be,$e;return[e.inputParam.type==="text"?(p(),M(z,{key:0,ref_key:"textareaInput",ref:u,size:"md",placeholder:e.inputParam.display_name,required:!e.inputParam.optional,resize:!0,label:e.inputParam.display_name,value:e.inputParamsMap[e.index][e.inputParam.name].value,autoresize:"",variant:"outline",onInput:c[0]||(c[0]=W=>{const le=W.target;e.inputParamsMap[e.index][e.inputParam.name].value=le.value})},null,8,["placeholder","required","label","value"])):C("",!0),e.inputParam.type==="number"?(p(),R(G,{key:1},[e.inputParam.name==="seed"?(p(),R("div",qa,[e.inputParam.type==="number"?(p(),M(B,{key:0,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":c[1]||(c[1]=W=>e.inputParamsMap[e.index][e.inputParam.name].value=W),type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline"},null,8,["modelValue","label","required","max","min"])):C("",!0),k(q,{icon:"i-heroicons-arrow-path",color:"violet",variant:"outline",size:"xs",class:"ml-2",onClick:c[2]||(c[2]=()=>{e.inputParamsMap[e.index][e.inputParam.name].value=Math.floor(Math.random()*1e7)})})])):(p(),M(B,{key:1,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":c[3]||(c[3]=W=>e.inputParamsMap[e.index][e.inputParam.name].value=W),type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline"},null,8,["modelValue","label","required","max","min"]))],64)):C("",!0),e.inputParam.type==="image"?(p(),R("div",Aa,[k(B,{ref_key:"imageInput",ref:s,type:"file",accept:"image/*",class:"w-full",variant:"outline",color:"gray",label:e.inputParam.display_name,onChange:c[4]||(c[4]=W=>{console.debug("files",W);const le=W==null?void 0:W[0];e.inputParamsMap[e.index][e.inputParam.name].value=le,r.value=v(le),e.inputParamsMap[e.index][e.inputParam.name].image_preview_url=a(r),console.debug("inputParamsMap",e.inputParamsMap)})},null,8,["label"]),a(r)!==""?(p(),M(T,{key:0,src:a(l)?a(l):a(r),class:"h-10 rounded-lg cursor-pointer ml-2",onClick:c[5]||(c[5]=()=>{t.value=!0})},null,8,["src"])):C("",!0),a(r)!==""?(p(),M(q,{key:1,icon:"i-heroicons-x-mark",variant:"outline",class:"ml-2",onClick:x})):C("",!0)])):C("",!0),e.inputParam.type==="image-mask"?(p(),R("div",Ea,[a(f)?(p(),M(q,{key:0,icon:"i-heroicons-paint-brush-16-solid",class:"mr-2",color:"violet",variant:"outline",size:"xs",disabled:!((he=a(f))!=null&&he.value),onClick:c[6]||(c[6]=()=>{t.value=!0})},{default:P(()=>[_("span",La,E(a(l)!==""?"Edit mask":"Draw mask"),1)]),_:1},8,["disabled"])):C("",!0),_("div",Wa,[a(f)&&((Ie=a(f))!=null&&Ie.value)?(p(),M(T,{key:0,src:(ye=a(f))==null?void 0:ye.image_preview_url,class:D(["h-10 rounded-lg cursor-pointer",{absolute:a(l)!==""}]),onClick:c[7]||(c[7]=()=>{t.value=!0})},null,8,["src","class"])):C("",!0),a(l)?(p(),M(T,{key:1,src:a(l),class:"h-10 rounded-lg cursor-pointer opacity-50",onClick:c[8]||(c[8]=()=>{t.value=!0})},null,8,["src"])):C("",!0)]),!a(f)||a(f)&&!((be=a(f))!=null&&be.value)?(p(),R("span",Ha," Select source image ")):C("",!0),a(l)?(p(),M(q,{key:2,icon:"i-heroicons-x-mark",variant:"outline",color:"violet",class:"ml-2",onClick:b})):C("",!0)])):C("",!0),e.inputParam.type==="image"||e.inputParam.type==="image-mask"?(p(),M(A,{key:4,modelValue:a(t),"onUpdate:modelValue":c[13]||(c[13]=W=>Y(t)?t.value=W:null),class:"z-[90] overflow-y-auto",transition:!1,fullscreen:""},{default:P(()=>{var W;return[k(q,{class:"absolute top-4 right-4 z-[100]",icon:"i-heroicons-x-mark",variant:"ghost",onClick:c[9]||(c[9]=()=>t.value=!1)}),e.inputParam.type==="image"?(p(),R("div",{key:0,class:"flex items-center justify-center w-full h-full p-4",onClick:c[10]||(c[10]=Le(()=>t.value=!1,["left"]))},[k(T,{class:"lg:h-full",fit:"inside",src:a(r)},null,8,["src"])])):(p(),M(F,{key:1,ref:"imageInpaint","image-inpaint-mask":a(l),"onUpdate:imageInpaintMask":c[11]||(c[11]=le=>Y(l)?l.value=le:null),"image-inpaint-mask-data":a(m),"onUpdate:imageInpaintMaskData":c[12]||(c[12]=le=>Y(m)?m.value=le:null),class:"flex items-center justify-center w-full h-full p-4","image-src":(W=a(f))==null?void 0:W.image_preview_url},null,8,["image-inpaint-mask","image-inpaint-mask-data","image-src"]))]}),_:1},8,["modelValue"])):C("",!0),e.inputParam.type==="list"?(p(),M(ee,{key:5,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":c[14]||(c[14]=W=>e.inputParamsMap[e.index][e.inputParam.name].value=W),placeholder:e.inputParam.display_name,options:Object.keys(e.inputParam.options)},null,8,["modelValue","placeholder","options"])):C("",!0),e.inputParam.type==="bool"?(p(),M(L,{key:6,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":c[15]||(c[15]=W=>e.inputParamsMap[e.index][e.inputParam.name].value=W),label:($e=e.inputParam)==null?void 0:$e.display_name},null,8,["modelValue","label"])):C("",!0),["range","range_scale"].includes(e.inputParam.type)?(p(),M(J,{key:7,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":c[16]||(c[16]=W=>e.inputParamsMap[e.index][e.inputParam.name].value=W),label:e.inputParam.display_name,size:"sm",min:e.inputParam.min,max:e.inputParam.max,step:e.inputParam.step},null,8,["modelValue","label","min","max","step"])):C("",!0)]}),_:1},8,["label","help"])):C("",!0)}}}),Ja={key:0,class:"heading"},Ka={key:1},Ga=H({__name:"InputParams",props:{inputParamsMap:{type:Array,required:!0},additionalInputParamsMap:{type:Array,required:!1,default:[]},advanced:{type:Boolean,default:!1}},setup(e){const n=e,t=me(),s=S(!n.advanced);return(r,o)=>{const l=ve,m=Qa;return p(),R(G,null,[e.advanced?(p(),R("div",Ja,[_("h4",{class:"text-md font-bold cursor-pointer select-none flex items-center mb-3",onClick:o[0]||(o[0]=()=>{s.value=!a(s)})},[k(l,{name:a(s)?"i-heroicons-chevron-up":"i-heroicons-chevron-down",class:"mr-2"},null,8,["name"]),o[1]||(o[1]=V(" Advanced options "))])])):C("",!0),a(s)?(p(),R("div",Ka,[(p(!0),R(G,null,ie(a(t).currentFlow.input_params,(f,w)=>(p(),M(m,{key:w,"input-params-map":e.inputParamsMap,index:w,"input-param":f,advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128)),(p(!0),R(G,null,ie(e.additionalInputParamsMap,(f,w)=>(p(),M(m,{key:Object.keys(f)[0],"input-params-map":e.additionalInputParamsMap,index:w,"input-param":f[Object.keys(f)[0]],advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128))])):C("",!0)],64)}}}),Xa={key:0,id:"prompt",class:"w-full my-10 lg:my-0 p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg"},Ya={class:"action flex items-center"},Za=H({__name:"Prompt",setup(e,{expose:n}){var y,d,u,g;const t=me();let s=localStorage.getItem(`input_params_map_${(y=t.currentFlow)==null?void 0:y.name}`);if(s){const i=JSON.parse(s);"flow_version"in i&&i.flow_version.split(".")[0]===((d=t.currentFlow)==null?void 0:d.version.split(".")[0])?s=i:(s=null,localStorage.removeItem(`input_params_map_${(u=t.currentFlow)==null?void 0:u.name}`))}const r=S(((g=t.currentFlow)==null?void 0:g.input_params.map(i=>{var c;if(i.type==="text")return{[i.name]:{value:s!==null&&s[i.name]?s[i.name]:i.default||"",type:i.type,optional:i.optional,advanced:i.advanced||!1,default:i.default||"",translatable:i.translatable||!1}};if(i.type==="number")return{[i.name]:{value:s!==null&&s[i.name]?s[i.name]:i.default||0,type:i.type,optional:i.optional,advanced:i.advanced||!1,default:i.default||0}};if(i.type==="image")return{[i.name]:{value:null,type:i.type,optional:i.optional,advanced:i.advanced||!1}};if(i.type==="image-mask")return{[i.name]:{value:null,type:i.type,optional:i.optional,advanced:i.advanced||!1,source_input_name:i.source_input_name||null}};if(i.type==="list")return{[i.name]:{value:s!==null&&s[i.name]?s[i.name]:i.default||Object.keys(i.options)[0]||"",type:i.type,optional:i.optional,options:i.options,advanced:i.advanced||!1,default:Object.keys(i.options)[0]||""}};if(i.type==="bool")return{[i.name]:{value:s!==null&&s[i.name]?s[i.name]:i.default||!1,type:i.type,optional:i.optional,advanced:i.advanced||!1,default:i.default||!1}};if(["range","range_scale"].includes(i.type)){const z={value:s!==null&&s[i.name]?s[i.name]:i.default||0,type:i.type,optional:i.optional,advanced:i.advanced||!1,min:i.min||0,max:i.max||100,step:i.step||1,default:i.default||0};if(i.type==="range_scale"&&(z.source_input_name=i.source_input_name||null,z.source_input_name===null||z.source_input_name==="")){const B=(c=t.currentFlow)==null?void 0:c.input_params.find(q=>q.type==="image"&&!q.optional);B&&(z.source_input_name=B.name)}return{[i.name]:z}}}))||[]),o=S([]);t.currentFlow.is_seed_supported&&o.value.push({seed:{name:"seed",display_name:"Random seed",value:Math.floor(Math.random()*1e7),type:"number",optional:!0,advanced:!0,min:0,max:1e7}});const l=bn(),m=S(t.currentFlow.is_translations_supported&&l.settingsMap.translations_provider.value.trim()!==""),f=S(m.value);lt(()=>{const i=localStorage.getItem("translatePrompt");i&&(f.value=JSON.parse(i))}),se(f,i=>{localStorage.setItem("translatePrompt",JSON.stringify(i))});function w(i){console.debug("Copy prompt inputs",i),Object.keys(i).forEach(z=>{const B=r.value.findIndex(q=>Object.keys(q)[0]===z);B!==-1&&(r.value[B][z].value=i[z].value)});const c=document.getElementById("prompt");c&&c.scrollIntoView({behavior:"smooth"})}n({copyPromptInputs:w}),r.value.forEach(i=>{const c=Object.keys(i)[0];["image","image-mask"].includes(i[c].type)||se(()=>i[c].value,()=>{var B,q;const z={};r.value.forEach(T=>{const F=Object.keys(T)[0];z[F]=T[F].value}),localStorage.setItem(`input_params_map_${(B=t.currentFlow)==null?void 0:B.name}`,JSON.stringify({...z,flow_version:(q=t.currentFlow)==null?void 0:q.version}))})});const h=U(()=>r.value.filter(i=>{const c=Object.keys(i)[0];return!["image","image-mask"].includes(i[c].type)}).some(i=>{const c=Object.keys(i)[0];return i[c].value!==i[c].default}));function $(){r.value.forEach(i=>{const c=Object.keys(i)[0];i[c].type==="text"?i[c].value=i[c].default||"":i[c].type==="number"?i[c].value=i[c].default||i[c].min||0:i[c].type==="list"?i[c].value=Object.keys(i[c].options)[0]||"":i[c].type==="bool"?i[c].value=i[c].default||!1:["range","range_scale"].includes(i[c].type)&&(i[c].value=i[c].default||i[c].min||0)})}const v=S(!1),x=S(1),b=S(!1),I=U(()=>r.value.every(i=>{var B;const c=Object.keys(i)[0];if(i[c].optional)return!0;const z=i[c].value;if(i[c].type==="text")return z!=="";if(i[c].type==="number")return z>=i[c].min&&z<=i[c].max;if(i[c].type==="list")return z!==""&&Object.keys(i[c].options).includes(z);if(i[c].type==="bool")return!0;if(i[c].type==="range")return z>=i[c].min&&z<=i[c].max;if(i[c].type==="range_scale")return z>=i[c].min&&z<=i[c].max;if(i[c].type==="image")return z instanceof File&&z.size>0;if(i[c].type==="image-mask")return z instanceof File&&z.size>0&&(((B=i[c])==null?void 0:B.mask_applied)||!1)}));return(i,c)=>{const z=ve,B=Ga,q=it,T=rt,F=ut,A=ne,ee=He;return a(t).currentFlow?(p(),R("div",Xa,[_("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:c[0]||(c[0]=()=>{b.value=!a(b)})},[k(z,{name:a(b)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),c[8]||(c[8]=V(" Prompt "))]),at(_("div",null,[k(B,{"input-params-map":a(r),"onUpdate:inputParamsMap":c[1]||(c[1]=L=>Y(r)?r.value=L:null),"additional-input-params-map":a(o),"onUpdate:additionalInputParamsMap":c[2]||(c[2]=L=>Y(o)?o.value=L:null),advanced:!1},null,8,["input-params-map","additional-input-params-map"]),a(o).length>0?(p(),M(B,{key:0,"input-params-map":a(r),"onUpdate:inputParamsMap":c[3]||(c[3]=L=>Y(r)?r.value=L:null),"additional-input-params-map":a(o),"onUpdate:additionalInputParamsMap":c[4]||(c[4]=L=>Y(o)?o.value=L:null),advanced:!0},null,8,["input-params-map","additional-input-params-map"])):C("",!0),a(t).currentFlow.is_count_supported?(p(),M(T,{key:1,label:"Number of results"},{default:P(()=>[k(q,{modelValue:a(x),"onUpdate:modelValue":c[5]||(c[5]=L=>Y(x)?x.value=L:null),type:"number",min:"1",max:"50",label:"Batch size",class:"mb-3 max-w-fit flex justify-end"},null,8,["modelValue"])]),_:1})):C("",!0),a(m)?(p(),M(T,{key:2,class:"my-3 flex justify-end"},{default:P(()=>[k(F,{modelValue:a(f),"onUpdate:modelValue":c[6]||(c[6]=L=>Y(f)?f.value=L:null),label:"Translate prompt"},null,8,["modelValue"])]),_:1})):C("",!0),_("div",{class:D(["flex",{"justify-between":a(h),"justify-end":!a(h)}])},[a(h)?(p(),M(ee,{key:0,text:"Reset input params values to defaults"},{default:P(()=>[k(A,{icon:"i-heroicons-arrow-path-rounded-square",variant:"ghost",color:"amber",onClick:$},{default:P(()=>c[9]||(c[9]=[V(" Reset params ")])),_:1})]),_:1})):C("",!0),_("div",Ya,[k(A,{icon:"i-heroicons-sparkles-16-solid",variant:"outline",loading:a(v),disabled:!a(I),onClick:c[7]||(c[7]=()=>{v.value=!0,a(t).runFlow(a(t).currentFlow,[...a(r),...a(o)],a(x),a(m)&&a(f)).finally(()=>{v.value=!1;const L=a(o).find(J=>Object.keys(J)[0]==="seed");L.seed.value=Number(L.seed.value)+a(x)+1})})},{default:P(()=>c[10]||(c[10]=[V(" Run prompt ")])),_:1},8,["loading","disabled"])])],2)],512),[[Rt,!a(b)]])])):C("",!0)}}}),el=e=>{const n=S(0);function t(o){e.value.style.scrollSnapType="none",e.value.style.scrollBehavior="auto",n.value=o.pageX,window.addEventListener("mousemove",r),window.addEventListener("mouseup",s)}function s(){e.value.style.removeProperty("scroll-behavior"),e.value.style.removeProperty("scroll-snap-type"),e.value.style.removeProperty("pointer-events"),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",s)}function r(o){o.preventDefault(),e.value.style.pointerEvents="none";const l=o.pageX-n.value;n.value=o.pageX,e.value.scrollBy(-l,0)}xe(()=>{e.value&&e.value.addEventListener("mousedown",t)}),Ae(()=>{e.value&&e.value.removeEventListener("mousedown",t)})},Ye=Ne(ce.ui.strategy,ce.ui.carousel,Nn),tl=H({components:{UButton:ne},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},arrows:{type:Boolean,default:!1},indicators:{type:Boolean,default:!1},dir:{type:String,default:"ltr"},prevButton:{type:Object,default:()=>Ye.default.prevButton},nextButton:{type:Object,default:()=>Ye.default.nextButton},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:void 0}},setup(e,{expose:n}){const{ui:t,attrs:s}=Be("carousel",Se(e,"ui"),Ye,Se(e,"class")),r=S(),o=S(0),{x:l}=wn(r,{behavior:"smooth"}),{width:m}=kn(r);el(r),xn(r,y=>{var u,g;const[d]=y;o.value=((g=(u=d==null?void 0:d.target)==null?void 0:u.firstElementChild)==null?void 0:g.clientWidth)||0});const f=U(()=>e.dir==="rtl"),w=U(()=>o.value?f.value?Math.round(-l.value/o.value)+1:Math.round(l.value/o.value)+1:0),h=U(()=>{if(!o.value)return 0;const y=Math.round(m.value/o.value);return e.items.length<=y?0:e.items.length-y+1}),$=U(()=>w.value<=1),v=U(()=>w.value===h.value);function x(){l.value+=f.value?-o.value:o.value}function b(){l.value-=f.value?-o.value:o.value}function I(y){l.value=(y-1)*o.value*(f.value?-1:1)}return n({pages:h,page:w,prev:b,next:x,select:I}),{ui:t,attrs:s,isFirst:$,isLast:v,carouselRef:r,pages:h,currentPage:w,onClickNext:x,onClickPrev:b,onClick:I,twMerge:Ue}}}),nl=["dir"],al=["role"],ll=["aria-selected","aria-label","onClick"];function ol(e,n,t,s,r,o){const l=ne;return p(),R("div",ge({class:e.ui.wrapper},e.attrs,{dir:e.dir}),[_("div",{ref:"carouselRef",class:D([e.ui.container,"no-scrollbar"])},[(p(!0),R(G,null,ie(e.items,(m,f)=>(p(),R("div",{key:f,class:D(e.ui.item),role:e.indicators?"tabpanel":null},[ze(e.$slots,"default",{item:m,index:f},void 0,!0)],10,al))),128))],2),e.arrows?(p(),R("div",{key:0,class:D(e.ui.arrows.wrapper)},[ze(e.$slots,"prev",{onClick:e.onClickPrev,disabled:e.isFirst},()=>{var m;return[e.prevButton?(p(),M(l,ge({key:0,disabled:e.isFirst},{...e.ui.default.prevButton,...e.prevButton},{class:e.twMerge(e.ui.default.prevButton.class,(m=e.prevButton)==null?void 0:m.class),"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["disabled","class","onClick"])):C("",!0)]},!0),ze(e.$slots,"next",{onClick:e.onClickNext,disabled:e.isLast},()=>{var m;return[e.nextButton?(p(),M(l,ge({key:0,disabled:e.isLast},{...e.ui.default.nextButton,...e.nextButton},{class:e.twMerge(e.ui.default.nextButton.class,(m=e.nextButton)==null?void 0:m.class),"aria-label":"Next",onClick:e.onClickNext}),null,16,["disabled","class","onClick"])):C("",!0)]},!0)],2)):C("",!0),e.indicators?(p(),R("div",{key:1,role:"tablist",class:D(e.ui.indicators.wrapper)},[(p(!0),R(G,null,ie(e.pages,m=>ze(e.$slots,"indicator",{key:m,onClick:e.onClick,active:m===e.currentPage,page:m},()=>[_("button",{type:"button",role:"tab","aria-selected":m===e.currentPage,class:D([e.ui.indicators.base,m===e.currentPage?e.ui.indicators.active:e.ui.indicators.inactive]),"aria-label":`set slide ${m}`,onClick:f=>e.onClick(m)},null,10,ll)],!0)),128))],2)):C("",!0)],16,nl)}const Ke=Oe(tl,[["render",ol],["__scopeId","data-v-5fdb8633"]]),sl={class:"flex flex-col basis-full"},il=H({__name:"InputFiles",props:{running:{type:Object,required:!0}},setup(e){const n=dt(),t=function(m,f){return`${zt()}/tasks/inputs?task_id=${m}&input_index=${f}`},s=S(!1),r=S(""),o=S(0),l=S(!0);return(m,f)=>{var b,I,y,d,u;const w=ve,h=Ce,$=Ke,v=ne,x=Te;return e.running&&e.running.input_files&&((b=Object.keys(e.running.input_files))==null?void 0:b.length)>0?(p(),R("div",{key:0,class:D(["ml-2 mt-2 mb-5",{"mb-10":((I=Object.keys(e.running.input_files))==null?void 0:I.length)>1&&!a(l)}])},[_("h4",{class:"mb-3 font-bold cursor-pointer select-none flex items-center text-sm",onClick:f[0]||(f[0]=()=>l.value=!a(l))},[k(w,{name:a(l)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),_("span",null," Input files ("+E((y=Object.keys(e.running.input_files))==null?void 0:y.length)+") ",1)]),a(l)?C("",!0):(p(),R(G,{key:0},[((d=Object.keys(e.running.input_files))==null?void 0:d.length)===1?(p(),M(h,{key:0,class:"mb-5 rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:a(n)(`${("buildBackendUrl"in m?m.buildBackendUrl:a(nt))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:t(e.running.task_id,0),onClick:f[1]||(f[1]=()=>{r.value=t(e.running.task_id,0),o.value=0,s.value=!0})},null,8,["placeholder","src"])):C("",!0),((u=Object.keys(e.running.input_files))==null?void 0:u.length)>1?(p(),M($,{key:1,items:Object.keys(e.running.input_files).map(g=>({task_id:e.running.task_id,index:g})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:P(({item:g})=>[_("div",sl,[k(h,{class:"rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:a(n)(`${("buildBackendUrl"in m?m.buildBackendUrl:a(nt))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:t(g.task_id,g.index),onClick:()=>{r.value=t(e.running.task_id,g.index),o.value=g.index,s.value=!0}},null,8,["placeholder","src","onClick"])])]),_:1},8,["items"])):C("",!0),k(x,{modelValue:a(s),"onUpdate:modelValue":f[4]||(f[4]=g=>Y(s)?s.value=g:null),class:"z-[90]",transition:!1,fullscreen:""},{default:P(()=>[k(v,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:f[2]||(f[2]=()=>s.value=!1)}),_("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:f[3]||(f[3]=Le(()=>s.value=!1,["left"]))},[a(r)?(p(),M(h,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",placeholder:"/vix_logo.png",src:a(r)},null,8,["src"])):C("",!0)])]),_:1},8,["modelValue"])],64))],2)):C("",!0)}}}),rl=H({__name:"ErrorAlert",props:{running:{type:Object,required:!0}},setup(e){const n=me(),t=S(!1);return(s,r)=>{const o=Bt;return p(),M(o,{class:"mb-5",icon:"i-heroicons-exclamation-circle-16-solid",color:"red",variant:"soft",title:"Task failed",description:e.running.error,actions:[{variant:"outline",color:"yellow",label:"Restart",loading:a(t),icon:"i-heroicons-arrow-path",click:()=>{t.value=!0,a(n).restartFlow(e.running).finally(()=>{t.value=!1})}}]},null,8,["description","actions"])}}}),ul={class:"mb-5"},dl={class:"text-sm mb-5 text-slate-500"},cl={class:"flex justify-between"},ml=H({__name:"Item",props:{running:{type:Object,required:!0}},setup(e){const n=me(),t=S(!1),s=S(!1);function r(o){return[[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var l;return n.downloadFlowComfy((l=n.currentFlow)==null?void 0:l.name,o.task_id)}}],[{label:`Raise priority ${o.priority>0?`(${o.priority})`:""}`,labelClass:"text-gray-500",icon:"i-heroicons-arrow-up",iconClass:"bg-gray-500",disabled:o.priority===15||o.progress>0,click:()=>{s.value=!0,n.raiseQueuePriority(o).finally(()=>{s.value=!1})}},{label:`Lower priority ${o.priority>0?`(${o.priority})`:""}`,labelClass:"text-gray-500",icon:"i-heroicons-arrow-down",iconClass:"bg-gray-500",disabled:o.priority===0||o.progress>0,click:()=>{s.value=!0,n.lowerQueuePriority(o).finally(()=>{s.value=!1})}},{label:`Reset priority ${o.priority>0?`(${o.priority})`:""}`,labelClass:"text-gray-500",icon:"i-heroicons-arrow-path-rounded-square-solid",iconClass:"bg-gray-500",disabled:o.priority===0||o.progress>0,click:()=>{s.value=!0,n.resetQueuePriority(o).finally(()=>{s.value=!1})}}]]}return(o,l)=>{var v,x;const m=Ot,f=il,w=rl,h=ne,$=Je;return p(),R("div",ul,[k(m,{class:"mb-3",value:(v=e.running)==null?void 0:v.progress,indicator:"",color:e.running.error?"red":"green"},null,8,["value","color"]),_("p",dl,E([`${(x=e.running)!=null&&x.priority&&e.running.priority>0?"["+e.running.priority+"] ":""}#${e.running.task_id}`,...Object.keys(e.running.input_params_mapped).filter(b=>e.running.input_params_mapped[b].value&&e.running.input_params_mapped[b].value!=="").map(b=>`${e.running.input_params_mapped[b].display_name}: ${e.running.input_params_mapped[b].value}`)].join(" | ")+`${e.running.execution_time?" | execution_time: "+e.running.execution_time.toFixed(2)+"s":""}`),1),k(f,{running:e.running},null,8,["running"]),e.running.error?(p(),M(w,{key:0,running:e.running},null,8,["running"])):C("",!0),_("div",cl,[k(h,{icon:e.running.progress>=0&&e.running.progress<100?"i-heroicons-stop":"i-heroicons-minus-circle",color:e.running.error?"red":"orange",variant:"outline",loading:a(t),onClick:l[0]||(l[0]=()=>{t.value=!0,a(n).cancelRunningFlow(e.running).finally(()=>{t.value=!1})})},{default:P(()=>[V(E(e.running.progress>=0&&e.running.progress<100?"Cancel":"Remove"),1)]),_:1},8,["icon","color","loading"]),k($,{items:r(e.running),mode:"click",popper:{placement:"bottom-end"}},{default:P(()=>[k(h,{color:"blue",variant:"outline",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:1},8,["items"])])])}}}),fl={class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md mt-5 mb-10"},pl={class:"flex items-center justify-between mb-2"},vl={key:0},gl={key:1,class:"text-red-400"},hl=H({__name:"Queue",setup(e){const n=me(),t=S(!0),s=S(!1);return(r,o)=>{var w,h,$,v,x,b,I,y,d;const l=ve,m=ne,f=ml;return p(),R("div",fl,[_("div",pl,[_("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center",onClick:o[0]||(o[0]=()=>{t.value=!a(t)})},[k(l,{name:a(t)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),_("span",null," Queue ("+E(a(n).flowsRunningByName((w=a(n).currentFlow)==null?void 0:w.name).length)+") ",1),a(n).flowsRunningByName((h=a(n).currentFlow)==null?void 0:h.name).length>0?(p(),R("span",vl," - "+E(`${((v=a(n).flowsRunningByName(($=a(n).currentFlow)==null?void 0:$.name).filter(u=>u.progress>0)[0])==null?void 0:v.progress.toFixed(0))??0}%`),1)):C("",!0),a(n).flowsRunningByNameWithErrors((x=a(n))==null?void 0:x.currentFlow.name).length>0?(p(),R("span",gl," ("+E(a(n).flowsRunningByNameWithErrors((b=a(n).currentFlow)==null?void 0:b.name).length)+") ",1)):C("",!0)]),(I=a(n).currentFlow)!=null&&I.name&&a(n).flowsRunningByName((y=a(n).currentFlow)==null?void 0:y.name).length>0?(p(),M(m,{key:0,icon:"i-heroicons-stop",color:"orange",variant:"outline",loading:a(s),onClick:o[1]||(o[1]=()=>{var u;s.value=!0,a(n).cancelRunningFlows((u=a(n).currentFlow)==null?void 0:u.name).finally(()=>{s.value=!1})})},{default:P(()=>o[2]||(o[2]=[V(" Cancel all ")])),_:1},8,["loading"])):C("",!0)]),a(t)?C("",!0):(p(!0),R(G,{key:0},ie(a(n).flowsRunningByName((d=a(n).currentFlow)==null?void 0:d.name),u=>(p(),M(f,{key:u.task_id,running:u},null,8,["running"]))),128))])}}}),yl=H({__name:"ScrollToTop",props:{show:{type:Boolean,required:!0},target:{type:String,required:!0}},setup(e){const n=e;function t(){const s=document.getElementById(n.target);s&&s.scrollIntoView({behavior:"smooth"})}return(s,r)=>{const o=ne;return e.show?(p(),M(o,{key:0,icon:"i-heroicons-arrow-small-up",color:"black",variant:"outline",onClick:t})):C("",!0)}}}),Re=Ne(ce.ui.strategy,ce.ui.toggle,Vn),bl=H({components:{HSwitch:Kn,UIcon:ve},inheritAttrs:!1,props:{id:{type:String,default:null},name:{type:String,default:null},modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onIcon:{type:String,default:()=>Re.default.onIcon},offIcon:{type:String,default:()=>Re.default.offIcon},loadingIcon:{type:String,default:()=>Re.default.loadingIcon},color:{type:String,default:()=>Re.default.color,validator(e){return ce.ui.colors.includes(e)}},size:{type:String,default:()=>Re.default.size,validator(e){return Object.keys(Re.size).includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:n}){const{ui:t,attrs:s}=Be("toggle",Se(e,"ui"),Re),{emitFormChange:r,color:o,inputId:l,name:m}=st(e),f=U({get(){return e.modelValue},set(b){n("update:modelValue",b),n("change",b),r()}}),w=U(()=>Ue(fe(t.value.base,t.value.size[e.size],t.value.rounded,o.value&&t.value.ring.replaceAll("{color}",o.value),o.value&&(f.value?t.value.active:t.value.inactive).replaceAll("{color}",o.value)),e.class)),h=U(()=>fe(t.value.container.base,t.value.container.size[e.size],f.value?t.value.container.active[e.size]:t.value.container.inactive)),$=U(()=>fe(t.value.icon.size[e.size],o.value&&t.value.icon.on.replaceAll("{color}",o.value))),v=U(()=>fe(t.value.icon.size[e.size],o.value&&t.value.icon.off.replaceAll("{color}",o.value))),x=U(()=>fe(t.value.icon.size[e.size],o.value&&t.value.icon.loading.replaceAll("{color}",o.value)));return St(()=>Ct()),{ui:t,attrs:s,name:m,inputId:l,active:f,switchClass:w,containerClass:h,onIconClass:$,offIconClass:v,loadingIconClass:x}}});function wl(e,n,t,s,r,o){const l=ve,m=we("HSwitch");return p(),M(m,ge({id:e.inputId,modelValue:e.active,"onUpdate:modelValue":n[0]||(n[0]=f=>e.active=f),name:e.name,disabled:e.disabled||e.loading,class:e.switchClass},e.attrs),{default:P(()=>[_("span",{class:D(e.containerClass)},[e.loading?(p(),R("span",{key:0,class:D([e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[k(l,{name:e.loadingIcon,class:D(e.loadingIconClass)},null,8,["name","class"])],2)):C("",!0),!e.loading&&e.onIcon?(p(),R("span",{key:1,class:D([e.active?e.ui.icon.active:e.ui.icon.inactive,e.ui.icon.base]),"aria-hidden":"true"},[k(l,{name:e.onIcon,class:D(e.onIconClass)},null,8,["name","class"])],2)):C("",!0),!e.loading&&e.offIcon?(p(),R("span",{key:2,class:D([e.active?e.ui.icon.inactive:e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[k(l,{name:e.offIcon,class:D(e.offIconClass)},null,8,["name","class"])],2)):C("",!0)],2)]),_:1},16,["id","modelValue","name","disabled","class"])}const kl=Oe(bl,[["render",wl]]);function At(e={}){const{copy:n,isSupported:t}=In(),s=We();function r(o,l={},m={}){t&&n(o).then(()=>{!l.title&&!l.description||s.add({...l,...e})},function(f){s.add({...m,description:m.description||f.message,...e})})}return{copy:r}}const xl={class:"flex flex-col items-center mb-2 max-w-fit mx-auto z-0"},Il={class:"text-slate-500 text-center text-sm w-full mx-auto flex flex-wrap items-center justify-center md:justify-between"},$l={class:"toggles py-2"},_l={class:"mr-2 inline-flex items-center text-sm"},Sl=["for"],Cl={class:"mr-2 inline-flex items-center text-sm"},Ml=["for"],Pl={key:0,class:"flex items-center"},Rl=["title"],zl=H({__name:"Child",props:{flowResult:{type:Object,required:!0},outputsIndex:{type:Number,required:!1,default:()=>0},openImageModal:{type:Function,required:!0}},setup(e){const n=e,t=me(),s=(u,g=null,i=!1)=>{if(u.child_tasks.length===0)return u;const c=u.child_tasks.findIndex(z=>z.parent_task_node_id===g);return c!==-1?(i||(o.value=u),s(u.child_tasks[c],u.child_tasks[c].outputs[0].comfy_node_id,i)):u};function r(u,g,i=null){if(i!==null&&u.parent_task_node_id===i||Number(u.task_id)===g)return u;for(let c=0;c<u.child_tasks.length;c++)for(let z=0;z<u.child_tasks[c].outputs.length;z++){const B=r(u.child_tasks[c],g,u.child_tasks[c].outputs[z].comfy_node_id);if(B!==null)return B}return null}const o=S(n.flowResult),l=S(s(n.flowResult,n.flowResult.outputs[n.outputsIndex].comfy_node_id,!1));function m(u){var g;return[[{label:`${(g=t.flowByName((u==null?void 0:u.flow_name)??(u==null?void 0:u.name)))==null?void 0:g.display_name}#${u.task_id}`,disabled:!0}],[{label:"View image",icon:"i-heroicons-eye",click:()=>{n.openImageModal(oe({task_id:u.task_id,node_id:u.outputs.length>1?u.outputs[n.outputsIndex].comfy_node_id:u.outputs[0].comfy_node_id}))}}]]}function f(u){var i;const g=[[{label:`${(i=t.flowByName((u==null?void 0:u.flow_name)??(u==null?void 0:u.name)))==null?void 0:i.display_name}#${u.task_id}`,disabled:!0}],[{label:"View image",icon:"i-heroicons-eye",disabled:u.progress<100||u.error!=="",click:()=>{n.openImageModal(oe({task_id:u.task_id,node_id:u.outputs.length>1?u.outputs[n.outputsIndex].comfy_node_id:u.outputs[0].comfy_node_id}))}},{label:u.progress<100?"Cancel":"Delete",labelClass:u.progress<100?"text-orange-500":"text-red-500",icon:u.progress<100?"i-heroicons-stop":"i-heroicons-trash",iconClass:u.progress<100?"bg-orange-500":"bg-red-500",click:()=>{t.deleteFlowHistory(u.task_id).then(()=>{const c=r(n.flowResult,u.parent_task_id,u.parent_task_node_id);c&&(c.child_tasks=c.child_tasks.filter(z=>Number(z.task_id)!==Number(u.task_id))),b(!1,n.flowResult)})}}]];return u.progress<100&&(g[0][1]={label:`Progress: ${Math.ceil(u.progress)}% (${u.execution_time.toFixed(2)}s)`,labelClass:"text-blue-500",disabled:!0}),u.error!==""&&g[0].push({label:`Error: ${u.error}`,labelClass:"text-red-500",slot:"error",click:()=>{At().copy(u.error),We().add({title:"Clipboard",description:`Task #${u.task_id} error copied to clipboard`,timeout:2e3})}}),g}function w(){const u=o.value.parent_task_id;if(!u)return;const g=r(n.flowResult,u,o.value.parent_task_node_id);g&&(o.value=g)}function h(){if(o.value.child_tasks.length===0)return;const u=o.value.outputs.length>1?o.value.outputs[n.outputsIndex].comfy_node_id:o.value.outputs[0].comfy_node_id,g=o.value.child_tasks.find(i=>i.parent_task_node_id===u);g&&(o.value=g)}const $=U(()=>{if(o.value.child_tasks.length===0)return;const u=o.value.outputs.length>1?o.value.outputs[n.outputsIndex].comfy_node_id:o.value.outputs[0].comfy_node_id;return o.value.child_tasks.find(i=>i.parent_task_node_id===u).task_id!==l.value.task_id});function v(){const u=l.value.parent_task_id;if(!u)return;const g=r(n.flowResult,u,l.value.parent_task_node_id);g&&(l.value=g)}function x(){if(l.value.child_tasks.length===0)return;const u=Number(l.value.outputs[0].comfy_node_id),g=l.value.child_tasks.find(i=>Number(i.parent_task_node_id)===u);g&&(l.value=g)}function b(u=!1,g=null){u||(o.value=g),l.value=s(g,g==null?void 0:g.outputs[n.outputsIndex].comfy_node_id,u),I.value=!1}se(n.flowResult,u=>{b(!0,u)});const I=S(!1),y=S(!0),d=S(null);return se(I,u=>{u?(d.value=o.value,o.value=n.flowResult):d.value&&(o.value=d.value,l.value=Ft(d.value,n.outputsIndex,o.value.outputs.length>1?o.value.outputs[n.outputsIndex].comfy_node_id:o.value.outputs[0].comfy_node_id))}),(u,g)=>{const i=Ce,c=we("ImgComparisonSlider"),z=kl,B=ne,q=Je,T=ve,F=He;return p(),R("div",xl,[at(k(i,{class:"mb-2 rounded-lg cursor-pointer",height:a(t).outputMaxSize,width:a(t).outputMaxSize,draggable:"false",fit:"cover",loading:"lazy",src:("outputResultSrc"in u?u.outputResultSrc:a(oe))({task_id:a(l).progress===100?a(l).task_id:e.flowResult.task_id,node_id:a(l).progress===100?a(l).outputs[0].comfy_node_id:e.flowResult.outputs[e.outputsIndex].comfy_node_id}),onClick:g[0]||(g[0]=A=>e.openImageModal(("outputResultSrc"in u?u.outputResultSrc:a(oe))({task_id:a(l).task_id??e.flowResult.task_id,node_id:a(l).outputs[0].comfy_node_id??e.flowResult.outputs[e.outputsIndex].comfy_node_id})))},null,8,["height","width","src"]),[[Rt,!a(y)]]),a(y)?(p(),M(c,{key:0,class:"mb-2 mx-auto outline-none w-fit rounded-lg"},{default:P(()=>{var A,ee,L;return[k(i,{slot:"first",height:a(t).outputMaxSize,width:a(t).outputMaxSize,fit:"cover",draggable:"false",src:("outputResultSrc"in u?u.outputResultSrc:a(oe))({task_id:a(I)?e.flowResult.task_id:a(o).task_id,node_id:a(I)?e.flowResult.outputs[e.outputsIndex].comfy_node_id:a(o).parent_task_node_id!==null?(A=a(o))==null?void 0:A.outputs[0].comfy_node_id:((ee=a(o))==null?void 0:ee.outputs[e.outputsIndex].comfy_node_id)??((L=a(o))==null?void 0:L.outputs[0].comfy_node_id)})},null,8,["height","width","src"]),a(l)&&a(l).progress===100?(p(),M(i,{key:0,slot:"second",height:a(t).outputMaxSize,width:a(t).outputMaxSize,fit:"cover",draggable:"false",src:("outputResultSrc"in u?u.outputResultSrc:a(oe))({task_id:a(l).task_id,node_id:a(l).outputs[0].comfy_node_id})},null,8,["height","width","src"])):(p(),M(i,{key:1,slot:"second",height:a(t).outputMaxSize,width:a(t).outputMaxSize,fit:"cover",draggable:"false",src:`${("buildBackendUrl"in u?u.buildBackendUrl:a(nt))()}/vix_logo.png`},null,8,["height","width","src"]))]}),_:1})):C("",!0),_("div",Il,[_("div",$l,[_("div",_l,[k(z,{id:`toggle-compare-${e.flowResult.task_id}-${e.outputsIndex}`,modelValue:a(y),"onUpdate:modelValue":g[1]||(g[1]=A=>Y(y)?y.value=A:null),size:"xs",class:"mr-2"},null,8,["id","modelValue"]),_("label",{class:"cursor-pointer select-none",for:`toggle-compare-${e.flowResult.task_id}-${e.outputsIndex}`}," Comparison ",8,Sl)]),_("div",Cl,[k(z,{id:`toggle-original-${e.flowResult.task_id}-${e.outputsIndex}`,modelValue:a(I),"onUpdate:modelValue":g[2]||(g[2]=A=>Y(I)?I.value=A:null),disabled:!a(y),size:"xs",class:"mr-2"},null,8,["id","modelValue","disabled"]),_("label",{class:"cursor-pointer select-none",for:`toggle-original-${e.flowResult.task_id}-${e.outputsIndex}`}," Original ",8,Ml)])]),a(y)?(p(),R("div",Pl,[k(B,{icon:"i-heroicons-arrow-small-left-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:a(I)||a(o).parent_task_id===null,onClick:w},null,8,["disabled"]),k(q,{items:m(a(o)),mode:"click",popper:{placement:"top"}},{default:P(()=>[k(B,{variant:"link",color:"white",size:"xs"},{default:P(()=>[V(" #"+E(a(I)?e.flowResult.task_id:a(o).task_id),1)]),_:1})]),_:1},8,["items"]),k(B,{icon:"i-heroicons-arrow-small-right-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:a(I)||!a($),onClick:h},null,8,["disabled"]),k(T,{class:"mx-3",name:"i-heroicons-arrows-right-left-16-solid"}),k(B,{icon:"i-heroicons-arrow-small-left-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:!r(n.flowResult,a(l).parent_task_id,a(l).parent_task_node_id)||a(l).parent_task_id===Number(a(o).task_id)||a(l).parent_task_id===null,onClick:v},null,8,["disabled"]),k(q,{items:f(a(l)),mode:"click",popper:{placement:"top"}},{error:P(({item:A})=>[_("div",{class:"text-red-500 truncate",title:A.label},E(A.label),9,Rl)]),default:P(()=>[k(B,{class:D({"text-blue-500":a(l).progress!==100&&a(l).error==="","text-red-500":a(l).error!==""}),variant:"link",color:"white",size:"xs"},{default:P(()=>[V(E(a(l).progress===100?"#"+a(l).task_id:Math.ceil(a(l).progress)+"%"),1)]),_:1},8,["class"])]),_:1},8,["items"]),k(B,{icon:"i-heroicons-arrow-small-right-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:a(l).child_tasks.length===0,onClick:x},null,8,["disabled"]),k(F,{class:"ml-3",text:"Reset comparison",popper:{placement:"top"}},{default:P(()=>[k(B,{icon:"i-heroicons-arrow-path-rounded-square-solid",size:"2xs",variant:"outline",color:"white",onClick:g[3]||(g[3]=()=>b(!1,e.flowResult))})]),_:1})])):C("",!0)])])}}}),Fl={class:"image-output"},Ul={class:"flex flex-col basis-full justify-between mx-2"},Tl=H({__name:"Image",props:{flowResult:{type:Object,required:!0},handleSendToFlow:{type:Function,required:!0},openImageModal:{type:Function,required:!0}},setup(e){const n=me();return(t,s)=>{var f,w;const r=zl,o=Ce,l=ne,m=Ke;return p(),R("div",Fl,[e.flowResult.outputs.length===1?(p(),R(G,{key:0},[(f=e.flowResult)!=null&&f.child_tasks&&((w=e.flowResult)==null?void 0:w.child_tasks.length)>0?(p(),M(r,{key:0,"flow-result":e.flowResult,"open-image-modal":e.openImageModal},null,8,["flow-result","open-image-modal"])):e.flowResult.outputs.length===1?(p(),M(o,{key:1,class:"mb-2 mx-auto rounded-lg cursor-pointer",height:a(n).$state.outputMaxSize,width:a(n).$state.outputMaxSize,draggable:"false",fit:"cover",loading:"lazy",src:("outputResultSrc"in t?t.outputResultSrc:a(oe))({task_id:e.flowResult.task_id,node_id:e.flowResult.outputs[0].comfy_node_id}),onClick:s[0]||(s[0]=h=>e.openImageModal(("outputResultSrc"in t?t.outputResultSrc:a(oe))({task_id:e.flowResult.task_id,node_id:e.flowResult.outputs[0].comfy_node_id})))},null,8,["height","width","src"])):C("",!0)],64)):e.flowResult.outputs.length>1?(p(),M(m,{key:1,class:"mb-3 rounded-lg overflow-hidden",items:e.flowResult.outputs.map((h,$)=>({task_id:e.flowResult.task_id,node_id:h.comfy_node_id,index:$})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4 md:hidden"}},page:1,indicators:""},{default:P(({item:h})=>{var $;return[_("div",Ul,[($=e.flowResult)!=null&&$.child_tasks&&("hasChildTaskByParentTaskNodeId"in t?t.hasChildTaskByParentTaskNodeId:a(Ut))(e.flowResult,h.index,h.node_id)?(p(),M(r,{key:0,"flow-result":e.flowResult,"outputs-index":h.index,"open-image-modal":e.openImageModal},null,8,["flow-result","outputs-index","open-image-modal"])):(p(),M(o,{key:1,class:D(`mb-2 h-100 max-h-[${a(n).$state.outputMaxSize}px] mx-auto rounded-lg cursor-pointer`),draggable:"false",height:a(n).$state.outputMaxSize,width:a(n).$state.outputMaxSize,fit:"cover",loading:"lazy",src:("outputResultSrc"in t?t.outputResultSrc:a(oe))(h),onClick:v=>e.openImageModal(("outputResultSrc"in t?t.outputResultSrc:a(oe))(h))},null,8,["class","height","width","src","onClick"])),k(l,{class:"mt-2 w-fit mx-auto",icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",size:"xs",variant:"outline",onClick:()=>{e.handleSendToFlow(e.flowResult,h.index)}},{default:P(()=>s[1]||(s[1]=[V(" Send to flow ")])),_:2},1032,["onClick"])])]}),_:1},8,["items"])):C("",!0)])}}}),jl={class:"image-output"},Ol=["width","height"],Bl=["src"],Nl={class:"flex flex-col basis-full justify-between mx-2"},Vl=["width","height"],Dl=["src"],ql=H({__name:"Video",props:{flowResult:{type:Object,required:!0},handleSendToFlow:{type:Function,required:!0},openImageModal:{type:Function,required:!0}},setup(e){const n=me();return(t,s)=>{const r=ne,o=Ke;return p(),R("div",jl,[e.flowResult.outputs.length===1?(p(),R("video",{key:0,controls:"",class:"mb-2 mx-auto rounded-lg",style:{"max-height":"80vh"},width:a(n).$state.outputMaxSize,height:a(n).$state.outputMaxSize},[_("source",{src:("outputResultSrc"in t?t.outputResultSrc:a(oe))({task_id:e.flowResult.task_id,node_id:e.flowResult.outputs[0].comfy_node_id})},null,8,Bl)],8,Ol)):e.flowResult.outputs.length>1?(p(),M(o,{key:1,class:"mb-3 rounded-lg overflow-hidden",items:e.flowResult.outputs.map((l,m)=>({task_id:e.flowResult.task_id,node_id:l.comfy_node_id,index:m})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4 md:hidden"}},page:1,indicators:""},{default:P(({item:l})=>[_("div",Nl,[_("video",{controls:"",class:"mb-2 mx-auto rounded-lg",width:a(n).$state.outputMaxSize,height:a(n).$state.outputMaxSize},[_("source",{src:("outputResultSrc"in t?t.outputResultSrc:a(oe))({task_id:e.flowResult.task_id,node_id:e.flowResult.outputs[0].comfy_node_id})},null,8,Dl)],8,Vl),k(r,{class:"mt-2 w-fit mx-auto",icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",size:"xs",variant:"outline",onClick:()=>{e.handleSendToFlow(e.flowResult,l.index)}},{default:P(()=>s[0]||(s[0]=[V(" Send to flow ")])),_:2},1032,["onClick"])])]),_:1},8,["items"])):C("",!0)])}}}),Al=H({__name:"Params",props:{flowResult:{type:Object,required:!0}},setup(e){const n=e,t=S(!1),s=U(()=>["#"+n.flowResult.task_id,...Object.keys(n.flowResult.input_params_mapped).filter(r=>n.flowResult.input_params_mapped[r].value&&n.flowResult.input_params_mapped[r].value!=="").map(r=>t.value&&n.flowResult.translated_input_params_mapped&&n.flowResult.translated_input_params_mapped[r]?`${n.flowResult.input_params_mapped[r].display_name}: ${n.flowResult.translated_input_params_mapped[r].value}`:`${n.flowResult.input_params_mapped[r].display_name}: ${n.flowResult.input_params_mapped[r].value}`)].join(" | ")+`${n.flowResult.execution_time?" | execution_time: "+n.flowResult.execution_time.toFixed(2)+"s":""}`);return Ae(()=>{n.flowResult.showInputFiles=!1}),(r,o)=>{const l=ne,m=He,f=ot,w=ve;return p(),R(G,null,[e.flowResult.translated_input_params_mapped&&Object.keys(e.flowResult.translated_input_params_mapped).length>0?(p(),M(m,{key:0,text:a(t)?"Hide translated input params":"Show translated input params",popper:{placement:"top"}},{default:P(()=>[k(l,{class:"mb-2 mr-2",color:"white",size:"xs",variant:"outline",icon:"i-heroicons-language-solid",onClick:o[0]||(o[0]=()=>{t.value=!a(t)})})]),_:1},8,["text"])):C("",!0),(p(!0),R(G,null,ie(a(s).split("|"),h=>(p(),M(f,{key:h,class:"mr-2 mb-2 last:mr-0 hover:cursor-pointer",variant:"soft",color:"gray",onClick:()=>{("useCopyToClipboard"in r?r.useCopyToClipboard:a(At))().copy(h.split(":")[1].trim()),("useToast"in r?r.useToast:a(We))().add({title:"Clipboard",description:`${h.split(":")[0].trim()} copied to clipboard`,timeout:2e3})}},{default:P(()=>[V(E(h),1)]),_:2},1032,["onClick"]))),128)),e.flowResult.input_files.length>0?(p(),M(f,{key:1,class:"mr-2 mb-2 last:mr-0 hover:cursor-pointer select-none",variant:"subtle",color:"sky",onClick:o[1]||(o[1]=()=>{e.flowResult.showInputFiles=!e.flowResult.showInputFiles})},{default:P(()=>[k(w,{name:e.flowResult.showInputFiles?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-1"},null,8,["name"]),k(w,{name:"i-heroicons-document-solid",class:"mr-1"}),V(" "+E(`input_files: ${e.flowResult.input_files.length}`),1)]),_:1})):C("",!0)],64)}}}),El={key:0,class:D("w-full p-1")},Ll={class:"flex flex-col basis-full justify-between mx-2"},Wl=H({__name:"InputFiles",props:{flowResult:{type:Object,required:!0}},setup(e){const n=me(),t=(l,m)=>`${zt()}/tasks/inputs?task_id=${l}&input_index=${m}`,s=S(!1),r=S(""),o=S(0);return(l,m)=>{var v,x;const f=Ce,w=Ke,h=ne,$=Te;return e.flowResult.showInputFiles?(p(),R("div",El,[((v=Object.keys(e.flowResult.input_files))==null?void 0:v.length)===1?(p(),M(f,{key:0,class:D(`mb-5 mx-auto rounded-lg cursor-pointer max-h-[${a(n).$state.outputMaxSize}px] w-auto`),fit:"outside",loading:"lazy",src:t(e.flowResult.task_id,0),onClick:m[0]||(m[0]=()=>{r.value=t(e.flowResult.task_id,0),o.value=0,s.value=!0})},null,8,["class","src"])):C("",!0),((x=Object.keys(e.flowResult.input_files))==null?void 0:x.length)>1?(p(),M(w,{key:1,items:Object.keys(e.flowResult.input_files).map(b=>({task_id:e.flowResult.task_id,index:b})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 my-2"}},page:1,indicators:""},{default:P(({item:b})=>[_("div",Ll,[k(f,{class:D(`mb-5 mx-auto rounded-lg cursor-pointer max-h-[${a(n).$state.outputMaxSize}px] w-auto`),fit:"outside",loading:"lazy",draggable:"false",src:t(b.task_id,b.index),onClick:()=>{r.value=t(e.flowResult.task_id,b.index),o.value=b.index,s.value=!0}},null,8,["class","src","onClick"])])]),_:1},8,["items"])):C("",!0),k($,{modelValue:a(s),"onUpdate:modelValue":m[3]||(m[3]=b=>Y(s)?s.value=b:null),class:"z-[90]",transition:!1,fullscreen:""},{default:P(()=>[k(h,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:m[1]||(m[1]=()=>s.value=!1)}),_("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:m[2]||(m[2]=Le(()=>s.value=!1,["left"]))},[a(r)?(p(),M(f,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",placeholder:"/vix_logo.png",src:a(r)},null,8,["src"])):C("",!0)])]),_:1},8,["modelValue"])])):C("",!0)}}}),Hl={class:"p-4"},Ql={class:"flex justify-center mb-4"},Jl={key:0,class:"text-sm text-slate-500 text-center mb-4"},Kl={class:"text-md text-center text-red-500 mb-4"},Gl={key:1},Xl={class:"flex items-center justify-between"},Yl=H({__name:"SendToFlowModal",props:tt({flowResult:{type:Object,required:!1,default:()=>null},outputImgSrc:{type:String,required:!0},outputParamIndex:{type:Number,required:!0},inputParamsMapped:{type:Object,required:!0},isChildTask:{type:Boolean,required:!1,default:!1},translatePrompt:{type:Boolean,required:!1,default:!1}},{show:{default:!1,type:Boolean},showModifiers:{}}),emits:tt(["update:show"],["update:show"]),setup(e,{emit:n}){const t=e,s=et(e,"show"),r=me(),o=U(()=>r.sub_flows.map(v=>({value:v.name,label:`${v.display_name} - ${v.description}`}))),l=S(o.value[0]||""),m=S(!1),f=n;function w(){console.debug("[Send to flow]: ",l.value);const v=r.sub_flows.find(b=>b.name===l.value.value&&b.display_name===l.value.label.split(" - ")[0]);if(console.debug("[Send to flow]: targetFlow",v),!v){We().add({title:`Target sub-flow "${l.value.value}" not found`,description:"Please, verify the target sub-flow is installed and available and try again",timeout:5e3});return}const x=v.input_params.reduce((b,I)=>{const y={};return I.type==="text"?y[I.name]={value:I.default||"",type:I.type}:I.type==="number"?y[I.name]={value:I.default||0,type:I.type}:I.type==="image"?y[I.name]={value:JSON.stringify({task_id:t.flowResult.task_id,node_id:t.flowResult.outputs.length>1?t.flowResult.outputs[t.outputParamIndex].comfy_node_id:t.flowResult.outputs[0].comfy_node_id})||"",type:I.type}:I.type==="list"?y[I.name]={value:I.default||Object.keys(I.options)[0]||"",type:I.type,options:I.options}:I.type==="bool"?y[I.name]={value:I.default||!1,type:I.type}:["range","range_scale"].includes(I.type)&&(y[I.name]={value:I.default||0,type:I.type}),b.push(y),b},[]);console.debug("[Send to flow]: input_params_map",x),m.value=!0,r.runFlow(v,x,1,t.translatePrompt,h.value,h.value?Number(t.flowResult.task_id):null).finally(()=>{m.value=!1,f("update:show",!1)})}const h=S(!1),$=U(()=>{var v;return t.flowResult.progress===100&&((v=t.flowResult)==null?void 0:v.error)===""});return lt(()=>{r.fetchSubFlows("image").then(()=>{l.value=o.value[0]||""}),h.value=!1}),(v,x)=>{const b=Ce,I=Bt,y=jt,d=ut,u=ne,g=Te;return p(),M(g,{modelValue:s.value,"onUpdate:modelValue":x[2]||(x[2]=i=>s.value=i),class:"z-[90]",transition:!1},{default:P(()=>[_("div",Hl,[x[4]||(x[4]=_("h2",{class:"text-lg text-center mb-4"},"Send to flow",-1)),_("div",Ql,[a($)?(p(),M(b,{key:0,src:e.outputImgSrc,class:"w-1/2 rounded-lg",draggable:!1},null,8,["src"])):(p(),M(I,{key:1,color:"orange",icon:"i-heroicons-exclamation-circle-solid",title:`Task is still running (${Math.ceil(e.flowResult.progress)}%, ${e.flowResult.execution_time.toFixed(2)}s)`,description:e.flowResult.error!==""?e.flowResult.error:""},null,8,["title","description"]))]),e.inputParamsMapped?(p(),R("p",Jl,E(["#"+e.flowResult.task_id,...Object.keys(e.inputParamsMapped).filter(i=>e.inputParamsMapped[i].value!=="").map(i=>`${e.inputParamsMapped[i].display_name}: ${e.inputParamsMapped[i].value}`)].join(" | ")),1)):C("",!0),_("p",Kl,[a(o).length>0?(p(),M(y,{key:0,modelValue:a(l),"onUpdate:modelValue":x[0]||(x[0]=i=>Y(l)?l.value=i:null),class:"w-full",size:"lg",options:a(o)},null,8,["modelValue","options"])):(p(),R("span",Gl,"No sub-flows available"))]),e.isChildTask?(p(),M(I,{key:1,class:"mb-4",icon:"i-heroicons-exclamation-circle-solid",title:"Child task",description:"The latest child task is always used as input for sub-flow"})):C("",!0),_("div",Xl,[k(d,{modelValue:a(h),"onUpdate:modelValue":x[1]||(x[1]=i=>Y(h)?h.value=i:null),label:"Bind as child task"},null,8,["modelValue"]),k(u,{icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",loading:a(m),disabled:a(o).length===0||e.isChildTask&&!a($),onClick:w},{default:P(()=>x[3]||(x[3]=[V(" Send ")])),_:1},8,["loading","disabled"])])])]),_:1},8,["modelValue"])}}}),Zl={class:"flex flex-col md:flex-row items-center justify-center mb-5 sticky top-1 z-[10]"},eo={class:"flex items-center justify-center"},to={class:"p-4"},no={class:"text-md text-center text-red-500 mb-4"},ao={class:"flex justify-center"},lo={key:0,class:"results overflow-auto"},oo=["id"],so={class:"text-sm text-slate-500 text-center mb-1"},io={class:"w-5/6 mx-auto flex flex-wrap items-center justify-center"},ro={class:"w-full flex justify-center items-center"},uo={key:1,class:"text-center text-slate-500"},co=H({__name:"Output",emits:["copy-prompt-inputs"],setup(e,{emit:n}){const t=me(),s=U(()=>{var T;return t.flowResultsByName((T=t.currentFlow)==null?void 0:T.name).length>0||!1}),r=U(()=>{var T;return t.flowResultsByName((T=t.currentFlow)==null?void 0:T.name)||[]}),o=U(()=>t.$state.resultsPageSize);se(r,()=>{r.value.length<=t.$state.resultsPageSize?t.$state.resultsPage=1:t.$state.resultsPage>Math.ceil(r.value.length/t.$state.resultsPageSize)&&(t.$state.resultsPage=Math.ceil(r.value.length/t.$state.resultsPageSize))}),se(o,()=>{r.value.length<=t.$state.resultsPageSize?t.$state.resultsPage=1:t.$state.resultsPage>Math.ceil(r.value.length/t.$state.resultsPageSize)&&(t.$state.resultsPage=Math.ceil(r.value.length/t.$state.resultsPageSize)),t.saveUserOptions()}),Ae(()=>{t.$state.flow_results_filter="",t.$state.resultsPage=1});const l=n;function m(T){l("copy-prompt-inputs",T.input_params_mapped)}function f(T){b.value=T,x.value=!0}const w=S(null),h=S(!1);window.addEventListener("scroll",()=>{var T;h.value=window.scrollY>(((T=w.value)==null?void 0:T.offsetTop)+window.screen.height||0)});const $=U(()=>t.$state.resultsPage);se($,()=>{const T=document.getElementById("output-container");T&&T.scrollIntoView({behavior:"smooth"})});const v=S(!1),x=S(!1),b=S(""),I=S(!1),y=S(!1),d=S(!1),u=S(""),g=S(null),i=S({}),c=S(0),z=S(!1);function B(T,F=0){if(T.child_tasks.length===0||!Ut(T,F,T.outputs[F].comfy_node_id))g.value=T,u.value=oe({task_id:T.task_id,node_id:T.outputs[F].comfy_node_id}),i.value=T.input_params_mapped,z.value=!1;else{const A=Ft(T,F,T.outputs[F].comfy_node_id);g.value=A,i.value=T.input_params_mapped,u.value=oe({task_id:A.task_id,node_id:A.outputs[0].comfy_node_id}),z.value=!0}c.value=F,d.value=!0}function q(T){const F=[[{label:"Use params",labelClass:"text-cyan-500 text-sm",icon:"i-heroicons-document-duplicate-16-solid",iconClass:"bg-cyan-500 h-4 w-4",click:()=>m(T)}],[{label:"Comfy flow",labelClass:"text-blue-500 text-sm",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500 h-4 w-4",click:()=>{var A;return t.downloadFlowComfy((A=t.currentFlow)==null?void 0:A.name,T.task_id)}}]];return T.outputs.length===1&&T.outputs.every(A=>A.type==="image")&&F.splice(1,0,[{label:"Send to flow",labelClass:"text-violet-500 text-sm",icon:"i-heroicons-arrow-uturn-up-solid",iconClass:"bg-violet-500 h-4 w-4",click:()=>{B(T)}}]),F}return(T,F)=>{var N;const A=yl,ee=ve,L=it,J=jn,re=Bn,te=ne,he=Je,Ie=ot,ye=Te,be=Tl,$e=ql,W=Al,le=Wl,Me=Yl,O=Ce;return p(),R("div",{id:"output-container",ref_key:"outputContainer",ref:w,class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md my-10"},[k(A,{show:a(h),class:"fixed bottom-5 right-5",target:"output-container"},null,8,["show"]),_("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:F[0]||(F[0]=()=>{v.value=!a(v)})},[k(ee,{name:a(v)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),V(" Output ("+E(a(r).filter(j=>j.parent_task_id===null).length)+") ",1)]),a(v)?C("",!0):(p(),R(G,{key:0},[_("div",Zl,[k(L,{modelValue:a(t).$state.flow_results_filter,"onUpdate:modelValue":F[1]||(F[1]=j=>a(t).$state.flow_results_filter=j),icon:"i-heroicons-magnifying-glass-20-solid",color:"white",class:"md:mr-3",label:"Filter by prompt",trailing:!0,placeholder:"Filter results by prompt"},null,8,["modelValue"]),a(r).filter(j=>j.parent_task_id===null).length>a(t).$state.resultsPageSize?(p(),M(J,{key:0,modelValue:a(t).$state.resultsPage,"onUpdate:modelValue":F[2]||(F[2]=j=>a(t).$state.resultsPage=j),class:"my-1 md:my-0","page-count":a(t).$state.resultsPageSize,total:a(r).filter(j=>j.parent_task_id===null).length,"show-first":"","show-last":""},null,8,["modelValue","page-count","total"])):C("",!0),_("div",eo,[k(re,{modelValue:a(t).resultsPageSize,"onUpdate:modelValue":F[3]||(F[3]=j=>a(t).resultsPageSize=j),class:"md:mx-3 w-fit mr-3",options:[5,10,20,50,100],label:"Results per page"},null,8,["modelValue"]),k(he,{items:[[{label:"Delete all results",labelClass:"text-red-500",icon:"i-heroicons-trash",iconClass:"dark:text-red-500 text-red-500",click:()=>I.value=!0}]],mode:"click",label:"Options",popper:{placement:"bottom-end"}},{default:P(()=>[k(te,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:1},8,["items"])]),k(ye,{modelValue:a(I),"onUpdate:modelValue":F[6]||(F[6]=j=>Y(I)?I.value=j:null),class:"z-[90]",transition:!1},{default:P(()=>[_("div",to,[F[15]||(F[15]=_("p",{class:"text-lg text-center mb-4"},"Are you sure you want to delete all results?",-1)),_("p",no,[F[11]||(F[11]=V(" All history and images of ")),k(Ie,{class:"mx-1",color:"orange",variant:"outline"},{default:P(()=>[V(E(a(t).currentFlow.display_name),1)]),_:1}),F[12]||(F[12]=V(" will be deleted. "))]),_("div",ao,[k(te,{class:"mr-2",color:"red",variant:"outline",loading:a(y),onClick:F[4]||(F[4]=()=>{var j;y.value=!0,a(t).deleteFlowResults((j=a(t).currentFlow)==null?void 0:j.name).then(()=>{y.value=!1,I.value=!1})})},{default:P(()=>F[13]||(F[13]=[V(" Yes ")])),_:1},8,["loading"]),k(te,{variant:"outline",onClick:F[5]||(F[5]=()=>I.value=!1)},{default:P(()=>F[14]||(F[14]=[V("No")])),_:1})])])]),_:1},8,["modelValue"])]),a(s)?(p(),R("div",lo,[(p(!0),R(G,null,ie(a(t).flowResultsByNamePaginated((N=a(t).currentFlow)==null?void 0:N.name),j=>(p(),R("div",{id:"task_id_"+j.task_id,key:j.task_id,class:"flex flex-col justify-center mx-auto mb-5"},[j.outputs.some(K=>K.type==="image")?(p(),M(be,{key:0,"flow-result":j,"handle-send-to-flow":B,"open-image-modal":f},null,8,["flow-result"])):j.outputs.some(K=>K.type==="video")?(p(),M($e,{key:1,"flow-result":j,"handle-send-to-flow":B,"open-image-modal":f},null,8,["flow-result"])):C("",!0),_("div",so,[_("div",io,[k(W,{"flow-result":j},null,8,["flow-result"])])]),k(le,{"flow-result":j},null,8,["flow-result"]),_("div",ro,[k(te,{class:"mr-3",color:"red",icon:"i-heroicons-trash",variant:"outline",size:"xs",onClick:()=>a(t).deleteFlowHistory(j.task_id)},{default:P(()=>F[16]||(F[16]=[V(" Delete ")])),_:2},1032,["onClick"]),k(he,{items:q(j),mode:"click",popper:{placement:"bottom-start"}},{default:P(()=>[k(te,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid",size:"xs"})]),_:2},1032,["items"])])],8,oo))),128)),k(Me,{show:a(d),"onUpdate:show":F[7]||(F[7]=j=>Y(d)?d.value=j:null),"flow-result":a(g),"output-img-src":a(u),"output-param-index":a(c),"input-params-mapped":a(i),"is-child-task":a(z)},null,8,["show","flow-result","output-img-src","output-param-index","input-params-mapped","is-child-task"])])):(p(),R("p",uo," No output results available "))],64)),k(ye,{modelValue:a(x),"onUpdate:modelValue":F[10]||(F[10]=j=>Y(x)?x.value=j:null),class:"z-[90]",transition:!1,fullscreen:""},{default:P(()=>[k(te,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:F[8]||(F[8]=()=>x.value=!1)}),_("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:F[9]||(F[9]=Le(()=>x.value=!1,["left"]))},[a(b)?(p(),M(O,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",src:a(b)},null,8,["src"])):C("",!0)])]),_:1},8,["modelValue"])],512)}}}),mo={class:"flex flex-col lg:flex-row flex-grow items-start w-full"},fo={class:"card-wrapper w-full lg:pr-5"},po={key:0,class:"p-0 text-sm"},vo={class:"flex flex-row items-center text-slate-400 mb-2"},go={class:"flex flex-row flex-wrap items-center text-md mb-2"},ho=["href"],yo={class:"flex flex-row items-center text-md mb-2"},bo=["href"],wo={key:1},ko={class:"flex flex-row items-center text-md mb-2"},xo={key:0},Io={class:"flex flex-row items-center text-md mb-2"},$o={key:0,class:"flex flex-row flex-wrap items-center text-md mb-2"},_o=["href"],So={key:1},Co={key:1,class:"flex flex-row flex-wrap items-center text-md"},Mo={key:0,class:"flex justify-end"},Po={class:"flex flex-row items-center justify-center text-sm mr-2"},Ro={key:1},zo={class:"text-sm flex justify-end"},Fo={class:"flex flex-row items-center justify-center text-sm mr-3"},Uo={key:0,class:"text-right"},To={class:"prompt-wrapper w-full"},jo={class:"flex items-center justify-between"},Oo={class:"pb-2"},Bo={class:"flex justify-end items-center"},Jo=H({__name:"[name]",setup(e){const n=$n(),t=me();t.setCurrentFlow(n.params.name);const s=U(()=>t.flowInstallingByName(n.params.name)),r=U(()=>{var y;return s.value&&((y=s.value)==null?void 0:y.progress)<100||!1}),o=S(!1),l=U(()=>{var y;return s.value?"error"in s.value&&((y=s.value)==null?void 0:y.error)!==""?`${s.value.progress.toFixed(0)}% Error setting up`:`${s.value.progress.toFixed(0)}% Setting up`:"Setup flow"}),m=S(!1),f=S(!1),w=U(()=>{var d;const y=[[{label:"Delete flow",icon:"i-heroicons-trash",click:$}]];return((d=t==null?void 0:t.currentFlow)==null?void 0:d.new_version_available)!==""&&y[0].unshift({label:`Update to ${t.currentFlow.new_version_available}`,icon:"i-heroicons-arrow-path",click:()=>{t.updateFlow(t.currentFlow)}}),y});function h(y,d=!1){m.value=!0,t.deleteFlow(y).then(()=>{d&&_n().push("/")}).finally(()=>{m.value=!1,f.value=!1})}function $(){var d;const y=((d=t.currentFlow)==null?void 0:d.private)||!1;if(y){f.value=!0;return}h(t.currentFlow,y)}const v=S(!1),x=S(null),b=function(y){var d;(d=x.value)==null||d.copyPromptInputs(y)},I=Sn();return(y,d)=>{const u=ve,g=He,i=ot,c=ne,z=Je,B=On,q=Za,T=hl,F=co,A=Ot,ee=Te,L=Mn;return p(),M(L,null,{default:P(()=>[!a(t).loading.flows_available&&!a(t).loading.flows_installed&&a(t).currentFlow&&!a(t).$state.loading.tasks_history?(p(),R(G,{key:0},[_("div",mo,[_("div",fo,[k(B,{as:"div",class:"w-full mb-5"},Cn({header:P(()=>{var J,re;return[_("h2",{class:"text-xl font-bold cursor-pointer select-none flex items-center",onClick:d[0]||(d[0]=()=>{v.value=!a(v)})},[(J=a(t).currentFlow)!=null&&J.private?(p(),M(g,{key:0,text:"This flow is local, manually added"},{default:P(()=>[k(u,{name:"i-heroicons-lock-closed",class:"mr-2"})]),_:1})):C("",!0),k(u,{name:a(v)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),V(" "+E((re=a(t).currentFlow)==null?void 0:re.display_name),1)])]}),default:P(()=>{var J,re,te,he,Ie,ye,be,$e,W,le,Me,O,N,j,K,X,ue,de;return[a(v)?C("",!0):(p(),R("div",po,[_("p",vo,E((J=a(t).currentFlow)==null?void 0:J.description),1),_("p",go,[k(u,{name:"i-heroicons-user-16-solid",class:"mr-1"}),d[8]||(d[8]=_("b",null,"Author:",-1)),d[9]||(d[9]=V(" ")),_("a",{class:"hover:underline text-md",href:(re=a(t).currentFlow)==null?void 0:re.homepage,rel:"noopener",target:"_blank"},E((te=a(t).currentFlow)==null?void 0:te.author),9,ho)]),_("p",yo,[k(u,{name:"i-heroicons-document-text",class:"mr-1"}),(he=a(t).currentFlow)!=null&&he.documentation?(p(),R("a",{key:0,class:"hover:underline",href:(Ie=a(t).currentFlow)==null?void 0:Ie.documentation,rel:"noopener",target:"_blank"}," Documentation ",8,bo)):(p(),R("span",wo,"No documentation"))]),_("p",ko,[k(u,{name:"i-heroicons-clock",class:"mr-1"}),d[10]||(d[10]=_("b",null,"Version:",-1)),d[11]||(d[11]=V(" ")),_("span",null,E((ye=a(t).currentFlow)==null?void 0:ye.version),1),((be=a(t).currentFlow)==null?void 0:be.new_version_available)!==""?(p(),R("span",xo," (new version available: "+E(($e=a(t).currentFlow)==null?void 0:$e.new_version_available)+") ",1)):C("",!0)]),_("p",Io,[k(u,{name:"i-heroicons-tag",class:"mr-1"}),d[12]||(d[12]=_("b",null,"Tags:",-1)),d[13]||(d[13]=V(" ")),((W=a(t).currentFlow)==null?void 0:W.tags.length)>0?(p(!0),R(G,{key:0},ie((le=a(t).currentFlow)==null?void 0:le.tags,Q=>(p(),M(i,{key:Q,label:Q,color:"white",variant:"solid",class:"m-1"},null,8,["label"]))),128)):(p(),M(i,{key:1,label:"No tags",color:"white",variant:"solid",class:"m-1"}))]),((O=(Me=a(t).currentFlow)==null?void 0:Me.models)==null?void 0:O.length)>0?(p(),R("p",$o,[k(u,{name:"i-heroicons-arrow-down-on-square-stack",class:"mr-1"}),_("b",null,"Models ("+E((N=a(t).currentFlow)==null?void 0:N.models.length)+" - "+E(("formatBytes"in y?y.formatBytes:a(gt))((j=a(t).currentFlow)==null?void 0:j.models.reduce((Q,Pe)=>Q+Pe.file_size,0)))+"):",1),d[14]||(d[14]=V(" ")),(p(!0),R(G,null,ie((K=a(t).currentFlow)==null?void 0:K.models,Q=>(p(),M(i,{key:Q.name,class:"m-1",color:"white",variant:"solid"},{default:P(()=>[k(g,{text:Q.installed?"Model installed":"Model not installed"},{default:P(()=>[k(u,{name:Q.installed?"i-heroicons-check-circle-20-solid":"i-heroicons-x-mark-20-solid",class:D(Q.installed?"text-green-500":"text-orange-500")},null,8,["name","class"])]),_:2},1032,["text"]),Q.gated?(p(),M(g,{key:0,text:"Gated model, requires auth token for download",popper:{placement:"top"}},{default:P(()=>[k(u,{name:"i-heroicons-key",class:"mr-1"})]),_:1})):C("",!0),_("a",{class:"hover:underline underline-offset-4",href:Q.homepage,rel:"noopener",target:"_blank"},E(Q.name),9,_o),Q.file_size?(p(),R("span",So," ("+E(("formatBytes"in y?y.formatBytes:a(gt))(Q.file_size))+") ",1)):C("",!0)]),_:2},1024))),128))])):C("",!0),((ue=(X=a(t).currentFlow)==null?void 0:X.requires)==null?void 0:ue.length)>0?(p(),R("p",Co,[d[15]||(d[15]=_("b",null,"Requires:",-1)),d[16]||(d[16]=V(" ")),(p(!0),R(G,null,ie((de=a(t).currentFlow)==null?void 0:de.requires,Q=>(p(),M(i,{key:Q,class:"m-1",color:"yellow",variant:"outline"},{default:P(()=>[V(E(Q),1)]),_:2},1024))),128))])):C("",!0)]))]}),_:2},[a(v)?void 0:{name:"footer",fn:P(()=>[a(I).isAdmin?(p(),R("div",Mo,[_("div",Po,[k(u,{name:a(t).isFlowInstalled(a(n).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),_("span",{class:D({"text-green-500":a(t).isFlowInstalled(a(n).params.name),"text-red-500":!a(t).isFlowInstalled(a(n).params.name)})},E(a(t).isFlowInstalled(a(n).params.name)?"Installed":"Not installed"),3)]),a(t).isFlowInstalled(a(n).params.name)?C("",!0):(p(),M(g,{key:0,text:"Setup flow dependencies and configure it in ComfyUI",popper:{placement:"top"},"open-delay":500},{default:P(()=>[k(c,{icon:"i-heroicons-arrow-down-tray",class:"mx-3",color:"primary",variant:"outline",loading:a(r),onClick:d[1]||(d[1]=()=>a(t).setupFlow(a(t).currentFlow))},{default:P(()=>[V(E(a(l)),1)]),_:1},8,["loading"])]),_:1})),!a(t).isFlowInstalled(a(n).params.name)&&a(r)?(p(),M(g,{key:1,text:"Cancel flow installation",popper:{placement:"top"},"open-delay":500},{default:P(()=>[k(c,{icon:"i-heroicons-stop",variant:"outline",color:"orange",loading:a(o),onClick:d[2]||(d[2]=()=>{o.value=!0,a(t).cancelFlowSetup(a(t).currentFlow).then(()=>{o.value=!1})})},{default:P(()=>d[17]||(d[17]=[V(" Cancel ")])),_:1},8,["loading"])]),_:1})):C("",!0),a(t).isFlowInstalled(a(n).params.name)?(p(),M(z,{key:2,items:a(w),mode:"click",label:"Actions",popper:{placement:"bottom-end"}},{default:P(()=>[k(c,{color:"white",label:"Actions","trailing-icon":"i-heroicons-chevron-down-20-solid"})]),_:1},8,["items"])):C("",!0)])):(p(),R("div",Ro,[_("div",zo,[_("div",Fo,[k(u,{name:a(t).isFlowInstalled(a(n).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),_("span",{class:D({"text-green-500":a(t).isFlowInstalled(a(n).params.name),"text-red-500":!a(t).isFlowInstalled(a(n).params.name)})},E(a(t).isFlowInstalled(a(n).params.name)?"Installed":"Not installed"),3)]),a(t).isFlowInstalled(a(n).params.name)?C("",!0):(p(),R("div",Uo,d[18]||(d[18]=[_("p",{class:"text-orange-500"},"Only admin can manage workflows.",-1),_("span",{class:"text-slate-500"},"Ask your admin to setup this workflow",-1)])))])]))]),key:"0"}]),1024)]),_("div",To,[!a(m)&&a(t).isFlowInstalled(a(n).params.name)?(p(),M(q,{key:0,ref_key:"workflowPrompt",ref:x},null,512)):C("",!0)])]),!a(m)&&a(t).isFlowInstalled(a(n).params.name)?(p(),M(T,{key:0})):C("",!0),!a(m)&&a(t).isFlowInstalled(a(n).params.name)||a(t).flowResultsByName(a(n).params.name).length>0?(p(),M(F,{key:1,onCopyPromptInputs:d[3]||(d[3]=J=>b(J))})):C("",!0)],64)):(p(),M(A,{key:1,class:"mb-3"})),k(ee,{modelValue:a(f),"onUpdate:modelValue":d[7]||(d[7]=J=>Y(f)?f.value=J:null),"prevent-close":""},{default:P(()=>[k(B,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:P(()=>[_("div",jo,[d[19]||(d[19]=_("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Confirm workflow deletion ",-1)),k(c,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:d[4]||(d[4]=J=>f.value=!1)})])]),default:P(()=>{var J;return[_("p",Oo,[d[20]||(d[20]=V(" Are you sure you want to delete the ")),d[21]||(d[21]=_("b",null,"private",-1)),d[22]||(d[22]=V(" workflow ")),_("b",null,E((J=a(t).currentFlow)==null?void 0:J.display_name),1),d[23]||(d[23]=V("? "))]),_("div",Bo,[k(c,{icon:"i-heroicons-x-mark-16-solid",variant:"outline",color:"green",class:"mr-2",onClick:d[5]||(d[5]=re=>f.value=!1)},{default:P(()=>d[24]||(d[24]=[V(" Cancel ")])),_:1}),k(c,{icon:"i-heroicons-trash",variant:"outline",color:"red",onClick:d[6]||(d[6]=re=>{var te;return h(a(t).currentFlow,((te=a(t).currentFlow)==null?void 0:te.private)||!1)})},{default:P(()=>d[25]||(d[25]=[V(" Delete ")])),_:1})])]}),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{Jo as default};
