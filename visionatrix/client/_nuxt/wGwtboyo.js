import{_ as B,a as C}from"./Ce_sM7gV.js";import{_ as T}from"./DHdP4wm-.js";import{_ as I,a as M}from"./CGLgmoIP.js";import{g as U,h as j,o,c as n,b as i,w as c,a,i as _,j as S,d as x,t as g,k as t,F as b,r as N,l as L,m as W,n as q,u as A,q as D,s as O}from"./BJkGN3Dy.js";const P={class:"p-4 w-full md:w-6/12 lg:w-4/12 z-[10]"},E={class:"flex flex-grow justify-between"},H=["title"],G={class:"flex flex-col items-between text-sm"},J=["title"],K={class:"flex flex-row flex-wrap items-center mb-2"},Q={class:"flex flex-row items-center"},R=a("b",null,"Author:",-1),X=["href"],Y={class:"flex flex-row items-center mb-2"},Z=["href"],ee={key:1},te={class:"flex flex-row items-center"},oe=a("b",null,"Tags:",-1),se=U({__name:"ListItem",props:{flow:{type:Object,required:!0}},setup(s){const e=j();return(z,r)=>{const m=L,w=B,p=W,h=q,k=I;return o(),n("div",P,[i(k,{as:"div",class:"hover:shadow-md"},{header:c(()=>{var l,f,d,u;return[a("div",E,[a("h2",{class:"text-xl font-bold text-ellipsis flex items-center",title:(l=s.flow)==null?void 0:l.display_name},[(f=s.flow)!=null&&f.private?(o(),_(w,{key:0,text:"This flow is local, manually added"},{default:c(()=>[i(m,{name:"i-heroicons-lock-closed",class:"mr-2"})]),_:1})):S("",!0),x(" "+g((d=s.flow)==null?void 0:d.display_name),1)],8,H),t(e).isFlowInstalled((u=s.flow)==null?void 0:u.name)?(o(),_(w,{key:0,text:"Mark flow as favorite",popper:{placement:"top"},"open-delay":500},{default:c(()=>[i(p,{icon:t(e).isFlowFavorite(s.flow.name)?"i-heroicons-star-16-solid":"i-heroicons-star",variant:"outline",color:"yellow",onClick:r[0]||(r[0]=y=>t(e).markFlowFavorite(s.flow))},null,8,["icon"])]),_:1})):S("",!0)])]}),footer:c(()=>{var l;return[i(p,{to:`/workflows/${(l=s.flow)==null?void 0:l.name}`,icon:"i-heroicons-arrow-up-right-16-solid",class:"flex justify-center dark:bg-slate-500 bg-slate-500 dark:hover:bg-slate-700 hover:bg-slate-700 dark:text-white"},{default:c(()=>[x(" Open ")]),_:1},8,["to"])]}),default:c(()=>{var l,f,d,u,y,$,v,V;return[a("div",G,[a("p",{class:"text-md text-slate-400 truncate text-ellipsis mb-2",title:(l=s.flow)==null?void 0:l.description},g((f=s.flow)==null?void 0:f.description),9,J),a("p",K,[a("span",Q,[i(m,{name:"i-heroicons-user-16-solid",class:"mr-1"}),R,x("  ")]),a("a",{class:"hover:underline flex flex-row items-center",href:(d=s.flow)==null?void 0:d.homepage,rel:"noopener",target:"_blank"},g((u=s.flow)==null?void 0:u.author),9,X)]),a("p",Y,[i(m,{name:"i-heroicons-document-text",class:"mr-1"}),(y=s.flow)!=null&&y.documentation?(o(),n("a",{key:0,class:"hover:underline",href:($=s.flow)==null?void 0:$.documentation,rel:"noopener",target:"_blank"},"Documentation",8,Z)):(o(),n("span",ee,"No documentation"))]),a("p",te,[i(m,{name:"i-heroicons-tag",class:"mr-1"}),oe,x("  "),((v=s.flow)==null?void 0:v.tags.length)>0?(o(!0),n(b,{key:0},N((V=s.flow)==null?void 0:V.tags,F=>(o(),_(h,{key:F,label:F,color:"white",variant:"solid",class:"m-1"},null,8,["label"]))),128)):(o(),_(h,{key:1,label:"No tags",color:"white",variant:"solid",class:"m-1"}))])])]}),_:1})])}}}),le={class:"w-full sticky z-[100] top-1 flex flex-col md:flex-row justify-center items-center my-1"},ae={key:0,class:"truncate"},ne={key:1},ie={key:0,class:"flex flex-wrap justify-center items-center mb-10"},ce={key:1,class:"text-center text-slate-500"},de=U({__name:"index",setup(s){A({title:"Workflows - Visionatrix",meta:[{name:"description",content:"Workflows - Visionatrix"}]});const e=j();return D(()=>e.paginatedFlows,()=>{e.flows.length<=e.$state.pageSize?e.$state.page=1:e.$state.page>Math.ceil(e.flows.length/e.$state.pageSize)&&(e.$state.page=Math.ceil(e.flows.length/e.$state.pageSize))}),(z,r)=>{const m=C,w=T,p=M,h=se,k=O;return o(),_(k,{class:"lg:h-dvh"},{default:c(()=>[t(e).$state.loading.flows_available||t(e).loading.flows_installed||t(e).$state.loading.tasks_history?(o(),_(m,{key:0})):(o(),n(b,{key:1},[a("div",le,[i(w,{modelValue:t(e).$state.flows_tags_filter,"onUpdate:modelValue":r[0]||(r[0]=l=>t(e).$state.flows_tags_filter=l),class:"mb-1 md:mr-3 md:mb-0",options:t(e).flowsTags,multiple:"",searchable:""},{label:c(()=>[t(e).$state.flows_tags_filter.length>0?(o(),n("span",ae,g(t(e).$state.flows_tags_filter.join(",")),1)):(o(),n("span",ne,"Select tags to filter"))]),_:1},8,["modelValue","options"]),i(p,{modelValue:t(e).$state.page,"onUpdate:modelValue":r[1]||(r[1]=l=>t(e).$state.page=l),"page-count":t(e).$state.pageSize,total:t(e).flows.length},null,8,["modelValue","page-count","total"])]),t(e).flows.length>0?(o(),n("div",ie,[(o(!0),n(b,null,N(t(e).paginatedFlows,l=>(o(),_(h,{key:l.name,flow:l},null,8,["flow"]))),128))])):(o(),n("p",ce," No flows available "))],64))]),_:1})}}});export{de as default};
