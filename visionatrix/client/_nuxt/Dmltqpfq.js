import{g as D,P as S,C as k,a0 as jt,N as Z,a1 as ge,a2 as ma,a3 as se,a4 as $t,a5 as St,a6 as we,F as q,a7 as Ce,a8 as _e,Q as ie,a9 as L,aa as Et,ab as Me,ac as qe,ad as Ye,ae as be,af as fa,ag as pa,ah as va,ai as Ee,aj as Ue,ak as Le,al as vt,am as ae,an as ga,ao as ha,ap as Ut,aq as Pe,ar as ee,as as ba,at as ya,au as It,av as He,aw as wa,ax as ka,ay as Nt,az as $a,aA as Sa,aB as Rt,aC as Ia,aD as Pa,aE as xe,aF as Ca,I as j,aG as Ma,y as Fe,aH as Fa,z as G,_ as ke,m as me,W as Xe,A as Be,B as ue,E as Ze,aI as Ba,aJ as Lt,aK as Aa,X as ye,Y as re,aL as Ie,o as v,j as A,w as z,b as F,H as ne,a as I,c as M,aM as Dt,aN as Oa,J as X,k as B,r as le,aO as za,t as V,d as W,e as Vt,aP as Ht,aQ as xa,aR as Ta,aS as Pt,aT as _a,aU as ct,aV as ja,aW as Ea,aX as Ct,aY as Wt,aZ as Ua,u as Na,a_ as gt,a$ as Ra,O as Mt,i as d,S as je,K as Re,l as fe,h as Ne,b0 as qt,b1 as La,b2 as Da,b3 as Va,b4 as Ke,b5 as Ha,b6 as Wa,G as Ft,R as qa,x as Ga,b7 as Bt,n as Gt,b8 as Qa,v as Ja,q as Ya,b9 as Ka}from"./CbDaD4E_.js";import{t as Qt,c as At,o as et,i as Xa,p as Za,u as en,f as tn,d as ce,e as Jt,b as Yt,a as Kt,_ as an}from"./DcPJBe-Z.js";import{a as nn,_ as ln}from"./Ba2L16vy.js";import{u as ht}from"./CfZqcNuu.js";import{_ as bt}from"./CuYpO2gO.js";import{_ as on}from"./B7EDXtyS.js";import{_ as Xt}from"./PJTkgIJO.js";const rn={wrapper:"w-full relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium",description:"mt-1 text-sm leading-4 opacity-90",actions:"flex items-center gap-2 mt-3 flex-shrink-0",shadow:"",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0 self-center",size:"md"},color:{white:{solid:"text-gray-900 dark:text-white bg-white dark:bg-gray-900 ring-1 ring-gray-200 dark:ring-gray-800"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{color:"white",variant:"solid",icon:null,closeButton:null,actionButton:{size:"xs",color:"primary",variant:"link"}}},sn={wrapper:"relative",container:"relative w-full flex overflow-x-auto snap-x snap-mandatory scroll-smooth",item:"flex flex-none snap-center",arrows:{wrapper:"flex items-center justify-between"},indicators:{wrapper:"absolute flex items-center justify-center gap-3 bottom-4 inset-x-0",base:"rounded-full h-3 w-3",active:"bg-primary-500 dark:bg-primary-400",inactive:"bg-gray-100 dark:bg-gray-800 mix-blend-overlay"},default:{prevButton:{color:"black",class:"rtl:[&_span:first-child]:rotate-180 absolute left-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"black",class:"rtl:[&_span:last-child]:rotate-180 absolute right-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-right-20-solid "}}},un={wrapper:"relative w-full flex items-center",base:"w-full absolute appearance-none cursor-pointer disabled:cursor-not-allowed disabled:bg-opacity-50 focus:outline-none peer group",rounded:"rounded-lg",background:"bg-transparent",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",progress:{base:"absolute pointer-events-none peer-disabled:bg-opacity-50",rounded:"rounded-s-lg",background:"bg-{color}-500 dark:bg-{color}-400",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"}},thumb:{base:"[&::-webkit-slider-thumb]:relative [&::-moz-range-thumb]:relative [&::-webkit-slider-thumb]:z-[1] [&::-moz-range-thumb]:z-[1] [&::-webkit-slider-thumb]:appearance-none [&::-moz-range-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:border-0",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:dark:bg-gray-900 [&::-moz-range-thumb]:bg-current",ring:"[&::-webkit-slider-thumb]:ring-2 [&::-webkit-slider-thumb]:ring-current",size:{"2xs":"[&::-webkit-slider-thumb]:h-1.5 [&::-moz-range-thumb]:h-1.5 [&::-webkit-slider-thumb]:w-1.5 [&::-moz-range-thumb]:w-1.5 [&::-webkit-slider-thumb]:mt-[-2.5px] [&::-moz-range-thumb]:mt-[-2.5px]",xs:"[&::-webkit-slider-thumb]:h-2 [&::-moz-range-thumb]:h-2 [&::-webkit-slider-thumb]:w-2 [&::-moz-range-thumb]:w-2 [&::-webkit-slider-thumb]:mt-[-3px] [&::-moz-range-thumb]:mt-[-3px]",sm:"[&::-webkit-slider-thumb]:h-3 [&::-moz-range-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-moz-range-thumb]:w-3 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",md:"[&::-webkit-slider-thumb]:h-4 [&::-moz-range-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-moz-range-thumb]:w-4 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",lg:"[&::-webkit-slider-thumb]:h-5 [&::-moz-range-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-moz-range-thumb]:w-5 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",xl:"[&::-webkit-slider-thumb]:h-6 [&::-moz-range-thumb]:h-6 [&::-webkit-slider-thumb]:w-6 [&::-moz-range-thumb]:w-6 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1","2xl":"[&::-webkit-slider-thumb]:h-7 [&::-moz-range-thumb]:h-7 [&::-webkit-slider-thumb]:w-7 [&::-moz-range-thumb]:w-7 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1"}},track:{base:"[&::-webkit-slider-runnable-track]:group-disabled:bg-opacity-50 [&::-moz-range-track]:group-disabled:bg-opacity-50",background:"[&::-webkit-slider-runnable-track]:bg-gray-200 [&::-moz-range-track]:bg-gray-200 [&::-webkit-slider-runnable-track]:dark:bg-gray-700 [&::-moz-range-track]:dark:bg-gray-700",rounded:"[&::-webkit-slider-runnable-track]:rounded-lg [&::-moz-range-track]:rounded-lg",size:{"2xs":"[&::-webkit-slider-runnable-track]:h-px [&::-moz-range-track]:h-px",xs:"[&::-webkit-slider-runnable-track]:h-0.5 [&::-moz-range-track]:h-0.5",sm:"[&::-webkit-slider-runnable-track]:h-1 [&::-moz-range-track]:h-1",md:"[&::-webkit-slider-runnable-track]:h-2 [&::-moz-range-track]:h-2",lg:"[&::-webkit-slider-runnable-track]:h-3 [&::-moz-range-track]:h-3",xl:"[&::-webkit-slider-runnable-track]:h-4 [&::-moz-range-track]:h-4","2xl":"[&::-webkit-slider-runnable-track]:h-5 [&::-moz-range-track]:h-5"}},size:{"2xs":"h-1.5",xs:"h-2",sm:"h-3",md:"h-4",lg:"h-5",xl:"h-6","2xl":"h-7"},default:{size:"md",color:"primary"}},dn={base:"animate-pulse",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-md"},cn={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function Zt(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let a of e.value){let n=L(a);n instanceof HTMLElement&&t.add(n)}return t}var ea=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(ea||{});let De=Object.assign(D({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:S(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:a,expose:n}){let o=S(null);n({el:o,$el:o});let r=k(()=>jt(o)),l=S(!1);Z(()=>l.value=!0),ge(()=>l.value=!1),fn({ownerDocument:r},k(()=>l.value&&!!(e.features&16)));let s=pn({ownerDocument:r,container:o,initialFocus:k(()=>e.initialFocus)},k(()=>l.value&&!!(e.features&2)));vn({ownerDocument:r,container:o,containers:e.containers,previousActiveElement:s},k(()=>l.value&&!!(e.features&8)));let u=ma();function m(p){let i=L(o);i&&(f=>f())(()=>{Me(u.value,{[qe.Forwards]:()=>{Ye(i,be.First,{skipElements:[p.relatedTarget]})},[qe.Backwards]:()=>{Ye(i,be.Last,{skipElements:[p.relatedTarget]})}})})}let b=S(!1);function w(p){p.key==="Tab"&&(b.value=!0,requestAnimationFrame(()=>{b.value=!1}))}function c(p){if(!l.value)return;let i=Zt(e.containers);L(o)instanceof HTMLElement&&i.add(L(o));let f=p.relatedTarget;f instanceof HTMLElement&&f.dataset.headlessuiFocusGuard!=="true"&&(ta(i,f)||(b.value?Ye(L(o),Me(u.value,{[qe.Forwards]:()=>be.Next,[qe.Backwards]:()=>be.Previous})|be.WrapAround,{relativeTo:p.target}):p.target instanceof HTMLElement&&_e(p.target)))}return()=>{let p={},i={ref:o,onKeydown:w,onFocusout:c},{features:f,initialFocus:h,containers:g,...$}=e;return se(q,[!!(f&4)&&se($t,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:St.Focusable}),we({ourProps:i,theirProps:{...t,...$},slot:p,attrs:t,slots:a,name:"FocusTrap"}),!!(f&4)&&se($t,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:St.Focusable})])}}}),{features:ea});function mn(e){let t=S(At.slice());return ie([e],([a],[n])=>{n===!0&&a===!1?Qt(()=>{t.value.splice(0)}):n===!1&&a===!0&&(t.value=At.slice())},{flush:"post"}),()=>{var a;return(a=t.value.find(n=>n!=null&&n.isConnected))!=null?a:null}}function fn({ownerDocument:e},t){let a=mn(t);Z(()=>{Ce(()=>{var n,o;t.value||((n=e.value)==null?void 0:n.activeElement)===((o=e.value)==null?void 0:o.body)&&_e(a())},{flush:"post"})}),ge(()=>{t.value&&_e(a())})}function pn({ownerDocument:e,container:t,initialFocus:a},n){let o=S(null),r=S(!1);return Z(()=>r.value=!0),ge(()=>r.value=!1),Z(()=>{ie([t,a,n],(l,s)=>{if(l.every((m,b)=>(s==null?void 0:s[b])===m)||!n.value)return;let u=L(t);u&&Qt(()=>{var m,b;if(!r.value)return;let w=L(a),c=(m=e.value)==null?void 0:m.activeElement;if(w){if(w===c){o.value=c;return}}else if(u.contains(c)){o.value=c;return}w?_e(w):Ye(u,be.First|be.NoScroll)===fa.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.value=(b=e.value)==null?void 0:b.activeElement})},{immediate:!0,flush:"post"})}),o}function vn({ownerDocument:e,container:t,containers:a,previousActiveElement:n},o){var r;Et((r=e.value)==null?void 0:r.defaultView,"focus",l=>{if(!o.value)return;let s=Zt(a);L(t)instanceof HTMLElement&&s.add(L(t));let u=n.value;if(!u)return;let m=l.target;m&&m instanceof HTMLElement?ta(s,m)?(n.value=m,_e(m)):(l.preventDefault(),l.stopPropagation(),_e(u)):_e(n.value)},!0)}function ta(e,t){for(let a of e)if(a.contains(t))return!0;return!1}function gn(e){let t=pa(e.getSnapshot());return ge(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function hn(e,t){let a=e(),n=new Set;return{getSnapshot(){return a},subscribe(o){return n.add(o),()=>n.delete(o)},dispatch(o,...r){let l=t[o].call(a,...r);l&&(a=l,n.forEach(s=>s()))}}}function bn(){let e;return{before({doc:t}){var a;let n=t.documentElement;e=((a=t.defaultView)!=null?a:window).innerWidth-n.clientWidth},after({doc:t,d:a}){let n=t.documentElement,o=n.clientWidth-n.offsetWidth,r=e-o;a.style(n,"paddingRight",`${r}px`)}}}function yn(){return va()?{before({doc:e,d:t,meta:a}){function n(o){return a.containers.flatMap(r=>r()).some(r=>r.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=et();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let r=(o=window.scrollY)!=null?o:window.pageYOffset,l=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let u=s.target.closest("a");if(!u)return;let{hash:m}=new URL(u.href),b=e.querySelector(m);b&&!n(b)&&(l=b)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(s.target instanceof HTMLElement)if(n(s.target)){let u=s.target;for(;u.parentElement&&n(u.parentElement);)u=u.parentElement;t.style(u,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(s.target instanceof HTMLElement){if(s.target.tagName==="INPUT")return;if(n(s.target)){let u=s.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let u=(s=window.scrollY)!=null?s:window.pageYOffset;r!==u&&window.scrollTo(0,r),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function wn(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function kn(e){let t={};for(let a of e)Object.assign(t,a(t));return t}let Te=hn(()=>new Map,{PUSH(e,t){var a;let n=(a=this.get(e))!=null?a:{doc:e,count:0,d:et(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let a=this.get(e);return a&&(a.count--,a.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:a}){let n={doc:e,d:t,meta:kn(a)},o=[yn(),bn(),wn()];o.forEach(({before:r})=>r==null?void 0:r(n)),o.forEach(({after:r})=>r==null?void 0:r(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Te.subscribe(()=>{let e=Te.getSnapshot(),t=new Map;for(let[a]of e)t.set(a,a.documentElement.style.overflow);for(let a of e.values()){let n=t.get(a.doc)==="hidden",o=a.count!==0;(o&&!n||!o&&n)&&Te.dispatch(a.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",a),a.count===0&&Te.dispatch("TEARDOWN",a)}});function $n(e,t,a){let n=gn(Te),o=k(()=>{let r=e.value?n.value.get(e.value):void 0;return r?r.count>0:!1});return ie([e,t],([r,l],[s],u)=>{if(!r||!l)return;Te.dispatch("PUSH",r,a);let m=!1;u(()=>{m||(Te.dispatch("POP",s??r,a),m=!0)})},{immediate:!0}),o}let st=new Map,Ve=new Map;function Ot(e,t=S(!0)){Ce(a=>{var n;if(!t.value)return;let o=L(e);if(!o)return;a(function(){var l;if(!o)return;let s=(l=Ve.get(o))!=null?l:1;if(s===1?Ve.delete(o):Ve.set(o,s-1),s!==1)return;let u=st.get(o);u&&(u["aria-hidden"]===null?o.removeAttribute("aria-hidden"):o.setAttribute("aria-hidden",u["aria-hidden"]),o.inert=u.inert,st.delete(o))});let r=(n=Ve.get(o))!=null?n:0;Ve.set(o,r+1),r===0&&(st.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),o.setAttribute("aria-hidden","true"),o.inert=!0)})}let aa=Symbol("StackContext");var mt=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(mt||{});function Sn(){return Ue(aa,()=>{})}function In({type:e,enabled:t,element:a,onUpdate:n}){let o=Sn();function r(...l){n==null||n(...l),o(...l)}Z(()=>{ie(t,(l,s)=>{l?r(0,e,a):s===!0&&r(1,e,a)},{immediate:!0,flush:"sync"})}),ge(()=>{t.value&&r(1,e,a)}),Ee(aa,r)}let Pn=Symbol("DescriptionContext");function Cn({slot:e=S({}),name:t="Description",props:a={}}={}){let n=S([]);function o(r){return n.value.push(r),()=>{let l=n.value.indexOf(r);l!==-1&&n.value.splice(l,1)}}return Ee(Pn,{register:o,slot:e,name:t,props:a}),k(()=>n.value.length>0?n.value.join(" "):void 0)}var Mn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Mn||{});let ft=Symbol("DialogContext");function na(e){let t=Ue(ft,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,na),a}return t}let Ge="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Fn=D({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Ge},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:a,slots:n,expose:o}){var r,l;let s=(r=e.id)!=null?r:`headlessui-dialog-${Le()}`,u=S(!1);Z(()=>{u.value=!0});let m=!1,b=k(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(m||(m=!0,console.warn(`Invalid role [${b}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),w=S(0),c=vt(),p=k(()=>e.open===Ge&&c!==null?(c.value&ae.Open)===ae.Open:e.open),i=S(null),f=k(()=>jt(i));if(o({el:i,$el:i}),!(e.open!==Ge||c!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof p.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${p.value===Ge?void 0:e.open}`);let h=k(()=>u.value&&p.value?0:1),g=k(()=>h.value===0),$=k(()=>w.value>1),y=Ue(ft,null)!==null,[O,P]=ga(),{resolveContainers:N,mainTreeNodeRef:T,MainTreeNode:x}=ha({portals:O,defaultContainers:[k(()=>{var R;return(R=de.panelRef.value)!=null?R:i.value})]}),Y=k(()=>$.value?"parent":"leaf"),te=k(()=>c!==null?(c.value&ae.Closing)===ae.Closing:!1),E=k(()=>y||te.value?!1:g.value),H=k(()=>{var R,C,U;return(U=Array.from((C=(R=f.value)==null?void 0:R.querySelectorAll("body > *"))!=null?C:[]).find(oe=>oe.id==="headlessui-portal-root"?!1:oe.contains(L(T))&&oe instanceof HTMLElement))!=null?U:null});Ot(H,E);let J=k(()=>$.value?!0:g.value),_=k(()=>{var R,C,U;return(U=Array.from((C=(R=f.value)==null?void 0:R.querySelectorAll("[data-headlessui-portal]"))!=null?C:[]).find(oe=>oe.contains(L(T))&&oe instanceof HTMLElement))!=null?U:null});Ot(_,J),In({type:"Dialog",enabled:k(()=>h.value===0),element:i,onUpdate:(R,C)=>{if(C==="Dialog")return Me(R,{[mt.Add]:()=>w.value+=1,[mt.Remove]:()=>w.value-=1})}});let Q=Cn({name:"DialogDescription",slot:k(()=>({open:p.value}))}),K=S(null),de={titleId:K,panelRef:S(null),dialogState:h,setTitleId(R){K.value!==R&&(K.value=R)},close(){t("close",!1)}};Ee(ft,de);let he=k(()=>!(!g.value||$.value));Ut(N,(R,C)=>{R.preventDefault(),de.close(),Pe(()=>C==null?void 0:C.focus())},he);let Ae=k(()=>!($.value||h.value!==0));Et((l=f.value)==null?void 0:l.defaultView,"keydown",R=>{Ae.value&&(R.defaultPrevented||R.key===ee.Escape&&(R.preventDefault(),R.stopPropagation(),de.close()))});let Oe=k(()=>!(te.value||h.value!==0||y));return $n(f,Oe,R=>{var C;return{containers:[...(C=R.containers)!=null?C:[],N]}}),Ce(R=>{if(h.value!==0)return;let C=L(i);if(!C)return;let U=new ResizeObserver(oe=>{for(let rt of oe){let We=rt.target.getBoundingClientRect();We.x===0&&We.y===0&&We.width===0&&We.height===0&&de.close()}});U.observe(C),R(()=>U.disconnect())}),()=>{let{open:R,initialFocus:C,...U}=e,oe={...a,ref:i,id:s,role:b.value,"aria-modal":h.value===0?!0:void 0,"aria-labelledby":K.value,"aria-describedby":Q.value},rt={open:h.value===0};return se(It,{force:!0},()=>[se(ba,()=>se(ya,{target:i.value},()=>se(It,{force:!1},()=>se(De,{initialFocus:C,containers:N,features:g.value?Me(Y.value,{parent:De.features.RestoreFocus,leaf:De.features.All&~De.features.FocusLock}):De.features.None},()=>se(P,{},()=>we({ourProps:oe,theirProps:{...U,...a},slot:rt,attrs:a,slots:n,visible:h.value===0,features:He.RenderStrategy|He.Static,name:"Dialog"})))))),se(x)])}}}),Bn=D({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:n}){var o;let r=(o=e.id)!=null?o:`headlessui-dialog-panel-${Le()}`,l=na("DialogPanel");n({el:l.panelRef,$el:l.panelRef});function s(u){u.stopPropagation()}return()=>{let{...u}=e,m={id:r,ref:l.panelRef,onClick:s};return we({ourProps:m,theirProps:u,slot:{open:l.dialogState.value===0},attrs:t,slots:a,name:"DialogPanel"})}}});var An=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(An||{}),On=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(On||{});function zn(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let la=Symbol("MenuContext");function tt(e){let t=Ue(la,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,tt),a}return t}let xn=D({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:a}){let n=S(1),o=S(null),r=S(null),l=S([]),s=S(""),u=S(null),m=S(1);function b(c=p=>p){let p=u.value!==null?l.value[u.value]:null,i=Ia(c(l.value.slice()),h=>L(h.dataRef.domRef)),f=p?i.indexOf(p):null;return f===-1&&(f=null),{items:i,activeItemIndex:f}}let w={menuState:n,buttonRef:o,itemsRef:r,items:l,searchQuery:s,activeItemIndex:u,activationTrigger:m,closeMenu:()=>{n.value=1,u.value=null},openMenu:()=>n.value=0,goToItem(c,p,i){let f=b(),h=tn(c===ce.Specific?{focus:ce.Specific,id:p}:{focus:c},{resolveItems:()=>f.items,resolveActiveIndex:()=>f.activeItemIndex,resolveId:g=>g.id,resolveDisabled:g=>g.dataRef.disabled});s.value="",u.value=h,m.value=i??1,l.value=f.items},search(c){let p=s.value!==""?0:1;s.value+=c.toLowerCase();let i=(u.value!==null?l.value.slice(u.value+p).concat(l.value.slice(0,u.value+p)):l.value).find(h=>h.dataRef.textValue.startsWith(s.value)&&!h.dataRef.disabled),f=i?l.value.indexOf(i):-1;f===-1||f===u.value||(u.value=f,m.value=1)},clearSearch(){s.value=""},registerItem(c,p){let i=b(f=>[...f,{id:c,dataRef:p}]);l.value=i.items,u.value=i.activeItemIndex,m.value=1},unregisterItem(c){let p=b(i=>{let f=i.findIndex(h=>h.id===c);return f!==-1&&i.splice(f,1),i});l.value=p.items,u.value=p.activeItemIndex,m.value=1}};return Ut([o,r],(c,p)=>{var i;w.closeMenu(),wa(p,ka.Loose)||(c.preventDefault(),(i=L(o))==null||i.focus())},k(()=>n.value===0)),Ee(la,w),Nt(k(()=>Me(n.value,{0:ae.Open,1:ae.Closed}))),()=>{let c={open:n.value===0,close:w.closeMenu};return we({ourProps:{},theirProps:e,slot:c,slots:t,attrs:a,name:"Menu"})}}}),Tn=D({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:n}){var o;let r=(o=e.id)!=null?o:`headlessui-menu-button-${Le()}`,l=tt("MenuButton");n({el:l.buttonRef,$el:l.buttonRef});function s(w){switch(w.key){case ee.Space:case ee.Enter:case ee.ArrowDown:w.preventDefault(),w.stopPropagation(),l.openMenu(),Pe(()=>{var c;(c=L(l.itemsRef))==null||c.focus({preventScroll:!0}),l.goToItem(ce.First)});break;case ee.ArrowUp:w.preventDefault(),w.stopPropagation(),l.openMenu(),Pe(()=>{var c;(c=L(l.itemsRef))==null||c.focus({preventScroll:!0}),l.goToItem(ce.Last)});break}}function u(w){switch(w.key){case ee.Space:w.preventDefault();break}}function m(w){e.disabled||(l.menuState.value===0?(l.closeMenu(),Pe(()=>{var c;return(c=L(l.buttonRef))==null?void 0:c.focus({preventScroll:!0})})):(w.preventDefault(),l.openMenu(),zn(()=>{var c;return(c=L(l.itemsRef))==null?void 0:c.focus({preventScroll:!0})})))}let b=$a(k(()=>({as:e.as,type:t.type})),l.buttonRef);return()=>{var w;let c={open:l.menuState.value===0},{...p}=e,i={ref:l.buttonRef,id:r,type:b.value,"aria-haspopup":"menu","aria-controls":(w=L(l.itemsRef))==null?void 0:w.id,"aria-expanded":l.menuState.value===0,onKeydown:s,onKeyup:u,onClick:m};return we({ourProps:i,theirProps:p,slot:c,attrs:t,slots:a,name:"MenuButton"})}}}),_n=D({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:n}){var o;let r=(o=e.id)!=null?o:`headlessui-menu-items-${Le()}`,l=tt("MenuItems"),s=S(null);n({el:l.itemsRef,$el:l.itemsRef}),Xa({container:k(()=>L(l.itemsRef)),enabled:k(()=>l.menuState.value===0),accept(c){return c.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute("role","none")}});function u(c){var p;switch(s.value&&clearTimeout(s.value),c.key){case ee.Space:if(l.searchQuery.value!=="")return c.preventDefault(),c.stopPropagation(),l.search(c.key);case ee.Enter:if(c.preventDefault(),c.stopPropagation(),l.activeItemIndex.value!==null){let i=l.items.value[l.activeItemIndex.value];(p=L(i.dataRef.domRef))==null||p.click()}l.closeMenu(),Rt(L(l.buttonRef));break;case ee.ArrowDown:return c.preventDefault(),c.stopPropagation(),l.goToItem(ce.Next);case ee.ArrowUp:return c.preventDefault(),c.stopPropagation(),l.goToItem(ce.Previous);case ee.Home:case ee.PageUp:return c.preventDefault(),c.stopPropagation(),l.goToItem(ce.First);case ee.End:case ee.PageDown:return c.preventDefault(),c.stopPropagation(),l.goToItem(ce.Last);case ee.Escape:c.preventDefault(),c.stopPropagation(),l.closeMenu(),Pe(()=>{var i;return(i=L(l.buttonRef))==null?void 0:i.focus({preventScroll:!0})});break;case ee.Tab:c.preventDefault(),c.stopPropagation(),l.closeMenu(),Pe(()=>Sa(L(l.buttonRef),c.shiftKey?be.Previous:be.Next));break;default:c.key.length===1&&(l.search(c.key),s.value=setTimeout(()=>l.clearSearch(),350));break}}function m(c){switch(c.key){case ee.Space:c.preventDefault();break}}let b=vt(),w=k(()=>b!==null?(b.value&ae.Open)===ae.Open:l.menuState.value===0);return()=>{var c,p;let i={open:l.menuState.value===0},{...f}=e,h={"aria-activedescendant":l.activeItemIndex.value===null||(c=l.items.value[l.activeItemIndex.value])==null?void 0:c.id,"aria-labelledby":(p=L(l.buttonRef))==null?void 0:p.id,id:r,onKeydown:u,onKeyup:m,role:"menu",tabIndex:0,ref:l.itemsRef};return we({ourProps:h,theirProps:f,slot:i,attrs:t,slots:a,features:He.RenderStrategy|He.Static,visible:w.value,name:"MenuItems"})}}}),jn=D({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:a,expose:n}){var o;let r=(o=e.id)!=null?o:`headlessui-menu-item-${Le()}`,l=tt("MenuItem"),s=S(null);n({el:s,$el:s});let u=k(()=>l.activeItemIndex.value!==null?l.items.value[l.activeItemIndex.value].id===r:!1),m=Za(s),b=k(()=>({disabled:e.disabled,get textValue(){return m()},domRef:s}));Z(()=>l.registerItem(r,b)),ge(()=>l.unregisterItem(r)),Ce(()=>{l.menuState.value===0&&u.value&&l.activationTrigger.value!==0&&Pe(()=>{var g,$;return($=(g=L(s))==null?void 0:g.scrollIntoView)==null?void 0:$.call(g,{block:"nearest"})})});function w(g){if(e.disabled)return g.preventDefault();l.closeMenu(),Rt(L(l.buttonRef))}function c(){if(e.disabled)return l.goToItem(ce.Nothing);l.goToItem(ce.Specific,r)}let p=en();function i(g){p.update(g)}function f(g){p.wasMoved(g)&&(e.disabled||u.value||l.goToItem(ce.Specific,r,0))}function h(g){p.wasMoved(g)&&(e.disabled||u.value&&l.goToItem(ce.Nothing))}return()=>{let{disabled:g,...$}=e,y={active:u.value,disabled:g,close:l.closeMenu};return we({ourProps:{id:r,ref:s,role:"menuitem",tabIndex:g===!0?void 0:-1,"aria-disabled":g===!0?!0:void 0,onClick:w,onFocus:c,onPointerenter:i,onMouseenter:i,onPointermove:f,onMousemove:f,onPointerleave:h,onMouseleave:h},theirProps:{...a,...$},slot:y,attrs:a,slots:t,name:"MenuItem"})}}});function En(e){let t={called:!1};return(...a)=>{if(!t.called)return t.called=!0,e(...a)}}function it(e,...t){e&&t.length>0&&e.classList.add(...t)}function Qe(e,...t){e&&t.length>0&&e.classList.remove(...t)}var pt=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(pt||{});function Un(e,t){let a=et();if(!e)return a.dispose;let{transitionDuration:n,transitionDelay:o}=getComputedStyle(e),[r,l]=[n,o].map(s=>{let[u=0]=s.split(",").filter(Boolean).map(m=>m.includes("ms")?parseFloat(m):parseFloat(m)*1e3).sort((m,b)=>b-m);return u});return r!==0?a.setTimeout(()=>t("finished"),r+l):t("finished"),a.add(()=>t("cancelled")),a.dispose}function zt(e,t,a,n,o,r){let l=et(),s=r!==void 0?En(r):()=>{};return Qe(e,...o),it(e,...t,...a),l.nextFrame(()=>{Qe(e,...a),it(e,...n),l.add(Un(e,u=>(Qe(e,...n,...t),it(e,...o),s(u))))}),l.add(()=>Qe(e,...t,...a,...n,...o)),l.add(()=>s("cancelled")),l.dispose}function ze(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let yt=Symbol("TransitionContext");var Nn=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Nn||{});function Rn(){return Ue(yt,null)!==null}function Ln(){let e=Ue(yt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Dn(){let e=Ue(wt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let wt=Symbol("NestingContext");function at(e){return"children"in e?at(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function oa(e){let t=S([]),a=S(!1);Z(()=>a.value=!0),ge(()=>a.value=!1);function n(r,l=xe.Hidden){let s=t.value.findIndex(({id:u})=>u===r);s!==-1&&(Me(l,{[xe.Unmount](){t.value.splice(s,1)},[xe.Hidden](){t.value[s].state="hidden"}}),!at(t)&&a.value&&(e==null||e()))}function o(r){let l=t.value.find(({id:s})=>s===r);return l?l.state!=="visible"&&(l.state="visible"):t.value.push({id:r,state:"visible"}),()=>n(r,xe.Unmount)}return{children:t,register:o,unregister:n}}let ra=He.RenderStrategy,sa=D({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:n,expose:o}){let r=S(0);function l(){r.value|=ae.Opening,t("beforeEnter")}function s(){r.value&=~ae.Opening,t("afterEnter")}function u(){r.value|=ae.Closing,t("beforeLeave")}function m(){r.value&=~ae.Closing,t("afterLeave")}if(!Rn()&&Pa())return()=>se(ia,{...e,onBeforeEnter:l,onAfterEnter:s,onBeforeLeave:u,onAfterLeave:m},n);let b=S(null),w=k(()=>e.unmount?xe.Unmount:xe.Hidden);o({el:b,$el:b});let{show:c,appear:p}=Ln(),{register:i,unregister:f}=Dn(),h=S(c.value?"visible":"hidden"),g={value:!0},$=Le(),y={value:!1},O=oa(()=>{!y.value&&h.value!=="hidden"&&(h.value="hidden",f($),m())});Z(()=>{let J=i($);ge(J)}),Ce(()=>{if(w.value===xe.Hidden&&$){if(c.value&&h.value!=="visible"){h.value="visible";return}Me(h.value,{hidden:()=>f($),visible:()=>i($)})}});let P=ze(e.enter),N=ze(e.enterFrom),T=ze(e.enterTo),x=ze(e.entered),Y=ze(e.leave),te=ze(e.leaveFrom),E=ze(e.leaveTo);Z(()=>{Ce(()=>{if(h.value==="visible"){let J=L(b);if(J instanceof Comment&&J.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function H(J){let _=g.value&&!p.value,Q=L(b);!Q||!(Q instanceof HTMLElement)||_||(y.value=!0,c.value&&l(),c.value||u(),J(c.value?zt(Q,P,N,T,x,K=>{y.value=!1,K===pt.Finished&&s()}):zt(Q,Y,te,E,x,K=>{y.value=!1,K===pt.Finished&&(at(O)||(h.value="hidden",f($),m()))})))}return Z(()=>{ie([c],(J,_,Q)=>{H(Q),g.value=!1},{immediate:!0})}),Ee(wt,O),Nt(k(()=>Me(h.value,{visible:ae.Open,hidden:ae.Closed})|r.value)),()=>{let{appear:J,show:_,enter:Q,enterFrom:K,enterTo:de,entered:he,leave:Ae,leaveFrom:Oe,leaveTo:R,...C}=e,U={ref:b},oe={...C,...p.value&&c.value&&Ca.isServer?{class:j([a.class,C.class,...P,...N])}:{}};return we({theirProps:oe,ourProps:U,slot:{},slots:n,attrs:a,features:ra,visible:h.value==="visible",name:"TransitionChild"})}}}),Vn=sa,ia=D({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:n}){let o=vt(),r=k(()=>e.show===null&&o!==null?(o.value&ae.Open)===ae.Open:e.show);Ce(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=S(r.value?"visible":"hidden"),s=oa(()=>{l.value="hidden"}),u=S(!0),m={show:r,appear:k(()=>e.appear||!u.value)};return Z(()=>{Ce(()=>{u.value=!1,r.value?l.value="visible":at(s)||(l.value="hidden")})}),Ee(wt,s),Ee(yt,m),()=>{let b=Ma(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),w={unmount:e.unmount};return we({ourProps:{...w,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[se(Vn,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...a,...w,...b},n.default)]},attrs:{},features:ra,visible:l.value==="visible",name:"Transition"})}}});const ut=Fe(G.ui.strategy,G.ui.dropdown,Fa),Hn=D({components:{HMenu:xn,HMenuButton:Tn,HMenuItems:_n,HMenuItem:jn,UIcon:me,UAvatar:Xe,UKbd:Jt},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>ut.default.openDelay},closeDelay:{type:Number,default:()=>ut.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:t}){const{ui:a,attrs:n}=Be("dropdown",ue(e,"ui"),ut,ue(e,"class")),o=k(()=>Ze(e.mode==="hover"?{offsetDistance:0}:{},e.popper,a.value.popper)),[r,l]=Ba(o.value),s=S(null);let u=null,m=null;Z(()=>{var $,y;const h=($=r.value)==null?void 0:$.$.provides;if(!h)return;const g=Object.getOwnPropertySymbols(h);s.value=g.length&&h[g[0]],e.open&&((y=s.value)==null||y.openMenu())});const b=k(()=>{var y,O,P;if(e.mode!=="hover")return{};const h=((y=e.popper)==null?void 0:y.offsetDistance)||((O=a.value.popper)==null?void 0:O.offsetDistance)||8,g=(P=o.value.placement)==null?void 0:P.split("-")[0],$=`${h}px`;return g==="top"||g==="bottom"?{paddingTop:$,paddingBottom:$}:g==="left"||g==="right"?{paddingLeft:$,paddingRight:$}:{paddingTop:$,paddingBottom:$,paddingLeft:$,paddingRight:$}});function w(h){!h.cancelable||!s.value||(s.value.menuState===0?s.value.closeMenu():s.value.openMenu())}function c(){e.mode!=="hover"||!s.value||(m&&(clearTimeout(m),m=null),s.value.menuState!==0&&(u=u||setTimeout(()=>{s.value.openMenu&&s.value.openMenu(),u=null},e.openDelay)))}function p(){e.mode!=="hover"||!s.value||(u&&(clearTimeout(u),u=null),s.value.menuState!==1&&(m=m||setTimeout(()=>{s.value.closeMenu&&s.value.closeMenu(),m=null},e.closeDelay)))}function i(h,g,{href:$,navigate:y,close:O,isExternal:P}){g.click&&g.click(h),$&&!P&&(y(h),O())}ie(()=>e.open,(h,g)=>{s.value&&(g===void 0||h===g||(h?s.value.openMenu():s.value.closeMenu()))}),ie(()=>{var h;return(h=s.value)==null?void 0:h.menuState},(h,g)=>{g===void 0||h===g||t("update:open",h===0)});const f=Vt;return Lt(()=>Ht("$ctlRmIk4j0")),{ui:a,attrs:n,popper:o,trigger:r,container:l,containerStyle:b,onTouchStart:w,onMouseEnter:c,onMouseLeave:p,onClick:i,getNuxtLinkProps:Aa,twMerge:ye,twJoin:re,NuxtLink:f}}}),Wn=["disabled"];function qn(e,t,a,n,o,r){const l=Ie("HMenuButton"),s=me,u=Xe,m=Jt,b=Ie("HMenuItem"),w=Vt,c=Ie("HMenuItems"),p=Ie("HMenu");return v(),A(p,X({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:z(({open:i})=>[F(l,{ref:"trigger",as:"div",disabled:e.disabled,class:j(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:z(()=>[ne(e.$slots,"default",{open:i,disabled:e.disabled},()=>[I("button",{disabled:e.disabled}," Open ",8,Wn)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),i&&e.items.length?(v(),M("div",{key:0,ref:"container",class:j([e.ui.container,e.ui.width]),style:Dt(e.containerStyle),onMouseenter:t[0]||(t[0]=(...f)=>e.onMouseEnter&&e.onMouseEnter(...f))},[F(Oa,X({appear:""},e.ui.transition),{default:z(()=>[I("div",null,[e.popper.arrow?(v(),M("div",{key:0,"data-popper-arrow":"",class:j(Object.values(e.ui.arrow))},null,2)):B("",!0),F(c,{class:j([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:z(()=>[(v(!0),M(q,null,le(e.items,(f,h)=>(v(),M("div",{key:h,class:j(e.ui.padding)},[(v(!0),M(q,null,le(f,(g,$)=>(v(),A(w,X({key:$,ref_for:!0},e.getNuxtLinkProps(g),{custom:""}),{default:z(({href:y,target:O,rel:P,navigate:N,isExternal:T,isActive:x})=>[F(b,{disabled:g.disabled},{default:z(({active:Y,disabled:te,close:E})=>[(v(),A(za(y?"a":"button"),{href:te?void 0:y,rel:P,target:O,class:j(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,Y||x?e.ui.item.active:e.ui.item.inactive,te&&e.ui.item.disabled),g.class)),onClick:H=>e.onClick(H,g,{href:y,navigate:N,close:E,isExternal:T})},{default:z(()=>[ne(e.$slots,g.slot||"item",{item:g},()=>{var H;return[g.icon?(v(),A(s,{key:0,name:g.icon,class:j(e.twMerge(e.twJoin(e.ui.item.icon.base,Y||x?e.ui.item.icon.active:e.ui.item.icon.inactive),g.iconClass))},null,8,["name","class"])):g.avatar?(v(),A(u,X({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...g.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):B("",!0),I("span",{class:j(e.twMerge(e.ui.item.label,g.labelClass))},V(g.label),3),(H=g.shortcuts)!=null&&H.length?(v(),M("span",{key:2,class:j(e.ui.item.shortcuts)},[(v(!0),M(q,null,le(g.shortcuts,J=>(v(),A(m,{key:J},{default:z(()=>[W(V(J),1)]),_:2},1024))),128))],2)):B("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):B("",!0)]),_:3},16,["class","onMouseleave"])}const kt=ke(Hn,[["render",qn]]),$e=Fe(G.ui.strategy,G.ui.textarea,xa),Gn=D({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys($e.size).includes(e)}},color:{type:String,default:()=>$e.default.color,validator(e){return[...G.ui.colors,...Object.keys($e.color)].includes(e)}},variant:{type:String,default:()=>$e.default.variant,validator(e){return[...Object.keys($e.variant),...Object.values($e.color).flatMap(t=>Object.keys(t))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t}){const{ui:a,attrs:n}=Be("textarea",ue(e,"ui"),$e,ue(e,"class")),{emitFormBlur:o,emitFormInput:r,inputId:l,color:s,size:u,name:m}=ht(e,$e),b=S(Ze({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),w=S(null),c=()=>{var y;e.autofocus&&((y=w.value)==null||y.focus())},p=()=>{if(e.autoresize){if(!w.value)return;w.value.rows=e.rows;const y=window.getComputedStyle(w.value),O=parseInt(y.paddingTop),P=parseInt(y.paddingBottom),N=O+P,T=parseInt(y.lineHeight),{scrollHeight:x}=w.value,Y=(x-N)/T;Y>e.rows&&(w.value.rows=e.maxrows?Math.min(Y,e.maxrows):Y)}},i=y=>{b.value.trim&&(y=y.trim()),b.value.number&&(y=Ta(y)),t("update:modelValue",y),r()},f=y=>{p(),b.value.lazy||i(y.target.value)},h=y=>{const O=y.target.value;t("change",O),b.value.lazy&&i(O),b.value.trim&&(y.target.value=O.trim())},g=y=>{t("blur",y),o()};Z(()=>{setTimeout(()=>{c()},e.autofocusDelay)}),ie(()=>e.modelValue,()=>{Pe(p)}),Z(()=>{setTimeout(()=>{c(),p()},100)});const $=k(()=>{var O,P;const y=((P=(O=a.value.color)==null?void 0:O[s.value])==null?void 0:P[e.variant])||a.value.variant[e.variant];return ye(re(a.value.base,a.value.form,a.value.rounded,a.value.placeholder,a.value.size[u.value],e.padded?a.value.padding[u.value]:"p-0",y==null?void 0:y.replaceAll("{color}",s.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:a,attrs:n,name:m,inputId:l,textarea:w,textareaClass:$,onInput:f,onChange:h,onBlur:g}}}),Qn=["id","value","name","rows","required","disabled","placeholder"];function Jn(e,t,a,n,o,r){return v(),M("div",{class:j(e.ui.wrapper)},[I("textarea",X({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:t[0]||(t[0]=(...l)=>e.onInput&&e.onInput(...l)),onBlur:t[1]||(t[1]=(...l)=>e.onBlur&&e.onBlur(...l)),onChange:t[2]||(t[2]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,Qn),ne(e.$slots,"default")],2)}const Yn=ke(Gn,[["render",Jn]]);async function Kn(e,t){return await Xn(t).catch(n=>(console.error("Failed to get image meta for "+t,n+""),{width:0,height:0,ratio:0}))}async function Xn(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,a)=>{const n=new Image;n.onload=()=>{const o={width:n.width,height:n.height,ratio:n.width/n.height};t(o)},n.onerror=o=>a(o),n.src=e})}function xt(e){return t=>t?e[t]||t:e.missingValue}function Zn({formatter:e,keyMap:t,joinWith:a="/",valueMap:n}={}){e||(e=(r,l)=>`${r}=${l}`),t&&typeof t!="function"&&(t=xt(t));const o=n||{};return Object.keys(o).forEach(r=>{typeof o[r]!="function"&&(o[r]=xt(o[r]))}),(r={})=>Object.entries(r).filter(([s,u])=>typeof u<"u").map(([s,u])=>{const m=o[s];return typeof m=="function"&&(u=m(r[s])),s=typeof t=="function"?t(s):s,e(s,u)}).join(a)}function ve(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function el(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const a of e.split(" ")){const n=Number.parseInt(a.replace("x",""));n&&t.add(n)}return Array.from(t)}function tl(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function al(e){const t={};if(typeof e=="string")for(const a of e.split(/[\s,]+/).filter(n=>n)){const n=a.split(":");n.length!==2?t["1px"]=n[0].trim():t[n[0].trim()]=n[1].trim()}else Object.assign(t,e);return t}function nl(e){const t={options:e},a=(o,r={})=>ua(t,o,r),n=(o,r={},l={})=>a(o,{...l,modifiers:Ze(r,l.modifiers||{})}).url;for(const o in e.presets)n[o]=(r,l,s)=>n(r,l,{...e.presets[o],...s});return n.options=e,n.getImage=a,n.getMeta=(o,r)=>ll(t,o,r),n.getSizes=(o,r)=>sl(t,o,r),t.$img=n,n}async function ll(e,t,a){const n=ua(e,t,{...a});return typeof n.getMeta=="function"?await n.getMeta():await Kn(e,n.url)}function ua(e,t,a){var m,b;if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{provider:n,defaults:o}=ol(e,a.provider||e.options.provider),r=rl(e,a.preset);if(t=Pt(t)?t:_a(t),!n.supportsAlias)for(const w in e.options.alias)t.startsWith(w)&&(t=ct(e.options.alias[w],t.substr(w.length)));if(n.validateDomains&&Pt(t)){const w=ja(t).host;if(!e.options.domains.find(c=>c===w))return{url:t}}const l=Ze(a,r,o);l.modifiers={...l.modifiers};const s=l.modifiers.format;(m=l.modifiers)!=null&&m.width&&(l.modifiers.width=ve(l.modifiers.width)),(b=l.modifiers)!=null&&b.height&&(l.modifiers.height=ve(l.modifiers.height));const u=n.getImage(t,l,e);return u.format=u.format||s||"",u}function ol(e,t){const a=e.options.providers[t];if(!a)throw new Error("Unknown provider: "+t);return a}function rl(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function sl(e,t,a){var i,f,h,g,$;const n=ve((i=a.modifiers)==null?void 0:i.width),o=ve((f=a.modifiers)==null?void 0:f.height),r=al(a.sizes),l=(h=a.densities)!=null&&h.trim()?el(a.densities.trim()):e.options.densities;tl(l);const s=n&&o?o/n:0,u=[],m=[];if(Object.keys(r).length>=1){for(const y in r){const O=Tt(y,String(r[y]),o,s,e);if(O!==void 0){u.push({size:O.size,screenMaxWidth:O.screenMaxWidth,media:`(max-width: ${O.screenMaxWidth}px)`});for(const P of l)m.push({width:O._cWidth*P,src:_t(e,t,a,O,P)})}}il(u)}else for(const y of l){const O=Object.keys(r)[0];let P=Tt(O,String(r[O]),o,s,e);P===void 0&&(P={size:"",screenMaxWidth:0,_cWidth:(g=a.modifiers)==null?void 0:g.width,_cHeight:($=a.modifiers)==null?void 0:$.height}),m.push({width:y,src:_t(e,t,a,P,y)})}ul(m);const b=m[m.length-1],w=u.length?u.map(y=>`${y.media?y.media+" ":""}${y.size}`).join(", "):void 0,c=w?"w":"x",p=m.map(y=>`${y.src} ${y.width}${c}`).join(", ");return{sizes:w,srcset:p,src:b==null?void 0:b.src}}function Tt(e,t,a,n,o){const r=o.options.screens&&o.options.screens[e]||Number.parseInt(e),l=t.endsWith("vw");if(!l&&/^\d+$/.test(t)&&(t=t+"px"),!l&&!t.endsWith("px"))return;let s=Number.parseInt(t);if(!r||!s)return;l&&(s=Math.round(s/100*r));const u=n?Math.round(s*n):a;return{size:t,screenMaxWidth:r,_cWidth:s,_cHeight:u}}function _t(e,t,a,n,o){return e.$img(t,{...a.modifiers,width:n._cWidth?n._cWidth*o:void 0,height:n._cHeight?n._cHeight*o:void 0},a)}function il(e){var a;e.sort((n,o)=>n.screenMaxWidth-o.screenMaxWidth);let t=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.media===t&&e.splice(n,1),t=o.media}for(let n=0;n<e.length;n++)e[n].media=((a=e[n+1])==null?void 0:a.media)||""}function ul(e){e.sort((a,n)=>a.width-n.width);let t=null;for(let a=e.length-1;a>=0;a--){const n=e[a];n.width===t&&e.splice(a,1),t=n.width}}const dl=Zn({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>Ct(e)+"_"+Ct(t)}),cl=(e,{modifiers:t={},baseURL:a}={},n)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const o=dl(t)||"_";return a||(a=ct(n.options.nuxt.baseURL,"/_ipx")),{url:ct(a,o,Ea(e))}},ml=!0,fl=!0,pl=Object.freeze(Object.defineProperty({__proto__:null,getImage:cl,supportsAlias:fl,validateDomains:ml},Symbol.toStringTag,{value:"Module"})),da={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};da.providers={ipxStatic:{provider:pl,defaults:{}}};const nt=()=>{const e=Ua(),t=Wt();return t.$img||t._img||(t._img=nl({...da,nuxt:{baseURL:e.app.baseURL}}))};function vl(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const gl={src:{type:String,default:void 0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:[Boolean,Object],default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},hl=e=>{const t=k(()=>({provider:e.provider,preset:e.preset})),a=k(()=>({width:ve(e.width),height:ve(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),n=nt(),o=k(()=>({...e.modifiers,width:ve(e.width),height:ve(e.height),format:e.format,quality:e.quality||n.options.quality,background:e.background,fit:e.fit}));return{options:t,attrs:a,modifiers:o}},bl={...gl,placeholder:{type:[Boolean,String,Number,Array],default:void 0},placeholderClass:{type:String,default:void 0}},lt=D({name:"NuxtImg",props:bl,emits:["load","error"],setup:(e,t)=>{const a=nt(),n=hl(e),o=S(!1),r=S(),l=k(()=>a.getSizes(e.src,{...n.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...n.modifiers.value,width:ve(e.width),height:ve(e.height)}})),s=k(()=>{const p={...n.attrs.value,"data-nuxt-img":""};return(!e.placeholder||o.value)&&(p.sizes=l.value.sizes,p.srcset=l.value.srcset),p}),u=k(()=>{let p=e.placeholder;if(p===""&&(p=!0),!p||o.value)return!1;if(typeof p=="string")return p;const i=Array.isArray(p)?p:typeof p=="number"?[p,p]:[10,10];return a(e.src,{...n.modifiers.value,width:i[0],height:i[1],quality:i[2]||50,blur:i[3]||3},n.options.value)}),m=k(()=>e.sizes?l.value.src:a(e.src,n.modifiers.value,n.options.value)),b=k(()=>u.value?u.value:m.value);if(e.preload){const p=Object.values(l.value).every(i=>i);Na({link:[{rel:"preload",as:"image",nonce:e.nonce,...p?{href:l.value.src,imagesizes:l.value.sizes,imagesrcset:l.value.srcset}:{href:b.value},...typeof e.preload!="boolean"&&e.preload.fetchPriority?{fetchpriority:e.preload.fetchPriority}:{}}]})}const c=Wt().isHydrating;return Z(()=>{if(u.value){const p=new Image;p.src=m.value,e.sizes&&(p.sizes=l.value.sizes||"",p.srcset=l.value.srcset),p.onload=i=>{o.value=!0,t.emit("load",i)},vl("nuxt-image");return}r.value&&(r.value.complete&&c&&(r.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),r.value.onload=p=>{t.emit("load",p)},r.value.onerror=p=>{t.emit("error",p)})}),()=>se("img",{ref:r,...s.value,...t.attrs,class:e.placeholder&&!o.value?[e.placeholderClass]:void 0,src:b.value})}}),yl=Fe(G.ui.strategy,G.ui.modal,cn),wl=D({components:{HDialog:Fn,HDialogPanel:Bn,TransitionRoot:ia,TransitionChild:sa},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:t}){const{ui:a,attrs:n}=Be("modal",ue(e,"ui"),yl,ue(e,"class")),o=k({get(){return e.modelValue},set(u){t("update:modelValue",u)}}),r=k(()=>e.transition?{...a.value.transition}:{});function l(u){if(e.preventClose){t("close-prevented");return}o.value=u,t("close")}const s=()=>{t("after-leave")};return Lt(()=>Ht("$HAJMhYDoe7")),{ui:a,attrs:n,isOpen:o,transitionClass:r,onAfterLeave:s,close:l}}});function kl(e,t,a,n,o,r){const l=Ie("TransitionChild"),s=Ie("HDialogPanel"),u=Ie("HDialog"),m=Ie("TransitionRoot");return v(),A(m,{appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},{default:z(()=>[F(u,X({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:z(()=>[e.overlay?(v(),A(l,X({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:z(()=>[I("div",{class:j([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):B("",!0),I("div",{class:j(e.ui.inner)},[I("div",{class:j([e.ui.container,!e.fullscreen&&e.ui.padding])},[F(l,X({as:"template",appear:e.appear},e.transitionClass),{default:z(()=>[F(s,{class:j([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:z(()=>[ne(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const ot=ke(wl,[["render",kl]]),Je=Fe(G.ui.strategy,G.ui.range,un),$l=D({inheritAttrs:!1,props:{modelValue:{type:Number,default:0},id:{type:String,default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},size:{type:String,default:null,validator(e){return Object.keys(Je.size).includes(e)}},color:{type:String,default:()=>Je.default.color,validator(e){return G.ui.colors.includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:a,attrs:n}=Be("range",ue(e,"ui"),Je),{emitFormChange:o,inputId:r,color:l,size:s,name:u}=ht(e,Je),m=k({get(){return e.modelValue},set(g){t("update:modelValue",g)}}),b=g=>{t("change",g.target.value),o()},w=k(()=>ye(re(a.value.wrapper,a.value.size[s.value]),e.class)),c=k(()=>ye(re(a.value.base,a.value.background,a.value.rounded,l.value&&a.value.ring.replaceAll("{color}",l.value),a.value.size[s.value]),e.inputClass)),p=k(()=>re(a.value.thumb.base,l.value&&a.value.thumb.color.replaceAll("{color}",l.value),a.value.thumb.ring,a.value.thumb.background,a.value.thumb.size[s.value])),i=k(()=>re(a.value.track.base,a.value.track.background,a.value.track.rounded,a.value.track.size[s.value])),f=k(()=>re(a.value.progress.base,a.value.progress.rounded,l.value&&a.value.progress.background.replaceAll("{color}",l.value),a.value.progress.size[s.value])),h=k(()=>{const{modelValue:g,min:$,max:y}=e;return{width:`${(Math.max($,Math.min(g,y))-$)/(y-$)*100}%`}});return{ui:a,attrs:n,name:u,inputId:r,value:m,wrapperClass:w,inputClass:c,thumbClass:p,trackClass:i,progressClass:f,progressStyle:h,onChange:b}}}),Sl=["id","name","min","max","disabled","step"];function Il(e,t,a,n,o,r){return v(),M("div",{class:j(e.wrapperClass)},[gt(I("input",X({id:e.inputId,ref:"input","onUpdate:modelValue":t[0]||(t[0]=l=>e.value=l),name:e.name,min:e.min,max:e.max,disabled:e.disabled,step:e.step,type:"range",class:[e.inputClass,e.thumbClass,e.trackClass]},e.attrs,{onChange:t[1]||(t[1]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,Sl),[[Ra,e.value,void 0,{number:!0}]]),I("span",{class:j(e.progressClass),style:Dt(e.progressStyle)},null,6)],2)}const Pl=ke($l,[["render",Il]]),Cl="0.05";function Ml(e,t){const a=parseFloat(e);if(isNaN(a))return e;const n=a+t;return n<0?"0":String(Number(n.toFixed(10)))}function Fl(e,t){let a=t,n=t,o=0,r=0;for(;a>=0&&(a--,!(e[a]==="("&&o===r));)e[a]==="("&&o++,e[a]===")"&&r++;if(a<0)return!1;for(o=0,r=0;n<e.length&&!(e[n]===")"&&o===r);)e[n]==="("&&o++,e[n]===")"&&r++,n++;return n===e.length?!1:{start:a+1,end:n}}function Bl(e){const t=/^\((.*)\)$/,a=e.match(t),n=/:([+-]?(\d*\.)?\d+([eE][+-]?\d+)?)/,o=e.match(n);return a&&!o?`(${a[1]}:1.0)`:e}function Al(e){const t=e.composedPath()[0],a=parseFloat(Cl);if(t.tagName!=="TEXTAREA"||!(e.key==="ArrowUp"||e.key==="ArrowDown")||!e.ctrlKey&&!e.metaKey)return;e.preventDefault();let n=t.selectionStart,o=t.selectionEnd,r=t.value.substring(n,o);if(!r){const u=Fl(t.value,n);if(u)n=u.start,o=u.end,r=t.value.substring(n,o);else{const m=" .,\\/!?%^*;:{}=-_`~()\r\n	";for(;!m.includes(t.value[n-1])&&n>0;)n--;for(;!m.includes(t.value[o])&&o<t.value.length;)o++;if(r=t.value.substring(n,o),!r)return}}r[r.length-1]===" "&&(r=r.substring(0,r.length-1),o-=1),t.value[n-1]==="("&&t.value[o]===")"&&(n-=1,o+=1,r=t.value.substring(n,o)),(r[0]!=="("||r[r.length-1]!==")")&&(r=`(${r})`),r=Bl(r);const l=e.key==="ArrowUp"?a:-a,s=r.replace(/\((.*):(\d+(?:\.\d+)?)\)/,(u,m,b)=>(b=Ml(b,l),Number(b)==1?m:`(${m}:${b})`));return t.setRangeText(s,n,o,"select"),t.value}const Ol={key:0,class:"text-red-300"},zl={key:0,class:"flex items-center"},xl={key:2,class:"flex flex-row flex-grow items-center justify-between"},Tl=D({__name:"InputParam",props:{inputParam:{type:Object,required:!0},index:{type:Number,required:!0},inputParamsMap:{type:Array,required:!0},advanced:{type:Boolean,default:!1}},setup(e){const t=e;function a(i){return i?URL.createObjectURL(i):""}const n=S(null),o=S(""),r=S(!1),l=S({width:0,height:0});function s(){try{const i=t.inputParamsMap[t.index][t.inputParam.name].source_input_name,f=t.inputParamsMap.find(h=>{const g=Object.keys(h)[0];if(g===i)return h[g]});b(f[i].value)}catch{l.value.width=0,l.value.height=0}}Z(()=>{t.inputParam.type==="range_scale"&&s()}),t.inputParam.type==="range_scale"&&ie(t.inputParamsMap,()=>{s()});function u(){URL.revokeObjectURL(o.value),o.value="",n&&(n.value.$refs.input.value=""),t.inputParamsMap[t.index][t.inputParam.name].value=null}const m=k(()=>t.inputParam.type!=="bool"?t.inputParam.display_name:"");function b(i){if(!(i instanceof File)){l.value.width=0,l.value.height=0;return}const f=URL.createObjectURL(i),h=new Image;h.onload=function(){l.value.width=h.naturalWidth,l.value.height=h.naturalHeight,URL.revokeObjectURL(h.src)},h.src=f}const w=k(()=>{if(t.inputParam.type==="range_scale"){const i=t.inputParamsMap[t.index][t.inputParam.name].value;return`value: ${i}x (${l.value.width}x${l.value.height} -> ${(l.value.width*i).toFixed(0)}x${(l.value.height*i).toFixed(0)})`}return["range","range_scale"].includes(t.inputParam.type)?`value: ${t.inputParamsMap[t.index][t.inputParam.name].value}`:""});Mt(()=>{URL.revokeObjectURL(o.value)});const c=S(null);function p(i){const f=Al(i);f&&(t.inputParamsMap[t.index][t.inputParam.name].value=f)}return Z(()=>{t.inputParam.type==="text"&&c.value&&c.value.$refs.textarea.addEventListener("keydown",p)}),Mt(()=>{t.inputParam.type==="text"&&c.value&&c.value.$refs.textarea.removeEventListener("keydown",p)}),(i,f)=>{var Y;const h=Yn,g=bt,$=fe,y=lt,O=ot,P=Yt,N=on,T=Pl,x=Xt;return(((Y=e.inputParam)==null?void 0:Y.advanced)||!1)===e.advanced?(v(),A(x,{key:0,label:d(m),class:"mb-3",help:d(w)},{hint:z(()=>[e.inputParam.optional?B("",!0):(v(),M("span",Ol,"required"))]),default:z(()=>{var te;return[e.inputParam.type==="text"?(v(),A(h,{key:0,ref_key:"textareaInput",ref:c,size:"md",placeholder:e.inputParam.display_name,required:!e.inputParam.optional,resize:!0,label:e.inputParam.display_name,value:e.inputParamsMap[e.index][e.inputParam.name].value,variant:"outline",onInput:f[0]||(f[0]=E=>{const H=E.target;e.inputParamsMap[e.index][e.inputParam.name].value=H.value})},null,8,["placeholder","required","label","value"])):B("",!0),e.inputParam.type==="number"?(v(),M(q,{key:1},[e.inputParam.name==="seed"?(v(),M("div",zl,[e.inputParam.type==="number"?(v(),A(g,{key:0,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:f[1]||(f[1]=E=>{const H=E.target;e.inputParamsMap[e.index][e.inputParam.name].value=H.value})},null,8,["label","required","value","max","min"])):B("",!0),F($,{icon:"i-heroicons-arrow-path",color:"violet",variant:"outline",size:"xs",class:"ml-2",onClick:f[2]||(f[2]=()=>{e.inputParamsMap[e.index][e.inputParam.name].value=Math.floor(Math.random()*1e7)})})])):(v(),A(g,{key:1,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:f[3]||(f[3]=E=>{const H=E.target;e.inputParamsMap[e.index][e.inputParam.name].value=H.value})},null,8,["label","required","value","max","min"]))],64)):B("",!0),e.inputParam.type==="image"?(v(),M("div",xl,[F(g,{ref_key:"imageInput",ref:n,type:"file",accept:"image/*",class:"w-full",label:e.inputParam.display_name,onChange:f[4]||(f[4]=E=>{console.debug("files",E);const H=E==null?void 0:E[0];e.inputParamsMap[e.index][e.inputParam.name].value=H,o.value=a(H),console.debug("inputParamsMap",e.inputParamsMap)})},null,8,["label"]),d(o)!==""?(v(),A(y,{key:0,src:d(o),class:"w-10 h-10 rounded-lg cursor-pointer ml-2",onClick:f[5]||(f[5]=()=>{r.value=!0})},null,8,["src"])):B("",!0),d(o)!==""?(v(),A($,{key:1,icon:"i-heroicons-x-mark",variant:"outline",class:"ml-2",onClick:u})):B("",!0)])):B("",!0),e.inputParam.type==="image"?(v(),A(O,{key:3,modelValue:d(r),"onUpdate:modelValue":f[8]||(f[8]=E=>je(r)?r.value=E:null),class:"z-[90]",transition:!1,fullscreen:""},{default:z(()=>[F($,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:f[6]||(f[6]=()=>r.value=!1)}),I("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:f[7]||(f[7]=Re(()=>r.value=!1,["left"]))},[d(o)?(v(),A(y,{key:0,class:"lg:h-full",fit:"inside",src:d(o)},null,8,["src"])):B("",!0)])]),_:1},8,["modelValue"])):B("",!0),e.inputParam.type==="list"?(v(),A(P,{key:4,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":f[9]||(f[9]=E=>e.inputParamsMap[e.index][e.inputParam.name].value=E),placeholder:e.inputParam.display_name,options:Object.keys(e.inputParam.options)},null,8,["modelValue","placeholder","options"])):B("",!0),e.inputParam.type==="bool"?(v(),A(N,{key:5,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":f[10]||(f[10]=E=>e.inputParamsMap[e.index][e.inputParam.name].value=E),label:(te=e.inputParam)==null?void 0:te.display_name},null,8,["modelValue","label"])):B("",!0),["range","range_scale"].includes(e.inputParam.type)?(v(),A(T,{key:6,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":f[11]||(f[11]=E=>e.inputParamsMap[e.index][e.inputParam.name].value=E),label:e.inputParam.display_name,size:"sm",min:e.inputParam.min,max:e.inputParam.max,step:e.inputParam.step},null,8,["modelValue","label","min","max","step"])):B("",!0)]}),_:1},8,["label","help"])):B("",!0)}}}),_l={key:0,class:"heading"},jl={key:1},El=D({__name:"InputParams",props:{inputParamsMap:{type:Array,required:!0},additionalInputParamsMap:{type:Array,required:!1,default:[]},advanced:{type:Boolean,default:!1}},setup(e){const t=e,a=Ne(),n=S(!t.advanced);return(o,r)=>{const l=me,s=Tl;return v(),M(q,null,[e.advanced?(v(),M("div",_l,[I("h4",{class:"text-md font-bold cursor-pointer select-none flex items-center mb-3",onClick:r[0]||(r[0]=()=>{n.value=!d(n)})},[F(l,{name:d(n)?"i-heroicons-chevron-up":"i-heroicons-chevron-down",class:"mr-2"},null,8,["name"]),W(" Advanced options ")])])):B("",!0),d(n)?(v(),M("div",jl,[(v(!0),M(q,null,le(d(a).currentFlow.input_params,(u,m)=>(v(),A(s,{key:m,"input-params-map":e.inputParamsMap,index:m,"input-param":u,advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128)),(v(!0),M(q,null,le(e.additionalInputParamsMap,(u,m)=>(v(),A(s,{key:Object.keys(u)[0],"input-params-map":e.additionalInputParamsMap,index:m,"input-param":u[Object.keys(u)[0]],advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128))])):B("",!0)],64)}}}),Ul={key:0,id:"prompt",class:"w-full my-10 lg:my-0 p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg"},Nl={class:"flex justify-end px-2"},Rl=D({__name:"Prompt",setup(e,{expose:t}){var b,w,c,p;const a=Ne();let n=localStorage.getItem(`input_params_map_${(b=a.currentFlow)==null?void 0:b.name}`);if(n){const i=JSON.parse(n);"flow_version"in i&&i.flow_version.split(".")[0]===((w=a.currentFlow)==null?void 0:w.version.split(".")[0])?n=i:(n=null,localStorage.removeItem(`input_params_map_${(c=a.currentFlow)==null?void 0:c.name}`))}const o=S(((p=a.currentFlow)==null?void 0:p.input_params.map(i=>{var f;if(i.type==="text")return{[i.name]:{value:n!==null?n[i.name]:i.default||"",type:i.type,optional:i.optional,advanced:i.advanced||!1}};if(i.type==="number")return{[i.name]:{value:n!==null?n[i.name]:i.default||0,type:i.type,optional:i.optional,advanced:i.advanced||!1}};if(i.type==="image")return{[i.name]:{value:n!==null?n[i.name]:i.default||{},type:i.type,optional:i.optional,advanced:i.advanced||!1}};if(i.type==="list")return{[i.name]:{value:n!==null?n[i.name]:i.default||Object.keys(i.options)[0]||"",type:i.type,optional:i.optional,options:i.options,advanced:i.advanced||!1}};if(i.type==="bool")return{[i.name]:{value:n!==null?n[i.name]:i.default||!1,type:i.type,optional:i.optional,advanced:i.advanced||!1}};if(["range","range_scale"].includes(i.type)){const h={value:n!==null?n[i.name]:i.default||0,type:i.type,optional:i.optional,advanced:i.advanced||!1,min:i.min||0,max:i.max||100,step:i.step||1};if(i.type==="range_scale"&&(h.source_input_name=i.source_input_name||null,h.source_input_name===null||h.source_input_name==="")){const g=(f=a.currentFlow)==null?void 0:f.input_params.find($=>$.type==="image"&&!$.optional);g&&(h.source_input_name=g.name)}return{[i.name]:h}}}))||[]),r=S([{seed:{name:"seed",display_name:"Random seed",value:Math.floor(Math.random()*1e7),type:"number",optional:!0,advanced:!0,min:0,max:1e7}}]);function l(i){console.debug("Copy prompt inputs",i),Object.keys(i).forEach(h=>{const g=o.value.findIndex($=>Object.keys($)[0]===h);g!==-1&&(o.value[g][h].value=i[h].value)});const f=document.getElementById("prompt");f&&f.scrollIntoView({behavior:"smooth"})}t({copyPromptInputs:l}),o.value.forEach(i=>{const f=Object.keys(i)[0];i[f].type!=="image"&&ie(()=>i[f].value,()=>{var g,$;const h={};o.value.forEach(y=>{const O=Object.keys(y)[0];h[O]=y[O].value}),localStorage.setItem(`input_params_map_${(g=a.currentFlow)==null?void 0:g.name}`,JSON.stringify({...h,flow_version:($=a.currentFlow)==null?void 0:$.version}))})});const s=S(!1),u=S(1),m=S(!1);return(i,f)=>{const h=me,g=El,$=bt,y=Xt,O=fe;return d(a).currentFlow?(v(),M("div",Ul,[I("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:f[0]||(f[0]=()=>{m.value=!d(m)})},[F(h,{name:d(m)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),W(" Prompt ")]),gt(I("div",null,[F(g,{"input-params-map":d(o),"additional-input-params-map":d(r),advanced:!1},null,8,["input-params-map","additional-input-params-map"]),F(g,{"input-params-map":d(o),"additional-input-params-map":d(r),advanced:!0},null,8,["input-params-map","additional-input-params-map"]),F(y,{label:"Number of images"},{default:z(()=>[F($,{modelValue:d(u),"onUpdate:modelValue":f[1]||(f[1]=P=>je(u)?u.value=P:null),type:"number",min:"1",max:"50",label:"Batch size",class:"mb-3 max-w-fit flex justify-end"},null,8,["modelValue"])]),_:1}),I("div",Nl,[F(O,{icon:"i-heroicons-sparkles-16-solid",variant:"outline",loading:d(s),onClick:f[2]||(f[2]=()=>{s.value=!0,d(a).runFlow(d(a).currentFlow,[...d(o),...d(r)],d(u)).finally(()=>{s.value=!1;const P=d(r).find(N=>Object.keys(N)[0]==="seed");P.seed.value=Number(P.seed.value)+d(u)+1})})},{default:z(()=>[W(" Run prompt ")]),_:1},8,["loading"])])],512),[[qt,!d(m)]])])):B("",!0)}}}),Ll=e=>{const t=S(0);function a(r){e.value.style.scrollSnapType="none",e.value.style.scrollBehavior="auto",t.value=r.pageX,window.addEventListener("mousemove",o),window.addEventListener("mouseup",n)}function n(){e.value.style.removeProperty("scroll-behavior"),e.value.style.removeProperty("scroll-snap-type"),e.value.style.removeProperty("pointer-events"),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",n)}function o(r){r.preventDefault(),e.value.style.pointerEvents="none";const l=r.pageX-t.value;t.value=r.pageX,e.value.scrollBy(-l,0)}Z(()=>{e.value&&e.value.addEventListener("mousedown",a)}),ge(()=>{e.value&&e.value.removeEventListener("mousedown",a)})},dt=Fe(G.ui.strategy,G.ui.carousel,sn),Dl=D({components:{UButton:fe},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},arrows:{type:Boolean,default:!1},indicators:{type:Boolean,default:!1},prevButton:{type:Object,default:()=>dt.default.prevButton},nextButton:{type:Object,default:()=>dt.default.nextButton},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:void 0}},setup(e,{expose:t}){const{ui:a,attrs:n}=Be("carousel",ue(e,"ui"),dt,ue(e,"class")),o=S(),r=S(0),{x:l}=La(o,{behavior:"smooth"}),{width:s}=Da(o);Ll(o),Va(o,f=>{var g,$;const[h]=f;r.value=(($=(g=h==null?void 0:h.target)==null?void 0:g.firstElementChild)==null?void 0:$.clientWidth)||0});const u=k(()=>r.value?Math.round(l.value/r.value)+1:0),m=k(()=>r.value?e.items.length-Math.round(s.value/r.value)+1:0),b=k(()=>u.value<=1),w=k(()=>u.value===m.value);function c(){l.value+=r.value}function p(){l.value-=r.value}function i(f){l.value=(f-1)*r.value}return t({pages:m,page:u,prev:p,next:c,select:i}),{ui:a,attrs:n,isFirst:b,isLast:w,carouselRef:o,pages:m,currentPage:u,onClickNext:c,onClickPrev:p,onClick:i,twMerge:ye}}}),Vl=["role"],Hl=["aria-selected","aria-label","onClick"];function Wl(e,t,a,n,o,r){const l=fe;return v(),M("div",X({class:e.ui.wrapper},e.attrs),[I("div",{ref:"carouselRef",class:j([e.ui.container,"no-scrollbar"])},[(v(!0),M(q,null,le(e.items,(s,u)=>(v(),M("div",{key:u,class:j(e.ui.item),role:e.indicators?"tabpanel":null},[ne(e.$slots,"default",{item:s,index:u},void 0,!0)],10,Vl))),128))],2),e.arrows?(v(),M("div",{key:0,class:j(e.ui.arrows.wrapper)},[ne(e.$slots,"prev",{onClick:e.onClickPrev,disabled:e.isFirst},()=>{var s;return[e.prevButton?(v(),A(l,X({key:0,disabled:e.isFirst},{...e.ui.default.prevButton,...e.prevButton},{class:e.twMerge(e.ui.default.prevButton.class,(s=e.prevButton)==null?void 0:s.class),"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["disabled","class","onClick"])):B("",!0)]},!0),ne(e.$slots,"next",{onClick:e.onClickNext,disabled:e.isLast},()=>{var s;return[e.nextButton?(v(),A(l,X({key:0,disabled:e.isLast},{...e.ui.default.nextButton,...e.nextButton},{class:e.twMerge(e.ui.default.nextButton.class,(s=e.nextButton)==null?void 0:s.class),"aria-label":"Next",onClick:e.onClickNext}),null,16,["disabled","class","onClick"])):B("",!0)]},!0)],2)):B("",!0),e.indicators?(v(),M("div",{key:1,role:"tablist",class:j(e.ui.indicators.wrapper)},[(v(!0),M(q,null,le(e.pages,s=>ne(e.$slots,"indicator",{key:s,onClick:e.onClick,active:s===e.currentPage,page:s},()=>[I("button",{type:"button",role:"tab","aria-selected":s===e.currentPage,class:j([e.ui.indicators.base,s===e.currentPage?e.ui.indicators.active:e.ui.indicators.inactive]),"aria-label":`set slide ${s}`,onClick:u=>e.onClick(s)},null,10,Hl)],!0)),128))],2)):B("",!0)],16)}const ca=ke(Dl,[["render",Wl],["__scopeId","data-v-ea54307d"]]),ql={class:"flex flex-col basis-full"},Gl=D({__name:"QueueInputFiles",props:{running:{type:Object,required:!0}},setup(e){const t=nt(),a=function(s,u){return`${Ke()}/task-inputs?task_id=${s}&input_index=${u}`},n=S(!1),o=S(""),r=S(0),l=S(!0);return(s,u)=>{var i,f,h,g,$;const m=me,b=lt,w=ca,c=fe,p=ot;return s.$props.running&&s.$props.running.input_files&&((i=Object.keys(s.$props.running.input_files))==null?void 0:i.length)>0?(v(),M("div",{key:0,class:j(["ml-2 mt-2 mb-5",{"mb-10":((f=Object.keys(s.$props.running.input_files))==null?void 0:f.length)>1&&!d(l)}])},[I("h4",{class:"mb-3 font-bold cursor-pointer select-none flex items-center text-sm",onClick:u[0]||(u[0]=()=>l.value=!d(l))},[F(m,{name:d(l)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),I("span",null," Input files ("+V((h=Object.keys(s.$props.running.input_files))==null?void 0:h.length)+") ",1)]),d(l)?B("",!0):(v(),M(q,{key:0},[((g=Object.keys(s.$props.running.input_files))==null?void 0:g.length)===1?(v(),A(b,{key:0,class:"mb-5 rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:d(t)(`${("buildBackendApiUrl"in s?s.buildBackendApiUrl:d(Ke))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:a(s.$props.running.task_id,0),onClick:u[1]||(u[1]=()=>{o.value=a(s.$props.running.task_id,0),r.value=0,n.value=!0})},null,8,["placeholder","src"])):B("",!0),(($=Object.keys(s.$props.running.input_files))==null?void 0:$.length)>1?(v(),A(w,{key:1,items:Object.keys(s.$props.running.input_files).map(y=>({task_id:e.running.task_id,index:y})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:z(({item:y})=>[I("div",ql,[F(b,{class:"rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:d(t)(`${("buildBackendApiUrl"in s?s.buildBackendApiUrl:d(Ke))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:a(y.task_id,y.index),onClick:()=>{o.value=a(s.$props.running.task_id,y.index),r.value=y.index,n.value=!0}},null,8,["placeholder","src","onClick"])])]),_:1},8,["items"])):B("",!0),F(p,{modelValue:d(n),"onUpdate:modelValue":u[4]||(u[4]=y=>je(n)?n.value=y:null),class:"z-[90]",transition:!1,fullscreen:""},{default:z(()=>[F(c,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:u[2]||(u[2]=()=>n.value=!1)}),I("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:u[3]||(u[3]=Re(()=>n.value=!1,["left"]))},[d(o)?(v(),A(b,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",placeholder:"/vix_logo.png",src:d(o)},null,8,["src"])):B("",!0)])]),_:1},8,["modelValue"])],64))],2)):B("",!0)}}}),Se=Fe(G.ui.strategy,G.ui.alert,rn),Ql=D({components:{UIcon:me,UAvatar:Xe,UButton:fe},inheritAttrs:!1,props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>Se.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>Se.default.closeButton},actions:{type:Array,default:()=>[]},color:{type:String,default:()=>Se.default.color,validator(e){return[...G.ui.colors,...Object.keys(Se.color)].includes(e)}},variant:{type:String,default:()=>Se.default.variant,validator(e){return[...Object.keys(Se.variant),...Object.values(Se.color).flatMap(t=>Object.keys(t))].includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["close"],setup(e){const{ui:t,attrs:a}=Be("alert",ue(e,"ui"),Se),n=k(()=>{var l,s;const r=((s=(l=t.value.color)==null?void 0:l[e.color])==null?void 0:s[e.variant])||t.value.variant[e.variant];return ye(re(t.value.wrapper,t.value.rounded,t.value.shadow,t.value.padding,r==null?void 0:r.replaceAll("{color}",e.color)),e.class)});function o(r){r.click&&r.click()}return{ui:t,attrs:a,alertClass:n,onAction:o,twMerge:ye}}});function Jl(e,t,a,n,o,r){const l=me,s=Xe,u=fe;return v(),M("div",X({class:e.alertClass},e.attrs),[I("div",{class:j(["flex",[e.ui.gap,{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}]])},[ne(e.$slots,"icon",{icon:e.icon},()=>[e.icon?(v(),A(l,{key:0,name:e.icon,class:j(e.ui.icon.base)},null,8,["name","class"])):B("",!0)]),ne(e.$slots,"avatar",{avatar:e.avatar},()=>[e.avatar?(v(),A(s,X({key:0},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):B("",!0)]),I("div",{class:j(e.ui.inner)},[e.title||e.$slots.title?(v(),M("p",{key:0,class:j(e.ui.title)},[ne(e.$slots,"title",{title:e.title},()=>[W(V(e.title),1)])],2)):B("",!0),e.description||e.$slots.description?(v(),M("div",{key:1,class:j(e.twMerge(e.ui.description,!(e.title&&e.$slots.title)&&"mt-0 leading-5"))},[ne(e.$slots,"description",{description:e.description},()=>[W(V(e.description),1)])],2)):B("",!0),(e.description||e.$slots.description)&&(e.actions.length||e.$slots.actions)?(v(),M("div",{key:2,class:j(e.ui.actions)},[ne(e.$slots,"actions",{},()=>[(v(!0),M(q,null,le(e.actions,(m,b)=>(v(),A(u,X({key:b,ref_for:!0},{...e.ui.default.actionButton||{},...m},{onClick:Re(w=>e.onAction(m),["stop"])}),null,16,["onClick"]))),128))])],2)):B("",!0)],2),e.closeButton||!e.description&&!e.$slots.description&&e.actions.length?(v(),M("div",{key:0,class:j(e.twMerge(e.ui.actions,"mt-0"))},[!e.description&&!e.$slots.description&&(e.actions.length||e.$slots.actions)?ne(e.$slots,"actions",{key:0},()=>[(v(!0),M(q,null,le(e.actions,(m,b)=>(v(),A(u,X({key:b,ref_for:!0},{...e.ui.default.actionButton||{},...m},{onClick:Re(w=>e.onAction(m),["stop"])}),null,16,["onClick"]))),128))]):B("",!0),e.closeButton?(v(),A(u,X({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{onClick:t[0]||(t[0]=Re(m=>e.$emit("close"),["stop"]))}),null,16)):B("",!0)],2)):B("",!0)],2)],16)}const Yl=ke(Ql,[["render",Jl]]),Kl=D({__name:"QueueErrorAlert",props:{running:{type:Object,required:!0}},setup(e){const t=Ne(),a=S(!1);return(n,o)=>{const r=Yl;return v(),A(r,{class:"mb-5",icon:"i-heroicons-exclamation-circle-16-solid",color:"red",variant:"soft",title:"Task failed",description:e.running.error,actions:[{variant:"outline",color:"yellow",label:"Restart",loading:d(a),icon:"i-heroicons-arrow-path",click:()=>{a.value=!0,d(t).restartFlow(n.$props.running).finally(()=>{a.value=!1})}}]},null,8,["description","actions"])}}}),Xl={class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md mt-5 mb-10"},Zl={class:"flex items-center justify-between mb-2"},eo={key:0},to={key:1,class:"text-red-400"},ao={class:"text-sm mb-5 text-slate-500"},no={class:"flex justify-between"},lo=D({__name:"Queue",setup(e){const t=Ne(),a=S(!1),n=S(!0);return(o,r)=>{var c,p,i,f,h,g,$,y,O;const l=me,s=fe,u=Kt,m=Gl,b=Kl,w=kt;return v(),M("div",Xl,[I("div",Zl,[I("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center",onClick:r[0]||(r[0]=()=>{n.value=!d(n)})},[F(l,{name:d(n)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),I("span",null," Queue ("+V(d(t).flowsRunningByName((c=d(t).currentFlow)==null?void 0:c.name).length)+") ",1),d(t).flowsRunningByName((p=d(t).currentFlow)==null?void 0:p.name).length>0?(v(),M("span",eo,"  - "+V(`${((f=d(t).flowsRunningByName((i=d(t).currentFlow)==null?void 0:i.name).filter(P=>P.progress>0)[0])==null?void 0:f.progress.toFixed(0))??0}%`),1)):B("",!0),d(t).flowsRunningByNameWithErrors((h=d(t))==null?void 0:h.currentFlow.name).length>0?(v(),M("span",to,"  ("+V(d(t).flowsRunningByNameWithErrors((g=d(t).currentFlow)==null?void 0:g.name).length)+") ",1)):B("",!0)]),($=d(t).currentFlow)!=null&&$.name&&d(t).flowsRunningByName((y=d(t).currentFlow)==null?void 0:y.name).length>0?(v(),A(s,{key:0,icon:"i-heroicons-stop",color:"orange",variant:"outline",loading:d(a),onClick:r[1]||(r[1]=()=>{var P;a.value=!0,d(t).cancelRunningFlows((P=d(t).currentFlow)==null?void 0:P.name).finally(()=>{a.value=!1})})},{default:z(()=>[W(" Cancel all ")]),_:1},8,["loading"])):B("",!0)]),d(n)?B("",!0):(v(!0),M(q,{key:0},le(d(t).flowsRunningByName((O=d(t).currentFlow)==null?void 0:O.name),P=>(v(),M("div",{key:P.task_id,class:"mb-5"},[F(u,{class:"mb-3",value:P==null?void 0:P.progress,indicator:"",color:P.error?"red":"green"},null,8,["value","color"]),I("p",ao,V(["#"+P.task_id,...Object.keys(P.input_params_mapped).filter(N=>P.input_params_mapped[N].value&&P.input_params_mapped[N].value!=="").map(N=>`${P.input_params_mapped[N].display_name}: ${P.input_params_mapped[N].value}`)].join(" | ")+`${P.execution_time?" | execution_time: "+P.execution_time.toFixed(2)+"s":""}`),1),F(m,{running:P},null,8,["running"]),P.error?(v(),A(b,{key:0,running:P},null,8,["running"])):B("",!0),I("div",no,[F(s,{icon:P.progress>=0&&P.progress<100?"i-heroicons-stop":"i-heroicons-minus-circle",color:P.error?"red":"orange",variant:"outline",loading:d(a),onClick:()=>{a.value=!0,d(t).cancelRunningFlow(P).finally(()=>{a.value=!1})}},{default:z(()=>[W(V(P.progress>=0&&P.progress<100?"Cancel":"Remove"),1)]),_:2},1032,["icon","color","loading","onClick"]),F(w,{items:[[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var N;return d(t).downloadFlowComfy((N=d(t).currentFlow)==null?void 0:N.name,P.task_id)}}]],mode:"click",popper:{placement:"bottom-end"}},{default:z(()=>[F(s,{color:"blue",variant:"outline",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])]))),128))])}}}),oo=ke(lo,[["__scopeId","data-v-82e889dc"]]),ro=D({__name:"ScrollToTop",props:{show:{type:Boolean,required:!0},target:{type:String,required:!0}},setup(e){const t=e;function a(){const n=document.getElementById(t.target);n&&n.scrollIntoView({behavior:"smooth"})}return(n,o)=>{const r=fe;return gt((v(),A(r,{icon:"i-heroicons-arrow-small-up",color:"black",variant:"outline",onClick:a},null,512)),[[qt,e.show]])}}}),pe=Fe(G.ui.strategy,G.ui.select,Ha),so=D({components:{UIcon:me},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>pe.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>pe.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(pe.size).includes(e)}},color:{type:String,default:()=>pe.default.color,validator(e){return[...G.ui.colors,...Object.keys(pe.color)].includes(e)}},variant:{type:String,default:()=>pe.default.variant,validator(e){return[...Object.keys(pe.variant),...Object.values(pe.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t,slots:a}){const{ui:n,attrs:o}=Be("select",ue(e,"ui"),pe,ue(e,"class")),{size:r,rounded:l}=Wa({ui:n,props:e}),{emitFormChange:s,inputId:u,color:m,size:b,name:w}=ht(e,pe),c=k(()=>r.value||b.value),p=_=>{t("update:modelValue",_.target.value)},i=_=>{t("change",_.target.value),s()},f=_=>Ft(_,e.valueAttribute,""),h=_=>Ft(_,e.optionAttribute,""),g=_=>["string","number","boolean"].includes(typeof _)?{[e.valueAttribute]:_,[e.optionAttribute]:_}:{..._,[e.valueAttribute]:f(_),[e.optionAttribute]:h(_)},$=k(()=>e.options.map(_=>g(_))),y=k(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...$.value]:$.value),O=k(()=>{const _=g(e.modelValue),Q=y.value.find(K=>K[e.valueAttribute]===_[e.valueAttribute]);return Q?Q[e.valueAttribute]:""}),P=k(()=>{var Q,K;const _=((K=(Q=n.value.color)==null?void 0:Q[m.value])==null?void 0:K[e.variant])||n.value.variant[e.variant];return ye(re(n.value.base,n.value.form,l.value,n.value.size[c.value],e.padded?n.value.padding[c.value]:"p-0",_==null?void 0:_.replaceAll("{color}",m.value),(N.value||a.leading)&&n.value.leading.padding[c.value],(T.value||a.trailing)&&n.value.trailing.padding[c.value]),e.placeholder&&!e.modelValue&&n.value.placeholder,e.selectClass)}),N=k(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),T=k(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),x=k(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),Y=k(()=>e.loading&&!N.value?e.loadingIcon:e.trailingIcon||e.icon),te=k(()=>re(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[c.value])),E=k(()=>re(n.value.icon.base,m.value&&G.ui.colors.includes(m.value)&&n.value.icon.color.replaceAll("{color}",m.value),n.value.icon.size[c.value],e.loading&&n.value.icon.loading)),H=k(()=>re(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[c.value])),J=k(()=>re(n.value.icon.base,m.value&&G.ui.colors.includes(m.value)&&n.value.icon.color.replaceAll("{color}",m.value),n.value.icon.size[c.value],e.loading&&!N.value&&n.value.icon.loading));return{ui:n,attrs:o,name:w,inputId:u,normalizedOptionsWithPlaceholder:y,normalizedValue:O,isLeading:N,isTrailing:T,selectClass:P,leadingIconName:x,leadingIconClass:E,leadingWrapperIconClass:te,trailingIconName:Y,trailingIconClass:J,trailingWrapperIconClass:H,onInput:p,onChange:i}}}),io=["id","name","value","required","disabled"],uo=["value","label"],co=["value","selected","disabled","textContent"],mo=["value","selected","disabled","textContent"];function fo(e,t,a,n,o,r){const l=me;return v(),M("div",{class:j(e.ui.wrapper)},[I("select",X({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:t[0]||(t[0]=(...s)=>e.onInput&&e.onInput(...s)),onChange:t[1]||(t[1]=(...s)=>e.onChange&&e.onChange(...s))}),[(v(!0),M(q,null,le(e.normalizedOptionsWithPlaceholder,(s,u)=>(v(),M(q,null,[s.children?(v(),M("optgroup",{key:`${s[e.valueAttribute]}-optgroup-${u}`,value:s[e.valueAttribute],label:s[e.optionAttribute]},[(v(!0),M(q,null,le(s.children,(m,b)=>(v(),M("option",{key:`${m[e.valueAttribute]}-${u}-${b}`,value:m[e.valueAttribute],selected:m[e.valueAttribute]===e.normalizedValue,disabled:m.disabled,textContent:V(m[e.optionAttribute])},null,8,co))),128))],8,uo)):(v(),M("option",{key:`${s[e.valueAttribute]}-${u}`,value:s[e.valueAttribute],selected:s[e.valueAttribute]===e.normalizedValue,disabled:s.disabled,textContent:V(s[e.optionAttribute])},null,8,mo))],64))),256))],16,io),e.isLeading&&e.leadingIconName||e.$slots.leading?(v(),M("span",{key:0,class:j(e.leadingWrapperIconClass)},[ne(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[F(l,{name:e.leadingIconName,class:j(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):B("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(v(),M("span",{key:1,class:j(e.trailingWrapperIconClass)},[ne(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[F(l,{name:e.trailingIconName,class:j(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):B("",!0)],2)}const po=ke(so,[["render",fo],["__scopeId","data-v-9e521a3e"]]),vo={class:"p-4"},go=I("h2",{class:"text-lg text-center mb-4"},"Send to flow",-1),ho={class:"flex justify-center mb-4"},bo={class:"text-sm text-slate-500 text-center mb-4"},yo={class:"text-md text-center text-red-500 mb-4"},wo={key:1},ko={class:"flex justify-end"},$o=D({__name:"SendToFlowModal",props:{show:{type:Boolean,required:!1},flowResult:{type:Object,required:!1,default:()=>null},outputImgSrc:{type:String,required:!0},outputParamIndex:{type:Number,required:!0}},emits:["update:show"],setup(e,{emit:t}){const a=e,n=Ne(),o=k(()=>n.sub_flows.map(m=>({value:m.name,label:`${m.display_name} - ${m.description}`}))),r=S(o.value[0]||""),l=S(!1),s=t;function u(){console.debug("[Send to flow]: ",r.value);const m=n.sub_flows.find(w=>w.name===r.value.value&&w.display_name===r.value.label.split(" - ")[0]);if(console.debug("[Send to flow]: targetFlow",m),!m){Ga().add({title:`Target sub-flow "${r.value.value}" not found`,description:"Please, verify the target sub-flow is installed and available and try again",timeout:5e3});return}const b=m.input_params.reduce((w,c)=>{const p={};return c.type==="text"?p[c.name]={value:c.default||"",type:c.type}:c.type==="number"?p[c.name]={value:c.default||0,type:c.type}:c.type==="image"?p[c.name]={value:JSON.stringify({task_id:a.flowResult.task_id,node_id:a.flowResult.output_params[a.outputParamIndex].comfy_node_id})||"",type:c.type}:c.type==="list"?p[c.name]={value:c.default||Object.keys(c.options)[0]||"",type:c.type,options:c.options}:c.type==="bool"?p[c.name]={value:c.default||!1,type:c.type}:["range","range_scale"].includes(c.type)&&(p[c.name]={value:c.default||0,type:c.type}),w.push(p),w},[]);console.debug("[Send to flow]: input_params_map",b),l.value=!0,n.runFlow(m,b).finally(()=>{l.value=!1,s("update:show",!1)})}return qa(()=>{n.fetchSubFlows("image").then(()=>{r.value=o.value[0]||""})}),(m,b)=>{const w=lt,c=Yt,p=fe,i=ot;return v(),A(i,{modelValue:m.$props.show,"onUpdate:modelValue":b[1]||(b[1]=f=>m.$props.show=f),class:"z-[90]",transition:!1},{default:z(()=>[I("div",vo,[go,I("div",ho,[F(w,{src:e.outputImgSrc,class:"w-1/2 rounded-lg",draggable:!1},null,8,["src"])]),I("p",bo,V(Object.keys(e.flowResult.input_params_mapped).filter(f=>e.flowResult.input_params_mapped[f]!=="").map(f=>`${f}: ${e.flowResult.input_params_mapped[f]}`).join(" | ")),1),I("p",yo,[d(o).length>0?(v(),A(c,{key:0,modelValue:d(r),"onUpdate:modelValue":b[0]||(b[0]=f=>je(r)?r.value=f:null),class:"w-full",size:"lg",options:d(o)},null,8,["modelValue","options"])):(v(),M("span",wo,"No sub-flows available"))]),I("div",ko,[F(p,{icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",loading:d(l),disabled:d(o).length===0,onClick:u},{default:z(()=>[W(" Send ")]),_:1},8,["loading","disabled"])])])]),_:1},8,["modelValue"])}}}),So={class:"flex flex-col md:flex-row items-center justify-center mb-5 sticky top-1 z-[10]"},Io={class:"flex items-center justify-center"},Po={class:"p-4"},Co=I("p",{class:"text-lg text-center mb-4"},"Are you sure you want to delete all results?",-1),Mo={class:"text-md text-center text-red-500 mb-4"},Fo={class:"flex justify-center"},Bo={key:0,class:"results overflow-auto"},Ao={class:"flex flex-col basis-full"},Oo={class:"text-sm text-slate-500 text-center mb-3"},zo={class:"w-full flex justify-center items-center"},xo={key:1,class:"text-center text-slate-500"},To=D({__name:"Output",emits:["copy-prompt-inputs"],setup(e,{emit:t}){const a=Ne(),n=k(()=>{var T;return a.flowResultsByName((T=a.currentFlow)==null?void 0:T.name).length>0||!1}),o=k(()=>{var T;return a.flowResultsByName((T=a.currentFlow)==null?void 0:T.name).reverse()||[]}),r=k(()=>a.$state.resultsPageSize),l=function(T){return`${Ke()}/task-results?task_id=${T.task_id}&node_id=${T.node_id}`};ie(o,()=>{o.value.length<=a.$state.resultsPageSize?a.$state.resultsPage=1:a.$state.resultsPage>Math.ceil(o.value.length/a.$state.resultsPageSize)&&(a.$state.resultsPage=Math.ceil(o.value.length/a.$state.resultsPageSize))}),ie(r,()=>{o.value.length<=a.$state.resultsPageSize?a.$state.resultsPage=1:a.$state.resultsPage>Math.ceil(o.value.length/a.$state.resultsPageSize)&&(a.$state.resultsPage=Math.ceil(o.value.length/a.$state.resultsPageSize)),a.saveUserOptions()}),ge(()=>{a.$state.flow_results_filter="",a.$state.resultsPage=1});const s=t;function u(T){s("copy-prompt-inputs",T.input_params_mapped)}function m(T){h.value=T,f.value=!0}const b=S(null),w=S(!1);window.addEventListener("scroll",()=>{var T;w.value=window.scrollY>(((T=b.value)==null?void 0:T.offsetTop)+window.screen.height||0)});const c=k(()=>a.$state.resultsPage);ie(c,()=>{const T=document.getElementById("output-container");T&&T.scrollIntoView({behavior:"smooth"})});const p=nt(),i=S(!1),f=S(!1),h=S(""),g=S(!1),$=S(!1),y=S(!1),O=S(""),P=S(null),N=S(0);return(T,x)=>{var R;const Y=ro,te=me,E=bt,H=nn,J=po,_=fe,Q=kt,K=Gt,de=ot,he=lt,Ae=ca,Oe=$o;return v(),M("div",{id:"output-container",ref_key:"outputContainer",ref:b,class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md my-10"},[F(Y,{show:d(w),class:"fixed bottom-5 right-5",target:"output-container"},null,8,["show"]),I("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:x[0]||(x[0]=()=>{i.value=!d(i)})},[F(te,{name:d(i)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),W(" Output ("+V(d(o).length)+") ",1)]),d(i)?B("",!0):(v(),M(q,{key:0},[I("div",So,[F(E,{modelValue:d(a).$state.flow_results_filter,"onUpdate:modelValue":x[1]||(x[1]=C=>d(a).$state.flow_results_filter=C),icon:"i-heroicons-magnifying-glass-20-solid",color:"white",class:"md:mr-3",label:"Filter results by prompt",trailing:!0,placeholder:"Filter results by prompt"},null,8,["modelValue"]),d(o).length>d(a).$state.resultsPageSize?(v(),A(H,{key:0,modelValue:d(a).$state.resultsPage,"onUpdate:modelValue":x[2]||(x[2]=C=>d(a).$state.resultsPage=C),class:"my-1 md:my-0","page-count":d(a).$state.resultsPageSize,total:d(o).length,"show-first":"","show-last":""},null,8,["modelValue","page-count","total"])):B("",!0),I("div",Io,[F(J,{modelValue:d(a).resultsPageSize,"onUpdate:modelValue":x[3]||(x[3]=C=>d(a).resultsPageSize=C),class:"md:mx-3 w-fit mr-3",options:[5,10,20,50,100],label:"Results per page"},null,8,["modelValue"]),F(Q,{items:[[{label:"Delete all results",labelClass:"text-red-500",icon:"i-heroicons-trash",iconClass:"dark:text-red-500 text-red-500",click:()=>g.value=!0}]],mode:"click",label:"Options",popper:{placement:"bottom-end"}},{default:z(()=>[F(_,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:1},8,["items"])]),F(de,{modelValue:d(g),"onUpdate:modelValue":x[6]||(x[6]=C=>je(g)?g.value=C:null),class:"z-[90]",transition:!1},{default:z(()=>[I("div",Po,[Co,I("p",Mo,[W(" All history and images of "),F(K,{class:"mx-1",color:"orange",variant:"outline"},{default:z(()=>[W(V(d(a).currentFlow.display_name),1)]),_:1}),W(" will be deleted. ")]),I("div",Fo,[F(_,{class:"mr-2",color:"red",variant:"outline",loading:d($),onClick:x[4]||(x[4]=()=>{var C;$.value=!0,d(a).deleteFlowResults((C=d(a).currentFlow)==null?void 0:C.name).then(()=>{$.value=!1,g.value=!1})})},{default:z(()=>[W(" Yes ")]),_:1},8,["loading"]),F(_,{variant:"outline",onClick:x[5]||(x[5]=()=>g.value=!1)},{default:z(()=>[W("No")]),_:1})])])]),_:1},8,["modelValue"])]),d(n)?(v(),M("div",Bo,[(v(!0),M(q,null,le(d(a).flowResultsByNamePaginated((R=d(a).currentFlow)==null?void 0:R.name),C=>(v(),M("div",{key:C.task_id,class:"flex flex-col justify-center mx-auto mb-5"},[C.output_params.length===1?(v(),A(he,{key:0,class:"mb-2 h-100 mx-auto rounded-lg cursor-pointer",draggable:"false",fit:"outside",loading:"lazy",placeholder:d(p)(`${("buildBackendUrl"in T?T.buildBackendUrl:d(Bt))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:l({task_id:C.task_id,node_id:C.output_params[0].comfy_node_id}),onClick:()=>m(l({task_id:C.task_id,node_id:C.output_params[0].comfy_node_id}))},null,8,["placeholder","src","onClick"])):(v(),A(Ae,{key:1,class:"mb-3 rounded-lg overflow-hidden",items:C.output_params.map((U,oe)=>({task_id:C.task_id,node_id:U.comfy_node_id,index:oe})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:z(({item:U})=>[I("div",Ao,[F(he,{class:"w-full cursor-pointer mx-auto",loading:"lazy",placeholder:d(p)(`${("buildBackendUrl"in T?T.buildBackendUrl:d(Bt))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:l(U),draggable:"false",onClick:()=>m(l(U))},null,8,["placeholder","src","onClick"]),F(_,{class:"mt-2 w-fit mx-auto",icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",onClick:()=>{y.value=!0,P.value=C,O.value=l(U),N.value=U.index}},{default:z(()=>[W(" Send to flow ")]),_:2},1032,["onClick"])])]),_:2},1032,["items"])),I("p",Oo,V(["#"+C.task_id,...Object.keys(C.input_params_mapped).filter(U=>C.input_params_mapped[U].value&&C.input_params_mapped[U].value!=="").map(U=>`${C.input_params_mapped[U].display_name}: ${C.input_params_mapped[U].value}`)].join(" | ")+`${C.execution_time?" | execution_time: "+C.execution_time.toFixed(2)+"s":""}`),1),I("div",zo,[F(_,{class:"mr-3",color:"red",icon:"i-heroicons-trash",variant:"outline",onClick:()=>d(a).deleteFlowHistory(C.task_id)},{default:z(()=>[W(" Delete ")]),_:2},1032,["onClick"]),F(Q,{items:[[{label:"Use params",labelClass:"text-cyan-500",icon:"i-heroicons-document-duplicate-16-solid",iconClass:"bg-cyan-500",click:()=>u(C)}],[{label:"Send to flow",labelClass:"text-violet-500",icon:"i-heroicons-arrow-uturn-up-solid",iconClass:"bg-violet-500",click:()=>{y.value=!0,P.value=C,O.value=l({task_id:C.task_id,node_id:C.output_params[0].comfy_node_id}),N.value=0},disabled:C.output_params.length!==1}],[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var U;return d(a).downloadFlowComfy((U=d(a).currentFlow)==null?void 0:U.name,C.task_id)}}]],mode:"click",popper:{placement:"bottom-start"}},{default:z(()=>[F(_,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])]))),128)),F(Oe,{modelValue:d(y),"onUpdate:modelValue":x[7]||(x[7]=C=>je(y)?y.value=C:null),"flow-result":d(P),"output-img-src":d(O),"output-param-index":d(N),"onUpdate:show":x[8]||(x[8]=C=>y.value=C)},null,8,["modelValue","flow-result","output-img-src","output-param-index"])])):(v(),M("p",xo," No output results available "))],64)),F(de,{modelValue:d(f),"onUpdate:modelValue":x[11]||(x[11]=C=>je(f)?f.value=C:null),class:"z-[90]",transition:!1,fullscreen:""},{default:z(()=>[F(_,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:x[9]||(x[9]=()=>f.value=!1)}),I("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:x[10]||(x[10]=Re(()=>f.value=!1,["left"]))},[d(h)?(v(),A(he,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",src:d(h)},null,8,["src"])):B("",!0)])]),_:1},8,["modelValue"])],512)}}}),_o=Fe(G.ui.strategy,G.ui.skeleton,dn),jo=D({inheritAttrs:!1,props:{class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:a}=Be("skeleton",ue(e,"ui"),_o),n=k(()=>ye(re(t.value.base,t.value.background,t.value.rounded),e.class));return{ui:t,attrs:a,skeletonClass:n}}});function Eo(e,t,a,n,o,r){return v(),M("div",X({class:e.skeletonClass},e.attrs),null,16)}const Uo=ke(jo,[["render",Eo]]),No={class:"flex flex-col lg:flex-row flex-grow items-start w-full"},Ro={class:"card-wrapper w-full lg:pr-5"},Lo={key:0,class:"p-0 text-sm"},Do={class:"flex flex-row items-center text-slate-400 mb-2"},Vo={class:"flex flex-row flex-wrap items-center text-md mb-2"},Ho=I("b",null,"Author:",-1),Wo=["href"],qo={class:"flex flex-row items-center text-md mb-2"},Go=["href"],Qo={key:1},Jo={class:"flex flex-row items-center text-md mb-2"},Yo=I("b",null,"Version:",-1),Ko={class:"flex flex-row items-center text-md mb-2"},Xo=I("b",null,"Tags:",-1),Zo={key:0,class:"flex flex-row flex-wrap items-center text-md"},er=["href"],tr={key:0,class:"flex justify-end"},ar={class:"flex flex-row items-center justify-center text-sm mr-2"},nr={key:1},lr={class:"text-sm flex justify-end"},or={class:"flex flex-row items-center justify-center text-sm mr-3"},rr=I("div",{class:"text-right"},[I("p",{class:"text-orange-500"},"Only admin can manage workflows."),I("span",{class:"text-slate-500"},"Ask your admin to setup this workflow")],-1),sr={class:"prompt-wrapper w-full"},vr=D({__name:"[name]",setup(e){const t=Qa(),a=Ne();a.setCurrentFlow(t.params.name);const n=k(()=>a.flowInstallingByName(t.params.name)),o=k(()=>{var p;return n.value&&((p=n.value)==null?void 0:p.progress)<100||!1}),r=S(!1),l=k(()=>{var p;return n.value?"error"in n.value&&((p=n.value)==null?void 0:p.error)!==""?`${n.value.progress.toFixed(0)}% Error setting up`:`${n.value.progress.toFixed(0)}% Setting up`:"Setup flow"}),s=S(!1);function u(){s.value=!0,a.deleteFlow(a.currentFlow).then(()=>{s.value=!1})}const m=S(!1),b=S(null),w=function(p){var i;(i=b.value)==null||i.copyPromptInputs(p)},c=Ja();return(p,i)=>{const f=me,h=Gt,g=an,$=fe,y=kt,O=ln,P=Rl,N=oo,T=To,x=Kt,Y=Uo,te=Ya;return v(),A(te,null,{default:z(()=>[!d(a).loading.flows_available&&!d(a).loading.flows_installed&&d(a).currentFlow&&!d(a).$state.loading.tasks_history?(v(),M(q,{key:0},[I("div",No,[I("div",Ro,[F(O,{as:"div",class:"w-full mb-5"},Ka({header:z(()=>{var E;return[I("h2",{class:"text-xl font-bold cursor-pointer select-none flex items-center",onClick:i[0]||(i[0]=()=>{m.value=!d(m)})},[F(f,{name:d(m)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),W(" "+V((E=d(a).currentFlow)==null?void 0:E.display_name),1)])]}),default:z(()=>{var E,H,J,_,Q,K,de,he,Ae,Oe,R,C;return[d(m)?B("",!0):(v(),M("div",Lo,[I("p",Do,V((E=d(a).currentFlow)==null?void 0:E.description),1),I("p",Vo,[F(f,{name:"i-heroicons-user-16-solid",class:"mr-1"}),Ho,W("  "),I("a",{class:"hover:underline text-md",href:(H=d(a).currentFlow)==null?void 0:H.homepage,rel:"noopener",target:"_blank"},V((J=d(a).currentFlow)==null?void 0:J.author),9,Wo)]),I("p",qo,[F(f,{name:"i-heroicons-document-text",class:"mr-1"}),(_=d(a).currentFlow)!=null&&_.documentation?(v(),M("a",{key:0,class:"hover:underline",href:(Q=d(a).currentFlow)==null?void 0:Q.documentation,rel:"noopener",target:"_blank"}," Documentation ",8,Go)):(v(),M("span",Qo,"No documentation"))]),I("p",Jo,[F(f,{name:"i-heroicons-clock",class:"mr-1"}),Yo,W("  "),I("span",null,V((K=d(a).currentFlow)==null?void 0:K.version),1)]),I("p",Ko,[F(f,{name:"i-heroicons-tag",class:"mr-1"}),Xo,W("  "),((de=d(a).currentFlow)==null?void 0:de.tags.length)>0?(v(!0),M(q,{key:0},le((he=d(a).currentFlow)==null?void 0:he.tags,U=>(v(),A(h,{key:U,label:U,color:"white",variant:"solid",class:"m-1"},null,8,["label"]))),128)):(v(),A(h,{key:1,label:"No tags",color:"white",variant:"solid",class:"m-1"}))]),((Oe=(Ae=d(a).currentFlow)==null?void 0:Ae.models)==null?void 0:Oe.length)>0?(v(),M("p",Zo,[F(f,{name:"i-heroicons-arrow-down-on-square-stack",class:"mr-1"}),I("b",null,"Models ("+V((R=d(a).currentFlow)==null?void 0:R.models.length)+"):",1),W("  "),(v(!0),M(q,null,le((C=d(a).currentFlow)==null?void 0:C.models,U=>(v(),A(h,{key:U.name,class:"m-1",color:"white",variant:"solid"},{default:z(()=>[U.gated?(v(),A(g,{key:0,text:"Gated model, requires auth token for download",popper:{placement:"top"}},{default:z(()=>[F(f,{name:"i-heroicons-key",class:"mr-1"})]),_:1})):B("",!0),I("a",{class:"hover:underline underline-offset-4",href:U.homepage,rel:"noopener",target:"_blank"},V(U.name),9,er)]),_:2},1024))),128))])):B("",!0)]))]}),_:2},[d(m)?void 0:{name:"footer",fn:z(()=>[d(c).isAdmin?(v(),M("div",tr,[I("div",ar,[F(f,{name:d(a).isFlowInstalled(d(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),I("span",{class:j({"text-green-500":d(a).isFlowInstalled(d(t).params.name),"text-red-500":!d(a).isFlowInstalled(d(t).params.name)})},V(d(a).isFlowInstalled(d(t).params.name)?"Installed":"Not installed"),3)]),d(a).isFlowInstalled(d(t).params.name)?B("",!0):(v(),A(g,{key:0,text:"Setup flow dependencies and configure it in ComfyUI",popper:{placement:"top"},"open-delay":500},{default:z(()=>[F($,{icon:"i-heroicons-arrow-down-tray",class:"mx-3",color:"primary",variant:"outline",loading:d(o),onClick:i[1]||(i[1]=()=>d(a).setupFlow(d(a).currentFlow))},{default:z(()=>[W(V(d(l)),1)]),_:1},8,["loading"])]),_:1})),!d(a).isFlowInstalled(d(t).params.name)&&d(o)?(v(),A(g,{key:1,text:"Cancel flow installation",popper:{placement:"top"},"open-delay":500},{default:z(()=>[F($,{icon:"i-heroicons-stop",variant:"outline",color:"orange",loading:d(r),onClick:i[2]||(i[2]=()=>{r.value=!0,d(a).cancelFlowSetup(d(a).currentFlow).then(()=>{r.value=!1})})},{default:z(()=>[W(" Cancel ")]),_:1},8,["loading"])]),_:1})):B("",!0),d(a).isFlowInstalled(d(t).params.name)?(v(),A(y,{key:2,items:[[{label:"Delete flow",icon:"i-heroicons-trash",click:u}]],mode:"click",label:"Actions",popper:{placement:"bottom-end"}},{default:z(()=>[F($,{color:"white",label:"Actions","trailing-icon":"i-heroicons-chevron-down-20-solid"})]),_:1},8,["items"])):B("",!0)])):(v(),M("div",nr,[I("div",lr,[I("div",or,[F(f,{name:d(a).isFlowInstalled(d(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),I("span",{class:j({"text-green-500":d(a).isFlowInstalled(d(t).params.name),"text-red-500":!d(a).isFlowInstalled(d(t).params.name)})},V(d(a).isFlowInstalled(d(t).params.name)?"Installed":"Not installed"),3)]),rr])]))]),key:"0"}]),1024)]),I("div",sr,[!d(s)&&d(a).isFlowInstalled(d(t).params.name)?(v(),A(P,{key:0,ref_key:"workflowPrompt",ref:b},null,512)):B("",!0)])]),!d(s)&&d(a).isFlowInstalled(d(t).params.name)?(v(),A(N,{key:0})):B("",!0),!d(s)&&d(a).isFlowInstalled(d(t).params.name)||d(a).flowResultsByName(d(t).params.name).length>0?(v(),A(T,{key:1,onCopyPromptInputs:i[3]||(i[3]=E=>w(E))})):B("",!0)],64)):(v(),M(q,{key:1},[F(x,{class:"mb-3"}),F(Y,{class:"w-full h-80"})],64))]),_:1})}}});export{vr as default};
