import{g as H,z as S,E as I,a0 as Kt,P as Z,a1 as $e,a2 as Pn,a3 as ce,a4 as wt,a5 as kt,a6 as Ie,F as q,a7 as Ae,a8 as He,q as de,a9 as V,aa as Gt,ab as Oe,ac as et,ad as lt,ae as Ce,af as Fn,ag as Mn,ah as Tn,ai as We,aj as je,ak as qe,al as _t,am as ie,an as zn,ao as Bn,ap as Qt,aq as An,ar as On,as as Ot,at as Je,au as Be,av as ee,aw as jn,ax as Un,ay as Yt,az as Jt,aA as En,aB as Xt,aC as Nn,aD as Ln,aE as Zt,aF as Rn,aG as De,aH as Dn,K as O,A as Ue,aI as Vn,B as G,_ as xe,l as me,W as ot,C as Ee,D as fe,H as st,aJ as Hn,aK as xt,aL as Wn,X as _e,Y as ne,aM as we,o as h,i as z,w as B,b as _,J as ue,a as C,c as P,aN as en,aO as qn,L as te,j as T,r as re,aP as Kn,t as D,d as E,e as tn,aQ as Pt,aR as Gn,aS as Qn,aT as jt,aU as Yn,aV as $t,aW as Jn,aX as Xn,aY as Ut,aZ as nn,a_ as Zn,u as ea,a$ as rt,b0 as ta,Q as Et,k as r,S as he,M as Ge,m as pe,h as Ne,b1 as Ft,b2 as na,b3 as aa,b4 as la,b5 as vt,b6 as oa,b7 as sa,I as Nt,b8 as ra,y as it,b9 as an,ba as ve,bb as ia,R as ua,bc as Lt,n as ln,bd as da,v as ca,s as ma,be as fa,bf as pa}from"./C6htgvWl.js";import{b as on,a as sn,_ as rn}from"./zAKG6gVp.js";import{t as un,a as Rt,o as ut,i as va,p as ga,u as ha,f as ba,c as ge,d as ya,b as wa,e as dt,_ as dn}from"./DzuVuJny.js";import{a as ka,_ as $a}from"./CS5jHaoH.js";import{_ as Mt}from"./wJ35zw95.js";import{_ as cn}from"./BJi_OQqJ.js";import{_ as mn}from"./CbUxi9AA.js";const Ia={wrapper:"w-full relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium",description:"mt-1 text-sm leading-4 opacity-90",actions:"flex items-center gap-2 mt-3 flex-shrink-0",shadow:"",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0 self-center",size:"md"},color:{white:{solid:"text-gray-900 dark:text-white bg-white dark:bg-gray-900 ring-1 ring-gray-200 dark:ring-gray-800"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{color:"white",variant:"solid",icon:null,closeButton:null,actionButton:{size:"xs",color:"primary",variant:"link"}}},Sa={wrapper:"relative",container:"relative w-full flex overflow-x-auto snap-x snap-mandatory scroll-smooth",item:"flex flex-none snap-center",arrows:{wrapper:"flex items-center justify-between"},indicators:{wrapper:"absolute flex items-center justify-center gap-3 bottom-4 inset-x-0",base:"rounded-full h-3 w-3",active:"bg-primary-500 dark:bg-primary-400",inactive:"bg-gray-100 dark:bg-gray-800"},default:{prevButton:{color:"black",class:"rtl:[&_span:first-child]:rotate-180 absolute left-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"black",class:"rtl:[&_span:last-child]:rotate-180 absolute right-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-right-20-solid "}}},Ca={base:"relative inline-flex flex-shrink-0 border-2 border-transparent disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none",rounded:"rounded-full",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",active:"bg-{color}-500 dark:bg-{color}-400",inactive:"bg-gray-200 dark:bg-gray-700",size:{"2xs":"h-3 w-5",xs:"h-3.5 w-6",sm:"h-4 w-7",md:"h-5 w-9",lg:"h-6 w-11",xl:"h-7 w-[3.25rem]","2xl":"h-8 w-[3.75rem]"},container:{base:"pointer-events-none relative inline-block rounded-full bg-white dark:bg-gray-900 shadow transform ring-0 transition ease-in-out duration-200",active:{"2xs":"translate-x-2 rtl:-translate-x-2",xs:"translate-x-2.5 rtl:-translate-x-2.5",sm:"translate-x-3 rtl:-translate-x-3",md:"translate-x-4 rtl:-translate-x-4",lg:"translate-x-5 rtl:-translate-x-5",xl:"translate-x-6 rtl:-translate-x-6","2xl":"translate-x-7 rtl:-translate-x-7"},inactive:"translate-x-0 rtl:-translate-x-0",size:{"2xs":"h-2 w-2",xs:"h-2.5 w-2.5",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5",xl:"h-6 w-6","2xl":"h-7 w-7"}},icon:{base:"absolute inset-0 h-full w-full flex items-center justify-center transition-opacity",active:"opacity-100 ease-in duration-200",inactive:"opacity-0 ease-out duration-100",size:{"2xs":"h-2 w-2",xs:"h-2 w-2",sm:"h-2 w-2",md:"h-3 w-3",lg:"h-4 w-4",xl:"h-5 w-5","2xl":"h-6 w-6"},on:"text-{color}-500 dark:text-{color}-400",off:"text-gray-400 dark:text-gray-500",loading:"animate-spin text-{color}-500 dark:text-{color}-400"},default:{onIcon:null,offIcon:null,loadingIcon:"i-heroicons-arrow-path-20-solid",color:"primary",size:"md"}},_a={wrapper:"relative w-full flex items-center",base:"w-full absolute appearance-none cursor-pointer disabled:cursor-not-allowed disabled:bg-opacity-50 focus:outline-none peer group",rounded:"rounded-lg",background:"bg-transparent",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",progress:{base:"absolute pointer-events-none peer-disabled:bg-opacity-50",rounded:"rounded-s-lg",background:"bg-{color}-500 dark:bg-{color}-400",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"}},thumb:{base:"[&::-webkit-slider-thumb]:relative [&::-moz-range-thumb]:relative [&::-webkit-slider-thumb]:z-[1] [&::-moz-range-thumb]:z-[1] [&::-webkit-slider-thumb]:appearance-none [&::-moz-range-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:border-0",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:dark:bg-gray-900 [&::-moz-range-thumb]:bg-current",ring:"[&::-webkit-slider-thumb]:ring-2 [&::-webkit-slider-thumb]:ring-current",size:{"2xs":"[&::-webkit-slider-thumb]:h-1.5 [&::-moz-range-thumb]:h-1.5 [&::-webkit-slider-thumb]:w-1.5 [&::-moz-range-thumb]:w-1.5 [&::-webkit-slider-thumb]:mt-[-2.5px] [&::-moz-range-thumb]:mt-[-2.5px]",xs:"[&::-webkit-slider-thumb]:h-2 [&::-moz-range-thumb]:h-2 [&::-webkit-slider-thumb]:w-2 [&::-moz-range-thumb]:w-2 [&::-webkit-slider-thumb]:mt-[-3px] [&::-moz-range-thumb]:mt-[-3px]",sm:"[&::-webkit-slider-thumb]:h-3 [&::-moz-range-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-moz-range-thumb]:w-3 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",md:"[&::-webkit-slider-thumb]:h-4 [&::-moz-range-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-moz-range-thumb]:w-4 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",lg:"[&::-webkit-slider-thumb]:h-5 [&::-moz-range-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-moz-range-thumb]:w-5 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",xl:"[&::-webkit-slider-thumb]:h-6 [&::-moz-range-thumb]:h-6 [&::-webkit-slider-thumb]:w-6 [&::-moz-range-thumb]:w-6 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1","2xl":"[&::-webkit-slider-thumb]:h-7 [&::-moz-range-thumb]:h-7 [&::-webkit-slider-thumb]:w-7 [&::-moz-range-thumb]:w-7 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1"}},track:{base:"[&::-webkit-slider-runnable-track]:group-disabled:bg-opacity-50 [&::-moz-range-track]:group-disabled:bg-opacity-50",background:"[&::-webkit-slider-runnable-track]:bg-gray-200 [&::-moz-range-track]:bg-gray-200 [&::-webkit-slider-runnable-track]:dark:bg-gray-700 [&::-moz-range-track]:dark:bg-gray-700",rounded:"[&::-webkit-slider-runnable-track]:rounded-lg [&::-moz-range-track]:rounded-lg",size:{"2xs":"[&::-webkit-slider-runnable-track]:h-px [&::-moz-range-track]:h-px",xs:"[&::-webkit-slider-runnable-track]:h-0.5 [&::-moz-range-track]:h-0.5",sm:"[&::-webkit-slider-runnable-track]:h-1 [&::-moz-range-track]:h-1",md:"[&::-webkit-slider-runnable-track]:h-2 [&::-moz-range-track]:h-2",lg:"[&::-webkit-slider-runnable-track]:h-3 [&::-moz-range-track]:h-3",xl:"[&::-webkit-slider-runnable-track]:h-4 [&::-moz-range-track]:h-4","2xl":"[&::-webkit-slider-runnable-track]:h-5 [&::-moz-range-track]:h-5"}},size:{"2xs":"h-1.5",xs:"h-2",sm:"h-3",md:"h-4",lg:"h-5",xl:"h-6","2xl":"h-7"},default:{size:"md",color:"primary"}},xa={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function fn(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.value){let a=V(n);a instanceof HTMLElement&&t.add(a)}return t}var pn=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(pn||{});let Qe=Object.assign(H({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:S(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:a}){let s=S(null);a({el:s,$el:s});let o=I(()=>Kt(s)),l=S(!1);Z(()=>l.value=!0),$e(()=>l.value=!1),Fa({ownerDocument:o},I(()=>l.value&&!!(e.features&16)));let i=Ma({ownerDocument:o,container:s,initialFocus:I(()=>e.initialFocus)},I(()=>l.value&&!!(e.features&2)));Ta({ownerDocument:o,container:s,containers:e.containers,previousActiveElement:i},I(()=>l.value&&!!(e.features&8)));let d=Pn();function v(y){let u=V(s);u&&(g=>g())(()=>{Oe(d.value,{[et.Forwards]:()=>{lt(u,Ce.First,{skipElements:[y.relatedTarget]})},[et.Backwards]:()=>{lt(u,Ce.Last,{skipElements:[y.relatedTarget]})}})})}let k=S(!1);function w(y){y.key==="Tab"&&(k.value=!0,requestAnimationFrame(()=>{k.value=!1}))}function m(y){if(!l.value)return;let u=fn(e.containers);V(s)instanceof HTMLElement&&u.add(V(s));let g=y.relatedTarget;g instanceof HTMLElement&&g.dataset.headlessuiFocusGuard!=="true"&&(vn(u,g)||(k.value?lt(V(s),Oe(d.value,{[et.Forwards]:()=>Ce.Next,[et.Backwards]:()=>Ce.Previous})|Ce.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&He(y.target)))}return()=>{let y={},u={ref:s,onKeydown:w,onFocusout:m},{features:g,initialFocus:b,containers:p,...c}=e;return ce(q,[!!(g&4)&&ce(wt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:kt.Focusable}),Ie({ourProps:u,theirProps:{...t,...c},slot:y,attrs:t,slots:n,name:"FocusTrap"}),!!(g&4)&&ce(wt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:kt.Focusable})])}}}),{features:pn});function Pa(e){let t=S(Rt.slice());return de([e],([n],[a])=>{a===!0&&n===!1?un(()=>{t.value.splice(0)}):a===!1&&n===!0&&(t.value=Rt.slice())},{flush:"post"}),()=>{var n;return(n=t.value.find(a=>a!=null&&a.isConnected))!=null?n:null}}function Fa({ownerDocument:e},t){let n=Pa(t);Z(()=>{Ae(()=>{var a,s;t.value||((a=e.value)==null?void 0:a.activeElement)===((s=e.value)==null?void 0:s.body)&&He(n())},{flush:"post"})}),$e(()=>{t.value&&He(n())})}function Ma({ownerDocument:e,container:t,initialFocus:n},a){let s=S(null),o=S(!1);return Z(()=>o.value=!0),$e(()=>o.value=!1),Z(()=>{de([t,n,a],(l,i)=>{if(l.every((v,k)=>(i==null?void 0:i[k])===v)||!a.value)return;let d=V(t);d&&un(()=>{var v,k;if(!o.value)return;let w=V(n),m=(v=e.value)==null?void 0:v.activeElement;if(w){if(w===m){s.value=m;return}}else if(d.contains(m)){s.value=m;return}w?He(w):lt(d,Ce.First|Ce.NoScroll)===Fn.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(k=e.value)==null?void 0:k.activeElement})},{immediate:!0,flush:"post"})}),s}function Ta({ownerDocument:e,container:t,containers:n,previousActiveElement:a},s){var o;Gt((o=e.value)==null?void 0:o.defaultView,"focus",l=>{if(!s.value)return;let i=fn(n);V(t)instanceof HTMLElement&&i.add(V(t));let d=a.value;if(!d)return;let v=l.target;v&&v instanceof HTMLElement?vn(i,v)?(a.value=v,He(v)):(l.preventDefault(),l.stopPropagation(),He(d)):He(a.value)},!0)}function vn(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function za(e){let t=Mn(e.getSnapshot());return $e(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function Ba(e,t){let n=e(),a=new Set;return{getSnapshot(){return n},subscribe(s){return a.add(s),()=>a.delete(s)},dispatch(s,...o){let l=t[s].call(n,...o);l&&(n=l,a.forEach(i=>i()))}}}function Aa(){let e;return{before({doc:t}){var n;let a=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-a.clientWidth},after({doc:t,d:n}){let a=t.documentElement,s=a.clientWidth-a.offsetWidth,o=e-s;n.style(a,"paddingRight",`${o}px`)}}}function Oa(){return Tn()?{before({doc:e,d:t,meta:n}){function a(s){return n.containers.flatMap(o=>o()).some(o=>o.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=ut();i.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>i.dispose()))}let o=(s=window.scrollY)!=null?s:window.pageYOffset,l=null;t.addEventListener(e,"click",i=>{if(i.target instanceof HTMLElement)try{let d=i.target.closest("a");if(!d)return;let{hash:v}=new URL(d.href),k=e.querySelector(v);k&&!a(k)&&(l=k)}catch{}},!0),t.addEventListener(e,"touchstart",i=>{if(i.target instanceof HTMLElement)if(a(i.target)){let d=i.target;for(;d.parentElement&&a(d.parentElement);)d=d.parentElement;t.style(d,"overscrollBehavior","contain")}else t.style(i.target,"touchAction","none")}),t.addEventListener(e,"touchmove",i=>{if(i.target instanceof HTMLElement){if(i.target.tagName==="INPUT")return;if(a(i.target)){let d=i.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()}},{passive:!1}),t.add(()=>{var i;let d=(i=window.scrollY)!=null?i:window.pageYOffset;o!==d&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function ja(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Ua(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Ve=Ba(()=>new Map,{PUSH(e,t){var n;let a=(n=this.get(e))!=null?n:{doc:e,count:0,d:ut(),meta:new Set};return a.count++,a.meta.add(t),this.set(e,a),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let a={doc:e,d:t,meta:Ua(n)},s=[Oa(),Aa(),ja()];s.forEach(({before:o})=>o==null?void 0:o(a)),s.forEach(({after:o})=>o==null?void 0:o(a))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ve.subscribe(()=>{let e=Ve.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let a=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!a||!s&&a)&&Ve.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ve.dispatch("TEARDOWN",n)}});function Ea(e,t,n){let a=za(Ve),s=I(()=>{let o=e.value?a.value.get(e.value):void 0;return o?o.count>0:!1});return de([e,t],([o,l],[i],d)=>{if(!o||!l)return;Ve.dispatch("PUSH",o,n);let v=!1;d(()=>{v||(Ve.dispatch("POP",i??o,n),v=!0)})},{immediate:!0}),s}let gt=new Map,Ye=new Map;function Dt(e,t=S(!0)){Ae(n=>{var a;if(!t.value)return;let s=V(e);if(!s)return;n(function(){var l;if(!s)return;let i=(l=Ye.get(s))!=null?l:1;if(i===1?Ye.delete(s):Ye.set(s,i-1),i!==1)return;let d=gt.get(s);d&&(d["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",d["aria-hidden"]),s.inert=d.inert,gt.delete(s))});let o=(a=Ye.get(s))!=null?a:0;Ye.set(s,o+1),o===0&&(gt.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}let gn=Symbol("StackContext");var It=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(It||{});function Na(){return je(gn,()=>{})}function La({type:e,enabled:t,element:n,onUpdate:a}){let s=Na();function o(...l){a==null||a(...l),s(...l)}Z(()=>{de(t,(l,i)=>{l?o(0,e,n):i===!0&&o(1,e,n)},{immediate:!0,flush:"sync"})}),$e(()=>{t.value&&o(1,e,n)}),We(gn,o)}let Ra=Symbol("DescriptionContext");function Da({slot:e=S({}),name:t="Description",props:n={}}={}){let a=S([]);function s(o){return a.value.push(o),()=>{let l=a.value.indexOf(o);l!==-1&&a.value.splice(l,1)}}return We(Ra,{register:s,slot:e,name:t,props:n}),I(()=>a.value.length>0?a.value.join(" "):void 0)}var Va=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Va||{});let St=Symbol("DialogContext");function hn(e){let t=je(St,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,hn),n}return t}let tt="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Ha=H({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:tt},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:n,slots:a,expose:s}){var o,l;let i=(o=e.id)!=null?o:`headlessui-dialog-${qe()}`,d=S(!1);Z(()=>{d.value=!0});let v=!1,k=I(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(v||(v=!0,console.warn(`Invalid role [${k}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),w=S(0),m=_t(),y=I(()=>e.open===tt&&m!==null?(m.value&ie.Open)===ie.Open:e.open),u=S(null),g=I(()=>Kt(u));if(s({el:u,$el:u}),!(e.open!==tt||m!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof y.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${y.value===tt?void 0:e.open}`);let b=I(()=>d.value&&y.value?0:1),p=I(()=>b.value===0),c=I(()=>w.value>1),f=je(St,null)!==null,[F,$]=zn(),{resolveContainers:j,mainTreeNodeRef:L,MainTreeNode:Q}=Bn({portals:F,defaultContainers:[I(()=>{var R;return(R=ae.panelRef.value)!=null?R:u.value})]}),X=I(()=>c.value?"parent":"leaf"),M=I(()=>m!==null?(m.value&ie.Closing)===ie.Closing:!1),x=I(()=>f||M.value?!1:p.value),N=I(()=>{var R,W,le;return(le=Array.from((W=(R=g.value)==null?void 0:R.querySelectorAll("body > *"))!=null?W:[]).find(oe=>oe.id==="headlessui-portal-root"?!1:oe.contains(V(L))&&oe instanceof HTMLElement))!=null?le:null});Dt(N,x);let Y=I(()=>c.value?!0:p.value),U=I(()=>{var R,W,le;return(le=Array.from((W=(R=g.value)==null?void 0:R.querySelectorAll("[data-headlessui-portal]"))!=null?W:[]).find(oe=>oe.contains(V(L))&&oe instanceof HTMLElement))!=null?le:null});Dt(U,Y),La({type:"Dialog",enabled:I(()=>b.value===0),element:u,onUpdate:(R,W)=>{if(W==="Dialog")return Oe(R,{[It.Add]:()=>w.value+=1,[It.Remove]:()=>w.value-=1})}});let K=Da({name:"DialogDescription",slot:I(()=>({open:y.value}))}),J=S(null),ae={titleId:J,panelRef:S(null),dialogState:b,setTitleId(R){J.value!==R&&(J.value=R)},close(){t("close",!1)}};We(St,ae);let Pe=I(()=>!(!p.value||c.value));Qt(j,(R,W)=>{R.preventDefault(),ae.close(),Be(()=>W==null?void 0:W.focus())},Pe);let Fe=I(()=>!(c.value||b.value!==0));Gt((l=g.value)==null?void 0:l.defaultView,"keydown",R=>{Fe.value&&(R.defaultPrevented||R.key===ee.Escape&&(R.preventDefault(),R.stopPropagation(),ae.close()))});let Me=I(()=>!(M.value||b.value!==0||f));return Ea(g,Me,R=>{var W;return{containers:[...(W=R.containers)!=null?W:[],j]}}),Ae(R=>{if(b.value!==0)return;let W=V(u);if(!W)return;let le=new ResizeObserver(oe=>{for(let Se of oe){let A=Se.target.getBoundingClientRect();A.x===0&&A.y===0&&A.width===0&&A.height===0&&ae.close()}});le.observe(W),R(()=>le.disconnect())}),()=>{let{open:R,initialFocus:W,...le}=e,oe={...n,ref:u,id:i,role:k.value,"aria-modal":b.value===0?!0:void 0,"aria-labelledby":J.value,"aria-describedby":K.value},Se={open:b.value===0};return ce(Ot,{force:!0},()=>[ce(An,()=>ce(On,{target:u.value},()=>ce(Ot,{force:!1},()=>ce(Qe,{initialFocus:W,containers:j,features:p.value?Oe(X.value,{parent:Qe.features.RestoreFocus,leaf:Qe.features.All&~Qe.features.FocusLock}):Qe.features.None},()=>ce($,{},()=>Ie({ourProps:oe,theirProps:{...le,...n},slot:Se,attrs:n,slots:a,visible:b.value===0,features:Je.RenderStrategy|Je.Static,name:"Dialog"})))))),ce(Q)])}}}),Wa=H({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:a}){var s;let o=(s=e.id)!=null?s:`headlessui-dialog-panel-${qe()}`,l=hn("DialogPanel");a({el:l.panelRef,$el:l.panelRef});function i(d){d.stopPropagation()}return()=>{let{...d}=e,v={id:o,ref:l.panelRef,onClick:i};return Ie({ourProps:v,theirProps:d,slot:{open:l.dialogState.value===0},attrs:t,slots:n,name:"DialogPanel"})}}});var qa=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(qa||{}),Ka=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ka||{});function Ga(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let bn=Symbol("MenuContext");function ct(e){let t=je(bn,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ct),n}return t}let Qa=H({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let a=S(1),s=S(null),o=S(null),l=S([]),i=S(""),d=S(null),v=S(1);function k(m=y=>y){let y=d.value!==null?l.value[d.value]:null,u=Nn(m(l.value.slice()),b=>V(b.dataRef.domRef)),g=y?u.indexOf(y):null;return g===-1&&(g=null),{items:u,activeItemIndex:g}}let w={menuState:a,buttonRef:s,itemsRef:o,items:l,searchQuery:i,activeItemIndex:d,activationTrigger:v,closeMenu:()=>{a.value=1,d.value=null},openMenu:()=>a.value=0,goToItem(m,y,u){let g=k(),b=ba(m===ge.Specific?{focus:ge.Specific,id:y}:{focus:m},{resolveItems:()=>g.items,resolveActiveIndex:()=>g.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.disabled});i.value="",d.value=b,v.value=u??1,l.value=g.items},search(m){let y=i.value!==""?0:1;i.value+=m.toLowerCase();let u=(d.value!==null?l.value.slice(d.value+y).concat(l.value.slice(0,d.value+y)):l.value).find(b=>b.dataRef.textValue.startsWith(i.value)&&!b.dataRef.disabled),g=u?l.value.indexOf(u):-1;g===-1||g===d.value||(d.value=g,v.value=1)},clearSearch(){i.value=""},registerItem(m,y){let u=k(g=>[...g,{id:m,dataRef:y}]);l.value=u.items,d.value=u.activeItemIndex,v.value=1},unregisterItem(m){let y=k(u=>{let g=u.findIndex(b=>b.id===m);return g!==-1&&u.splice(g,1),u});l.value=y.items,d.value=y.activeItemIndex,v.value=1}};return Qt([s,o],(m,y)=>{var u;w.closeMenu(),jn(y,Un.Loose)||(m.preventDefault(),(u=V(s))==null||u.focus())},I(()=>a.value===0)),We(bn,w),Yt(I(()=>Oe(a.value,{0:ie.Open,1:ie.Closed}))),()=>{let m={open:a.value===0,close:w.closeMenu};return Ie({ourProps:{},theirProps:e,slot:m,slots:t,attrs:n,name:"Menu"})}}}),Ya=H({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:a}){var s;let o=(s=e.id)!=null?s:`headlessui-menu-button-${qe()}`,l=ct("MenuButton");a({el:l.buttonRef,$el:l.buttonRef});function i(w){switch(w.key){case ee.Space:case ee.Enter:case ee.ArrowDown:w.preventDefault(),w.stopPropagation(),l.openMenu(),Be(()=>{var m;(m=V(l.itemsRef))==null||m.focus({preventScroll:!0}),l.goToItem(ge.First)});break;case ee.ArrowUp:w.preventDefault(),w.stopPropagation(),l.openMenu(),Be(()=>{var m;(m=V(l.itemsRef))==null||m.focus({preventScroll:!0}),l.goToItem(ge.Last)});break}}function d(w){switch(w.key){case ee.Space:w.preventDefault();break}}function v(w){e.disabled||(l.menuState.value===0?(l.closeMenu(),Be(()=>{var m;return(m=V(l.buttonRef))==null?void 0:m.focus({preventScroll:!0})})):(w.preventDefault(),l.openMenu(),Ga(()=>{var m;return(m=V(l.itemsRef))==null?void 0:m.focus({preventScroll:!0})})))}let k=Jt(I(()=>({as:e.as,type:t.type})),l.buttonRef);return()=>{var w;let m={open:l.menuState.value===0},{...y}=e,u={ref:l.buttonRef,id:o,type:k.value,"aria-haspopup":"menu","aria-controls":(w=V(l.itemsRef))==null?void 0:w.id,"aria-expanded":l.menuState.value===0,onKeydown:i,onKeyup:d,onClick:v};return Ie({ourProps:u,theirProps:y,slot:m,attrs:t,slots:n,name:"MenuButton"})}}}),Ja=H({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:a}){var s;let o=(s=e.id)!=null?s:`headlessui-menu-items-${qe()}`,l=ct("MenuItems"),i=S(null);a({el:l.itemsRef,$el:l.itemsRef}),va({container:I(()=>V(l.itemsRef)),enabled:I(()=>l.menuState.value===0),accept(m){return m.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:m.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(m){m.setAttribute("role","none")}});function d(m){var y;switch(i.value&&clearTimeout(i.value),m.key){case ee.Space:if(l.searchQuery.value!=="")return m.preventDefault(),m.stopPropagation(),l.search(m.key);case ee.Enter:if(m.preventDefault(),m.stopPropagation(),l.activeItemIndex.value!==null){let u=l.items.value[l.activeItemIndex.value];(y=V(u.dataRef.domRef))==null||y.click()}l.closeMenu(),Xt(V(l.buttonRef));break;case ee.ArrowDown:return m.preventDefault(),m.stopPropagation(),l.goToItem(ge.Next);case ee.ArrowUp:return m.preventDefault(),m.stopPropagation(),l.goToItem(ge.Previous);case ee.Home:case ee.PageUp:return m.preventDefault(),m.stopPropagation(),l.goToItem(ge.First);case ee.End:case ee.PageDown:return m.preventDefault(),m.stopPropagation(),l.goToItem(ge.Last);case ee.Escape:m.preventDefault(),m.stopPropagation(),l.closeMenu(),Be(()=>{var u;return(u=V(l.buttonRef))==null?void 0:u.focus({preventScroll:!0})});break;case ee.Tab:m.preventDefault(),m.stopPropagation(),l.closeMenu(),Be(()=>En(V(l.buttonRef),m.shiftKey?Ce.Previous:Ce.Next));break;default:m.key.length===1&&(l.search(m.key),i.value=setTimeout(()=>l.clearSearch(),350));break}}function v(m){switch(m.key){case ee.Space:m.preventDefault();break}}let k=_t(),w=I(()=>k!==null?(k.value&ie.Open)===ie.Open:l.menuState.value===0);return()=>{var m,y;let u={open:l.menuState.value===0},{...g}=e,b={"aria-activedescendant":l.activeItemIndex.value===null||(m=l.items.value[l.activeItemIndex.value])==null?void 0:m.id,"aria-labelledby":(y=V(l.buttonRef))==null?void 0:y.id,id:o,onKeydown:d,onKeyup:v,role:"menu",tabIndex:0,ref:l.itemsRef};return Ie({ourProps:b,theirProps:g,slot:u,attrs:t,slots:n,features:Je.RenderStrategy|Je.Static,visible:w.value,name:"MenuItems"})}}}),Xa=H({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:n,expose:a}){var s;let o=(s=e.id)!=null?s:`headlessui-menu-item-${qe()}`,l=ct("MenuItem"),i=S(null);a({el:i,$el:i});let d=I(()=>l.activeItemIndex.value!==null?l.items.value[l.activeItemIndex.value].id===o:!1),v=ga(i),k=I(()=>({disabled:e.disabled,get textValue(){return v()},domRef:i}));Z(()=>l.registerItem(o,k)),$e(()=>l.unregisterItem(o)),Ae(()=>{l.menuState.value===0&&d.value&&l.activationTrigger.value!==0&&Be(()=>{var p,c;return(c=(p=V(i))==null?void 0:p.scrollIntoView)==null?void 0:c.call(p,{block:"nearest"})})});function w(p){if(e.disabled)return p.preventDefault();l.closeMenu(),Xt(V(l.buttonRef))}function m(){if(e.disabled)return l.goToItem(ge.Nothing);l.goToItem(ge.Specific,o)}let y=ha();function u(p){y.update(p)}function g(p){y.wasMoved(p)&&(e.disabled||d.value||l.goToItem(ge.Specific,o,0))}function b(p){y.wasMoved(p)&&(e.disabled||d.value&&l.goToItem(ge.Nothing))}return()=>{let{disabled:p,...c}=e,f={active:d.value,disabled:p,close:l.closeMenu};return Ie({ourProps:{id:o,ref:i,role:"menuitem",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,onClick:w,onFocus:m,onPointerenter:u,onMouseenter:u,onPointermove:g,onMousemove:g,onPointerleave:b,onMouseleave:b},theirProps:{...n,...c},slot:f,attrs:n,slots:t,name:"MenuItem"})}}}),Za=Symbol("GroupContext"),el=H({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(e,{emit:t,attrs:n,slots:a,expose:s}){var o;let l=(o=e.id)!=null?o:`headlessui-switch-${qe()}`,i=je(Za,null),[d,v]=ya(I(()=>e.modelValue),c=>t("update:modelValue",c),I(()=>e.defaultChecked));function k(){v(!d.value)}let w=S(null),m=i===null?w:i.switchRef,y=Jt(I(()=>({as:e.as,type:n.type})),m);s({el:m,$el:m});function u(c){c.preventDefault(),k()}function g(c){c.key===ee.Space?(c.preventDefault(),k()):c.key===ee.Enter&&wa(c.currentTarget)}function b(c){c.preventDefault()}let p=I(()=>{var c,f;return(f=(c=V(m))==null?void 0:c.closest)==null?void 0:f.call(c,"form")});return Z(()=>{de([p],()=>{if(!p.value||e.defaultChecked===void 0)return;function c(){v(e.defaultChecked)}return p.value.addEventListener("reset",c),()=>{var f;(f=p.value)==null||f.removeEventListener("reset",c)}},{immediate:!0})}),()=>{let{name:c,value:f,form:F,tabIndex:$,...j}=e,L={checked:d.value},Q={id:l,ref:m,role:"switch",type:y.value,tabIndex:$===-1?0:$,"aria-checked":d.value,"aria-labelledby":i==null?void 0:i.labelledby.value,"aria-describedby":i==null?void 0:i.describedby.value,onClick:u,onKeyup:g,onKeypress:b};return ce(q,[c!=null&&d.value!=null?ce(wt,Ln({features:kt.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:d.value,form:F,disabled:j.disabled,name:c,value:f})):null,Ie({ourProps:Q,theirProps:{...n,...Zt(j,["modelValue","defaultChecked"])},slot:L,attrs:n,slots:a,name:"Switch"})])}}});function tl(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function ht(e,...t){e&&t.length>0&&e.classList.add(...t)}function nt(e,...t){e&&t.length>0&&e.classList.remove(...t)}var Ct=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(Ct||{});function nl(e,t){let n=ut();if(!e)return n.dispose;let{transitionDuration:a,transitionDelay:s}=getComputedStyle(e),[o,l]=[a,s].map(i=>{let[d=0]=i.split(",").filter(Boolean).map(v=>v.includes("ms")?parseFloat(v):parseFloat(v)*1e3).sort((v,k)=>k-v);return d});return o!==0?n.setTimeout(()=>t("finished"),o+l):t("finished"),n.add(()=>t("cancelled")),n.dispose}function Vt(e,t,n,a,s,o){let l=ut(),i=o!==void 0?tl(o):()=>{};return nt(e,...s),ht(e,...t,...n),l.nextFrame(()=>{nt(e,...n),ht(e,...a),l.add(nl(e,d=>(nt(e,...a,...t),ht(e,...s),i(d))))}),l.add(()=>nt(e,...t,...n,...a,...s)),l.add(()=>i("cancelled")),l.dispose}function Le(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Tt=Symbol("TransitionContext");var al=(e=>(e.Visible="visible",e.Hidden="hidden",e))(al||{});function ll(){return je(Tt,null)!==null}function ol(){let e=je(Tt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function sl(){let e=je(zt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let zt=Symbol("NestingContext");function mt(e){return"children"in e?mt(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function yn(e){let t=S([]),n=S(!1);Z(()=>n.value=!0),$e(()=>n.value=!1);function a(o,l=De.Hidden){let i=t.value.findIndex(({id:d})=>d===o);i!==-1&&(Oe(l,{[De.Unmount](){t.value.splice(i,1)},[De.Hidden](){t.value[i].state="hidden"}}),!mt(t)&&n.value&&(e==null||e()))}function s(o){let l=t.value.find(({id:i})=>i===o);return l?l.state!=="visible"&&(l.state="visible"):t.value.push({id:o,state:"visible"}),()=>a(o,De.Unmount)}return{children:t,register:s,unregister:a}}let wn=Je.RenderStrategy,kn=H({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:a,expose:s}){let o=S(0);function l(){o.value|=ie.Opening,t("beforeEnter")}function i(){o.value&=~ie.Opening,t("afterEnter")}function d(){o.value|=ie.Closing,t("beforeLeave")}function v(){o.value&=~ie.Closing,t("afterLeave")}if(!ll()&&Rn())return()=>ce($n,{...e,onBeforeEnter:l,onAfterEnter:i,onBeforeLeave:d,onAfterLeave:v},a);let k=S(null),w=I(()=>e.unmount?De.Unmount:De.Hidden);s({el:k,$el:k});let{show:m,appear:y}=ol(),{register:u,unregister:g}=sl(),b=S(m.value?"visible":"hidden"),p={value:!0},c=qe(),f={value:!1},F=yn(()=>{!f.value&&b.value!=="hidden"&&(b.value="hidden",g(c),v())});Z(()=>{let Y=u(c);$e(Y)}),Ae(()=>{if(w.value===De.Hidden&&c){if(m.value&&b.value!=="visible"){b.value="visible";return}Oe(b.value,{hidden:()=>g(c),visible:()=>u(c)})}});let $=Le(e.enter),j=Le(e.enterFrom),L=Le(e.enterTo),Q=Le(e.entered),X=Le(e.leave),M=Le(e.leaveFrom),x=Le(e.leaveTo);Z(()=>{Ae(()=>{if(b.value==="visible"){let Y=V(k);if(Y instanceof Comment&&Y.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function N(Y){let U=p.value&&!y.value,K=V(k);!K||!(K instanceof HTMLElement)||U||(f.value=!0,m.value&&l(),m.value||d(),Y(m.value?Vt(K,$,j,L,Q,J=>{f.value=!1,J===Ct.Finished&&i()}):Vt(K,X,M,x,Q,J=>{f.value=!1,J===Ct.Finished&&(mt(F)||(b.value="hidden",g(c),v()))})))}return Z(()=>{de([m],(Y,U,K)=>{N(K),p.value=!1},{immediate:!0})}),We(zt,F),Yt(I(()=>Oe(b.value,{visible:ie.Open,hidden:ie.Closed})|o.value)),()=>{let{appear:Y,show:U,enter:K,enterFrom:J,enterTo:ae,entered:Pe,leave:Fe,leaveFrom:Me,leaveTo:R,...W}=e,le={ref:k},oe={...W,...y.value&&m.value&&Dn.isServer?{class:O([n.class,W.class,...$,...j])}:{}};return Ie({theirProps:oe,ourProps:le,slot:{},slots:a,attrs:n,features:wn,visible:b.value==="visible",name:"TransitionChild"})}}}),rl=kn,$n=H({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:a}){let s=_t(),o=I(()=>e.show===null&&s!==null?(s.value&ie.Open)===ie.Open:e.show);Ae(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=S(o.value?"visible":"hidden"),i=yn(()=>{l.value="hidden"}),d=S(!0),v={show:o,appear:I(()=>e.appear||!d.value)};return Z(()=>{Ae(()=>{d.value=!1,o.value?l.value="visible":mt(i)||(l.value="hidden")})}),We(zt,i),We(Tt,v),()=>{let k=Zt(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),w={unmount:e.unmount};return Ie({ourProps:{...w,as:"template"},theirProps:{},slot:{},slots:{...a,default:()=>[ce(rl,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...w,...k},a.default)]},attrs:{},features:wn,visible:l.value==="visible",name:"Transition"})}}});const bt=Ue(G.ui.strategy,G.ui.dropdown,Vn),il=H({components:{HMenu:Qa,HMenuButton:Ya,HMenuItems:Ja,HMenuItem:Xa,UIcon:me,UAvatar:ot,UKbd:on},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>bt.default.openDelay},closeDelay:{type:Number,default:()=>bt.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:t}){const{ui:n,attrs:a}=Ee("dropdown",fe(e,"ui"),bt,fe(e,"class")),s=I(()=>st(e.mode==="hover"?{offsetDistance:0}:{},e.popper,n.value.popper)),[o,l]=Hn(s.value),i=S(null);let d=null,v=null;Z(()=>{var c,f;const b=(c=o.value)==null?void 0:c.$.provides;if(!b)return;const p=Object.getOwnPropertySymbols(b);i.value=p.length&&b[p[0]],e.open&&((f=i.value)==null||f.openMenu())});const k=I(()=>{var f,F,$;if(e.mode!=="hover")return{};const b=((f=e.popper)==null?void 0:f.offsetDistance)||((F=n.value.popper)==null?void 0:F.offsetDistance)||8,p=($=s.value.placement)==null?void 0:$.split("-")[0],c=`${b}px`;return p==="top"||p==="bottom"?{paddingTop:c,paddingBottom:c}:p==="left"||p==="right"?{paddingLeft:c,paddingRight:c}:{paddingTop:c,paddingBottom:c,paddingLeft:c,paddingRight:c}});function w(b){!b.cancelable||!i.value||(i.value.menuState===0?i.value.closeMenu():i.value.openMenu())}function m(){e.mode!=="hover"||!i.value||(v&&(clearTimeout(v),v=null),i.value.menuState!==0&&(d=d||setTimeout(()=>{i.value.openMenu&&i.value.openMenu(),d=null},e.openDelay)))}function y(){e.mode!=="hover"||!i.value||(d&&(clearTimeout(d),d=null),i.value.menuState!==1&&(v=v||setTimeout(()=>{i.value.closeMenu&&i.value.closeMenu(),v=null},e.closeDelay)))}function u(b,p,{href:c,navigate:f,close:F,isExternal:$}){p.click&&p.click(b),c&&!$&&(f(b),F())}de(()=>e.open,(b,p)=>{i.value&&(p===void 0||b===p||(b?i.value.openMenu():i.value.closeMenu()))}),de(()=>{var b;return(b=i.value)==null?void 0:b.menuState},(b,p)=>{p===void 0||b===p||t("update:open",b===0)});const g=tn;return xt(()=>Pt("$ctlRmIk4j0")),{ui:n,attrs:a,popper:s,trigger:o,container:l,containerStyle:k,onTouchStart:w,onMouseEnter:m,onMouseLeave:y,onClick:u,getNuxtLinkProps:Wn,twMerge:_e,twJoin:ne,NuxtLink:g}}}),ul=["disabled"];function dl(e,t,n,a,s,o){const l=we("HMenuButton"),i=me,d=ot,v=on,k=we("HMenuItem"),w=tn,m=we("HMenuItems"),y=we("HMenu");return h(),z(y,te({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:B(({open:u})=>[_(l,{ref:"trigger",as:"div",disabled:e.disabled,class:O(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:B(()=>[ue(e.$slots,"default",{open:u,disabled:e.disabled},()=>[C("button",{disabled:e.disabled}," Open ",8,ul)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),u&&e.items.length?(h(),P("div",{key:0,ref:"container",class:O([e.ui.container,e.ui.width]),style:en(e.containerStyle),onMouseenter:t[0]||(t[0]=(...g)=>e.onMouseEnter&&e.onMouseEnter(...g))},[_(qn,te({appear:""},e.ui.transition),{default:B(()=>[C("div",null,[e.popper.arrow?(h(),P("div",{key:0,"data-popper-arrow":"",class:O(Object.values(e.ui.arrow))},null,2)):T("",!0),_(m,{class:O([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:B(()=>[(h(!0),P(q,null,re(e.items,(g,b)=>(h(),P("div",{key:b,class:O(e.ui.padding)},[(h(!0),P(q,null,re(g,(p,c)=>(h(),z(w,te({key:c,ref_for:!0},e.getNuxtLinkProps(p),{custom:""}),{default:B(({href:f,target:F,rel:$,navigate:j,isExternal:L,isActive:Q})=>[_(k,{disabled:p.disabled},{default:B(({active:X,disabled:M,close:x})=>[(h(),z(Kn(f?"a":"button"),{href:M?void 0:f,rel:$,target:F,class:O(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,X||Q?e.ui.item.active:e.ui.item.inactive,M&&e.ui.item.disabled),p.class)),onClick:N=>e.onClick(N,p,{href:f,navigate:j,close:x,isExternal:L})},{default:B(()=>[ue(e.$slots,p.slot||"item",{item:p},()=>{var N;return[p.icon?(h(),z(i,{key:0,name:p.icon,class:O(e.twMerge(e.twJoin(e.ui.item.icon.base,X||Q?e.ui.item.icon.active:e.ui.item.icon.inactive),p.iconClass))},null,8,["name","class"])):p.avatar?(h(),z(d,te({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...p.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):T("",!0),C("span",{class:O(e.twMerge(e.ui.item.label,p.labelClass))},D(p.label),3),(N=p.shortcuts)!=null&&N.length?(h(),P("span",{key:2,class:O(e.ui.item.shortcuts)},[(h(!0),P(q,null,re(p.shortcuts,Y=>(h(),z(v,{key:Y},{default:B(()=>[E(D(Y),1)]),_:2},1024))),128))],2)):T("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):T("",!0)]),_:3},16,["class","onMouseleave"])}const ft=xe(il,[["render",dl]]),Te=Ue(G.ui.strategy,G.ui.textarea,Gn),cl=H({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(Te.size).includes(e)}},color:{type:String,default:()=>Te.default.color,validator(e){return[...G.ui.colors,...Object.keys(Te.color)].includes(e)}},variant:{type:String,default:()=>Te.default.variant,validator(e){return[...Object.keys(Te.variant),...Object.values(Te.color).flatMap(t=>Object.keys(t))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t}){const{ui:n,attrs:a}=Ee("textarea",fe(e,"ui"),Te,fe(e,"class")),{emitFormBlur:s,emitFormInput:o,inputId:l,color:i,size:d,name:v}=dt(e,Te),k=S(st({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),w=S(null),m=()=>{var f;e.autofocus&&((f=w.value)==null||f.focus())},y=()=>{if(e.autoresize){if(!w.value)return;w.value.rows=e.rows;const f=window.getComputedStyle(w.value),F=parseInt(f.paddingTop),$=parseInt(f.paddingBottom),j=F+$,L=parseInt(f.lineHeight),{scrollHeight:Q}=w.value,X=(Q-j)/L;X>e.rows&&(w.value.rows=e.maxrows?Math.min(X,e.maxrows):X)}},u=f=>{k.value.trim&&(f=f.trim()),k.value.number&&(f=Qn(f)),t("update:modelValue",f),o()},g=f=>{y(),k.value.lazy||u(f.target.value)},b=f=>{const F=f.target.value;t("change",F),k.value.lazy&&u(F),k.value.trim&&(f.target.value=F.trim())},p=f=>{t("blur",f),s()};Z(()=>{setTimeout(()=>{m()},e.autofocusDelay)}),de(()=>e.modelValue,()=>{Be(y)}),Z(()=>{setTimeout(()=>{m(),y()},100)});const c=I(()=>{var F,$;const f=(($=(F=n.value.color)==null?void 0:F[i.value])==null?void 0:$[e.variant])||n.value.variant[e.variant];return _e(ne(n.value.base,n.value.form,n.value.rounded,n.value.placeholder,n.value.size[d.value],e.padded?n.value.padding[d.value]:"p-0",f==null?void 0:f.replaceAll("{color}",i.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:n,attrs:a,name:v,inputId:l,textarea:w,textareaClass:c,onInput:g,onChange:b,onBlur:p}}}),ml=["id","value","name","rows","required","disabled","placeholder"];function fl(e,t,n,a,s,o){return h(),P("div",{class:O(e.ui.wrapper)},[C("textarea",te({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:t[0]||(t[0]=(...l)=>e.onInput&&e.onInput(...l)),onBlur:t[1]||(t[1]=(...l)=>e.onBlur&&e.onBlur(...l)),onChange:t[2]||(t[2]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,ml),ue(e.$slots,"default")],2)}const pl=xe(cl,[["render",fl]]);async function vl(e,t){return await gl(t).catch(a=>(console.error("Failed to get image meta for "+t,a+""),{width:0,height:0,ratio:0}))}async function gl(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,n)=>{const a=new Image;a.onload=()=>{const s={width:a.width,height:a.height,ratio:a.width/a.height};t(s)},a.onerror=s=>n(s),a.src=e})}function Ht(e){return t=>t?e[t]||t:e.missingValue}function hl({formatter:e,keyMap:t,joinWith:n="/",valueMap:a}={}){e||(e=(o,l)=>`${o}=${l}`),t&&typeof t!="function"&&(t=Ht(t));const s=a||{};return Object.keys(s).forEach(o=>{typeof s[o]!="function"&&(s[o]=Ht(s[o]))}),(o={})=>Object.entries(o).filter(([i,d])=>typeof d<"u").map(([i,d])=>{const v=s[i];return typeof v=="function"&&(d=v(o[i])),i=typeof t=="function"?t(i):i,e(i,d)}).join(n)}function ke(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function bl(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const n of e.split(" ")){const a=Number.parseInt(n.replace("x",""));a&&t.add(a)}return Array.from(t)}function yl(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function wl(e){const t={};if(typeof e=="string")for(const n of e.split(/[\s,]+/).filter(a=>a)){const a=n.split(":");a.length!==2?t["1px"]=a[0].trim():t[a[0].trim()]=a[1].trim()}else Object.assign(t,e);return t}function kl(e){const t={options:e},n=(s,o={})=>In(t,s,o),a=(s,o={},l={})=>n(s,{...l,modifiers:st(o,l.modifiers||{})}).url;for(const s in e.presets)a[s]=(o,l,i)=>a(o,l,{...e.presets[s],...i});return a.options=e,a.getImage=n,a.getMeta=(s,o)=>$l(t,s,o),a.getSizes=(s,o)=>Cl(t,s,o),t.$img=a,a}async function $l(e,t,n){const a=In(e,t,{...n});return typeof a.getMeta=="function"?await a.getMeta():await vl(e,a.url)}function In(e,t,n){var v,k;if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{provider:a,defaults:s}=Il(e,n.provider||e.options.provider),o=Sl(e,n.preset);if(t=jt(t)?t:Yn(t),!a.supportsAlias)for(const w in e.options.alias)t.startsWith(w)&&(t=$t(e.options.alias[w],t.substr(w.length)));if(a.validateDomains&&jt(t)){const w=Jn(t).host;if(!e.options.domains.find(m=>m===w))return{url:t}}const l=st(n,o,s);l.modifiers={...l.modifiers};const i=l.modifiers.format;(v=l.modifiers)!=null&&v.width&&(l.modifiers.width=ke(l.modifiers.width)),(k=l.modifiers)!=null&&k.height&&(l.modifiers.height=ke(l.modifiers.height));const d=a.getImage(t,l,e);return d.format=d.format||i||"",d}function Il(e,t){const n=e.options.providers[t];if(!n)throw new Error("Unknown provider: "+t);return n}function Sl(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function Cl(e,t,n){var u,g,b,p,c;const a=ke((u=n.modifiers)==null?void 0:u.width),s=ke((g=n.modifiers)==null?void 0:g.height),o=wl(n.sizes),l=(b=n.densities)!=null&&b.trim()?bl(n.densities.trim()):e.options.densities;yl(l);const i=a&&s?s/a:0,d=[],v=[];if(Object.keys(o).length>=1){for(const f in o){const F=Wt(f,String(o[f]),s,i,e);if(F!==void 0){d.push({size:F.size,screenMaxWidth:F.screenMaxWidth,media:`(max-width: ${F.screenMaxWidth}px)`});for(const $ of l)v.push({width:F._cWidth*$,src:qt(e,t,n,F,$)})}}_l(d)}else for(const f of l){const F=Object.keys(o)[0];let $=Wt(F,String(o[F]),s,i,e);$===void 0&&($={size:"",screenMaxWidth:0,_cWidth:(p=n.modifiers)==null?void 0:p.width,_cHeight:(c=n.modifiers)==null?void 0:c.height}),v.push({width:f,src:qt(e,t,n,$,f)})}xl(v);const k=v[v.length-1],w=d.length?d.map(f=>`${f.media?f.media+" ":""}${f.size}`).join(", "):void 0,m=w?"w":"x",y=v.map(f=>`${f.src} ${f.width}${m}`).join(", ");return{sizes:w,srcset:y,src:k==null?void 0:k.src}}function Wt(e,t,n,a,s){const o=s.options.screens&&s.options.screens[e]||Number.parseInt(e),l=t.endsWith("vw");if(!l&&/^\d+$/.test(t)&&(t=t+"px"),!l&&!t.endsWith("px"))return;let i=Number.parseInt(t);if(!o||!i)return;l&&(i=Math.round(i/100*o));const d=a?Math.round(i*a):n;return{size:t,screenMaxWidth:o,_cWidth:i,_cHeight:d}}function qt(e,t,n,a,s){return e.$img(t,{...n.modifiers,width:a._cWidth?a._cWidth*s:void 0,height:a._cHeight?a._cHeight*s:void 0},n)}function _l(e){var n;e.sort((a,s)=>a.screenMaxWidth-s.screenMaxWidth);let t=null;for(let a=e.length-1;a>=0;a--){const s=e[a];s.media===t&&e.splice(a,1),t=s.media}for(let a=0;a<e.length;a++)e[a].media=((n=e[a+1])==null?void 0:n.media)||""}function xl(e){e.sort((n,a)=>n.width-a.width);let t=null;for(let n=e.length-1;n>=0;n--){const a=e[n];a.width===t&&e.splice(n,1),t=a.width}}const Pl=hl({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>Ut(e)+"_"+Ut(t)}),Fl=(e,{modifiers:t={},baseURL:n}={},a)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const s=Pl(t)||"_";return n||(n=$t(a.options.nuxt.baseURL,"/_ipx")),{url:$t(n,s,Xn(e))}},Ml=!0,Tl=!0,zl=Object.freeze(Object.defineProperty({__proto__:null,getImage:Fl,supportsAlias:Tl,validateDomains:Ml},Symbol.toStringTag,{value:"Module"})),Sn={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};Sn.providers={ipxStatic:{provider:zl,defaults:{}}};const Bt=()=>{const e=Zn(),t=nn();return t.$img||t._img||(t._img=kl({...Sn,nuxt:{baseURL:e.app.baseURL}}))};function Bl(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const Al={src:{type:String,default:void 0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:[Boolean,Object],default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},Ol=e=>{const t=I(()=>({provider:e.provider,preset:e.preset})),n=I(()=>({width:ke(e.width),height:ke(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),a=Bt(),s=I(()=>({...e.modifiers,width:ke(e.width),height:ke(e.height),format:e.format,quality:e.quality||a.options.quality,background:e.background,fit:e.fit}));return{options:t,attrs:n,modifiers:s}},jl={...Al,placeholder:{type:[Boolean,String,Number,Array],default:void 0},placeholderClass:{type:String,default:void 0}},Xe=H({name:"NuxtImg",props:jl,emits:["load","error"],setup:(e,t)=>{const n=Bt(),a=Ol(e),s=S(!1),o=S(),l=I(()=>n.getSizes(e.src,{...a.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...a.modifiers.value,width:ke(e.width),height:ke(e.height)}})),i=I(()=>{const y={...a.attrs.value,"data-nuxt-img":""};return(!e.placeholder||s.value)&&(y.sizes=l.value.sizes,y.srcset=l.value.srcset),y}),d=I(()=>{let y=e.placeholder;if(y===""&&(y=!0),!y||s.value)return!1;if(typeof y=="string")return y;const u=Array.isArray(y)?y:typeof y=="number"?[y,y]:[10,10];return n(e.src,{...a.modifiers.value,width:u[0],height:u[1],quality:u[2]||50,blur:u[3]||3},a.options.value)}),v=I(()=>e.sizes?l.value.src:n(e.src,a.modifiers.value,a.options.value)),k=I(()=>d.value?d.value:v.value);if(e.preload){const y=Object.values(l.value).every(u=>u);ea({link:[{rel:"preload",as:"image",nonce:e.nonce,...y?{href:l.value.src,imagesizes:l.value.sizes,imagesrcset:l.value.srcset}:{href:k.value},...typeof e.preload!="boolean"&&e.preload.fetchPriority?{fetchpriority:e.preload.fetchPriority}:{}}]})}const m=nn().isHydrating;return Z(()=>{if(d.value){const y=new Image;y.src=v.value,e.sizes&&(y.sizes=l.value.sizes||"",y.srcset=l.value.srcset),y.onload=u=>{s.value=!0,t.emit("load",u)},Bl("nuxt-image");return}o.value&&(o.value.complete&&m&&(o.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),o.value.onload=y=>{t.emit("load",y)},o.value.onerror=y=>{t.emit("error",y)})}),()=>ce("img",{ref:o,...i.value,...t.attrs,class:e.placeholder&&!s.value?[e.placeholderClass]:void 0,src:k.value})}}),Ul=Ue(G.ui.strategy,G.ui.modal,xa),El=H({components:{HDialog:Ha,HDialogPanel:Wa,TransitionRoot:$n,TransitionChild:kn},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:t}){const{ui:n,attrs:a}=Ee("modal",fe(e,"ui"),Ul,fe(e,"class")),s=I({get(){return e.modelValue},set(d){t("update:modelValue",d)}}),o=I(()=>e.transition?{...n.value.transition}:{});function l(d){if(e.preventClose){t("close-prevented");return}s.value=d,t("close")}const i=()=>{t("after-leave")};return xt(()=>Pt("$HAJMhYDoe7")),{ui:n,attrs:a,isOpen:s,transitionClass:o,onAfterLeave:i,close:l}}});function Nl(e,t,n,a,s,o){const l=we("TransitionChild"),i=we("HDialogPanel"),d=we("HDialog"),v=we("TransitionRoot");return h(),z(v,{appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},{default:B(()=>[_(d,te({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:B(()=>[e.overlay?(h(),z(l,te({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:B(()=>[C("div",{class:O([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):T("",!0),C("div",{class:O(e.ui.inner)},[C("div",{class:O([e.ui.container,!e.fullscreen&&e.ui.padding])},[_(l,te({as:"template",appear:e.appear},e.transitionClass),{default:B(()=>[_(i,{class:O([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:B(()=>[ue(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const Ze=xe(El,[["render",Nl]]),at=Ue(G.ui.strategy,G.ui.range,_a),Ll=H({inheritAttrs:!1,props:{modelValue:{type:Number,default:0},id:{type:String,default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},size:{type:String,default:null,validator(e){return Object.keys(at.size).includes(e)}},color:{type:String,default:()=>at.default.color,validator(e){return G.ui.colors.includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:n,attrs:a}=Ee("range",fe(e,"ui"),at),{emitFormChange:s,inputId:o,color:l,size:i,name:d}=dt(e,at),v=I({get(){return e.modelValue},set(p){t("update:modelValue",p)}}),k=p=>{t("change",p.target.value),s()},w=I(()=>_e(ne(n.value.wrapper,n.value.size[i.value]),e.class)),m=I(()=>_e(ne(n.value.base,n.value.background,n.value.rounded,l.value&&n.value.ring.replaceAll("{color}",l.value),n.value.size[i.value]),e.inputClass)),y=I(()=>ne(n.value.thumb.base,l.value&&n.value.thumb.color.replaceAll("{color}",l.value),n.value.thumb.ring,n.value.thumb.background,n.value.thumb.size[i.value])),u=I(()=>ne(n.value.track.base,n.value.track.background,n.value.track.rounded,n.value.track.size[i.value])),g=I(()=>ne(n.value.progress.base,n.value.progress.rounded,l.value&&n.value.progress.background.replaceAll("{color}",l.value),n.value.progress.size[i.value])),b=I(()=>{const{modelValue:p,min:c,max:f}=e;return{width:`${(Math.max(c,Math.min(p,f))-c)/(f-c)*100}%`}});return{ui:n,attrs:a,name:d,inputId:o,value:v,wrapperClass:w,inputClass:m,thumbClass:y,trackClass:u,progressClass:g,progressStyle:b,onChange:k}}}),Rl=["id","name","min","max","disabled","step"];function Dl(e,t,n,a,s,o){return h(),P("div",{class:O(e.wrapperClass)},[rt(C("input",te({id:e.inputId,ref:"input","onUpdate:modelValue":t[0]||(t[0]=l=>e.value=l),name:e.name,min:e.min,max:e.max,disabled:e.disabled,step:e.step,type:"range",class:[e.inputClass,e.thumbClass,e.trackClass]},e.attrs,{onChange:t[1]||(t[1]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,Rl),[[ta,e.value,void 0,{number:!0}]]),C("span",{class:O(e.progressClass),style:en(e.progressStyle)},null,6)],2)}const Vl=xe(Ll,[["render",Dl]]),Hl="0.05";function Wl(e,t){const n=parseFloat(e);if(isNaN(n))return e;const a=n+t;return a<0?"0":String(Number(a.toFixed(10)))}function ql(e,t){let n=t,a=t,s=0,o=0;for(;n>=0&&(n--,!(e[n]==="("&&s===o));)e[n]==="("&&s++,e[n]===")"&&o++;if(n<0)return!1;for(s=0,o=0;a<e.length&&!(e[a]===")"&&s===o);)e[a]==="("&&s++,e[a]===")"&&o++,a++;return a===e.length?!1:{start:n+1,end:a}}function Kl(e){const t=/^\((.*)\)$/,n=e.match(t),a=/:([+-]?(\d*\.)?\d+([eE][+-]?\d+)?)/,s=e.match(a);return n&&!s?`(${n[1]}:1.0)`:e}function Gl(e){const t=e.composedPath()[0],n=parseFloat(Hl);if(t.tagName!=="TEXTAREA"||!(e.key==="ArrowUp"||e.key==="ArrowDown")||!e.ctrlKey&&!e.metaKey)return;e.preventDefault();let a=t.selectionStart,s=t.selectionEnd,o=t.value.substring(a,s);if(!o){const d=ql(t.value,a);if(d)a=d.start,s=d.end,o=t.value.substring(a,s);else{const v=" .,\\/!?%^*;:{}=-_`~()\r\n	";for(;!v.includes(t.value[a-1])&&a>0;)a--;for(;!v.includes(t.value[s])&&s<t.value.length;)s++;if(o=t.value.substring(a,s),!o)return}}o[o.length-1]===" "&&(o=o.substring(0,o.length-1),s-=1),t.value[a-1]==="("&&t.value[s]===")"&&(a-=1,s+=1,o=t.value.substring(a,s)),(o[0]!=="("||o[o.length-1]!==")")&&(o=`(${o})`),o=Kl(o);const l=e.key==="ArrowUp"?n:-n,i=o.replace(/\((.*):(\d+(?:\.\d+)?)\)/,(d,v,k)=>(k=Wl(k,l),Number(k)==1?v:`(${v}:${k})`));return t.setRangeText(i,a,s,"select"),t.value}const Ql={key:0,class:"text-red-300"},Yl={key:0,class:"flex items-center"},Jl={key:2,class:"flex flex-row flex-grow items-center justify-between"},Xl=H({__name:"InputParam",props:{inputParam:{type:Object,required:!0},index:{type:Number,required:!0},inputParamsMap:{type:Array,required:!0},advanced:{type:Boolean,default:!1}},setup(e){const t=e;function n(u){return u?URL.createObjectURL(u):""}const a=S(null),s=S(""),o=S(!1),l=S({width:0,height:0});function i(){try{const u=t.inputParamsMap[t.index][t.inputParam.name].source_input_name,g=t.inputParamsMap.find(b=>{const p=Object.keys(b)[0];if(p===u)return b[p]});k(g[u].value)}catch{l.value.width=0,l.value.height=0}}Z(()=>{t.inputParam.type==="range_scale"&&i()}),t.inputParam.type==="range_scale"&&de(t.inputParamsMap,()=>{i()});function d(){URL.revokeObjectURL(s.value),s.value="",a&&(a.value.$refs.input.value=""),t.inputParamsMap[t.index][t.inputParam.name].value=null}const v=I(()=>t.inputParam.type!=="bool"?t.inputParam.display_name:"");function k(u){if(!(u instanceof File)){l.value.width=0,l.value.height=0;return}const g=URL.createObjectURL(u),b=new Image;b.onload=function(){l.value.width=b.naturalWidth,l.value.height=b.naturalHeight,URL.revokeObjectURL(b.src)},b.src=g}const w=I(()=>{if(t.inputParam.type==="range_scale"){const u=t.inputParamsMap[t.index][t.inputParam.name].value;return`value: ${u}x (${l.value.width}x${l.value.height} -> ${(l.value.width*u).toFixed(0)}x${(l.value.height*u).toFixed(0)})`}return["range","range_scale"].includes(t.inputParam.type)?`value: ${t.inputParamsMap[t.index][t.inputParam.name].value}`:""});Et(()=>{URL.revokeObjectURL(s.value)});const m=S(null);function y(u){const g=Gl(u);g&&(t.inputParamsMap[t.index][t.inputParam.name].value=g)}return Z(()=>{t.inputParam.type==="text"&&m.value&&m.value.$refs.textarea.addEventListener("keydown",y)}),Et(()=>{t.inputParam.type==="text"&&m.value&&m.value.$refs.textarea.removeEventListener("keydown",y)}),(u,g)=>{var X;const b=pl,p=Mt,c=pe,f=Xe,F=Ze,$=dn,j=cn,L=Vl,Q=mn;return(((X=e.inputParam)==null?void 0:X.advanced)||!1)===e.advanced?(h(),z(Q,{key:0,label:r(v),class:"mb-3",help:r(w)},{hint:B(()=>[e.inputParam.optional?T("",!0):(h(),P("span",Ql,"required"))]),default:B(()=>{var M;return[e.inputParam.type==="text"?(h(),z(b,{key:0,ref_key:"textareaInput",ref:m,size:"md",placeholder:e.inputParam.display_name,required:!e.inputParam.optional,resize:!0,label:e.inputParam.display_name,value:e.inputParamsMap[e.index][e.inputParam.name].value,variant:"outline",onInput:g[0]||(g[0]=x=>{const N=x.target;e.inputParamsMap[e.index][e.inputParam.name].value=N.value})},null,8,["placeholder","required","label","value"])):T("",!0),e.inputParam.type==="number"?(h(),P(q,{key:1},[e.inputParam.name==="seed"?(h(),P("div",Yl,[e.inputParam.type==="number"?(h(),z(p,{key:0,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:g[1]||(g[1]=x=>{const N=x.target;e.inputParamsMap[e.index][e.inputParam.name].value=N.value})},null,8,["label","required","value","max","min"])):T("",!0),_(c,{icon:"i-heroicons-arrow-path",color:"violet",variant:"outline",size:"xs",class:"ml-2",onClick:g[2]||(g[2]=()=>{e.inputParamsMap[e.index][e.inputParam.name].value=Math.floor(Math.random()*1e7)})})])):(h(),z(p,{key:1,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:g[3]||(g[3]=x=>{const N=x.target;e.inputParamsMap[e.index][e.inputParam.name].value=N.value})},null,8,["label","required","value","max","min"]))],64)):T("",!0),e.inputParam.type==="image"?(h(),P("div",Jl,[_(p,{ref_key:"imageInput",ref:a,type:"file",accept:"image/*",class:"w-full",label:e.inputParam.display_name,onChange:g[4]||(g[4]=x=>{console.debug("files",x);const N=x==null?void 0:x[0];e.inputParamsMap[e.index][e.inputParam.name].value=N,s.value=n(N),console.debug("inputParamsMap",e.inputParamsMap)})},null,8,["label"]),r(s)!==""?(h(),z(f,{key:0,src:r(s),class:"w-10 h-10 rounded-lg cursor-pointer ml-2",onClick:g[5]||(g[5]=()=>{o.value=!0})},null,8,["src"])):T("",!0),r(s)!==""?(h(),z(c,{key:1,icon:"i-heroicons-x-mark",variant:"outline",class:"ml-2",onClick:d})):T("",!0)])):T("",!0),e.inputParam.type==="image"?(h(),z(F,{key:3,modelValue:r(o),"onUpdate:modelValue":g[8]||(g[8]=x=>he(o)?o.value=x:null),class:"z-[90]",transition:!1,fullscreen:""},{default:B(()=>[_(c,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:g[6]||(g[6]=()=>o.value=!1)}),C("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:g[7]||(g[7]=Ge(()=>o.value=!1,["left"]))},[r(s)?(h(),z(f,{key:0,class:"lg:h-full",fit:"inside",src:r(s)},null,8,["src"])):T("",!0)])]),_:1},8,["modelValue"])):T("",!0),e.inputParam.type==="list"?(h(),z($,{key:4,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":g[9]||(g[9]=x=>e.inputParamsMap[e.index][e.inputParam.name].value=x),placeholder:e.inputParam.display_name,options:Object.keys(e.inputParam.options)},null,8,["modelValue","placeholder","options"])):T("",!0),e.inputParam.type==="bool"?(h(),z(j,{key:5,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":g[10]||(g[10]=x=>e.inputParamsMap[e.index][e.inputParam.name].value=x),label:(M=e.inputParam)==null?void 0:M.display_name},null,8,["modelValue","label"])):T("",!0),["range","range_scale"].includes(e.inputParam.type)?(h(),z(L,{key:6,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":g[11]||(g[11]=x=>e.inputParamsMap[e.index][e.inputParam.name].value=x),label:e.inputParam.display_name,size:"sm",min:e.inputParam.min,max:e.inputParam.max,step:e.inputParam.step},null,8,["modelValue","label","min","max","step"])):T("",!0)]}),_:1},8,["label","help"])):T("",!0)}}}),Zl={key:0,class:"heading"},eo={key:1},to=H({__name:"InputParams",props:{inputParamsMap:{type:Array,required:!0},additionalInputParamsMap:{type:Array,required:!1,default:[]},advanced:{type:Boolean,default:!1}},setup(e){const t=e,n=Ne(),a=S(!t.advanced);return(s,o)=>{const l=me,i=Xl;return h(),P(q,null,[e.advanced?(h(),P("div",Zl,[C("h4",{class:"text-md font-bold cursor-pointer select-none flex items-center mb-3",onClick:o[0]||(o[0]=()=>{a.value=!r(a)})},[_(l,{name:r(a)?"i-heroicons-chevron-up":"i-heroicons-chevron-down",class:"mr-2"},null,8,["name"]),E(" Advanced options ")])])):T("",!0),r(a)?(h(),P("div",eo,[(h(!0),P(q,null,re(r(n).currentFlow.input_params,(d,v)=>(h(),z(i,{key:v,"input-params-map":e.inputParamsMap,index:v,"input-param":d,advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128)),(h(!0),P(q,null,re(e.additionalInputParamsMap,(d,v)=>(h(),z(i,{key:Object.keys(d)[0],"input-params-map":e.additionalInputParamsMap,index:v,"input-param":d[Object.keys(d)[0]],advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128))])):T("",!0)],64)}}}),no={key:0,id:"prompt",class:"w-full my-10 lg:my-0 p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg"},ao={class:"flex justify-end px-2"},lo=H({__name:"Prompt",setup(e,{expose:t}){var k,w,m,y;const n=Ne();let a=localStorage.getItem(`input_params_map_${(k=n.currentFlow)==null?void 0:k.name}`);if(a){const u=JSON.parse(a);"flow_version"in u&&u.flow_version.split(".")[0]===((w=n.currentFlow)==null?void 0:w.version.split(".")[0])?a=u:(a=null,localStorage.removeItem(`input_params_map_${(m=n.currentFlow)==null?void 0:m.name}`))}const s=S(((y=n.currentFlow)==null?void 0:y.input_params.map(u=>{var g;if(u.type==="text")return{[u.name]:{value:a!==null?a[u.name]:u.default||"",type:u.type,optional:u.optional,advanced:u.advanced||!1}};if(u.type==="number")return{[u.name]:{value:a!==null?a[u.name]:u.default||0,type:u.type,optional:u.optional,advanced:u.advanced||!1}};if(u.type==="image")return{[u.name]:{value:a!==null?a[u.name]:u.default||{},type:u.type,optional:u.optional,advanced:u.advanced||!1}};if(u.type==="list")return{[u.name]:{value:a!==null?a[u.name]:u.default||Object.keys(u.options)[0]||"",type:u.type,optional:u.optional,options:u.options,advanced:u.advanced||!1}};if(u.type==="bool")return{[u.name]:{value:a!==null?a[u.name]:u.default||!1,type:u.type,optional:u.optional,advanced:u.advanced||!1}};if(["range","range_scale"].includes(u.type)){const b={value:a!==null?a[u.name]:u.default||0,type:u.type,optional:u.optional,advanced:u.advanced||!1,min:u.min||0,max:u.max||100,step:u.step||1};if(u.type==="range_scale"&&(b.source_input_name=u.source_input_name||null,b.source_input_name===null||b.source_input_name==="")){const p=(g=n.currentFlow)==null?void 0:g.input_params.find(c=>c.type==="image"&&!c.optional);p&&(b.source_input_name=p.name)}return{[u.name]:b}}}))||[]),o=S(n.currentFlow.is_seed_supported?[{seed:{name:"seed",display_name:"Random seed",value:Math.floor(Math.random()*1e7),type:"number",optional:!0,advanced:!0,min:0,max:1e7}}]:[]);function l(u){console.debug("Copy prompt inputs",u),Object.keys(u).forEach(b=>{const p=s.value.findIndex(c=>Object.keys(c)[0]===b);p!==-1&&(s.value[p][b].value=u[b].value)});const g=document.getElementById("prompt");g&&g.scrollIntoView({behavior:"smooth"})}t({copyPromptInputs:l}),s.value.forEach(u=>{const g=Object.keys(u)[0];u[g].type!=="image"&&de(()=>u[g].value,()=>{var p,c;const b={};s.value.forEach(f=>{const F=Object.keys(f)[0];b[F]=f[F].value}),localStorage.setItem(`input_params_map_${(p=n.currentFlow)==null?void 0:p.name}`,JSON.stringify({...b,flow_version:(c=n.currentFlow)==null?void 0:c.version}))})});const i=S(!1),d=S(1),v=S(!1);return(u,g)=>{const b=me,p=to,c=Mt,f=mn,F=pe;return r(n).currentFlow?(h(),P("div",no,[C("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:g[0]||(g[0]=()=>{v.value=!r(v)})},[_(b,{name:r(v)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),E(" Prompt ")]),rt(C("div",null,[_(p,{"input-params-map":r(s),"additional-input-params-map":r(o),advanced:!1},null,8,["input-params-map","additional-input-params-map"]),r(o).length>0?(h(),z(p,{key:0,"input-params-map":r(s),"additional-input-params-map":r(o),advanced:!0},null,8,["input-params-map","additional-input-params-map"])):T("",!0),r(n).currentFlow.is_count_supported?(h(),z(f,{key:1,label:"Number of images"},{default:B(()=>[_(c,{modelValue:r(d),"onUpdate:modelValue":g[1]||(g[1]=$=>he(d)?d.value=$:null),type:"number",min:"1",max:"50",label:"Batch size",class:"mb-3 max-w-fit flex justify-end"},null,8,["modelValue"])]),_:1})):T("",!0),C("div",ao,[_(F,{icon:"i-heroicons-sparkles-16-solid",variant:"outline",loading:r(i),onClick:g[2]||(g[2]=()=>{i.value=!0,r(n).runFlow(r(n).currentFlow,[...r(s),...r(o)],r(d)).finally(()=>{i.value=!1;const $=r(o).find(j=>Object.keys(j)[0]==="seed");$.seed.value=Number($.seed.value)+r(d)+1})})},{default:B(()=>[E(" Run prompt ")]),_:1},8,["loading"])])],512),[[Ft,!r(v)]])])):T("",!0)}}}),oo=e=>{const t=S(0);function n(o){e.value.style.scrollSnapType="none",e.value.style.scrollBehavior="auto",t.value=o.pageX,window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)}function a(){e.value.style.removeProperty("scroll-behavior"),e.value.style.removeProperty("scroll-snap-type"),e.value.style.removeProperty("pointer-events"),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)}function s(o){o.preventDefault(),e.value.style.pointerEvents="none";const l=o.pageX-t.value;t.value=o.pageX,e.value.scrollBy(-l,0)}Z(()=>{e.value&&e.value.addEventListener("mousedown",n)}),$e(()=>{e.value&&e.value.removeEventListener("mousedown",n)})},yt=Ue(G.ui.strategy,G.ui.carousel,Sa),so=H({components:{UButton:pe},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},arrows:{type:Boolean,default:!1},indicators:{type:Boolean,default:!1},prevButton:{type:Object,default:()=>yt.default.prevButton},nextButton:{type:Object,default:()=>yt.default.nextButton},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:void 0}},setup(e,{expose:t}){const{ui:n,attrs:a}=Ee("carousel",fe(e,"ui"),yt,fe(e,"class")),s=S(),o=S(0),{x:l}=na(s,{behavior:"smooth"}),{width:i}=aa(s);oo(s),la(s,g=>{var p,c;const[b]=g;o.value=((c=(p=b==null?void 0:b.target)==null?void 0:p.firstElementChild)==null?void 0:c.clientWidth)||0});const d=I(()=>o.value?Math.round(l.value/o.value)+1:0),v=I(()=>o.value?e.items.length-Math.round(i.value/o.value)+1:0),k=I(()=>d.value<=1),w=I(()=>d.value===v.value);function m(){l.value+=o.value}function y(){l.value-=o.value}function u(g){l.value=(g-1)*o.value}return t({pages:v,page:d,prev:y,next:m,select:u}),{ui:n,attrs:a,isFirst:k,isLast:w,carouselRef:s,pages:v,currentPage:d,onClickNext:m,onClickPrev:y,onClick:u,twMerge:_e}}}),ro=["role"],io=["aria-selected","aria-label","onClick"];function uo(e,t,n,a,s,o){const l=pe;return h(),P("div",te({class:e.ui.wrapper},e.attrs),[C("div",{ref:"carouselRef",class:O([e.ui.container,"no-scrollbar"])},[(h(!0),P(q,null,re(e.items,(i,d)=>(h(),P("div",{key:d,class:O(e.ui.item),role:e.indicators?"tabpanel":null},[ue(e.$slots,"default",{item:i,index:d},void 0,!0)],10,ro))),128))],2),e.arrows?(h(),P("div",{key:0,class:O(e.ui.arrows.wrapper)},[ue(e.$slots,"prev",{onClick:e.onClickPrev,disabled:e.isFirst},()=>{var i;return[e.prevButton?(h(),z(l,te({key:0,disabled:e.isFirst},{...e.ui.default.prevButton,...e.prevButton},{class:e.twMerge(e.ui.default.prevButton.class,(i=e.prevButton)==null?void 0:i.class),"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["disabled","class","onClick"])):T("",!0)]},!0),ue(e.$slots,"next",{onClick:e.onClickNext,disabled:e.isLast},()=>{var i;return[e.nextButton?(h(),z(l,te({key:0,disabled:e.isLast},{...e.ui.default.nextButton,...e.nextButton},{class:e.twMerge(e.ui.default.nextButton.class,(i=e.nextButton)==null?void 0:i.class),"aria-label":"Next",onClick:e.onClickNext}),null,16,["disabled","class","onClick"])):T("",!0)]},!0)],2)):T("",!0),e.indicators?(h(),P("div",{key:1,role:"tablist",class:O(e.ui.indicators.wrapper)},[(h(!0),P(q,null,re(e.pages,i=>ue(e.$slots,"indicator",{key:i,onClick:e.onClick,active:i===e.currentPage,page:i},()=>[C("button",{type:"button",role:"tab","aria-selected":i===e.currentPage,class:O([e.ui.indicators.base,i===e.currentPage?e.ui.indicators.active:e.ui.indicators.inactive]),"aria-label":`set slide ${i}`,onClick:d=>e.onClick(i)},null,10,io)],!0)),128))],2)):T("",!0)],16)}const Cn=xe(so,[["render",uo],["__scopeId","data-v-ea54307d"]]),co={class:"flex flex-col basis-full"},mo=H({__name:"QueueInputFiles",props:{running:{type:Object,required:!0}},setup(e){const t=Bt(),n=function(i,d){return`${vt()}/tasks/inputs?task_id=${i}&input_index=${d}`},a=S(!1),s=S(""),o=S(0),l=S(!0);return(i,d)=>{var u,g,b,p,c;const v=me,k=Xe,w=Cn,m=pe,y=Ze;return i.$props.running&&i.$props.running.input_files&&((u=Object.keys(i.$props.running.input_files))==null?void 0:u.length)>0?(h(),P("div",{key:0,class:O(["ml-2 mt-2 mb-5",{"mb-10":((g=Object.keys(i.$props.running.input_files))==null?void 0:g.length)>1&&!r(l)}])},[C("h4",{class:"mb-3 font-bold cursor-pointer select-none flex items-center text-sm",onClick:d[0]||(d[0]=()=>l.value=!r(l))},[_(v,{name:r(l)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),C("span",null," Input files ("+D((b=Object.keys(i.$props.running.input_files))==null?void 0:b.length)+") ",1)]),r(l)?T("",!0):(h(),P(q,{key:0},[((p=Object.keys(i.$props.running.input_files))==null?void 0:p.length)===1?(h(),z(k,{key:0,class:"mb-5 rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:r(t)(`${("buildBackendApiUrl"in i?i.buildBackendApiUrl:r(vt))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:n(i.$props.running.task_id,0),onClick:d[1]||(d[1]=()=>{s.value=n(i.$props.running.task_id,0),o.value=0,a.value=!0})},null,8,["placeholder","src"])):T("",!0),((c=Object.keys(i.$props.running.input_files))==null?void 0:c.length)>1?(h(),z(w,{key:1,items:Object.keys(i.$props.running.input_files).map(f=>({task_id:e.running.task_id,index:f})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:B(({item:f})=>[C("div",co,[_(k,{class:"rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:r(t)(`${("buildBackendApiUrl"in i?i.buildBackendApiUrl:r(vt))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:n(f.task_id,f.index),onClick:()=>{s.value=n(i.$props.running.task_id,f.index),o.value=f.index,a.value=!0}},null,8,["placeholder","src","onClick"])])]),_:1},8,["items"])):T("",!0),_(y,{modelValue:r(a),"onUpdate:modelValue":d[4]||(d[4]=f=>he(a)?a.value=f:null),class:"z-[90]",transition:!1,fullscreen:""},{default:B(()=>[_(m,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:d[2]||(d[2]=()=>a.value=!1)}),C("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:d[3]||(d[3]=Ge(()=>a.value=!1,["left"]))},[r(s)?(h(),z(k,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",placeholder:"/vix_logo.png",src:r(s)},null,8,["src"])):T("",!0)])]),_:1},8,["modelValue"])],64))],2)):T("",!0)}}}),ze=Ue(G.ui.strategy,G.ui.alert,Ia),fo=H({components:{UIcon:me,UAvatar:ot,UButton:pe},inheritAttrs:!1,props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>ze.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>ze.default.closeButton},actions:{type:Array,default:()=>[]},color:{type:String,default:()=>ze.default.color,validator(e){return[...G.ui.colors,...Object.keys(ze.color)].includes(e)}},variant:{type:String,default:()=>ze.default.variant,validator(e){return[...Object.keys(ze.variant),...Object.values(ze.color).flatMap(t=>Object.keys(t))].includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["close"],setup(e){const{ui:t,attrs:n}=Ee("alert",fe(e,"ui"),ze),a=I(()=>{var l,i;const o=((i=(l=t.value.color)==null?void 0:l[e.color])==null?void 0:i[e.variant])||t.value.variant[e.variant];return _e(ne(t.value.wrapper,t.value.rounded,t.value.shadow,t.value.padding,o==null?void 0:o.replaceAll("{color}",e.color)),e.class)});function s(o){o.click&&o.click()}return{ui:t,attrs:n,alertClass:a,onAction:s,twMerge:_e}}});function po(e,t,n,a,s,o){const l=me,i=ot,d=pe;return h(),P("div",te({class:e.alertClass},e.attrs),[C("div",{class:O(["flex",[e.ui.gap,{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}]])},[ue(e.$slots,"icon",{icon:e.icon},()=>[e.icon?(h(),z(l,{key:0,name:e.icon,class:O(e.ui.icon.base)},null,8,["name","class"])):T("",!0)]),ue(e.$slots,"avatar",{avatar:e.avatar},()=>[e.avatar?(h(),z(i,te({key:0},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):T("",!0)]),C("div",{class:O(e.ui.inner)},[e.title||e.$slots.title?(h(),P("p",{key:0,class:O(e.ui.title)},[ue(e.$slots,"title",{title:e.title},()=>[E(D(e.title),1)])],2)):T("",!0),e.description||e.$slots.description?(h(),P("div",{key:1,class:O(e.twMerge(e.ui.description,!e.title&&!e.$slots.title&&"mt-0 leading-5"))},[ue(e.$slots,"description",{description:e.description},()=>[E(D(e.description),1)])],2)):T("",!0),(e.description||e.$slots.description)&&(e.actions.length||e.$slots.actions)?(h(),P("div",{key:2,class:O(e.ui.actions)},[ue(e.$slots,"actions",{},()=>[(h(!0),P(q,null,re(e.actions,(v,k)=>(h(),z(d,te({key:k,ref_for:!0},{...e.ui.default.actionButton||{},...v},{onClick:Ge(w=>e.onAction(v),["stop"])}),null,16,["onClick"]))),128))])],2)):T("",!0)],2),e.closeButton||!e.description&&!e.$slots.description&&e.actions.length?(h(),P("div",{key:0,class:O(e.twMerge(e.ui.actions,"mt-0"))},[!e.description&&!e.$slots.description&&(e.actions.length||e.$slots.actions)?ue(e.$slots,"actions",{key:0},()=>[(h(!0),P(q,null,re(e.actions,(v,k)=>(h(),z(d,te({key:k,ref_for:!0},{...e.ui.default.actionButton||{},...v},{onClick:Ge(w=>e.onAction(v),["stop"])}),null,16,["onClick"]))),128))]):T("",!0),e.closeButton?(h(),z(d,te({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{onClick:t[0]||(t[0]=Ge(v=>e.$emit("close"),["stop"]))}),null,16)):T("",!0)],2)):T("",!0)],2)],16)}const _n=xe(fo,[["render",po]]),vo=H({__name:"QueueErrorAlert",props:{running:{type:Object,required:!0}},setup(e){const t=Ne(),n=S(!1);return(a,s)=>{const o=_n;return h(),z(o,{class:"mb-5",icon:"i-heroicons-exclamation-circle-16-solid",color:"red",variant:"soft",title:"Task failed",description:e.running.error,actions:[{variant:"outline",color:"yellow",label:"Restart",loading:r(n),icon:"i-heroicons-arrow-path",click:()=>{n.value=!0,r(t).restartFlow(a.$props.running).finally(()=>{n.value=!1})}}]},null,8,["description","actions"])}}}),go={class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md mt-5 mb-10"},ho={class:"flex items-center justify-between mb-2"},bo={key:0},yo={key:1,class:"text-red-400"},wo={class:"text-sm mb-5 text-slate-500"},ko={class:"flex justify-between"},$o=H({__name:"Queue",setup(e){const t=Ne(),n=S(!1),a=S(!0);return(s,o)=>{var m,y,u,g,b,p,c,f,F;const l=me,i=pe,d=sn,v=mo,k=vo,w=ft;return h(),P("div",go,[C("div",ho,[C("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center",onClick:o[0]||(o[0]=()=>{a.value=!r(a)})},[_(l,{name:r(a)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),C("span",null," Queue ("+D(r(t).flowsRunningByName((m=r(t).currentFlow)==null?void 0:m.name).filter($=>$.parent_task_id===null).length)+") ",1),r(t).flowsRunningByName((y=r(t).currentFlow)==null?void 0:y.name).filter($=>$.parent_task_id===null).length>0?(h(),P("span",bo," - "+D(`${((g=r(t).flowsRunningByName((u=r(t).currentFlow)==null?void 0:u.name).filter($=>$.progress>0)[0])==null?void 0:g.progress.toFixed(0))??0}%`),1)):T("",!0),r(t).flowsRunningByNameWithErrors((b=r(t))==null?void 0:b.currentFlow.name).length>0?(h(),P("span",yo," ("+D(r(t).flowsRunningByNameWithErrors((p=r(t).currentFlow)==null?void 0:p.name).length)+") ",1)):T("",!0)]),(c=r(t).currentFlow)!=null&&c.name&&r(t).flowsRunningByName((f=r(t).currentFlow)==null?void 0:f.name).length>0?(h(),z(i,{key:0,icon:"i-heroicons-stop",color:"orange",variant:"outline",loading:r(n),onClick:o[1]||(o[1]=()=>{var $;n.value=!0,r(t).cancelRunningFlows(($=r(t).currentFlow)==null?void 0:$.name).finally(()=>{n.value=!1})})},{default:B(()=>[E(" Cancel all ")]),_:1},8,["loading"])):T("",!0)]),r(a)?T("",!0):(h(!0),P(q,{key:0},re(r(t).flowsRunningByName((F=r(t).currentFlow)==null?void 0:F.name).filter($=>$.parent_task_id===null),$=>(h(),P("div",{key:$.task_id,class:"mb-5"},[_(d,{class:"mb-3",value:$==null?void 0:$.progress,indicator:"",color:$.error?"red":"green"},null,8,["value","color"]),C("p",wo,D(["#"+$.task_id,...Object.keys($.input_params_mapped).filter(j=>$.input_params_mapped[j].value&&$.input_params_mapped[j].value!=="").map(j=>`${$.input_params_mapped[j].display_name}: ${$.input_params_mapped[j].value}`)].join(" | ")+`${$.execution_time?" | execution_time: "+$.execution_time.toFixed(2)+"s":""}`),1),_(v,{running:$},null,8,["running"]),$.error?(h(),z(k,{key:0,running:$},null,8,["running"])):T("",!0),C("div",ko,[_(i,{icon:$.progress>=0&&$.progress<100?"i-heroicons-stop":"i-heroicons-minus-circle",color:$.error?"red":"orange",variant:"outline",loading:r(n),onClick:()=>{n.value=!0,r(t).cancelRunningFlow($).finally(()=>{n.value=!1})}},{default:B(()=>[E(D($.progress>=0&&$.progress<100?"Cancel":"Remove"),1)]),_:2},1032,["icon","color","loading","onClick"]),_(w,{items:[[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var j;return r(t).downloadFlowComfy((j=r(t).currentFlow)==null?void 0:j.name,$.task_id)}}]],mode:"click",popper:{placement:"bottom-end"}},{default:B(()=>[_(i,{color:"blue",variant:"outline",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])]))),128))])}}}),Io=xe($o,[["__scopeId","data-v-69ce3992"]]),So=H({__name:"ScrollToTop",props:{show:{type:Boolean,required:!0},target:{type:String,required:!0}},setup(e){const t=e;function n(){const a=document.getElementById(t.target);a&&a.scrollIntoView({behavior:"smooth"})}return(a,s)=>{const o=pe;return rt((h(),z(o,{icon:"i-heroicons-arrow-small-up",color:"black",variant:"outline",onClick:n},null,512)),[[Ft,e.show]])}}}),ye=Ue(G.ui.strategy,G.ui.select,oa),Co=H({components:{UIcon:me},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ye.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>ye.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(ye.size).includes(e)}},color:{type:String,default:()=>ye.default.color,validator(e){return[...G.ui.colors,...Object.keys(ye.color)].includes(e)}},variant:{type:String,default:()=>ye.default.variant,validator(e){return[...Object.keys(ye.variant),...Object.values(ye.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t,slots:n}){const{ui:a,attrs:s}=Ee("select",fe(e,"ui"),ye,fe(e,"class")),{size:o,rounded:l}=sa({ui:a,props:e}),{emitFormChange:i,inputId:d,color:v,size:k,name:w}=dt(e,ye),m=I(()=>o.value??k.value),y=U=>{t("update:modelValue",U.target.value)},u=U=>{t("change",U.target.value),i()},g=U=>Nt(U,e.valueAttribute,""),b=U=>Nt(U,e.optionAttribute,""),p=U=>["string","number","boolean"].includes(typeof U)?{[e.valueAttribute]:U,[e.optionAttribute]:U}:{...U,[e.valueAttribute]:g(U),[e.optionAttribute]:b(U)},c=I(()=>e.options.map(U=>p(U))),f=I(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...c.value]:c.value),F=I(()=>{const U=p(e.modelValue),K=f.value.find(J=>J[e.valueAttribute]===U[e.valueAttribute]);return K?K[e.valueAttribute]:""}),$=I(()=>{var K,J;const U=((J=(K=a.value.color)==null?void 0:K[v.value])==null?void 0:J[e.variant])||a.value.variant[e.variant];return _e(ne(a.value.base,a.value.form,l.value,a.value.size[m.value],e.padded?a.value.padding[m.value]:"p-0",U==null?void 0:U.replaceAll("{color}",v.value),(j.value||n.leading)&&a.value.leading.padding[m.value],(L.value||n.trailing)&&a.value.trailing.padding[m.value]),e.placeholder&&!e.modelValue&&a.value.placeholder,e.selectClass)}),j=I(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),L=I(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),Q=I(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),X=I(()=>e.loading&&!j.value?e.loadingIcon:e.trailingIcon||e.icon),M=I(()=>ne(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[m.value])),x=I(()=>ne(a.value.icon.base,v.value&&G.ui.colors.includes(v.value)&&a.value.icon.color.replaceAll("{color}",v.value),a.value.icon.size[m.value],e.loading&&a.value.icon.loading)),N=I(()=>ne(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[m.value])),Y=I(()=>ne(a.value.icon.base,v.value&&G.ui.colors.includes(v.value)&&a.value.icon.color.replaceAll("{color}",v.value),a.value.icon.size[m.value],e.loading&&!j.value&&a.value.icon.loading));return{ui:a,attrs:s,name:w,inputId:d,normalizedOptionsWithPlaceholder:f,normalizedValue:F,isLeading:j,isTrailing:L,selectClass:$,leadingIconName:Q,leadingIconClass:x,leadingWrapperIconClass:M,trailingIconName:X,trailingIconClass:Y,trailingWrapperIconClass:N,onInput:y,onChange:u}}}),_o=["id","name","value","required","disabled"],xo=["value","label"],Po=["value","selected","disabled","textContent"],Fo=["value","selected","disabled","textContent"];function Mo(e,t,n,a,s,o){const l=me;return h(),P("div",{class:O(e.ui.wrapper)},[C("select",te({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:t[0]||(t[0]=(...i)=>e.onInput&&e.onInput(...i)),onChange:t[1]||(t[1]=(...i)=>e.onChange&&e.onChange(...i))}),[(h(!0),P(q,null,re(e.normalizedOptionsWithPlaceholder,(i,d)=>(h(),P(q,null,[i.children?(h(),P("optgroup",{key:`${i[e.valueAttribute]}-optgroup-${d}`,value:i[e.valueAttribute],label:i[e.optionAttribute]},[(h(!0),P(q,null,re(i.children,(v,k)=>(h(),P("option",{key:`${v[e.valueAttribute]}-${d}-${k}`,value:v[e.valueAttribute],selected:v[e.valueAttribute]===e.normalizedValue,disabled:v.disabled,textContent:D(v[e.optionAttribute])},null,8,Po))),128))],8,xo)):(h(),P("option",{key:`${i[e.valueAttribute]}-${d}`,value:i[e.valueAttribute],selected:i[e.valueAttribute]===e.normalizedValue,disabled:i.disabled,textContent:D(i[e.optionAttribute])},null,8,Fo))],64))),256))],16,_o),e.isLeading&&e.leadingIconName||e.$slots.leading?(h(),P("span",{key:0,class:O(e.leadingWrapperIconClass)},[ue(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[_(l,{name:e.leadingIconName,class:O(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):T("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(h(),P("span",{key:1,class:O(e.trailingWrapperIconClass)},[ue(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[_(l,{name:e.trailingIconName,class:O(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):T("",!0)],2)}const To=xe(Co,[["render",Mo],["__scopeId","data-v-9f80dc9e"]]),Re=Ue(G.ui.strategy,G.ui.toggle,Ca),zo=H({components:{HSwitch:el,UIcon:me},inheritAttrs:!1,props:{id:{type:String,default:null},name:{type:String,default:null},modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onIcon:{type:String,default:()=>Re.default.onIcon},offIcon:{type:String,default:()=>Re.default.offIcon},loadingIcon:{type:String,default:()=>Re.default.loadingIcon},color:{type:String,default:()=>Re.default.color,validator(e){return G.ui.colors.includes(e)}},size:{type:String,default:()=>Re.default.size,validator(e){return Object.keys(Re.size).includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:n,attrs:a}=Ee("toggle",fe(e,"ui"),Re),{emitFormChange:s,color:o,inputId:l,name:i}=dt(e),d=I({get(){return e.modelValue},set(u){t("update:modelValue",u),t("change",u),s()}}),v=I(()=>_e(ne(n.value.base,n.value.size[e.size],n.value.rounded,o.value&&n.value.ring.replaceAll("{color}",o.value),o.value&&(d.value?n.value.active:n.value.inactive).replaceAll("{color}",o.value)),e.class)),k=I(()=>ne(n.value.container.base,n.value.container.size[e.size],d.value?n.value.container.active[e.size]:n.value.container.inactive)),w=I(()=>ne(n.value.icon.size[e.size],o.value&&n.value.icon.on.replaceAll("{color}",o.value))),m=I(()=>ne(n.value.icon.size[e.size],o.value&&n.value.icon.off.replaceAll("{color}",o.value))),y=I(()=>ne(n.value.icon.size[e.size],o.value&&n.value.icon.loading.replaceAll("{color}",o.value)));return xt(()=>Pt("$mRW6KdlcYH")),{ui:n,attrs:a,name:i,inputId:l,active:d,switchClass:v,containerClass:k,onIconClass:w,offIconClass:m,loadingIconClass:y}}});function Bo(e,t,n,a,s,o){const l=me,i=we("HSwitch");return h(),z(i,te({id:e.inputId,modelValue:e.active,"onUpdate:modelValue":t[0]||(t[0]=d=>e.active=d),name:e.name,disabled:e.disabled||e.loading,class:e.switchClass},e.attrs),{default:B(()=>[C("span",{class:O(e.containerClass)},[e.loading?(h(),P("span",{key:0,class:O([e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[_(l,{name:e.loadingIcon,class:O(e.loadingIconClass)},null,8,["name","class"])],2)):T("",!0),!e.loading&&e.onIcon?(h(),P("span",{key:1,class:O([e.active?e.ui.icon.active:e.ui.icon.inactive,e.ui.icon.base]),"aria-hidden":"true"},[_(l,{name:e.onIcon,class:O(e.onIconClass)},null,8,["name","class"])],2)):T("",!0),!e.loading&&e.offIcon?(h(),P("span",{key:2,class:O([e.active?e.ui.icon.inactive:e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[_(l,{name:e.offIcon,class:O(e.offIconClass)},null,8,["name","class"])],2)):T("",!0)],2)]),_:1},16,["id","modelValue","name","disabled","class"])}const Ao=xe(zo,[["render",Bo]]);function xn(e={}){const{copy:t,isSupported:n}=ra(),a=it();function s(o,l={},i={}){n&&t(o).then(()=>{!l.title&&!l.description||a.add({...l,...e})},function(d){a.add({...i,description:i.description||d.message,...e})})}return{copy:s}}const Oo={class:"flex flex-col items-center mb-2 max-w-fit mx-auto z-0"},jo={class:"text-slate-500 text-center text-sm w-full mx-auto flex flex-wrap items-center justify-center md:justify-between"},Uo={class:"toggles py-2"},Eo={class:"mr-2 inline-flex items-center text-sm"},No=["for"],Lo={class:"mr-2 inline-flex items-center text-sm"},Ro=["for"],Do={key:0,class:"flex items-center"},Vo=["title"],Ho=H({__name:"ChildOutput",props:{flowResult:{type:Object,required:!0},outputsIndex:{type:Number,required:!1,default:()=>0},openImageModal:{type:Function,required:!0}},setup(e){const t=e,n=Ne(),a=(c,f=null,F=!1)=>{if(c.child_tasks.length===0)return c;const $=c.child_tasks.findIndex(j=>j.parent_task_node_id===f);return $!==-1?(F||(o.value=c),a(c.child_tasks[$],c.child_tasks[$].outputs[0].comfy_node_id,F)):c};function s(c,f,F=null){if(F!==null&&c.parent_task_node_id===F||Number(c.task_id)===f)return c;for(let $=0;$<c.child_tasks.length;$++)for(let j=0;j<c.child_tasks[$].outputs.length;j++){const L=s(c.child_tasks[$],f,c.child_tasks[$].outputs[j].comfy_node_id);if(L!==null)return L}return null}const o=S(t.flowResult),l=S(a(t.flowResult,t.flowResult.outputs[t.outputsIndex].comfy_node_id,!1));function i(c){var f;return[[{label:`${(f=n.flowByName((c==null?void 0:c.flow_name)??(c==null?void 0:c.name)))==null?void 0:f.display_name}#${c.task_id}`,disabled:!0}],[{label:"View image",icon:"i-heroicons-eye",click:()=>{t.openImageModal(ve({task_id:c.task_id,node_id:c.outputs.length>1?c.outputs[t.outputsIndex].comfy_node_id:c.outputs[0].comfy_node_id}))}}]]}function d(c){var F;const f=[[{label:`${(F=n.flowByName((c==null?void 0:c.flow_name)??(c==null?void 0:c.name)))==null?void 0:F.display_name}#${c.task_id}`,disabled:!0}],[{label:"View image",icon:"i-heroicons-eye",disabled:c.progress<100||c.error!=="",click:()=>{t.openImageModal(ve({task_id:c.task_id,node_id:c.outputs.length>1?c.outputs[t.outputsIndex].comfy_node_id:c.outputs[0].comfy_node_id}))}},{label:c.progress<100?"Cancel":"Delete",labelClass:c.progress<100?"text-orange-500":"text-red-500",icon:c.progress<100?"i-heroicons-stop":"i-heroicons-trash",iconClass:c.progress<100?"bg-orange-500":"bg-red-500",click:()=>{n.deleteFlowHistory(c.task_id).then(()=>{const $=s(t.flowResult,c.parent_task_id,c.parent_task_node_id);$&&($.child_tasks=$.child_tasks.filter(j=>Number(j.task_id)!==Number(c.task_id))),u(!1,t.flowResult)})}}]];return c.progress<100&&(f[0][1]={label:`Progress: ${Math.ceil(c.progress)}% (${c.execution_time.toFixed(2)}s)`,labelClass:"text-blue-500",disabled:!0}),c.error!==""&&f[0].push({label:`Error: ${c.error}`,labelClass:"text-red-500",slot:"error",click:()=>{xn().copy(c.error),it().add({title:"Clipboard",description:`Task #${c.task_id} error copied to clipboard`,timeout:2e3})}}),f}function v(){const c=o.value.parent_task_id;if(!c)return;const f=s(t.flowResult,c,o.value.parent_task_node_id);f&&(o.value=f)}function k(){if(o.value.child_tasks.length===0)return;const c=o.value.outputs.length>1?o.value.outputs[t.outputsIndex].comfy_node_id:o.value.outputs[0].comfy_node_id,f=o.value.child_tasks.find(F=>F.parent_task_node_id===c);f&&(o.value=f)}const w=I(()=>{if(o.value.child_tasks.length===0)return;const c=o.value.outputs.length>1?o.value.outputs[t.outputsIndex].comfy_node_id:o.value.outputs[0].comfy_node_id;return o.value.child_tasks.find(F=>F.parent_task_node_id===c).task_id!==l.value.task_id});function m(){const c=l.value.parent_task_id;if(!c)return;const f=s(t.flowResult,c,l.value.parent_task_node_id);f&&(l.value=f)}function y(){if(l.value.child_tasks.length===0)return;const c=Number(l.value.outputs[0].comfy_node_id),f=l.value.child_tasks.find(F=>Number(F.parent_task_node_id)===c);f&&(l.value=f)}function u(c=!1,f=null){c||(o.value=f),l.value=a(f,f==null?void 0:f.outputs[t.outputsIndex].comfy_node_id,c),g.value=!1}de(t.flowResult,c=>{u(!0,c)});const g=S(!1),b=S(!0),p=S(null);return de(g,c=>{c?(p.value=o.value,o.value=t.flowResult):p.value&&(o.value=p.value,l.value=an(p.value,t.outputsIndex,o.value.outputs.length>1?o.value.outputs[t.outputsIndex].comfy_node_id:o.value.outputs[0].comfy_node_id))}),(c,f)=>{const F=Xe,$=we("ImgComparisonSlider"),j=Ao,L=pe,Q=ft,X=me,M=rn;return h(),P("div",Oo,[rt(_(F,{class:"mb-2 h-100 max-h-[512px] mx-auto rounded-lg cursor-pointer",draggable:"false",fit:"outside",loading:"lazy",src:("outputImgSrc"in c?c.outputImgSrc:r(ve))({task_id:r(l).progress===100?r(l).task_id:e.flowResult.task_id,node_id:r(l).progress===100?r(l).outputs[0].comfy_node_id:e.flowResult.outputs[e.outputsIndex].comfy_node_id}),onClick:f[0]||(f[0]=x=>e.openImageModal(("outputImgSrc"in c?c.outputImgSrc:r(ve))({task_id:r(l).task_id??e.flowResult.task_id,node_id:r(l).outputs[0].comfy_node_id??e.flowResult.outputs[e.outputsIndex].comfy_node_id})))},null,8,["src"]),[[Ft,!r(b)]]),r(b)?(h(),z($,{key:0,class:"mb-2 mx-auto outline-none w-fit rounded-lg"},{default:B(()=>{var x,N,Y;return[_(F,{slot:"first",class:O(`max-h-[${r(n).outputMaxHeight}px]`),fit:"outside",draggable:"false",src:("outputImgSrc"in c?c.outputImgSrc:r(ve))({task_id:r(g)?e.flowResult.task_id:r(o).task_id,node_id:r(g)?e.flowResult.outputs[e.outputsIndex].comfy_node_id:r(o).parent_task_node_id!==null?(x=r(o))==null?void 0:x.outputs[0].comfy_node_id:((N=r(o))==null?void 0:N.outputs[e.outputsIndex].comfy_node_id)??((Y=r(o))==null?void 0:Y.outputs[0].comfy_node_id)})},null,8,["class","src"]),r(l)&&r(l).progress===100?(h(),z(F,{key:0,slot:"second",class:O(`max-h-[${r(n).outputMaxHeight}px]`),fit:"outside",draggable:"false",src:("outputImgSrc"in c?c.outputImgSrc:r(ve))({task_id:r(l).task_id,node_id:r(l).outputs[0].comfy_node_id})},null,8,["class","src"])):(h(),z(F,{key:1,slot:"second",class:O(`max-h-[${r(n).outputMaxHeight}px]`),fit:"outside",draggable:"false",src:`${("buildBackendUrl"in c?c.buildBackendUrl:r(ia))()}/vix_logo.png`},null,8,["class","src"]))]}),_:1})):T("",!0),C("div",jo,[C("div",Uo,[C("div",Eo,[_(j,{id:`toggle-compare-${e.flowResult.task_id}-${e.outputsIndex}`,modelValue:r(b),"onUpdate:modelValue":f[1]||(f[1]=x=>he(b)?b.value=x:null),size:"xs",class:"mr-2"},null,8,["id","modelValue"]),C("label",{class:"cursor-pointer select-none",for:`toggle-compare-${e.flowResult.task_id}-${e.outputsIndex}`}," Comparison ",8,No)]),C("div",Lo,[_(j,{id:`toggle-original-${e.flowResult.task_id}-${e.outputsIndex}`,modelValue:r(g),"onUpdate:modelValue":f[2]||(f[2]=x=>he(g)?g.value=x:null),disabled:!r(b),size:"xs",class:"mr-2"},null,8,["id","modelValue","disabled"]),C("label",{class:"cursor-pointer select-none",for:`toggle-original-${e.flowResult.task_id}-${e.outputsIndex}`}," Original ",8,Ro)])]),r(b)?(h(),P("div",Do,[_(L,{icon:"i-heroicons-arrow-small-left-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:r(g)||r(o).parent_task_id===null,onClick:v},null,8,["disabled"]),_(Q,{items:i(r(o)),mode:"click",popper:{placement:"top"}},{default:B(()=>[_(L,{variant:"link",color:"white",size:"xs"},{default:B(()=>[E(" #"+D(r(g)?e.flowResult.task_id:r(o).task_id),1)]),_:1})]),_:1},8,["items"]),_(L,{icon:"i-heroicons-arrow-small-right-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:r(g)||!r(w),onClick:k},null,8,["disabled"]),_(X,{class:"mx-3",name:"i-heroicons-arrows-right-left-16-solid"}),_(L,{icon:"i-heroicons-arrow-small-left-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:!s(t.flowResult,r(l).parent_task_id,r(l).parent_task_node_id)||r(l).parent_task_id===Number(r(o).task_id)||r(l).parent_task_id===null,onClick:m},null,8,["disabled"]),_(Q,{items:d(r(l)),mode:"click",popper:{placement:"top"}},{error:B(({item:x})=>[C("div",{class:"text-red-500 truncate",title:x.label},D(x.label),9,Vo)]),default:B(()=>[_(L,{class:O({"text-blue-500":r(l).progress!==100&&r(l).error==="","text-red-500":r(l).error!==""}),variant:"link",color:"white",size:"xs"},{default:B(()=>[E(D(r(l).progress===100?"#"+r(l).task_id:Math.ceil(r(l).progress)+"%"),1)]),_:1},8,["class"])]),_:1},8,["items"]),_(L,{icon:"i-heroicons-arrow-small-right-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:r(l).child_tasks.length===0,onClick:y},null,8,["disabled"]),_(M,{class:"ml-3",text:"Reset comparison",popper:{placement:"top"}},{default:B(()=>[_(L,{icon:"i-heroicons-arrow-path-rounded-square-solid",size:"2xs",variant:"outline",color:"white",onClick:f[3]||(f[3]=()=>u(!1,e.flowResult))})]),_:1})])):T("",!0)])])}}}),Wo={class:"p-4"},qo=C("h2",{class:"text-lg text-center mb-4"},"Send to flow",-1),Ko={class:"flex justify-center mb-4"},Go={key:0,class:"text-sm text-slate-500 text-center mb-4"},Qo={class:"text-md text-center text-red-500 mb-4"},Yo={key:1},Jo={class:"flex items-center justify-between"},Xo=H({__name:"SendToFlowModal",props:{show:{type:Boolean,required:!1},flowResult:{type:Object,required:!1,default:()=>null},outputImgSrc:{type:String,required:!0},outputParamIndex:{type:Number,required:!0},inputParamsMapped:{type:Object,required:!0},isChildTask:{type:Boolean,required:!1,default:!1}},emits:["update:show"],setup(e,{emit:t}){const n=e,a=Ne(),s=I(()=>a.sub_flows.map(w=>({value:w.name,label:`${w.display_name} - ${w.description}`}))),o=S(s.value[0]||""),l=S(!1),i=t;function d(){console.debug("[Send to flow]: ",o.value);const w=a.sub_flows.find(y=>y.name===o.value.value&&y.display_name===o.value.label.split(" - ")[0]);if(console.debug("[Send to flow]: targetFlow",w),!w){it().add({title:`Target sub-flow "${o.value.value}" not found`,description:"Please, verify the target sub-flow is installed and available and try again",timeout:5e3});return}const m=w.input_params.reduce((y,u)=>{const g={};return u.type==="text"?g[u.name]={value:u.default||"",type:u.type}:u.type==="number"?g[u.name]={value:u.default||0,type:u.type}:u.type==="image"?g[u.name]={value:JSON.stringify({task_id:n.flowResult.task_id,node_id:n.flowResult.outputs.length>1?n.flowResult.outputs[n.outputParamIndex].comfy_node_id:n.flowResult.outputs[0].comfy_node_id})||"",type:u.type}:u.type==="list"?g[u.name]={value:u.default||Object.keys(u.options)[0]||"",type:u.type,options:u.options}:u.type==="bool"?g[u.name]={value:u.default||!1,type:u.type}:["range","range_scale"].includes(u.type)&&(g[u.name]={value:u.default||0,type:u.type}),y.push(g),y},[]);console.debug("[Send to flow]: input_params_map",m),l.value=!0,a.runFlow(w,m,1,v.value).finally(()=>{l.value=!1,i("update:show",!1)})}const v=S(!1),k=I(()=>{var w;return n.flowResult.progress===100&&((w=n.flowResult)==null?void 0:w.error)===""});return ua(()=>{a.fetchSubFlows("image").then(()=>{o.value=s.value[0]||""}),v.value=!1}),(w,m)=>{const y=Xe,u=_n,g=dn,b=cn,p=pe,c=Ze;return h(),z(c,{modelValue:w.$props.show,"onUpdate:modelValue":m[2]||(m[2]=f=>w.$props.show=f),class:"z-[90]",transition:!1},{default:B(()=>[C("div",Wo,[qo,C("div",Ko,[r(k)?(h(),z(y,{key:0,src:e.outputImgSrc,class:"w-1/2 rounded-lg",draggable:!1},null,8,["src"])):(h(),z(u,{key:1,color:"orange",icon:"i-heroicons-exclamation-circle-solid",title:`Task is still running (${Math.ceil(e.flowResult.progress)}%, ${e.flowResult.execution_time.toFixed(2)}s)`,description:e.flowResult.error!==""?e.flowResult.error:""},null,8,["title","description"]))]),e.inputParamsMapped?(h(),P("p",Go,D(["#"+e.flowResult.task_id,...Object.keys(e.inputParamsMapped).filter(f=>e.inputParamsMapped[f].value!=="").map(f=>`${e.inputParamsMapped[f].display_name}: ${e.inputParamsMapped[f].value}`)].join(" | ")),1)):T("",!0),C("p",Qo,[r(s).length>0?(h(),z(g,{key:0,modelValue:r(o),"onUpdate:modelValue":m[0]||(m[0]=f=>he(o)?o.value=f:null),class:"w-full",size:"lg",options:r(s)},null,8,["modelValue","options"])):(h(),P("span",Yo,"No sub-flows available"))]),e.isChildTask?(h(),z(u,{key:1,class:"mb-4",icon:"i-heroicons-exclamation-circle-solid",title:"Child task",description:"The latest child task is always used as input for sub-flow"})):T("",!0),C("div",Jo,[_(b,{modelValue:r(v),"onUpdate:modelValue":m[1]||(m[1]=f=>he(v)?v.value=f:null),label:"Bind as child task"},null,8,["modelValue"]),_(p,{icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",loading:r(l),disabled:r(s).length===0||e.isChildTask&&!r(k),onClick:d},{default:B(()=>[E(" Send ")]),_:1},8,["loading","disabled"])])])]),_:1},8,["modelValue"])}}}),Zo={class:"flex flex-col md:flex-row items-center justify-center mb-5 sticky top-1 z-[10]"},es={class:"flex items-center justify-center"},ts={class:"p-4"},ns=C("p",{class:"text-lg text-center mb-4"},"Are you sure you want to delete all results?",-1),as={class:"text-md text-center text-red-500 mb-4"},ls={class:"flex justify-center"},os={key:0,class:"results overflow-auto"},ss=["id"],rs={class:"flex flex-col basis-full"},is={class:"text-sm text-slate-500 text-center mb-1"},us={class:"w-5/6 mx-auto"},ds={class:"w-full flex justify-center items-center"},cs={key:1,class:"text-center text-slate-500"},ms=H({__name:"Output",emits:["copy-prompt-inputs"],setup(e,{emit:t}){const n=Ne(),a=I(()=>{var M;return n.flowResultsByName((M=n.currentFlow)==null?void 0:M.name).length>0||!1}),s=I(()=>{var M;return n.flowResultsByName((M=n.currentFlow)==null?void 0:M.name).reverse()||[]}),o=I(()=>n.$state.resultsPageSize);de(s,()=>{s.value.length<=n.$state.resultsPageSize?n.$state.resultsPage=1:n.$state.resultsPage>Math.ceil(s.value.length/n.$state.resultsPageSize)&&(n.$state.resultsPage=Math.ceil(s.value.length/n.$state.resultsPageSize))}),de(o,()=>{s.value.length<=n.$state.resultsPageSize?n.$state.resultsPage=1:n.$state.resultsPage>Math.ceil(s.value.length/n.$state.resultsPageSize)&&(n.$state.resultsPage=Math.ceil(s.value.length/n.$state.resultsPageSize)),n.saveUserOptions()}),$e(()=>{n.$state.flow_results_filter="",n.$state.resultsPage=1});const l=t;function i(M){l("copy-prompt-inputs",M.input_params_mapped)}function d(M){u.value=M,y.value=!0}const v=S(null),k=S(!1);window.addEventListener("scroll",()=>{var M;k.value=window.scrollY>(((M=v.value)==null?void 0:M.offsetTop)+window.screen.height||0)});const w=I(()=>n.$state.resultsPage);de(w,()=>{const M=document.getElementById("output-container");M&&M.scrollIntoView({behavior:"smooth"})});const m=S(!1),y=S(!1),u=S(""),g=S(!1),b=S(!1),p=S(!1),c=S(""),f=S(null),F=S({}),$=S(0),j=S(!1);function L(M,x=0){if(M.child_tasks.length===0||!Lt(M,x,M.outputs[x].comfy_node_id))f.value=M,c.value=ve({task_id:M.task_id,node_id:M.outputs[x].comfy_node_id}),F.value=M.input_params_mapped,j.value=!1;else{const N=an(M,x,M.outputs[x].comfy_node_id);f.value=N,F.value=M.input_params_mapped,c.value=ve({task_id:N.task_id,node_id:N.outputs[0].comfy_node_id}),j.value=!0}$.value=x,p.value=!0}function Q(M){return["#"+M.task_id,...Object.keys(M.input_params_mapped).filter(x=>M.input_params_mapped[x].value&&M.input_params_mapped[x].value!=="").map(x=>`${M.input_params_mapped[x].display_name}: ${M.input_params_mapped[x].value}`)].join(" | ")+`${M.execution_time?" | execution_time: "+M.execution_time.toFixed(2)+"s":""}`}function X(M){return[[{label:"Use params",labelClass:"text-cyan-500",icon:"i-heroicons-document-duplicate-16-solid",iconClass:"bg-cyan-500",click:()=>i(M)}],[{label:"Send to flow",labelClass:"text-violet-500",icon:"i-heroicons-arrow-uturn-up-solid",iconClass:"bg-violet-500",click:()=>{L(M)},disabled:M.outputs.length!==1}],[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var N;return n.downloadFlowComfy((N=n.currentFlow)==null?void 0:N.name,M.task_id)}}]]}return(M,x)=>{var Se;const N=So,Y=me,U=Mt,K=ka,J=To,ae=pe,Pe=ft,Fe=ln,Me=Ze,R=Ho,W=Xe,le=Cn,oe=Xo;return h(),P("div",{id:"output-container",ref_key:"outputContainer",ref:v,class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md my-10"},[_(N,{show:r(k),class:"fixed bottom-5 right-5",target:"output-container"},null,8,["show"]),C("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:x[0]||(x[0]=()=>{m.value=!r(m)})},[_(Y,{name:r(m)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),E(" Output ("+D(r(s).filter(A=>A.parent_task_id===null).length)+") ",1)]),r(m)?T("",!0):(h(),P(q,{key:0},[C("div",Zo,[_(U,{modelValue:r(n).$state.flow_results_filter,"onUpdate:modelValue":x[1]||(x[1]=A=>r(n).$state.flow_results_filter=A),icon:"i-heroicons-magnifying-glass-20-solid",color:"white",class:"md:mr-3",label:"Filter by prompt",trailing:!0,placeholder:"Filter results by prompt"},null,8,["modelValue"]),r(s).filter(A=>A.parent_task_id===null).length>r(n).$state.resultsPageSize?(h(),z(K,{key:0,modelValue:r(n).$state.resultsPage,"onUpdate:modelValue":x[2]||(x[2]=A=>r(n).$state.resultsPage=A),class:"my-1 md:my-0","page-count":r(n).$state.resultsPageSize,total:r(s).filter(A=>A.parent_task_id===null).length,"show-first":"","show-last":""},null,8,["modelValue","page-count","total"])):T("",!0),C("div",es,[_(J,{modelValue:r(n).resultsPageSize,"onUpdate:modelValue":x[3]||(x[3]=A=>r(n).resultsPageSize=A),class:"md:mx-3 w-fit mr-3",options:[5,10,20,50,100],label:"Results per page"},null,8,["modelValue"]),_(Pe,{items:[[{label:"Delete all results",labelClass:"text-red-500",icon:"i-heroicons-trash",iconClass:"dark:text-red-500 text-red-500",click:()=>g.value=!0}]],mode:"click",label:"Options",popper:{placement:"bottom-end"}},{default:B(()=>[_(ae,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:1},8,["items"])]),_(Me,{modelValue:r(g),"onUpdate:modelValue":x[6]||(x[6]=A=>he(g)?g.value=A:null),class:"z-[90]",transition:!1},{default:B(()=>[C("div",ts,[ns,C("p",as,[E(" All history and images of "),_(Fe,{class:"mx-1",color:"orange",variant:"outline"},{default:B(()=>[E(D(r(n).currentFlow.display_name),1)]),_:1}),E(" will be deleted. ")]),C("div",ls,[_(ae,{class:"mr-2",color:"red",variant:"outline",loading:r(b),onClick:x[4]||(x[4]=()=>{var A;b.value=!0,r(n).deleteFlowResults((A=r(n).currentFlow)==null?void 0:A.name).then(()=>{b.value=!1,g.value=!1})})},{default:B(()=>[E(" Yes ")]),_:1},8,["loading"]),_(ae,{variant:"outline",onClick:x[5]||(x[5]=()=>g.value=!1)},{default:B(()=>[E("No")]),_:1})])])]),_:1},8,["modelValue"])]),r(a)?(h(),P("div",os,[(h(!0),P(q,null,re(r(n).flowResultsByNamePaginated((Se=r(n).currentFlow)==null?void 0:Se.name),A=>(h(),P("div",{id:"task_id_"+A.task_id,key:A.task_id,class:"flex flex-col justify-center mx-auto mb-5"},[A.outputs.length===1?(h(),P(q,{key:0},[A!=null&&A.child_tasks&&(A==null?void 0:A.child_tasks.length)>0?(h(),z(R,{key:0,"flow-result":A,"open-image-modal":d},null,8,["flow-result"])):A.outputs.length===1?(h(),z(W,{key:1,class:O(`mb-2 h-100 max-h-[${r(n).$state.outputMaxHeight}px] mx-auto rounded-lg cursor-pointer`),draggable:"false",fit:"outside",loading:"lazy",src:("outputImgSrc"in M?M.outputImgSrc:r(ve))({task_id:A.task_id,node_id:A.outputs[0].comfy_node_id}),onClick:se=>d(("outputImgSrc"in M?M.outputImgSrc:r(ve))({task_id:A.task_id,node_id:A.outputs[0].comfy_node_id}))},null,8,["class","src","onClick"])):T("",!0)],64)):A.outputs.length>1?(h(),z(le,{key:1,class:"mb-3 rounded-lg overflow-hidden",items:A.outputs.map((se,Ke)=>({task_id:A.task_id,node_id:se.comfy_node_id,index:Ke})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:B(({item:se})=>[C("div",rs,[A!=null&&A.child_tasks&&("hasChildTaskByParentTaskNodeId"in M?M.hasChildTaskByParentTaskNodeId:r(Lt))(A,se.index,se.node_id)?(h(),z(R,{key:0,"flow-result":A,"outputs-index":se.index,"open-image-modal":d},null,8,["flow-result","outputs-index"])):(h(),z(W,{key:1,class:O(`mb-2 h-100 max-h-[${r(n).$state.outputMaxHeight}px] mx-auto rounded-lg cursor-pointer`),draggable:"false",fit:"outside",loading:"lazy",src:("outputImgSrc"in M?M.outputImgSrc:r(ve))(se),onClick:Ke=>d(("outputImgSrc"in M?M.outputImgSrc:r(ve))(se))},null,8,["class","src","onClick"])),_(ae,{class:"mt-2 w-fit mx-auto",icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",onClick:()=>{L(A,se.index)}},{default:B(()=>[E(" Send to flow ")]),_:2},1032,["onClick"])])]),_:2},1032,["items"])):T("",!0),C("div",is,[C("div",us,[(h(!0),P(q,null,re(Q(A).split("|"),se=>(h(),z(Fe,{key:se,class:"mr-2 mb-2 last:mr-0 hover:cursor-pointer",variant:"soft",color:"gray",onClick:()=>{("useCopyToClipboard"in M?M.useCopyToClipboard:r(xn))().copy(se),("useToast"in M?M.useToast:r(it))().add({title:"Clipboard",description:`${se.split(":")[0].trim()} copied to clipboard`,timeout:2e3})}},{default:B(()=>[E(D(se),1)]),_:2},1032,["onClick"]))),128))])]),C("div",ds,[_(ae,{class:"mr-3",color:"red",icon:"i-heroicons-trash",variant:"outline",onClick:()=>r(n).deleteFlowHistory(A.task_id)},{default:B(()=>[E(" Delete ")]),_:2},1032,["onClick"]),_(Pe,{items:X(A),mode:"click",popper:{placement:"bottom-start"}},{default:B(()=>[_(ae,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])],8,ss))),128)),_(oe,{modelValue:r(p),"onUpdate:modelValue":x[7]||(x[7]=A=>he(p)?p.value=A:null),"flow-result":r(f),"output-img-src":r(c),"output-param-index":r($),"input-params-mapped":r(F),"is-child-task":r(j),"onUpdate:show":x[8]||(x[8]=A=>p.value=A)},null,8,["modelValue","flow-result","output-img-src","output-param-index","input-params-mapped","is-child-task"])])):(h(),P("p",cs," No output results available "))],64)),_(Me,{modelValue:r(y),"onUpdate:modelValue":x[11]||(x[11]=A=>he(y)?y.value=A:null),class:"z-[90]",transition:!1,fullscreen:""},{default:B(()=>[_(ae,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:x[9]||(x[9]=()=>y.value=!1)}),C("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:x[10]||(x[10]=Ge(()=>y.value=!1,["left"]))},[r(u)?(h(),z(W,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",src:r(u)},null,8,["src"])):T("",!0)])]),_:1},8,["modelValue"])],512)}}}),fs={class:"flex flex-col lg:flex-row flex-grow items-start w-full"},ps={class:"card-wrapper w-full lg:pr-5"},vs={key:0,class:"p-0 text-sm"},gs={class:"flex flex-row items-center text-slate-400 mb-2"},hs={class:"flex flex-row flex-wrap items-center text-md mb-2"},bs=C("b",null,"Author:",-1),ys=["href"],ws={class:"flex flex-row items-center text-md mb-2"},ks=["href"],$s={key:1},Is={class:"flex flex-row items-center text-md mb-2"},Ss=C("b",null,"Version:",-1),Cs={key:0},_s={class:"flex flex-row items-center text-md mb-2"},xs=C("b",null,"Tags:",-1),Ps={key:0,class:"flex flex-row flex-wrap items-center text-md mb-2"},Fs=["href"],Ms={key:1,class:"flex flex-row flex-wrap items-center text-md"},Ts=C("b",null,"Requires:",-1),zs={key:0,class:"flex justify-end"},Bs={class:"flex flex-row items-center justify-center text-sm mr-2"},As={key:1},Os={class:"text-sm flex justify-end"},js={class:"flex flex-row items-center justify-center text-sm mr-3"},Us={key:0,class:"text-right"},Es=C("p",{class:"text-orange-500"},"Only admin can manage workflows.",-1),Ns=C("span",{class:"text-slate-500"},"Ask your admin to setup this workflow",-1),Ls=[Es,Ns],Rs={class:"prompt-wrapper w-full"},Ds={class:"flex items-center justify-between"},Vs=C("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Confirm workflow deletion ",-1),Hs={class:"pb-2"},Ws=C("b",null,"private",-1),qs={class:"flex justify-end items-center"},er=H({__name:"[name]",setup(e){const t=da(),n=Ne();n.setCurrentFlow(t.params.name);const a=I(()=>n.flowInstallingByName(t.params.name)),s=I(()=>{var b;return a.value&&((b=a.value)==null?void 0:b.progress)<100||!1}),o=S(!1),l=I(()=>{var b;return a.value?"error"in a.value&&((b=a.value)==null?void 0:b.error)!==""?`${a.value.progress.toFixed(0)}% Error setting up`:`${a.value.progress.toFixed(0)}% Setting up`:"Setup flow"}),i=S(!1),d=S(!1),v=I(()=>{var p;const b=[[{label:"Delete flow",icon:"i-heroicons-trash",click:w}]];return((p=n==null?void 0:n.currentFlow)==null?void 0:p.new_version_available)!==""&&b[0].unshift({label:`Update to ${n.currentFlow.new_version_available}`,icon:"i-heroicons-arrow-path",click:()=>{n.updateFlow(n.currentFlow)}}),b});function k(b,p=!1){i.value=!0,n.deleteFlow(b).then(()=>{p&&pa().push("/")}).finally(()=>{i.value=!1,d.value=!1})}function w(){var p;const b=((p=n.currentFlow)==null?void 0:p.private)||!1;if(b){d.value=!0;return}k(n.currentFlow,b)}const m=S(!1),y=S(null),u=function(b){var p;(p=y.value)==null||p.copyPromptInputs(b)},g=ca();return(b,p)=>{const c=me,f=rn,F=ln,$=pe,j=ft,L=$a,Q=lo,X=Io,M=ms,x=sn,N=Ze,Y=ma;return h(),z(Y,null,{default:B(()=>[!r(n).loading.flows_available&&!r(n).loading.flows_installed&&r(n).currentFlow&&!r(n).$state.loading.tasks_history?(h(),P(q,{key:0},[C("div",fs,[C("div",ps,[_(L,{as:"div",class:"w-full mb-5"},fa({header:B(()=>{var U,K;return[C("h2",{class:"text-xl font-bold cursor-pointer select-none flex items-center",onClick:p[0]||(p[0]=()=>{m.value=!r(m)})},[(U=r(n).currentFlow)!=null&&U.private?(h(),z(f,{key:0,text:"This flow is local, manually added"},{default:B(()=>[_(c,{name:"i-heroicons-lock-closed",class:"mr-2"})]),_:1})):T("",!0),_(c,{name:r(m)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),E(" "+D((K=r(n).currentFlow)==null?void 0:K.display_name),1)])]}),default:B(()=>{var U,K,J,ae,Pe,Fe,Me,R,W,le,oe,Se,A,se,Ke,pt,At;return[r(m)?T("",!0):(h(),P("div",vs,[C("p",gs,D((U=r(n).currentFlow)==null?void 0:U.description),1),C("p",hs,[_(c,{name:"i-heroicons-user-16-solid",class:"mr-1"}),bs,E(" "),C("a",{class:"hover:underline text-md",href:(K=r(n).currentFlow)==null?void 0:K.homepage,rel:"noopener",target:"_blank"},D((J=r(n).currentFlow)==null?void 0:J.author),9,ys)]),C("p",ws,[_(c,{name:"i-heroicons-document-text",class:"mr-1"}),(ae=r(n).currentFlow)!=null&&ae.documentation?(h(),P("a",{key:0,class:"hover:underline",href:(Pe=r(n).currentFlow)==null?void 0:Pe.documentation,rel:"noopener",target:"_blank"}," Documentation ",8,ks)):(h(),P("span",$s,"No documentation"))]),C("p",Is,[_(c,{name:"i-heroicons-clock",class:"mr-1"}),Ss,E(" "),C("span",null,D((Fe=r(n).currentFlow)==null?void 0:Fe.version),1),((Me=r(n).currentFlow)==null?void 0:Me.new_version_available)!==""?(h(),P("span",Cs," (new version available: "+D((R=r(n).currentFlow)==null?void 0:R.new_version_available)+") ",1)):T("",!0)]),C("p",_s,[_(c,{name:"i-heroicons-tag",class:"mr-1"}),xs,E(" "),((W=r(n).currentFlow)==null?void 0:W.tags.length)>0?(h(!0),P(q,{key:0},re((le=r(n).currentFlow)==null?void 0:le.tags,be=>(h(),z(F,{key:be,label:be,color:"white",variant:"solid",class:"m-1"},null,8,["label"]))),128)):(h(),z(F,{key:1,label:"No tags",color:"white",variant:"solid",class:"m-1"}))]),((Se=(oe=r(n).currentFlow)==null?void 0:oe.models)==null?void 0:Se.length)>0?(h(),P("p",Ps,[_(c,{name:"i-heroicons-arrow-down-on-square-stack",class:"mr-1"}),C("b",null,"Models ("+D((A=r(n).currentFlow)==null?void 0:A.models.length)+"):",1),E(" "),(h(!0),P(q,null,re((se=r(n).currentFlow)==null?void 0:se.models,be=>(h(),z(F,{key:be.name,class:"m-1",color:"white",variant:"solid"},{default:B(()=>[be.gated?(h(),z(f,{key:0,text:"Gated model, requires auth token for download",popper:{placement:"top"}},{default:B(()=>[_(c,{name:"i-heroicons-key",class:"mr-1"})]),_:1})):T("",!0),C("a",{class:"hover:underline underline-offset-4",href:be.homepage,rel:"noopener",target:"_blank"},D(be.name),9,Fs)]),_:2},1024))),128))])):T("",!0),((pt=(Ke=r(n).currentFlow)==null?void 0:Ke.requires)==null?void 0:pt.length)>0?(h(),P("p",Ms,[Ts,E(" "),(h(!0),P(q,null,re((At=r(n).currentFlow)==null?void 0:At.requires,be=>(h(),z(F,{key:be,class:"m-1",color:"yellow",variant:"outline"},{default:B(()=>[E(D(be),1)]),_:2},1024))),128))])):T("",!0)]))]}),_:2},[r(m)?void 0:{name:"footer",fn:B(()=>[r(g).isAdmin?(h(),P("div",zs,[C("div",Bs,[_(c,{name:r(n).isFlowInstalled(r(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),C("span",{class:O({"text-green-500":r(n).isFlowInstalled(r(t).params.name),"text-red-500":!r(n).isFlowInstalled(r(t).params.name)})},D(r(n).isFlowInstalled(r(t).params.name)?"Installed":"Not installed"),3)]),r(n).isFlowInstalled(r(t).params.name)?T("",!0):(h(),z(f,{key:0,text:"Setup flow dependencies and configure it in ComfyUI",popper:{placement:"top"},"open-delay":500},{default:B(()=>[_($,{icon:"i-heroicons-arrow-down-tray",class:"mx-3",color:"primary",variant:"outline",loading:r(s),onClick:p[1]||(p[1]=()=>r(n).setupFlow(r(n).currentFlow))},{default:B(()=>[E(D(r(l)),1)]),_:1},8,["loading"])]),_:1})),!r(n).isFlowInstalled(r(t).params.name)&&r(s)?(h(),z(f,{key:1,text:"Cancel flow installation",popper:{placement:"top"},"open-delay":500},{default:B(()=>[_($,{icon:"i-heroicons-stop",variant:"outline",color:"orange",loading:r(o),onClick:p[2]||(p[2]=()=>{o.value=!0,r(n).cancelFlowSetup(r(n).currentFlow).then(()=>{o.value=!1})})},{default:B(()=>[E(" Cancel ")]),_:1},8,["loading"])]),_:1})):T("",!0),r(n).isFlowInstalled(r(t).params.name)?(h(),z(j,{key:2,items:r(v),mode:"click",label:"Actions",popper:{placement:"bottom-end"}},{default:B(()=>[_($,{color:"white",label:"Actions","trailing-icon":"i-heroicons-chevron-down-20-solid"})]),_:1},8,["items"])):T("",!0)])):(h(),P("div",As,[C("div",Os,[C("div",js,[_(c,{name:r(n).isFlowInstalled(r(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),C("span",{class:O({"text-green-500":r(n).isFlowInstalled(r(t).params.name),"text-red-500":!r(n).isFlowInstalled(r(t).params.name)})},D(r(n).isFlowInstalled(r(t).params.name)?"Installed":"Not installed"),3)]),r(n).isFlowInstalled(r(t).params.name)?T("",!0):(h(),P("div",Us,Ls))])]))]),key:"0"}]),1024)]),C("div",Rs,[!r(i)&&r(n).isFlowInstalled(r(t).params.name)?(h(),z(Q,{key:0,ref_key:"workflowPrompt",ref:y},null,512)):T("",!0)])]),!r(i)&&r(n).isFlowInstalled(r(t).params.name)?(h(),z(X,{key:0})):T("",!0),!r(i)&&r(n).isFlowInstalled(r(t).params.name)||r(n).flowResultsByName(r(t).params.name).length>0?(h(),z(M,{key:1,onCopyPromptInputs:p[3]||(p[3]=U=>u(U))})):T("",!0)],64)):(h(),z(x,{key:1,class:"mb-3"})),_(N,{modelValue:r(d),"onUpdate:modelValue":p[7]||(p[7]=U=>he(d)?d.value=U:null),"prevent-close":""},{default:B(()=>[_(L,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:B(()=>[C("div",Ds,[Vs,_($,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:p[4]||(p[4]=U=>d.value=!1)})])]),default:B(()=>{var U;return[C("p",Hs,[E(" Are you sure you want to delete the "),Ws,E(" workflow "),C("b",null,D((U=r(n).currentFlow)==null?void 0:U.display_name),1),E("? ")]),C("div",qs,[_($,{icon:"i-heroicons-x-mark-16-solid",variant:"outline",color:"green",class:"mr-2",onClick:p[5]||(p[5]=K=>d.value=!1)},{default:B(()=>[E(" Cancel ")]),_:1}),_($,{icon:"i-heroicons-trash",variant:"outline",color:"red",onClick:p[6]||(p[6]=K=>{var J;return k(r(n).currentFlow,((J=r(n).currentFlow)==null?void 0:J.private)||!1)})},{default:B(()=>[E(" Delete ")]),_:1})])]}),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{er as default};
