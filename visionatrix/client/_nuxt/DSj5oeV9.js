import{_ as x}from"./BuAl3ROk.js";import{g as w,u as y,s as b,v as V,j as M,w as l,q as S,o as m,a as o,b as s,i,c as U,k as A,d as p,x as u,m as G,l as I}from"./Bw4W2qmh.js";import{_ as P}from"./DOBFGm_j.js";import{_ as z}from"./B5RUSE0j.js";import"./ePZgapm-.js";const C={class:"flex flex-col md:flex-row"},N={class:"px-5 md:w-4/5"},B=o("h2",{class:"mb-3 text-xl"},"Settings",-1),q={key:0,class:"admin-settings mb-3"},F=o("h3",{class:"mb-3"},"Admin settings",-1),H={class:"flex items-center"},j=o("p",{class:"text-amber-400"},[o("span",null,"Access tokens are required forÂ "),o("a",{class:"hover:underline underline-offset-4",href:"https://visionatrix.github.io/VixFlowsDocs/GatedModels.html",target:"_blank"},"gated models"),p(". ")],-1),E={class:"user-settings mb-3"},T=o("h3",{class:"mb-3"},"User settings",-1),L=w({__name:"index",setup($){y({title:"Settings - Visionatrix",meta:[{name:"description",content:"Settings - Visionatrix"}]});const _=[{label:"Settings",icon:"i-heroicons-cog-6-tooth-20-solid",to:"/settings"},{label:"Workers information",icon:"i-heroicons-chart-bar-16-solid",to:"/settings/workers"}],e=b();function g(){console.debug("Saving settings",e.settingsMap.value),Promise.all(Object.keys(e.settingsMap).map(t=>e.settingsMap[t].admin&&d.isAdmin?e.saveGlobalSetting(e.settingsMap[t].key,e.settingsMap[t].value,e.settingsMap[t].sensitive):e.saveUserSetting(e.settingsMap[t].key,e.settingsMap[t].value))).then(()=>{u().add({title:"Settings saved",description:"Settings saved successfully"})}).catch(t=>{u().add({title:"Error saving setting",description:t.message})})}const d=V();return(t,n)=>{const h=x,f=G,c=P,r=z,k=I,v=S;return m(),M(v,{class:"lg:h-dvh"},{default:l(()=>[o("div",C,[s(h,{links:_,class:"md:w-1/5"}),o("div",N,[B,i(d).isAdmin?(m(),U("div",q,[F,o("div",H,[s(f,{name:"i-heroicons-question-mark-circle",class:"mr-2 text-amber-400"}),j]),s(r,{size:"md",class:"py-3",label:"Huggingface Auth token",description:"Bearer authentication token from your Huggingface account to allow downloading gated models with limited access"},{default:l(()=>[s(c,{modelValue:i(e).settingsMap.huggingface_auth_token.value,"onUpdate:modelValue":n[0]||(n[0]=a=>i(e).settingsMap.huggingface_auth_token.value=a),placeholder:"Huggingface Auth token",class:"w-full",type:"password",icon:"i-heroicons-shield-check",size:"md"},null,8,["modelValue"])]),_:1}),s(r,{size:"md",class:"py-3",label:"Gemini API key",description:"Global Gemini API key, required for Flows where ComfyUI-Gemini Node is used"},{default:l(()=>[s(c,{modelValue:i(e).settingsMap.gemini_token.value,"onUpdate:modelValue":n[1]||(n[1]=a=>i(e).settingsMap.gemini_token.value=a),placeholder:"Gemini API key",class:"w-full",type:"password",icon:"i-heroicons-shield-check",size:"md"},null,8,["modelValue"])]),_:1}),s(r,{size:"md",class:"py-3",label:"Proxy",description:"Proxy configuration string (to access Gemini)"},{default:l(()=>[s(c,{modelValue:i(e).settingsMap.proxy.value,"onUpdate:modelValue":n[2]||(n[2]=a=>i(e).settingsMap.proxy.value=a),placeholder:"Proxy",class:"w-full",type:"password",icon:"i-heroicons-shield-check",size:"md"},null,8,["modelValue"])]),_:1})])):A("",!0),o("div",E,[T,s(r,{size:"md",class:"py-3",label:"Gemini API key",description:"Gemini API key, required for Flows where ComfyUI-Gemini Node is used"},{default:l(()=>[s(c,{modelValue:i(e).settingsMap.gemini_token_user.value,"onUpdate:modelValue":n[3]||(n[3]=a=>i(e).settingsMap.gemini_token_user.value=a),placeholder:"Gemini API key",class:"w-full",type:"password",icon:"i-heroicons-shield-check",size:"md"},null,8,["modelValue"])]),_:1})]),s(k,{icon:"i-heroicons-check-16-solid",onClick:g},{default:l(()=>[p(" Save ")]),_:1})])])]),_:1})}}});export{L as default};
