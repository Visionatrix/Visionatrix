import{g as V,x as P,D as k,a0 as Rt,O as Z,a1 as he,a2 as gn,a3 as se,a4 as It,a5 as Ct,a6 as ke,F as q,a7 as Me,a8 as Ue,Q as ie,a9 as D,aa as Lt,ab as xe,ac as Je,ad as Ze,ae as ye,af as hn,ag as bn,ah as yn,ai as Re,aj as Le,ak as He,al as gt,am as ae,an as wn,ao as kn,ap as Nt,aq as $n,ar as Sn,as as Ft,at as Ge,au as Ce,av as te,aw as Pn,ax as In,ay as Dt,az as Cn,aA as Fn,aB as Vt,aC as Mn,aD as xn,aE as je,aF as An,J as j,aG as Bn,z as Ae,aH as _n,A as J,_ as $e,l as me,W as tt,B as Be,C as ue,G as nt,aI as On,aJ as Ht,aK as zn,X as we,Y as re,aL as Ie,o as g,i as B,w as _,b as I,I as le,a as S,c as F,aM as Wt,aN as Tn,K as X,j as x,r as oe,aO as jn,t as H,d as L,e as qt,aP as Gt,aQ as En,aR as Un,aS as Mt,aT as Rn,aU as mt,aV as Ln,aW as Nn,aX as xt,aY as Qt,aZ as Dn,u as Vn,a_ as ht,a$ as Hn,P as At,k as u,S as Fe,L as Ve,m as fe,h as Ne,b0 as Jt,b1 as Wn,b2 as qn,b3 as Gn,b4 as et,b5 as Qn,b6 as Jn,H as Bt,R as Yn,y as Kn,b7 as _t,n as Yt,b8 as Xn,s as Zn,q as ea,b9 as ta,ba as na}from"./CzG2SqNg.js";import{t as Kt,c as Ot,o as at,i as aa,p as la,u as oa,f as ra,d as ce,e as Xt,b as Zt,a as en,_ as sa}from"./BtZ7nV8c.js";import{a as ia,_ as ua}from"./7v01hRdX.js";import{u as bt}from"./x4dqHUSA.js";import{_ as yt}from"./NUV2RTOU.js";import{_ as da}from"./D97SU3Bs.js";import{_ as tn}from"./l8s0Jvl5.js";const ca={wrapper:"w-full relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium",description:"mt-1 text-sm leading-4 opacity-90",actions:"flex items-center gap-2 mt-3 flex-shrink-0",shadow:"",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0 self-center",size:"md"},color:{white:{solid:"text-gray-900 dark:text-white bg-white dark:bg-gray-900 ring-1 ring-gray-200 dark:ring-gray-800"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{color:"white",variant:"solid",icon:null,closeButton:null,actionButton:{size:"xs",color:"primary",variant:"link"}}},ma={wrapper:"relative",container:"relative w-full flex overflow-x-auto snap-x snap-mandatory scroll-smooth",item:"flex flex-none snap-center",arrows:{wrapper:"flex items-center justify-between"},indicators:{wrapper:"absolute flex items-center justify-center gap-3 bottom-4 inset-x-0",base:"rounded-full h-3 w-3",active:"bg-primary-500 dark:bg-primary-400",inactive:"bg-gray-100 dark:bg-gray-800 mix-blend-overlay"},default:{prevButton:{color:"black",class:"rtl:[&_span:first-child]:rotate-180 absolute left-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"black",class:"rtl:[&_span:last-child]:rotate-180 absolute right-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-right-20-solid "}}},fa={wrapper:"relative w-full flex items-center",base:"w-full absolute appearance-none cursor-pointer disabled:cursor-not-allowed disabled:bg-opacity-50 focus:outline-none peer group",rounded:"rounded-lg",background:"bg-transparent",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",progress:{base:"absolute pointer-events-none peer-disabled:bg-opacity-50",rounded:"rounded-s-lg",background:"bg-{color}-500 dark:bg-{color}-400",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"}},thumb:{base:"[&::-webkit-slider-thumb]:relative [&::-moz-range-thumb]:relative [&::-webkit-slider-thumb]:z-[1] [&::-moz-range-thumb]:z-[1] [&::-webkit-slider-thumb]:appearance-none [&::-moz-range-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:border-0",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:dark:bg-gray-900 [&::-moz-range-thumb]:bg-current",ring:"[&::-webkit-slider-thumb]:ring-2 [&::-webkit-slider-thumb]:ring-current",size:{"2xs":"[&::-webkit-slider-thumb]:h-1.5 [&::-moz-range-thumb]:h-1.5 [&::-webkit-slider-thumb]:w-1.5 [&::-moz-range-thumb]:w-1.5 [&::-webkit-slider-thumb]:mt-[-2.5px] [&::-moz-range-thumb]:mt-[-2.5px]",xs:"[&::-webkit-slider-thumb]:h-2 [&::-moz-range-thumb]:h-2 [&::-webkit-slider-thumb]:w-2 [&::-moz-range-thumb]:w-2 [&::-webkit-slider-thumb]:mt-[-3px] [&::-moz-range-thumb]:mt-[-3px]",sm:"[&::-webkit-slider-thumb]:h-3 [&::-moz-range-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-moz-range-thumb]:w-3 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",md:"[&::-webkit-slider-thumb]:h-4 [&::-moz-range-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-moz-range-thumb]:w-4 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",lg:"[&::-webkit-slider-thumb]:h-5 [&::-moz-range-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-moz-range-thumb]:w-5 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",xl:"[&::-webkit-slider-thumb]:h-6 [&::-moz-range-thumb]:h-6 [&::-webkit-slider-thumb]:w-6 [&::-moz-range-thumb]:w-6 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1","2xl":"[&::-webkit-slider-thumb]:h-7 [&::-moz-range-thumb]:h-7 [&::-webkit-slider-thumb]:w-7 [&::-moz-range-thumb]:w-7 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1"}},track:{base:"[&::-webkit-slider-runnable-track]:group-disabled:bg-opacity-50 [&::-moz-range-track]:group-disabled:bg-opacity-50",background:"[&::-webkit-slider-runnable-track]:bg-gray-200 [&::-moz-range-track]:bg-gray-200 [&::-webkit-slider-runnable-track]:dark:bg-gray-700 [&::-moz-range-track]:dark:bg-gray-700",rounded:"[&::-webkit-slider-runnable-track]:rounded-lg [&::-moz-range-track]:rounded-lg",size:{"2xs":"[&::-webkit-slider-runnable-track]:h-px [&::-moz-range-track]:h-px",xs:"[&::-webkit-slider-runnable-track]:h-0.5 [&::-moz-range-track]:h-0.5",sm:"[&::-webkit-slider-runnable-track]:h-1 [&::-moz-range-track]:h-1",md:"[&::-webkit-slider-runnable-track]:h-2 [&::-moz-range-track]:h-2",lg:"[&::-webkit-slider-runnable-track]:h-3 [&::-moz-range-track]:h-3",xl:"[&::-webkit-slider-runnable-track]:h-4 [&::-moz-range-track]:h-4","2xl":"[&::-webkit-slider-runnable-track]:h-5 [&::-moz-range-track]:h-5"}},size:{"2xs":"h-1.5",xs:"h-2",sm:"h-3",md:"h-4",lg:"h-5",xl:"h-6","2xl":"h-7"},default:{size:"md",color:"primary"}},pa={base:"animate-pulse",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-md"},va={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function nn(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.value){let a=D(n);a instanceof HTMLElement&&t.add(a)}return t}var an=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(an||{});let We=Object.assign(V({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:P(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:a}){let o=P(null);a({el:o,$el:o});let r=k(()=>Rt(o)),l=P(!1);Z(()=>l.value=!0),he(()=>l.value=!1),ha({ownerDocument:r},k(()=>l.value&&!!(e.features&16)));let s=ba({ownerDocument:r,container:o,initialFocus:k(()=>e.initialFocus)},k(()=>l.value&&!!(e.features&2)));ya({ownerDocument:r,container:o,containers:e.containers,previousActiveElement:s},k(()=>l.value&&!!(e.features&8)));let i=gn();function m(h){let d=D(o);d&&(f=>f())(()=>{xe(i.value,{[Je.Forwards]:()=>{Ze(d,ye.First,{skipElements:[h.relatedTarget]})},[Je.Backwards]:()=>{Ze(d,ye.Last,{skipElements:[h.relatedTarget]})}})})}let b=P(!1);function w(h){h.key==="Tab"&&(b.value=!0,requestAnimationFrame(()=>{b.value=!1}))}function c(h){if(!l.value)return;let d=nn(e.containers);D(o)instanceof HTMLElement&&d.add(D(o));let f=h.relatedTarget;f instanceof HTMLElement&&f.dataset.headlessuiFocusGuard!=="true"&&(ln(d,f)||(b.value?Ze(D(o),xe(i.value,{[Je.Forwards]:()=>ye.Next,[Je.Backwards]:()=>ye.Previous})|ye.WrapAround,{relativeTo:h.target}):h.target instanceof HTMLElement&&Ue(h.target)))}return()=>{let h={},d={ref:o,onKeydown:w,onFocusout:c},{features:f,initialFocus:p,containers:v,...$}=e;return se(q,[!!(f&4)&&se(It,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Ct.Focusable}),ke({ourProps:d,theirProps:{...t,...$},slot:h,attrs:t,slots:n,name:"FocusTrap"}),!!(f&4)&&se(It,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Ct.Focusable})])}}}),{features:an});function ga(e){let t=P(Ot.slice());return ie([e],([n],[a])=>{a===!0&&n===!1?Kt(()=>{t.value.splice(0)}):a===!1&&n===!0&&(t.value=Ot.slice())},{flush:"post"}),()=>{var n;return(n=t.value.find(a=>a!=null&&a.isConnected))!=null?n:null}}function ha({ownerDocument:e},t){let n=ga(t);Z(()=>{Me(()=>{var a,o;t.value||((a=e.value)==null?void 0:a.activeElement)===((o=e.value)==null?void 0:o.body)&&Ue(n())},{flush:"post"})}),he(()=>{t.value&&Ue(n())})}function ba({ownerDocument:e,container:t,initialFocus:n},a){let o=P(null),r=P(!1);return Z(()=>r.value=!0),he(()=>r.value=!1),Z(()=>{ie([t,n,a],(l,s)=>{if(l.every((m,b)=>(s==null?void 0:s[b])===m)||!a.value)return;let i=D(t);i&&Kt(()=>{var m,b;if(!r.value)return;let w=D(n),c=(m=e.value)==null?void 0:m.activeElement;if(w){if(w===c){o.value=c;return}}else if(i.contains(c)){o.value=c;return}w?Ue(w):Ze(i,ye.First|ye.NoScroll)===hn.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.value=(b=e.value)==null?void 0:b.activeElement})},{immediate:!0,flush:"post"})}),o}function ya({ownerDocument:e,container:t,containers:n,previousActiveElement:a},o){var r;Lt((r=e.value)==null?void 0:r.defaultView,"focus",l=>{if(!o.value)return;let s=nn(n);D(t)instanceof HTMLElement&&s.add(D(t));let i=a.value;if(!i)return;let m=l.target;m&&m instanceof HTMLElement?ln(s,m)?(a.value=m,Ue(m)):(l.preventDefault(),l.stopPropagation(),Ue(i)):Ue(a.value)},!0)}function ln(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function wa(e){let t=bn(e.getSnapshot());return he(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function ka(e,t){let n=e(),a=new Set;return{getSnapshot(){return n},subscribe(o){return a.add(o),()=>a.delete(o)},dispatch(o,...r){let l=t[o].call(n,...r);l&&(n=l,a.forEach(s=>s()))}}}function $a(){let e;return{before({doc:t}){var n;let a=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-a.clientWidth},after({doc:t,d:n}){let a=t.documentElement,o=a.clientWidth-a.offsetWidth,r=e-o;n.style(a,"paddingRight",`${r}px`)}}}function Sa(){return yn()?{before({doc:e,d:t,meta:n}){function a(o){return n.containers.flatMap(r=>r()).some(r=>r.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=at();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let r=(o=window.scrollY)!=null?o:window.pageYOffset,l=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let i=s.target.closest("a");if(!i)return;let{hash:m}=new URL(i.href),b=e.querySelector(m);b&&!a(b)&&(l=b)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(s.target instanceof HTMLElement)if(a(s.target)){let i=s.target;for(;i.parentElement&&a(i.parentElement);)i=i.parentElement;t.style(i,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(s.target instanceof HTMLElement){if(s.target.tagName==="INPUT")return;if(a(s.target)){let i=s.target;for(;i.parentElement&&i.dataset.headlessuiPortal!==""&&!(i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth);)i=i.parentElement;i.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let i=(s=window.scrollY)!=null?s:window.pageYOffset;r!==i&&window.scrollTo(0,r),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function Pa(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Ia(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Ee=ka(()=>new Map,{PUSH(e,t){var n;let a=(n=this.get(e))!=null?n:{doc:e,count:0,d:at(),meta:new Set};return a.count++,a.meta.add(t),this.set(e,a),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let a={doc:e,d:t,meta:Ia(n)},o=[Sa(),$a(),Pa()];o.forEach(({before:r})=>r==null?void 0:r(a)),o.forEach(({after:r})=>r==null?void 0:r(a))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ee.subscribe(()=>{let e=Ee.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let a=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!a||!o&&a)&&Ee.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ee.dispatch("TEARDOWN",n)}});function Ca(e,t,n){let a=wa(Ee),o=k(()=>{let r=e.value?a.value.get(e.value):void 0;return r?r.count>0:!1});return ie([e,t],([r,l],[s],i)=>{if(!r||!l)return;Ee.dispatch("PUSH",r,n);let m=!1;i(()=>{m||(Ee.dispatch("POP",s??r,n),m=!0)})},{immediate:!0}),o}let it=new Map,qe=new Map;function zt(e,t=P(!0)){Me(n=>{var a;if(!t.value)return;let o=D(e);if(!o)return;n(function(){var l;if(!o)return;let s=(l=qe.get(o))!=null?l:1;if(s===1?qe.delete(o):qe.set(o,s-1),s!==1)return;let i=it.get(o);i&&(i["aria-hidden"]===null?o.removeAttribute("aria-hidden"):o.setAttribute("aria-hidden",i["aria-hidden"]),o.inert=i.inert,it.delete(o))});let r=(a=qe.get(o))!=null?a:0;qe.set(o,r+1),r===0&&(it.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),o.setAttribute("aria-hidden","true"),o.inert=!0)})}let on=Symbol("StackContext");var ft=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(ft||{});function Fa(){return Le(on,()=>{})}function Ma({type:e,enabled:t,element:n,onUpdate:a}){let o=Fa();function r(...l){a==null||a(...l),o(...l)}Z(()=>{ie(t,(l,s)=>{l?r(0,e,n):s===!0&&r(1,e,n)},{immediate:!0,flush:"sync"})}),he(()=>{t.value&&r(1,e,n)}),Re(on,r)}let xa=Symbol("DescriptionContext");function Aa({slot:e=P({}),name:t="Description",props:n={}}={}){let a=P([]);function o(r){return a.value.push(r),()=>{let l=a.value.indexOf(r);l!==-1&&a.value.splice(l,1)}}return Re(xa,{register:o,slot:e,name:t,props:n}),k(()=>a.value.length>0?a.value.join(" "):void 0)}var Ba=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ba||{});let pt=Symbol("DialogContext");function rn(e){let t=Le(pt,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,rn),n}return t}let Ye="DC8F892D-2EBD-447C-A4C8-A03058436FF4",_a=V({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Ye},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:n,slots:a,expose:o}){var r,l;let s=(r=e.id)!=null?r:`headlessui-dialog-${He()}`,i=P(!1);Z(()=>{i.value=!0});let m=!1,b=k(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(m||(m=!0,console.warn(`Invalid role [${b}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),w=P(0),c=gt(),h=k(()=>e.open===Ye&&c!==null?(c.value&ae.Open)===ae.Open:e.open),d=P(null),f=k(()=>Rt(d));if(o({el:d,$el:d}),!(e.open!==Ye||c!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof h.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${h.value===Ye?void 0:e.open}`);let p=k(()=>i.value&&h.value?0:1),v=k(()=>p.value===0),$=k(()=>w.value>1),y=Le(pt,null)!==null,[A,C]=wn(),{resolveContainers:E,mainTreeNodeRef:T,MainTreeNode:z}=kn({portals:A,defaultContainers:[k(()=>{var U;return(U=de.panelRef.value)!=null?U:d.value})]}),Y=k(()=>$.value?"parent":"leaf"),ne=k(()=>c!==null?(c.value&ae.Closing)===ae.Closing:!1),N=k(()=>y||ne.value?!1:v.value),G=k(()=>{var U,M,R;return(R=Array.from((M=(U=f.value)==null?void 0:U.querySelectorAll("body > *"))!=null?M:[]).find(ee=>ee.id==="headlessui-portal-root"?!1:ee.contains(D(T))&&ee instanceof HTMLElement))!=null?R:null});zt(G,N);let K=k(()=>$.value?!0:v.value),O=k(()=>{var U,M,R;return(R=Array.from((M=(U=f.value)==null?void 0:U.querySelectorAll("[data-headlessui-portal]"))!=null?M:[]).find(ee=>ee.contains(D(T))&&ee instanceof HTMLElement))!=null?R:null});zt(O,K),Ma({type:"Dialog",enabled:k(()=>p.value===0),element:d,onUpdate:(U,M)=>{if(M==="Dialog")return xe(U,{[ft.Add]:()=>w.value+=1,[ft.Remove]:()=>w.value-=1})}});let W=Aa({name:"DialogDescription",slot:k(()=>({open:h.value}))}),Q=P(null),de={titleId:Q,panelRef:P(null),dialogState:p,setTitleId(U){Q.value!==U&&(Q.value=U)},close(){t("close",!1)}};Re(pt,de);let be=k(()=>!(!v.value||$.value));Nt(E,(U,M)=>{U.preventDefault(),de.close(),Ce(()=>M==null?void 0:M.focus())},be);let _e=k(()=>!($.value||p.value!==0));Lt((l=f.value)==null?void 0:l.defaultView,"keydown",U=>{_e.value&&(U.defaultPrevented||U.key===te.Escape&&(U.preventDefault(),U.stopPropagation(),de.close()))});let Oe=k(()=>!(ne.value||p.value!==0||y));return Ca(f,Oe,U=>{var M;return{containers:[...(M=U.containers)!=null?M:[],E]}}),Me(U=>{if(p.value!==0)return;let M=D(d);if(!M)return;let R=new ResizeObserver(ee=>{for(let De of ee){let ze=De.target.getBoundingClientRect();ze.x===0&&ze.y===0&&ze.width===0&&ze.height===0&&de.close()}});R.observe(M),U(()=>R.disconnect())}),()=>{let{open:U,initialFocus:M,...R}=e,ee={...n,ref:d,id:s,role:b.value,"aria-modal":p.value===0?!0:void 0,"aria-labelledby":Q.value,"aria-describedby":W.value},De={open:p.value===0};return se(Ft,{force:!0},()=>[se($n,()=>se(Sn,{target:d.value},()=>se(Ft,{force:!1},()=>se(We,{initialFocus:M,containers:E,features:v.value?xe(Y.value,{parent:We.features.RestoreFocus,leaf:We.features.All&~We.features.FocusLock}):We.features.None},()=>se(C,{},()=>ke({ourProps:ee,theirProps:{...R,...n},slot:De,attrs:n,slots:a,visible:p.value===0,features:Ge.RenderStrategy|Ge.Static,name:"Dialog"})))))),se(z)])}}}),Oa=V({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:a}){var o;let r=(o=e.id)!=null?o:`headlessui-dialog-panel-${He()}`,l=rn("DialogPanel");a({el:l.panelRef,$el:l.panelRef});function s(i){i.stopPropagation()}return()=>{let{...i}=e,m={id:r,ref:l.panelRef,onClick:s};return ke({ourProps:m,theirProps:i,slot:{open:l.dialogState.value===0},attrs:t,slots:n,name:"DialogPanel"})}}});var za=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(za||{}),Ta=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ta||{});function ja(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let sn=Symbol("MenuContext");function lt(e){let t=Le(sn,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,lt),n}return t}let Ea=V({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let a=P(1),o=P(null),r=P(null),l=P([]),s=P(""),i=P(null),m=P(1);function b(c=h=>h){let h=i.value!==null?l.value[i.value]:null,d=Mn(c(l.value.slice()),p=>D(p.dataRef.domRef)),f=h?d.indexOf(h):null;return f===-1&&(f=null),{items:d,activeItemIndex:f}}let w={menuState:a,buttonRef:o,itemsRef:r,items:l,searchQuery:s,activeItemIndex:i,activationTrigger:m,closeMenu:()=>{a.value=1,i.value=null},openMenu:()=>a.value=0,goToItem(c,h,d){let f=b(),p=ra(c===ce.Specific?{focus:ce.Specific,id:h}:{focus:c},{resolveItems:()=>f.items,resolveActiveIndex:()=>f.activeItemIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.disabled});s.value="",i.value=p,m.value=d??1,l.value=f.items},search(c){let h=s.value!==""?0:1;s.value+=c.toLowerCase();let d=(i.value!==null?l.value.slice(i.value+h).concat(l.value.slice(0,i.value+h)):l.value).find(p=>p.dataRef.textValue.startsWith(s.value)&&!p.dataRef.disabled),f=d?l.value.indexOf(d):-1;f===-1||f===i.value||(i.value=f,m.value=1)},clearSearch(){s.value=""},registerItem(c,h){let d=b(f=>[...f,{id:c,dataRef:h}]);l.value=d.items,i.value=d.activeItemIndex,m.value=1},unregisterItem(c){let h=b(d=>{let f=d.findIndex(p=>p.id===c);return f!==-1&&d.splice(f,1),d});l.value=h.items,i.value=h.activeItemIndex,m.value=1}};return Nt([o,r],(c,h)=>{var d;w.closeMenu(),Pn(h,In.Loose)||(c.preventDefault(),(d=D(o))==null||d.focus())},k(()=>a.value===0)),Re(sn,w),Dt(k(()=>xe(a.value,{0:ae.Open,1:ae.Closed}))),()=>{let c={open:a.value===0,close:w.closeMenu};return ke({ourProps:{},theirProps:e,slot:c,slots:t,attrs:n,name:"Menu"})}}}),Ua=V({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:a}){var o;let r=(o=e.id)!=null?o:`headlessui-menu-button-${He()}`,l=lt("MenuButton");a({el:l.buttonRef,$el:l.buttonRef});function s(w){switch(w.key){case te.Space:case te.Enter:case te.ArrowDown:w.preventDefault(),w.stopPropagation(),l.openMenu(),Ce(()=>{var c;(c=D(l.itemsRef))==null||c.focus({preventScroll:!0}),l.goToItem(ce.First)});break;case te.ArrowUp:w.preventDefault(),w.stopPropagation(),l.openMenu(),Ce(()=>{var c;(c=D(l.itemsRef))==null||c.focus({preventScroll:!0}),l.goToItem(ce.Last)});break}}function i(w){switch(w.key){case te.Space:w.preventDefault();break}}function m(w){e.disabled||(l.menuState.value===0?(l.closeMenu(),Ce(()=>{var c;return(c=D(l.buttonRef))==null?void 0:c.focus({preventScroll:!0})})):(w.preventDefault(),l.openMenu(),ja(()=>{var c;return(c=D(l.itemsRef))==null?void 0:c.focus({preventScroll:!0})})))}let b=Cn(k(()=>({as:e.as,type:t.type})),l.buttonRef);return()=>{var w;let c={open:l.menuState.value===0},{...h}=e,d={ref:l.buttonRef,id:r,type:b.value,"aria-haspopup":"menu","aria-controls":(w=D(l.itemsRef))==null?void 0:w.id,"aria-expanded":l.menuState.value===0,onKeydown:s,onKeyup:i,onClick:m};return ke({ourProps:d,theirProps:h,slot:c,attrs:t,slots:n,name:"MenuButton"})}}}),Ra=V({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:a}){var o;let r=(o=e.id)!=null?o:`headlessui-menu-items-${He()}`,l=lt("MenuItems"),s=P(null);a({el:l.itemsRef,$el:l.itemsRef}),aa({container:k(()=>D(l.itemsRef)),enabled:k(()=>l.menuState.value===0),accept(c){return c.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute("role","none")}});function i(c){var h;switch(s.value&&clearTimeout(s.value),c.key){case te.Space:if(l.searchQuery.value!=="")return c.preventDefault(),c.stopPropagation(),l.search(c.key);case te.Enter:if(c.preventDefault(),c.stopPropagation(),l.activeItemIndex.value!==null){let d=l.items.value[l.activeItemIndex.value];(h=D(d.dataRef.domRef))==null||h.click()}l.closeMenu(),Vt(D(l.buttonRef));break;case te.ArrowDown:return c.preventDefault(),c.stopPropagation(),l.goToItem(ce.Next);case te.ArrowUp:return c.preventDefault(),c.stopPropagation(),l.goToItem(ce.Previous);case te.Home:case te.PageUp:return c.preventDefault(),c.stopPropagation(),l.goToItem(ce.First);case te.End:case te.PageDown:return c.preventDefault(),c.stopPropagation(),l.goToItem(ce.Last);case te.Escape:c.preventDefault(),c.stopPropagation(),l.closeMenu(),Ce(()=>{var d;return(d=D(l.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case te.Tab:c.preventDefault(),c.stopPropagation(),l.closeMenu(),Ce(()=>Fn(D(l.buttonRef),c.shiftKey?ye.Previous:ye.Next));break;default:c.key.length===1&&(l.search(c.key),s.value=setTimeout(()=>l.clearSearch(),350));break}}function m(c){switch(c.key){case te.Space:c.preventDefault();break}}let b=gt(),w=k(()=>b!==null?(b.value&ae.Open)===ae.Open:l.menuState.value===0);return()=>{var c,h;let d={open:l.menuState.value===0},{...f}=e,p={"aria-activedescendant":l.activeItemIndex.value===null||(c=l.items.value[l.activeItemIndex.value])==null?void 0:c.id,"aria-labelledby":(h=D(l.buttonRef))==null?void 0:h.id,id:r,onKeydown:i,onKeyup:m,role:"menu",tabIndex:0,ref:l.itemsRef};return ke({ourProps:p,theirProps:f,slot:d,attrs:t,slots:n,features:Ge.RenderStrategy|Ge.Static,visible:w.value,name:"MenuItems"})}}}),La=V({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:n,expose:a}){var o;let r=(o=e.id)!=null?o:`headlessui-menu-item-${He()}`,l=lt("MenuItem"),s=P(null);a({el:s,$el:s});let i=k(()=>l.activeItemIndex.value!==null?l.items.value[l.activeItemIndex.value].id===r:!1),m=la(s),b=k(()=>({disabled:e.disabled,get textValue(){return m()},domRef:s}));Z(()=>l.registerItem(r,b)),he(()=>l.unregisterItem(r)),Me(()=>{l.menuState.value===0&&i.value&&l.activationTrigger.value!==0&&Ce(()=>{var v,$;return($=(v=D(s))==null?void 0:v.scrollIntoView)==null?void 0:$.call(v,{block:"nearest"})})});function w(v){if(e.disabled)return v.preventDefault();l.closeMenu(),Vt(D(l.buttonRef))}function c(){if(e.disabled)return l.goToItem(ce.Nothing);l.goToItem(ce.Specific,r)}let h=oa();function d(v){h.update(v)}function f(v){h.wasMoved(v)&&(e.disabled||i.value||l.goToItem(ce.Specific,r,0))}function p(v){h.wasMoved(v)&&(e.disabled||i.value&&l.goToItem(ce.Nothing))}return()=>{let{disabled:v,...$}=e,y={active:i.value,disabled:v,close:l.closeMenu};return ke({ourProps:{id:r,ref:s,role:"menuitem",tabIndex:v===!0?void 0:-1,"aria-disabled":v===!0?!0:void 0,onClick:w,onFocus:c,onPointerenter:d,onMouseenter:d,onPointermove:f,onMousemove:f,onPointerleave:p,onMouseleave:p},theirProps:{...n,...$},slot:y,attrs:n,slots:t,name:"MenuItem"})}}});function Na(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function ut(e,...t){e&&t.length>0&&e.classList.add(...t)}function Ke(e,...t){e&&t.length>0&&e.classList.remove(...t)}var vt=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(vt||{});function Da(e,t){let n=at();if(!e)return n.dispose;let{transitionDuration:a,transitionDelay:o}=getComputedStyle(e),[r,l]=[a,o].map(s=>{let[i=0]=s.split(",").filter(Boolean).map(m=>m.includes("ms")?parseFloat(m):parseFloat(m)*1e3).sort((m,b)=>b-m);return i});return r!==0?n.setTimeout(()=>t("finished"),r+l):t("finished"),n.add(()=>t("cancelled")),n.dispose}function Tt(e,t,n,a,o,r){let l=at(),s=r!==void 0?Na(r):()=>{};return Ke(e,...o),ut(e,...t,...n),l.nextFrame(()=>{Ke(e,...n),ut(e,...a),l.add(Da(e,i=>(Ke(e,...a,...t),ut(e,...o),s(i))))}),l.add(()=>Ke(e,...t,...n,...a,...o)),l.add(()=>s("cancelled")),l.dispose}function Te(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let wt=Symbol("TransitionContext");var Va=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Va||{});function Ha(){return Le(wt,null)!==null}function Wa(){let e=Le(wt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function qa(){let e=Le(kt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let kt=Symbol("NestingContext");function ot(e){return"children"in e?ot(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function un(e){let t=P([]),n=P(!1);Z(()=>n.value=!0),he(()=>n.value=!1);function a(r,l=je.Hidden){let s=t.value.findIndex(({id:i})=>i===r);s!==-1&&(xe(l,{[je.Unmount](){t.value.splice(s,1)},[je.Hidden](){t.value[s].state="hidden"}}),!ot(t)&&n.value&&(e==null||e()))}function o(r){let l=t.value.find(({id:s})=>s===r);return l?l.state!=="visible"&&(l.state="visible"):t.value.push({id:r,state:"visible"}),()=>a(r,je.Unmount)}return{children:t,register:o,unregister:a}}let dn=Ge.RenderStrategy,cn=V({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:a,expose:o}){let r=P(0);function l(){r.value|=ae.Opening,t("beforeEnter")}function s(){r.value&=~ae.Opening,t("afterEnter")}function i(){r.value|=ae.Closing,t("beforeLeave")}function m(){r.value&=~ae.Closing,t("afterLeave")}if(!Ha()&&xn())return()=>se(mn,{...e,onBeforeEnter:l,onAfterEnter:s,onBeforeLeave:i,onAfterLeave:m},a);let b=P(null),w=k(()=>e.unmount?je.Unmount:je.Hidden);o({el:b,$el:b});let{show:c,appear:h}=Wa(),{register:d,unregister:f}=qa(),p=P(c.value?"visible":"hidden"),v={value:!0},$=He(),y={value:!1},A=un(()=>{!y.value&&p.value!=="hidden"&&(p.value="hidden",f($),m())});Z(()=>{let K=d($);he(K)}),Me(()=>{if(w.value===je.Hidden&&$){if(c.value&&p.value!=="visible"){p.value="visible";return}xe(p.value,{hidden:()=>f($),visible:()=>d($)})}});let C=Te(e.enter),E=Te(e.enterFrom),T=Te(e.enterTo),z=Te(e.entered),Y=Te(e.leave),ne=Te(e.leaveFrom),N=Te(e.leaveTo);Z(()=>{Me(()=>{if(p.value==="visible"){let K=D(b);if(K instanceof Comment&&K.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function G(K){let O=v.value&&!h.value,W=D(b);!W||!(W instanceof HTMLElement)||O||(y.value=!0,c.value&&l(),c.value||i(),K(c.value?Tt(W,C,E,T,z,Q=>{y.value=!1,Q===vt.Finished&&s()}):Tt(W,Y,ne,N,z,Q=>{y.value=!1,Q===vt.Finished&&(ot(A)||(p.value="hidden",f($),m()))})))}return Z(()=>{ie([c],(K,O,W)=>{G(W),v.value=!1},{immediate:!0})}),Re(kt,A),Dt(k(()=>xe(p.value,{visible:ae.Open,hidden:ae.Closed})|r.value)),()=>{let{appear:K,show:O,enter:W,enterFrom:Q,enterTo:de,entered:be,leave:_e,leaveFrom:Oe,leaveTo:U,...M}=e,R={ref:b},ee={...M,...h.value&&c.value&&An.isServer?{class:j([n.class,M.class,...C,...E])}:{}};return ke({theirProps:ee,ourProps:R,slot:{},slots:a,attrs:n,features:dn,visible:p.value==="visible",name:"TransitionChild"})}}}),Ga=cn,mn=V({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:a}){let o=gt(),r=k(()=>e.show===null&&o!==null?(o.value&ae.Open)===ae.Open:e.show);Me(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=P(r.value?"visible":"hidden"),s=un(()=>{l.value="hidden"}),i=P(!0),m={show:r,appear:k(()=>e.appear||!i.value)};return Z(()=>{Me(()=>{i.value=!1,r.value?l.value="visible":ot(s)||(l.value="hidden")})}),Re(kt,s),Re(wt,m),()=>{let b=Bn(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),w={unmount:e.unmount};return ke({ourProps:{...w,as:"template"},theirProps:{},slot:{},slots:{...a,default:()=>[se(Ga,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...w,...b},a.default)]},attrs:{},features:dn,visible:l.value==="visible",name:"Transition"})}}});const dt=Ae(J.ui.strategy,J.ui.dropdown,_n),Qa=V({components:{HMenu:Ea,HMenuButton:Ua,HMenuItems:Ra,HMenuItem:La,UIcon:me,UAvatar:tt,UKbd:Xt},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>dt.default.openDelay},closeDelay:{type:Number,default:()=>dt.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:t}){const{ui:n,attrs:a}=Be("dropdown",ue(e,"ui"),dt,ue(e,"class")),o=k(()=>nt(e.mode==="hover"?{offsetDistance:0}:{},e.popper,n.value.popper)),[r,l]=On(o.value),s=P(null);let i=null,m=null;Z(()=>{var $,y;const p=($=r.value)==null?void 0:$.$.provides;if(!p)return;const v=Object.getOwnPropertySymbols(p);s.value=v.length&&p[v[0]],e.open&&((y=s.value)==null||y.openMenu())});const b=k(()=>{var y,A,C;if(e.mode!=="hover")return{};const p=((y=e.popper)==null?void 0:y.offsetDistance)||((A=n.value.popper)==null?void 0:A.offsetDistance)||8,v=(C=o.value.placement)==null?void 0:C.split("-")[0],$=`${p}px`;return v==="top"||v==="bottom"?{paddingTop:$,paddingBottom:$}:v==="left"||v==="right"?{paddingLeft:$,paddingRight:$}:{paddingTop:$,paddingBottom:$,paddingLeft:$,paddingRight:$}});function w(p){!p.cancelable||!s.value||(s.value.menuState===0?s.value.closeMenu():s.value.openMenu())}function c(){e.mode!=="hover"||!s.value||(m&&(clearTimeout(m),m=null),s.value.menuState!==0&&(i=i||setTimeout(()=>{s.value.openMenu&&s.value.openMenu(),i=null},e.openDelay)))}function h(){e.mode!=="hover"||!s.value||(i&&(clearTimeout(i),i=null),s.value.menuState!==1&&(m=m||setTimeout(()=>{s.value.closeMenu&&s.value.closeMenu(),m=null},e.closeDelay)))}function d(p,v,{href:$,navigate:y,close:A,isExternal:C}){v.click&&v.click(p),$&&!C&&(y(p),A())}ie(()=>e.open,(p,v)=>{s.value&&(v===void 0||p===v||(p?s.value.openMenu():s.value.closeMenu()))}),ie(()=>{var p;return(p=s.value)==null?void 0:p.menuState},(p,v)=>{v===void 0||p===v||t("update:open",p===0)});const f=qt;return Ht(()=>Gt("$ctlRmIk4j0")),{ui:n,attrs:a,popper:o,trigger:r,container:l,containerStyle:b,onTouchStart:w,onMouseEnter:c,onMouseLeave:h,onClick:d,getNuxtLinkProps:zn,twMerge:we,twJoin:re,NuxtLink:f}}}),Ja=["disabled"];function Ya(e,t,n,a,o,r){const l=Ie("HMenuButton"),s=me,i=tt,m=Xt,b=Ie("HMenuItem"),w=qt,c=Ie("HMenuItems"),h=Ie("HMenu");return g(),B(h,X({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:_(({open:d})=>[I(l,{ref:"trigger",as:"div",disabled:e.disabled,class:j(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:_(()=>[le(e.$slots,"default",{open:d,disabled:e.disabled},()=>[S("button",{disabled:e.disabled}," Open ",8,Ja)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),d&&e.items.length?(g(),F("div",{key:0,ref:"container",class:j([e.ui.container,e.ui.width]),style:Wt(e.containerStyle),onMouseenter:t[0]||(t[0]=(...f)=>e.onMouseEnter&&e.onMouseEnter(...f))},[I(Tn,X({appear:""},e.ui.transition),{default:_(()=>[S("div",null,[e.popper.arrow?(g(),F("div",{key:0,"data-popper-arrow":"",class:j(Object.values(e.ui.arrow))},null,2)):x("",!0),I(c,{class:j([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:_(()=>[(g(!0),F(q,null,oe(e.items,(f,p)=>(g(),F("div",{key:p,class:j(e.ui.padding)},[(g(!0),F(q,null,oe(f,(v,$)=>(g(),B(w,X({key:$,ref_for:!0},e.getNuxtLinkProps(v),{custom:""}),{default:_(({href:y,target:A,rel:C,navigate:E,isExternal:T,isActive:z})=>[I(b,{disabled:v.disabled},{default:_(({active:Y,disabled:ne,close:N})=>[(g(),B(jn(y?"a":"button"),{href:ne?void 0:y,rel:C,target:A,class:j(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,Y||z?e.ui.item.active:e.ui.item.inactive,ne&&e.ui.item.disabled),v.class)),onClick:G=>e.onClick(G,v,{href:y,navigate:E,close:N,isExternal:T})},{default:_(()=>[le(e.$slots,v.slot||"item",{item:v},()=>{var G;return[v.icon?(g(),B(s,{key:0,name:v.icon,class:j(e.twMerge(e.twJoin(e.ui.item.icon.base,Y||z?e.ui.item.icon.active:e.ui.item.icon.inactive),v.iconClass))},null,8,["name","class"])):v.avatar?(g(),B(i,X({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...v.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):x("",!0),S("span",{class:j(e.twMerge(e.ui.item.label,v.labelClass))},H(v.label),3),(G=v.shortcuts)!=null&&G.length?(g(),F("span",{key:2,class:j(e.ui.item.shortcuts)},[(g(!0),F(q,null,oe(v.shortcuts,K=>(g(),B(m,{key:K},{default:_(()=>[L(H(K),1)]),_:2},1024))),128))],2)):x("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):x("",!0)]),_:3},16,["class","onMouseleave"])}const $t=$e(Qa,[["render",Ya]]),Se=Ae(J.ui.strategy,J.ui.textarea,En),Ka=V({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(Se.size).includes(e)}},color:{type:String,default:()=>Se.default.color,validator(e){return[...J.ui.colors,...Object.keys(Se.color)].includes(e)}},variant:{type:String,default:()=>Se.default.variant,validator(e){return[...Object.keys(Se.variant),...Object.values(Se.color).flatMap(t=>Object.keys(t))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t}){const{ui:n,attrs:a}=Be("textarea",ue(e,"ui"),Se,ue(e,"class")),{emitFormBlur:o,emitFormInput:r,inputId:l,color:s,size:i,name:m}=bt(e,Se),b=P(nt({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),w=P(null),c=()=>{var y;e.autofocus&&((y=w.value)==null||y.focus())},h=()=>{if(e.autoresize){if(!w.value)return;w.value.rows=e.rows;const y=window.getComputedStyle(w.value),A=parseInt(y.paddingTop),C=parseInt(y.paddingBottom),E=A+C,T=parseInt(y.lineHeight),{scrollHeight:z}=w.value,Y=(z-E)/T;Y>e.rows&&(w.value.rows=e.maxrows?Math.min(Y,e.maxrows):Y)}},d=y=>{b.value.trim&&(y=y.trim()),b.value.number&&(y=Un(y)),t("update:modelValue",y),r()},f=y=>{h(),b.value.lazy||d(y.target.value)},p=y=>{const A=y.target.value;t("change",A),b.value.lazy&&d(A),b.value.trim&&(y.target.value=A.trim())},v=y=>{t("blur",y),o()};Z(()=>{setTimeout(()=>{c()},e.autofocusDelay)}),ie(()=>e.modelValue,()=>{Ce(h)}),Z(()=>{setTimeout(()=>{c(),h()},100)});const $=k(()=>{var A,C;const y=((C=(A=n.value.color)==null?void 0:A[s.value])==null?void 0:C[e.variant])||n.value.variant[e.variant];return we(re(n.value.base,n.value.form,n.value.rounded,n.value.placeholder,n.value.size[i.value],e.padded?n.value.padding[i.value]:"p-0",y==null?void 0:y.replaceAll("{color}",s.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:n,attrs:a,name:m,inputId:l,textarea:w,textareaClass:$,onInput:f,onChange:p,onBlur:v}}}),Xa=["id","value","name","rows","required","disabled","placeholder"];function Za(e,t,n,a,o,r){return g(),F("div",{class:j(e.ui.wrapper)},[S("textarea",X({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:t[0]||(t[0]=(...l)=>e.onInput&&e.onInput(...l)),onBlur:t[1]||(t[1]=(...l)=>e.onBlur&&e.onBlur(...l)),onChange:t[2]||(t[2]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,Xa),le(e.$slots,"default")],2)}const el=$e(Ka,[["render",Za]]);async function tl(e,t){return await nl(t).catch(a=>(console.error("Failed to get image meta for "+t,a+""),{width:0,height:0,ratio:0}))}async function nl(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,n)=>{const a=new Image;a.onload=()=>{const o={width:a.width,height:a.height,ratio:a.width/a.height};t(o)},a.onerror=o=>n(o),a.src=e})}function jt(e){return t=>t?e[t]||t:e.missingValue}function al({formatter:e,keyMap:t,joinWith:n="/",valueMap:a}={}){e||(e=(r,l)=>`${r}=${l}`),t&&typeof t!="function"&&(t=jt(t));const o=a||{};return Object.keys(o).forEach(r=>{typeof o[r]!="function"&&(o[r]=jt(o[r]))}),(r={})=>Object.entries(r).filter(([s,i])=>typeof i<"u").map(([s,i])=>{const m=o[s];return typeof m=="function"&&(i=m(r[s])),s=typeof t=="function"?t(s):s,e(s,i)}).join(n)}function ge(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function ll(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const n of e.split(" ")){const a=Number.parseInt(n.replace("x",""));a&&t.add(a)}return Array.from(t)}function ol(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function rl(e){const t={};if(typeof e=="string")for(const n of e.split(/[\s,]+/).filter(a=>a)){const a=n.split(":");a.length!==2?t["1px"]=a[0].trim():t[a[0].trim()]=a[1].trim()}else Object.assign(t,e);return t}function sl(e){const t={options:e},n=(o,r={})=>fn(t,o,r),a=(o,r={},l={})=>n(o,{...l,modifiers:nt(r,l.modifiers||{})}).url;for(const o in e.presets)a[o]=(r,l,s)=>a(r,l,{...e.presets[o],...s});return a.options=e,a.getImage=n,a.getMeta=(o,r)=>il(t,o,r),a.getSizes=(o,r)=>cl(t,o,r),t.$img=a,a}async function il(e,t,n){const a=fn(e,t,{...n});return typeof a.getMeta=="function"?await a.getMeta():await tl(e,a.url)}function fn(e,t,n){var m,b;if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{provider:a,defaults:o}=ul(e,n.provider||e.options.provider),r=dl(e,n.preset);if(t=Mt(t)?t:Rn(t),!a.supportsAlias)for(const w in e.options.alias)t.startsWith(w)&&(t=mt(e.options.alias[w],t.substr(w.length)));if(a.validateDomains&&Mt(t)){const w=Ln(t).host;if(!e.options.domains.find(c=>c===w))return{url:t}}const l=nt(n,r,o);l.modifiers={...l.modifiers};const s=l.modifiers.format;(m=l.modifiers)!=null&&m.width&&(l.modifiers.width=ge(l.modifiers.width)),(b=l.modifiers)!=null&&b.height&&(l.modifiers.height=ge(l.modifiers.height));const i=a.getImage(t,l,e);return i.format=i.format||s||"",i}function ul(e,t){const n=e.options.providers[t];if(!n)throw new Error("Unknown provider: "+t);return n}function dl(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function cl(e,t,n){var d,f,p,v,$;const a=ge((d=n.modifiers)==null?void 0:d.width),o=ge((f=n.modifiers)==null?void 0:f.height),r=rl(n.sizes),l=(p=n.densities)!=null&&p.trim()?ll(n.densities.trim()):e.options.densities;ol(l);const s=a&&o?o/a:0,i=[],m=[];if(Object.keys(r).length>=1){for(const y in r){const A=Et(y,String(r[y]),o,s,e);if(A!==void 0){i.push({size:A.size,screenMaxWidth:A.screenMaxWidth,media:`(max-width: ${A.screenMaxWidth}px)`});for(const C of l)m.push({width:A._cWidth*C,src:Ut(e,t,n,A,C)})}}ml(i)}else for(const y of l){const A=Object.keys(r)[0];let C=Et(A,String(r[A]),o,s,e);C===void 0&&(C={size:"",screenMaxWidth:0,_cWidth:(v=n.modifiers)==null?void 0:v.width,_cHeight:($=n.modifiers)==null?void 0:$.height}),m.push({width:y,src:Ut(e,t,n,C,y)})}fl(m);const b=m[m.length-1],w=i.length?i.map(y=>`${y.media?y.media+" ":""}${y.size}`).join(", "):void 0,c=w?"w":"x",h=m.map(y=>`${y.src} ${y.width}${c}`).join(", ");return{sizes:w,srcset:h,src:b==null?void 0:b.src}}function Et(e,t,n,a,o){const r=o.options.screens&&o.options.screens[e]||Number.parseInt(e),l=t.endsWith("vw");if(!l&&/^\d+$/.test(t)&&(t=t+"px"),!l&&!t.endsWith("px"))return;let s=Number.parseInt(t);if(!r||!s)return;l&&(s=Math.round(s/100*r));const i=a?Math.round(s*a):n;return{size:t,screenMaxWidth:r,_cWidth:s,_cHeight:i}}function Ut(e,t,n,a,o){return e.$img(t,{...n.modifiers,width:a._cWidth?a._cWidth*o:void 0,height:a._cHeight?a._cHeight*o:void 0},n)}function ml(e){var n;e.sort((a,o)=>a.screenMaxWidth-o.screenMaxWidth);let t=null;for(let a=e.length-1;a>=0;a--){const o=e[a];o.media===t&&e.splice(a,1),t=o.media}for(let a=0;a<e.length;a++)e[a].media=((n=e[a+1])==null?void 0:n.media)||""}function fl(e){e.sort((n,a)=>n.width-a.width);let t=null;for(let n=e.length-1;n>=0;n--){const a=e[n];a.width===t&&e.splice(n,1),t=a.width}}const pl=al({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>xt(e)+"_"+xt(t)}),vl=(e,{modifiers:t={},baseURL:n}={},a)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const o=pl(t)||"_";return n||(n=mt(a.options.nuxt.baseURL,"/_ipx")),{url:mt(n,o,Nn(e))}},gl=!0,hl=!0,bl=Object.freeze(Object.defineProperty({__proto__:null,getImage:vl,supportsAlias:hl,validateDomains:gl},Symbol.toStringTag,{value:"Module"})),pn={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};pn.providers={ipxStatic:{provider:bl,defaults:{}}};const rt=()=>{const e=Dn(),t=Qt();return t.$img||t._img||(t._img=sl({...pn,nuxt:{baseURL:e.app.baseURL}}))};function yl(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const wl={src:{type:String,default:void 0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:[Boolean,Object],default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},kl=e=>{const t=k(()=>({provider:e.provider,preset:e.preset})),n=k(()=>({width:ge(e.width),height:ge(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),a=rt(),o=k(()=>({...e.modifiers,width:ge(e.width),height:ge(e.height),format:e.format,quality:e.quality||a.options.quality,background:e.background,fit:e.fit}));return{options:t,attrs:n,modifiers:o}},$l={...wl,placeholder:{type:[Boolean,String,Number,Array],default:void 0},placeholderClass:{type:String,default:void 0}},st=V({name:"NuxtImg",props:$l,emits:["load","error"],setup:(e,t)=>{const n=rt(),a=kl(e),o=P(!1),r=P(),l=k(()=>n.getSizes(e.src,{...a.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...a.modifiers.value,width:ge(e.width),height:ge(e.height)}})),s=k(()=>{const h={...a.attrs.value,"data-nuxt-img":""};return(!e.placeholder||o.value)&&(h.sizes=l.value.sizes,h.srcset=l.value.srcset),h}),i=k(()=>{let h=e.placeholder;if(h===""&&(h=!0),!h||o.value)return!1;if(typeof h=="string")return h;const d=Array.isArray(h)?h:typeof h=="number"?[h,h]:[10,10];return n(e.src,{...a.modifiers.value,width:d[0],height:d[1],quality:d[2]||50,blur:d[3]||3},a.options.value)}),m=k(()=>e.sizes?l.value.src:n(e.src,a.modifiers.value,a.options.value)),b=k(()=>i.value?i.value:m.value);if(e.preload){const h=Object.values(l.value).every(d=>d);Vn({link:[{rel:"preload",as:"image",nonce:e.nonce,...h?{href:l.value.src,imagesizes:l.value.sizes,imagesrcset:l.value.srcset}:{href:b.value},...typeof e.preload!="boolean"&&e.preload.fetchPriority?{fetchpriority:e.preload.fetchPriority}:{}}]})}const c=Qt().isHydrating;return Z(()=>{if(i.value){const h=new Image;h.src=m.value,e.sizes&&(h.sizes=l.value.sizes||"",h.srcset=l.value.srcset),h.onload=d=>{o.value=!0,t.emit("load",d)},yl("nuxt-image");return}r.value&&(r.value.complete&&c&&(r.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),r.value.onload=h=>{t.emit("load",h)},r.value.onerror=h=>{t.emit("error",h)})}),()=>se("img",{ref:r,...s.value,...t.attrs,class:e.placeholder&&!o.value?[e.placeholderClass]:void 0,src:b.value})}}),Sl=Ae(J.ui.strategy,J.ui.modal,va),Pl=V({components:{HDialog:_a,HDialogPanel:Oa,TransitionRoot:mn,TransitionChild:cn},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:t}){const{ui:n,attrs:a}=Be("modal",ue(e,"ui"),Sl,ue(e,"class")),o=k({get(){return e.modelValue},set(i){t("update:modelValue",i)}}),r=k(()=>e.transition?{...n.value.transition}:{});function l(i){if(e.preventClose){t("close-prevented");return}o.value=i,t("close")}const s=()=>{t("after-leave")};return Ht(()=>Gt("$HAJMhYDoe7")),{ui:n,attrs:a,isOpen:o,transitionClass:r,onAfterLeave:s,close:l}}});function Il(e,t,n,a,o,r){const l=Ie("TransitionChild"),s=Ie("HDialogPanel"),i=Ie("HDialog"),m=Ie("TransitionRoot");return g(),B(m,{appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},{default:_(()=>[I(i,X({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:_(()=>[e.overlay?(g(),B(l,X({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:_(()=>[S("div",{class:j([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):x("",!0),S("div",{class:j(e.ui.inner)},[S("div",{class:j([e.ui.container,!e.fullscreen&&e.ui.padding])},[I(l,X({as:"template",appear:e.appear},e.transitionClass),{default:_(()=>[I(s,{class:j([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:_(()=>[le(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const Qe=$e(Pl,[["render",Il]]),Xe=Ae(J.ui.strategy,J.ui.range,fa),Cl=V({inheritAttrs:!1,props:{modelValue:{type:Number,default:0},id:{type:String,default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},size:{type:String,default:null,validator(e){return Object.keys(Xe.size).includes(e)}},color:{type:String,default:()=>Xe.default.color,validator(e){return J.ui.colors.includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:n,attrs:a}=Be("range",ue(e,"ui"),Xe),{emitFormChange:o,inputId:r,color:l,size:s,name:i}=bt(e,Xe),m=k({get(){return e.modelValue},set(v){t("update:modelValue",v)}}),b=v=>{t("change",v.target.value),o()},w=k(()=>we(re(n.value.wrapper,n.value.size[s.value]),e.class)),c=k(()=>we(re(n.value.base,n.value.background,n.value.rounded,l.value&&n.value.ring.replaceAll("{color}",l.value),n.value.size[s.value]),e.inputClass)),h=k(()=>re(n.value.thumb.base,l.value&&n.value.thumb.color.replaceAll("{color}",l.value),n.value.thumb.ring,n.value.thumb.background,n.value.thumb.size[s.value])),d=k(()=>re(n.value.track.base,n.value.track.background,n.value.track.rounded,n.value.track.size[s.value])),f=k(()=>re(n.value.progress.base,n.value.progress.rounded,l.value&&n.value.progress.background.replaceAll("{color}",l.value),n.value.progress.size[s.value])),p=k(()=>{const{modelValue:v,min:$,max:y}=e;return{width:`${(Math.max($,Math.min(v,y))-$)/(y-$)*100}%`}});return{ui:n,attrs:a,name:i,inputId:r,value:m,wrapperClass:w,inputClass:c,thumbClass:h,trackClass:d,progressClass:f,progressStyle:p,onChange:b}}}),Fl=["id","name","min","max","disabled","step"];function Ml(e,t,n,a,o,r){return g(),F("div",{class:j(e.wrapperClass)},[ht(S("input",X({id:e.inputId,ref:"input","onUpdate:modelValue":t[0]||(t[0]=l=>e.value=l),name:e.name,min:e.min,max:e.max,disabled:e.disabled,step:e.step,type:"range",class:[e.inputClass,e.thumbClass,e.trackClass]},e.attrs,{onChange:t[1]||(t[1]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,Fl),[[Hn,e.value,void 0,{number:!0}]]),S("span",{class:j(e.progressClass),style:Wt(e.progressStyle)},null,6)],2)}const xl=$e(Cl,[["render",Ml]]),Al="0.05";function Bl(e,t){const n=parseFloat(e);if(isNaN(n))return e;const a=n+t;return a<0?"0":String(Number(a.toFixed(10)))}function _l(e,t){let n=t,a=t,o=0,r=0;for(;n>=0&&(n--,!(e[n]==="("&&o===r));)e[n]==="("&&o++,e[n]===")"&&r++;if(n<0)return!1;for(o=0,r=0;a<e.length&&!(e[a]===")"&&o===r);)e[a]==="("&&o++,e[a]===")"&&r++,a++;return a===e.length?!1:{start:n+1,end:a}}function Ol(e){const t=/^\((.*)\)$/,n=e.match(t),a=/:([+-]?(\d*\.)?\d+([eE][+-]?\d+)?)/,o=e.match(a);return n&&!o?`(${n[1]}:1.0)`:e}function zl(e){const t=e.composedPath()[0],n=parseFloat(Al);if(t.tagName!=="TEXTAREA"||!(e.key==="ArrowUp"||e.key==="ArrowDown")||!e.ctrlKey&&!e.metaKey)return;e.preventDefault();let a=t.selectionStart,o=t.selectionEnd,r=t.value.substring(a,o);if(!r){const i=_l(t.value,a);if(i)a=i.start,o=i.end,r=t.value.substring(a,o);else{const m=" .,\\/!?%^*;:{}=-_`~()\r\n	";for(;!m.includes(t.value[a-1])&&a>0;)a--;for(;!m.includes(t.value[o])&&o<t.value.length;)o++;if(r=t.value.substring(a,o),!r)return}}r[r.length-1]===" "&&(r=r.substring(0,r.length-1),o-=1),t.value[a-1]==="("&&t.value[o]===")"&&(a-=1,o+=1,r=t.value.substring(a,o)),(r[0]!=="("||r[r.length-1]!==")")&&(r=`(${r})`),r=Ol(r);const l=e.key==="ArrowUp"?n:-n,s=r.replace(/\((.*):(\d+(?:\.\d+)?)\)/,(i,m,b)=>(b=Bl(b,l),Number(b)==1?m:`(${m}:${b})`));return t.setRangeText(s,a,o,"select"),t.value}const Tl={key:0,class:"text-red-300"},jl={key:0,class:"flex items-center"},El={key:2,class:"flex flex-row flex-grow items-center justify-between"},Ul=V({__name:"InputParam",props:{inputParam:{type:Object,required:!0},index:{type:Number,required:!0},inputParamsMap:{type:Array,required:!0},advanced:{type:Boolean,default:!1}},setup(e){const t=e;function n(d){return d?URL.createObjectURL(d):""}const a=P(null),o=P(""),r=P(!1),l=P({width:0,height:0});function s(){try{const d=t.inputParamsMap[t.index][t.inputParam.name].source_input_name,f=t.inputParamsMap.find(p=>{const v=Object.keys(p)[0];if(v===d)return p[v]});b(f[d].value)}catch{l.value.width=0,l.value.height=0}}Z(()=>{t.inputParam.type==="range_scale"&&s()}),t.inputParam.type==="range_scale"&&ie(t.inputParamsMap,()=>{s()});function i(){URL.revokeObjectURL(o.value),o.value="",a&&(a.value.$refs.input.value=""),t.inputParamsMap[t.index][t.inputParam.name].value=null}const m=k(()=>t.inputParam.type!=="bool"?t.inputParam.display_name:"");function b(d){if(!(d instanceof File)){l.value.width=0,l.value.height=0;return}const f=URL.createObjectURL(d),p=new Image;p.onload=function(){l.value.width=p.naturalWidth,l.value.height=p.naturalHeight,URL.revokeObjectURL(p.src)},p.src=f}const w=k(()=>{if(t.inputParam.type==="range_scale"){const d=t.inputParamsMap[t.index][t.inputParam.name].value;return`value: ${d}x (${l.value.width}x${l.value.height} -> ${(l.value.width*d).toFixed(0)}x${(l.value.height*d).toFixed(0)})`}return["range","range_scale"].includes(t.inputParam.type)?`value: ${t.inputParamsMap[t.index][t.inputParam.name].value}`:""});At(()=>{URL.revokeObjectURL(o.value)});const c=P(null);function h(d){const f=zl(d);f&&(t.inputParamsMap[t.index][t.inputParam.name].value=f)}return Z(()=>{t.inputParam.type==="text"&&c.value&&c.value.$refs.textarea.addEventListener("keydown",h)}),At(()=>{t.inputParam.type==="text"&&c.value&&c.value.$refs.textarea.removeEventListener("keydown",h)}),(d,f)=>{var Y;const p=el,v=yt,$=fe,y=st,A=Qe,C=Zt,E=da,T=xl,z=tn;return(((Y=e.inputParam)==null?void 0:Y.advanced)||!1)===e.advanced?(g(),B(z,{key:0,label:u(m),class:"mb-3",help:u(w)},{hint:_(()=>[e.inputParam.optional?x("",!0):(g(),F("span",Tl,"required"))]),default:_(()=>{var ne;return[e.inputParam.type==="text"?(g(),B(p,{key:0,ref_key:"textareaInput",ref:c,size:"md",placeholder:e.inputParam.display_name,required:!e.inputParam.optional,resize:!0,label:e.inputParam.display_name,value:e.inputParamsMap[e.index][e.inputParam.name].value,variant:"outline",onInput:f[0]||(f[0]=N=>{const G=N.target;e.inputParamsMap[e.index][e.inputParam.name].value=G.value})},null,8,["placeholder","required","label","value"])):x("",!0),e.inputParam.type==="number"?(g(),F(q,{key:1},[e.inputParam.name==="seed"?(g(),F("div",jl,[e.inputParam.type==="number"?(g(),B(v,{key:0,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:f[1]||(f[1]=N=>{const G=N.target;e.inputParamsMap[e.index][e.inputParam.name].value=G.value})},null,8,["label","required","value","max","min"])):x("",!0),I($,{icon:"i-heroicons-arrow-path",color:"violet",variant:"outline",size:"xs",class:"ml-2",onClick:f[2]||(f[2]=()=>{e.inputParamsMap[e.index][e.inputParam.name].value=Math.floor(Math.random()*1e7)})})])):(g(),B(v,{key:1,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:f[3]||(f[3]=N=>{const G=N.target;e.inputParamsMap[e.index][e.inputParam.name].value=G.value})},null,8,["label","required","value","max","min"]))],64)):x("",!0),e.inputParam.type==="image"?(g(),F("div",El,[I(v,{ref_key:"imageInput",ref:a,type:"file",accept:"image/*",class:"w-full",label:e.inputParam.display_name,onChange:f[4]||(f[4]=N=>{console.debug("files",N);const G=N==null?void 0:N[0];e.inputParamsMap[e.index][e.inputParam.name].value=G,o.value=n(G),console.debug("inputParamsMap",e.inputParamsMap)})},null,8,["label"]),u(o)!==""?(g(),B(y,{key:0,src:u(o),class:"w-10 h-10 rounded-lg cursor-pointer ml-2",onClick:f[5]||(f[5]=()=>{r.value=!0})},null,8,["src"])):x("",!0),u(o)!==""?(g(),B($,{key:1,icon:"i-heroicons-x-mark",variant:"outline",class:"ml-2",onClick:i})):x("",!0)])):x("",!0),e.inputParam.type==="image"?(g(),B(A,{key:3,modelValue:u(r),"onUpdate:modelValue":f[8]||(f[8]=N=>Fe(r)?r.value=N:null),class:"z-[90]",transition:!1,fullscreen:""},{default:_(()=>[I($,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:f[6]||(f[6]=()=>r.value=!1)}),S("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:f[7]||(f[7]=Ve(()=>r.value=!1,["left"]))},[u(o)?(g(),B(y,{key:0,class:"lg:h-full",fit:"inside",src:u(o)},null,8,["src"])):x("",!0)])]),_:1},8,["modelValue"])):x("",!0),e.inputParam.type==="list"?(g(),B(C,{key:4,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":f[9]||(f[9]=N=>e.inputParamsMap[e.index][e.inputParam.name].value=N),placeholder:e.inputParam.display_name,options:Object.keys(e.inputParam.options)},null,8,["modelValue","placeholder","options"])):x("",!0),e.inputParam.type==="bool"?(g(),B(E,{key:5,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":f[10]||(f[10]=N=>e.inputParamsMap[e.index][e.inputParam.name].value=N),label:(ne=e.inputParam)==null?void 0:ne.display_name},null,8,["modelValue","label"])):x("",!0),["range","range_scale"].includes(e.inputParam.type)?(g(),B(T,{key:6,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":f[11]||(f[11]=N=>e.inputParamsMap[e.index][e.inputParam.name].value=N),label:e.inputParam.display_name,size:"sm",min:e.inputParam.min,max:e.inputParam.max,step:e.inputParam.step},null,8,["modelValue","label","min","max","step"])):x("",!0)]}),_:1},8,["label","help"])):x("",!0)}}}),Rl={key:0,class:"heading"},Ll={key:1},Nl=V({__name:"InputParams",props:{inputParamsMap:{type:Array,required:!0},additionalInputParamsMap:{type:Array,required:!1,default:[]},advanced:{type:Boolean,default:!1}},setup(e){const t=e,n=Ne(),a=P(!t.advanced);return(o,r)=>{const l=me,s=Ul;return g(),F(q,null,[e.advanced?(g(),F("div",Rl,[S("h4",{class:"text-md font-bold cursor-pointer select-none flex items-center mb-3",onClick:r[0]||(r[0]=()=>{a.value=!u(a)})},[I(l,{name:u(a)?"i-heroicons-chevron-up":"i-heroicons-chevron-down",class:"mr-2"},null,8,["name"]),L(" Advanced options ")])])):x("",!0),u(a)?(g(),F("div",Ll,[(g(!0),F(q,null,oe(u(n).currentFlow.input_params,(i,m)=>(g(),B(s,{key:m,"input-params-map":e.inputParamsMap,index:m,"input-param":i,advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128)),(g(!0),F(q,null,oe(e.additionalInputParamsMap,(i,m)=>(g(),B(s,{key:Object.keys(i)[0],"input-params-map":e.additionalInputParamsMap,index:m,"input-param":i[Object.keys(i)[0]],advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128))])):x("",!0)],64)}}}),Dl={key:0,id:"prompt",class:"w-full my-10 lg:my-0 p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg"},Vl={class:"flex justify-end px-2"},Hl=V({__name:"Prompt",setup(e,{expose:t}){var b,w,c,h;const n=Ne();let a=localStorage.getItem(`input_params_map_${(b=n.currentFlow)==null?void 0:b.name}`);if(a){const d=JSON.parse(a);"flow_version"in d&&d.flow_version.split(".")[0]===((w=n.currentFlow)==null?void 0:w.version.split(".")[0])?a=d:(a=null,localStorage.removeItem(`input_params_map_${(c=n.currentFlow)==null?void 0:c.name}`))}const o=P(((h=n.currentFlow)==null?void 0:h.input_params.map(d=>{var f;if(d.type==="text")return{[d.name]:{value:a!==null?a[d.name]:d.default||"",type:d.type,optional:d.optional,advanced:d.advanced||!1}};if(d.type==="number")return{[d.name]:{value:a!==null?a[d.name]:d.default||0,type:d.type,optional:d.optional,advanced:d.advanced||!1}};if(d.type==="image")return{[d.name]:{value:a!==null?a[d.name]:d.default||{},type:d.type,optional:d.optional,advanced:d.advanced||!1}};if(d.type==="list")return{[d.name]:{value:a!==null?a[d.name]:d.default||Object.keys(d.options)[0]||"",type:d.type,optional:d.optional,options:d.options,advanced:d.advanced||!1}};if(d.type==="bool")return{[d.name]:{value:a!==null?a[d.name]:d.default||!1,type:d.type,optional:d.optional,advanced:d.advanced||!1}};if(["range","range_scale"].includes(d.type)){const p={value:a!==null?a[d.name]:d.default||0,type:d.type,optional:d.optional,advanced:d.advanced||!1,min:d.min||0,max:d.max||100,step:d.step||1};if(d.type==="range_scale"&&(p.source_input_name=d.source_input_name||null,p.source_input_name===null||p.source_input_name==="")){const v=(f=n.currentFlow)==null?void 0:f.input_params.find($=>$.type==="image"&&!$.optional);v&&(p.source_input_name=v.name)}return{[d.name]:p}}}))||[]),r=P([{seed:{name:"seed",display_name:"Random seed",value:Math.floor(Math.random()*1e7),type:"number",optional:!0,advanced:!0,min:0,max:1e7}}]);function l(d){console.debug("Copy prompt inputs",d),Object.keys(d).forEach(p=>{const v=o.value.findIndex($=>Object.keys($)[0]===p);v!==-1&&(o.value[v][p].value=d[p].value)});const f=document.getElementById("prompt");f&&f.scrollIntoView({behavior:"smooth"})}t({copyPromptInputs:l}),o.value.forEach(d=>{const f=Object.keys(d)[0];d[f].type!=="image"&&ie(()=>d[f].value,()=>{var v,$;const p={};o.value.forEach(y=>{const A=Object.keys(y)[0];p[A]=y[A].value}),localStorage.setItem(`input_params_map_${(v=n.currentFlow)==null?void 0:v.name}`,JSON.stringify({...p,flow_version:($=n.currentFlow)==null?void 0:$.version}))})});const s=P(!1),i=P(1),m=P(!1);return(d,f)=>{const p=me,v=Nl,$=yt,y=tn,A=fe;return u(n).currentFlow?(g(),F("div",Dl,[S("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:f[0]||(f[0]=()=>{m.value=!u(m)})},[I(p,{name:u(m)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),L(" Prompt ")]),ht(S("div",null,[I(v,{"input-params-map":u(o),"additional-input-params-map":u(r),advanced:!1},null,8,["input-params-map","additional-input-params-map"]),I(v,{"input-params-map":u(o),"additional-input-params-map":u(r),advanced:!0},null,8,["input-params-map","additional-input-params-map"]),I(y,{label:"Number of images"},{default:_(()=>[I($,{modelValue:u(i),"onUpdate:modelValue":f[1]||(f[1]=C=>Fe(i)?i.value=C:null),type:"number",min:"1",max:"50",label:"Batch size",class:"mb-3 max-w-fit flex justify-end"},null,8,["modelValue"])]),_:1}),S("div",Vl,[I(A,{icon:"i-heroicons-sparkles-16-solid",variant:"outline",loading:u(s),onClick:f[2]||(f[2]=()=>{s.value=!0,u(n).runFlow(u(n).currentFlow,[...u(o),...u(r)],u(i)).finally(()=>{s.value=!1;const C=u(r).find(E=>Object.keys(E)[0]==="seed");C.seed.value=Number(C.seed.value)+u(i)+1})})},{default:_(()=>[L(" Run prompt ")]),_:1},8,["loading"])])],512),[[Jt,!u(m)]])])):x("",!0)}}}),Wl=e=>{const t=P(0);function n(r){e.value.style.scrollSnapType="none",e.value.style.scrollBehavior="auto",t.value=r.pageX,window.addEventListener("mousemove",o),window.addEventListener("mouseup",a)}function a(){e.value.style.removeProperty("scroll-behavior"),e.value.style.removeProperty("scroll-snap-type"),e.value.style.removeProperty("pointer-events"),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",a)}function o(r){r.preventDefault(),e.value.style.pointerEvents="none";const l=r.pageX-t.value;t.value=r.pageX,e.value.scrollBy(-l,0)}Z(()=>{e.value&&e.value.addEventListener("mousedown",n)}),he(()=>{e.value&&e.value.removeEventListener("mousedown",n)})},ct=Ae(J.ui.strategy,J.ui.carousel,ma),ql=V({components:{UButton:fe},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},arrows:{type:Boolean,default:!1},indicators:{type:Boolean,default:!1},prevButton:{type:Object,default:()=>ct.default.prevButton},nextButton:{type:Object,default:()=>ct.default.nextButton},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:void 0}},setup(e,{expose:t}){const{ui:n,attrs:a}=Be("carousel",ue(e,"ui"),ct,ue(e,"class")),o=P(),r=P(0),{x:l}=Wn(o,{behavior:"smooth"}),{width:s}=qn(o);Wl(o),Gn(o,f=>{var v,$;const[p]=f;r.value=(($=(v=p==null?void 0:p.target)==null?void 0:v.firstElementChild)==null?void 0:$.clientWidth)||0});const i=k(()=>r.value?Math.round(l.value/r.value)+1:0),m=k(()=>r.value?e.items.length-Math.round(s.value/r.value)+1:0),b=k(()=>i.value<=1),w=k(()=>i.value===m.value);function c(){l.value+=r.value}function h(){l.value-=r.value}function d(f){l.value=(f-1)*r.value}return t({pages:m,page:i,prev:h,next:c,select:d}),{ui:n,attrs:a,isFirst:b,isLast:w,carouselRef:o,pages:m,currentPage:i,onClickNext:c,onClickPrev:h,onClick:d,twMerge:we}}}),Gl=["role"],Ql=["aria-selected","aria-label","onClick"];function Jl(e,t,n,a,o,r){const l=fe;return g(),F("div",X({class:e.ui.wrapper},e.attrs),[S("div",{ref:"carouselRef",class:j([e.ui.container,"no-scrollbar"])},[(g(!0),F(q,null,oe(e.items,(s,i)=>(g(),F("div",{key:i,class:j(e.ui.item),role:e.indicators?"tabpanel":null},[le(e.$slots,"default",{item:s,index:i},void 0,!0)],10,Gl))),128))],2),e.arrows?(g(),F("div",{key:0,class:j(e.ui.arrows.wrapper)},[le(e.$slots,"prev",{onClick:e.onClickPrev,disabled:e.isFirst},()=>{var s;return[e.prevButton?(g(),B(l,X({key:0,disabled:e.isFirst},{...e.ui.default.prevButton,...e.prevButton},{class:e.twMerge(e.ui.default.prevButton.class,(s=e.prevButton)==null?void 0:s.class),"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["disabled","class","onClick"])):x("",!0)]},!0),le(e.$slots,"next",{onClick:e.onClickNext,disabled:e.isLast},()=>{var s;return[e.nextButton?(g(),B(l,X({key:0,disabled:e.isLast},{...e.ui.default.nextButton,...e.nextButton},{class:e.twMerge(e.ui.default.nextButton.class,(s=e.nextButton)==null?void 0:s.class),"aria-label":"Next",onClick:e.onClickNext}),null,16,["disabled","class","onClick"])):x("",!0)]},!0)],2)):x("",!0),e.indicators?(g(),F("div",{key:1,role:"tablist",class:j(e.ui.indicators.wrapper)},[(g(!0),F(q,null,oe(e.pages,s=>le(e.$slots,"indicator",{key:s,onClick:e.onClick,active:s===e.currentPage,page:s},()=>[S("button",{type:"button",role:"tab","aria-selected":s===e.currentPage,class:j([e.ui.indicators.base,s===e.currentPage?e.ui.indicators.active:e.ui.indicators.inactive]),"aria-label":`set slide ${s}`,onClick:i=>e.onClick(s)},null,10,Ql)],!0)),128))],2)):x("",!0)],16)}const vn=$e(ql,[["render",Jl],["__scopeId","data-v-ea54307d"]]),Yl={class:"flex flex-col basis-full"},Kl=V({__name:"QueueInputFiles",props:{running:{type:Object,required:!0}},setup(e){const t=rt(),n=function(s,i){return`${et()}/tasks/inputs?task_id=${s}&input_index=${i}`},a=P(!1),o=P(""),r=P(0),l=P(!0);return(s,i)=>{var d,f,p,v,$;const m=me,b=st,w=vn,c=fe,h=Qe;return s.$props.running&&s.$props.running.input_files&&((d=Object.keys(s.$props.running.input_files))==null?void 0:d.length)>0?(g(),F("div",{key:0,class:j(["ml-2 mt-2 mb-5",{"mb-10":((f=Object.keys(s.$props.running.input_files))==null?void 0:f.length)>1&&!u(l)}])},[S("h4",{class:"mb-3 font-bold cursor-pointer select-none flex items-center text-sm",onClick:i[0]||(i[0]=()=>l.value=!u(l))},[I(m,{name:u(l)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),S("span",null," Input files ("+H((p=Object.keys(s.$props.running.input_files))==null?void 0:p.length)+") ",1)]),u(l)?x("",!0):(g(),F(q,{key:0},[((v=Object.keys(s.$props.running.input_files))==null?void 0:v.length)===1?(g(),B(b,{key:0,class:"mb-5 rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:u(t)(`${("buildBackendApiUrl"in s?s.buildBackendApiUrl:u(et))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:n(s.$props.running.task_id,0),onClick:i[1]||(i[1]=()=>{o.value=n(s.$props.running.task_id,0),r.value=0,a.value=!0})},null,8,["placeholder","src"])):x("",!0),(($=Object.keys(s.$props.running.input_files))==null?void 0:$.length)>1?(g(),B(w,{key:1,items:Object.keys(s.$props.running.input_files).map(y=>({task_id:e.running.task_id,index:y})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:_(({item:y})=>[S("div",Yl,[I(b,{class:"rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:u(t)(`${("buildBackendApiUrl"in s?s.buildBackendApiUrl:u(et))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:n(y.task_id,y.index),onClick:()=>{o.value=n(s.$props.running.task_id,y.index),r.value=y.index,a.value=!0}},null,8,["placeholder","src","onClick"])])]),_:1},8,["items"])):x("",!0),I(h,{modelValue:u(a),"onUpdate:modelValue":i[4]||(i[4]=y=>Fe(a)?a.value=y:null),class:"z-[90]",transition:!1,fullscreen:""},{default:_(()=>[I(c,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:i[2]||(i[2]=()=>a.value=!1)}),S("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:i[3]||(i[3]=Ve(()=>a.value=!1,["left"]))},[u(o)?(g(),B(b,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",placeholder:"/vix_logo.png",src:u(o)},null,8,["src"])):x("",!0)])]),_:1},8,["modelValue"])],64))],2)):x("",!0)}}}),Pe=Ae(J.ui.strategy,J.ui.alert,ca),Xl=V({components:{UIcon:me,UAvatar:tt,UButton:fe},inheritAttrs:!1,props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>Pe.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>Pe.default.closeButton},actions:{type:Array,default:()=>[]},color:{type:String,default:()=>Pe.default.color,validator(e){return[...J.ui.colors,...Object.keys(Pe.color)].includes(e)}},variant:{type:String,default:()=>Pe.default.variant,validator(e){return[...Object.keys(Pe.variant),...Object.values(Pe.color).flatMap(t=>Object.keys(t))].includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["close"],setup(e){const{ui:t,attrs:n}=Be("alert",ue(e,"ui"),Pe),a=k(()=>{var l,s;const r=((s=(l=t.value.color)==null?void 0:l[e.color])==null?void 0:s[e.variant])||t.value.variant[e.variant];return we(re(t.value.wrapper,t.value.rounded,t.value.shadow,t.value.padding,r==null?void 0:r.replaceAll("{color}",e.color)),e.class)});function o(r){r.click&&r.click()}return{ui:t,attrs:n,alertClass:a,onAction:o,twMerge:we}}});function Zl(e,t,n,a,o,r){const l=me,s=tt,i=fe;return g(),F("div",X({class:e.alertClass},e.attrs),[S("div",{class:j(["flex",[e.ui.gap,{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}]])},[le(e.$slots,"icon",{icon:e.icon},()=>[e.icon?(g(),B(l,{key:0,name:e.icon,class:j(e.ui.icon.base)},null,8,["name","class"])):x("",!0)]),le(e.$slots,"avatar",{avatar:e.avatar},()=>[e.avatar?(g(),B(s,X({key:0},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):x("",!0)]),S("div",{class:j(e.ui.inner)},[e.title||e.$slots.title?(g(),F("p",{key:0,class:j(e.ui.title)},[le(e.$slots,"title",{title:e.title},()=>[L(H(e.title),1)])],2)):x("",!0),e.description||e.$slots.description?(g(),F("div",{key:1,class:j(e.twMerge(e.ui.description,!(e.title&&e.$slots.title)&&"mt-0 leading-5"))},[le(e.$slots,"description",{description:e.description},()=>[L(H(e.description),1)])],2)):x("",!0),(e.description||e.$slots.description)&&(e.actions.length||e.$slots.actions)?(g(),F("div",{key:2,class:j(e.ui.actions)},[le(e.$slots,"actions",{},()=>[(g(!0),F(q,null,oe(e.actions,(m,b)=>(g(),B(i,X({key:b,ref_for:!0},{...e.ui.default.actionButton||{},...m},{onClick:Ve(w=>e.onAction(m),["stop"])}),null,16,["onClick"]))),128))])],2)):x("",!0)],2),e.closeButton||!e.description&&!e.$slots.description&&e.actions.length?(g(),F("div",{key:0,class:j(e.twMerge(e.ui.actions,"mt-0"))},[!e.description&&!e.$slots.description&&(e.actions.length||e.$slots.actions)?le(e.$slots,"actions",{key:0},()=>[(g(!0),F(q,null,oe(e.actions,(m,b)=>(g(),B(i,X({key:b,ref_for:!0},{...e.ui.default.actionButton||{},...m},{onClick:Ve(w=>e.onAction(m),["stop"])}),null,16,["onClick"]))),128))]):x("",!0),e.closeButton?(g(),B(i,X({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{onClick:t[0]||(t[0]=Ve(m=>e.$emit("close"),["stop"]))}),null,16)):x("",!0)],2)):x("",!0)],2)],16)}const eo=$e(Xl,[["render",Zl]]),to=V({__name:"QueueErrorAlert",props:{running:{type:Object,required:!0}},setup(e){const t=Ne(),n=P(!1);return(a,o)=>{const r=eo;return g(),B(r,{class:"mb-5",icon:"i-heroicons-exclamation-circle-16-solid",color:"red",variant:"soft",title:"Task failed",description:e.running.error,actions:[{variant:"outline",color:"yellow",label:"Restart",loading:u(n),icon:"i-heroicons-arrow-path",click:()=>{n.value=!0,u(t).restartFlow(a.$props.running).finally(()=>{n.value=!1})}}]},null,8,["description","actions"])}}}),no={class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md mt-5 mb-10"},ao={class:"flex items-center justify-between mb-2"},lo={key:0},oo={key:1,class:"text-red-400"},ro={class:"text-sm mb-5 text-slate-500"},so={class:"flex justify-between"},io=V({__name:"Queue",setup(e){const t=Ne(),n=P(!1),a=P(!0);return(o,r)=>{var c,h,d,f,p,v,$,y,A;const l=me,s=fe,i=en,m=Kl,b=to,w=$t;return g(),F("div",no,[S("div",ao,[S("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center",onClick:r[0]||(r[0]=()=>{a.value=!u(a)})},[I(l,{name:u(a)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),S("span",null," Queue ("+H(u(t).flowsRunningByName((c=u(t).currentFlow)==null?void 0:c.name).length)+") ",1),u(t).flowsRunningByName((h=u(t).currentFlow)==null?void 0:h.name).length>0?(g(),F("span",lo,"  - "+H(`${((f=u(t).flowsRunningByName((d=u(t).currentFlow)==null?void 0:d.name).filter(C=>C.progress>0)[0])==null?void 0:f.progress.toFixed(0))??0}%`),1)):x("",!0),u(t).flowsRunningByNameWithErrors((p=u(t))==null?void 0:p.currentFlow.name).length>0?(g(),F("span",oo,"  ("+H(u(t).flowsRunningByNameWithErrors((v=u(t).currentFlow)==null?void 0:v.name).length)+") ",1)):x("",!0)]),($=u(t).currentFlow)!=null&&$.name&&u(t).flowsRunningByName((y=u(t).currentFlow)==null?void 0:y.name).length>0?(g(),B(s,{key:0,icon:"i-heroicons-stop",color:"orange",variant:"outline",loading:u(n),onClick:r[1]||(r[1]=()=>{var C;n.value=!0,u(t).cancelRunningFlows((C=u(t).currentFlow)==null?void 0:C.name).finally(()=>{n.value=!1})})},{default:_(()=>[L(" Cancel all ")]),_:1},8,["loading"])):x("",!0)]),u(a)?x("",!0):(g(!0),F(q,{key:0},oe(u(t).flowsRunningByName((A=u(t).currentFlow)==null?void 0:A.name),C=>(g(),F("div",{key:C.task_id,class:"mb-5"},[I(i,{class:"mb-3",value:C==null?void 0:C.progress,indicator:"",color:C.error?"red":"green"},null,8,["value","color"]),S("p",ro,H(["#"+C.task_id,...Object.keys(C.input_params_mapped).filter(E=>C.input_params_mapped[E].value&&C.input_params_mapped[E].value!=="").map(E=>`${C.input_params_mapped[E].display_name}: ${C.input_params_mapped[E].value}`)].join(" | ")+`${C.execution_time?" | execution_time: "+C.execution_time.toFixed(2)+"s":""}`),1),I(m,{running:C},null,8,["running"]),C.error?(g(),B(b,{key:0,running:C},null,8,["running"])):x("",!0),S("div",so,[I(s,{icon:C.progress>=0&&C.progress<100?"i-heroicons-stop":"i-heroicons-minus-circle",color:C.error?"red":"orange",variant:"outline",loading:u(n),onClick:()=>{n.value=!0,u(t).cancelRunningFlow(C).finally(()=>{n.value=!1})}},{default:_(()=>[L(H(C.progress>=0&&C.progress<100?"Cancel":"Remove"),1)]),_:2},1032,["icon","color","loading","onClick"]),I(w,{items:[[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var E;return u(t).downloadFlowComfy((E=u(t).currentFlow)==null?void 0:E.name,C.task_id)}}]],mode:"click",popper:{placement:"bottom-end"}},{default:_(()=>[I(s,{color:"blue",variant:"outline",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])]))),128))])}}}),uo=$e(io,[["__scopeId","data-v-82e889dc"]]),co=V({__name:"ScrollToTop",props:{show:{type:Boolean,required:!0},target:{type:String,required:!0}},setup(e){const t=e;function n(){const a=document.getElementById(t.target);a&&a.scrollIntoView({behavior:"smooth"})}return(a,o)=>{const r=fe;return ht((g(),B(r,{icon:"i-heroicons-arrow-small-up",color:"black",variant:"outline",onClick:n},null,512)),[[Jt,e.show]])}}}),ve=Ae(J.ui.strategy,J.ui.select,Qn),mo=V({components:{UIcon:me},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ve.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>ve.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(ve.size).includes(e)}},color:{type:String,default:()=>ve.default.color,validator(e){return[...J.ui.colors,...Object.keys(ve.color)].includes(e)}},variant:{type:String,default:()=>ve.default.variant,validator(e){return[...Object.keys(ve.variant),...Object.values(ve.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t,slots:n}){const{ui:a,attrs:o}=Be("select",ue(e,"ui"),ve,ue(e,"class")),{size:r,rounded:l}=Jn({ui:a,props:e}),{emitFormChange:s,inputId:i,color:m,size:b,name:w}=bt(e,ve),c=k(()=>r.value||b.value),h=O=>{t("update:modelValue",O.target.value)},d=O=>{t("change",O.target.value),s()},f=O=>Bt(O,e.valueAttribute,""),p=O=>Bt(O,e.optionAttribute,""),v=O=>["string","number","boolean"].includes(typeof O)?{[e.valueAttribute]:O,[e.optionAttribute]:O}:{...O,[e.valueAttribute]:f(O),[e.optionAttribute]:p(O)},$=k(()=>e.options.map(O=>v(O))),y=k(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...$.value]:$.value),A=k(()=>{const O=v(e.modelValue),W=y.value.find(Q=>Q[e.valueAttribute]===O[e.valueAttribute]);return W?W[e.valueAttribute]:""}),C=k(()=>{var W,Q;const O=((Q=(W=a.value.color)==null?void 0:W[m.value])==null?void 0:Q[e.variant])||a.value.variant[e.variant];return we(re(a.value.base,a.value.form,l.value,a.value.size[c.value],e.padded?a.value.padding[c.value]:"p-0",O==null?void 0:O.replaceAll("{color}",m.value),(E.value||n.leading)&&a.value.leading.padding[c.value],(T.value||n.trailing)&&a.value.trailing.padding[c.value]),e.placeholder&&!e.modelValue&&a.value.placeholder,e.selectClass)}),E=k(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),T=k(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),z=k(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),Y=k(()=>e.loading&&!E.value?e.loadingIcon:e.trailingIcon||e.icon),ne=k(()=>re(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[c.value])),N=k(()=>re(a.value.icon.base,m.value&&J.ui.colors.includes(m.value)&&a.value.icon.color.replaceAll("{color}",m.value),a.value.icon.size[c.value],e.loading&&a.value.icon.loading)),G=k(()=>re(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[c.value])),K=k(()=>re(a.value.icon.base,m.value&&J.ui.colors.includes(m.value)&&a.value.icon.color.replaceAll("{color}",m.value),a.value.icon.size[c.value],e.loading&&!E.value&&a.value.icon.loading));return{ui:a,attrs:o,name:w,inputId:i,normalizedOptionsWithPlaceholder:y,normalizedValue:A,isLeading:E,isTrailing:T,selectClass:C,leadingIconName:z,leadingIconClass:N,leadingWrapperIconClass:ne,trailingIconName:Y,trailingIconClass:K,trailingWrapperIconClass:G,onInput:h,onChange:d}}}),fo=["id","name","value","required","disabled"],po=["value","label"],vo=["value","selected","disabled","textContent"],go=["value","selected","disabled","textContent"];function ho(e,t,n,a,o,r){const l=me;return g(),F("div",{class:j(e.ui.wrapper)},[S("select",X({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:t[0]||(t[0]=(...s)=>e.onInput&&e.onInput(...s)),onChange:t[1]||(t[1]=(...s)=>e.onChange&&e.onChange(...s))}),[(g(!0),F(q,null,oe(e.normalizedOptionsWithPlaceholder,(s,i)=>(g(),F(q,null,[s.children?(g(),F("optgroup",{key:`${s[e.valueAttribute]}-optgroup-${i}`,value:s[e.valueAttribute],label:s[e.optionAttribute]},[(g(!0),F(q,null,oe(s.children,(m,b)=>(g(),F("option",{key:`${m[e.valueAttribute]}-${i}-${b}`,value:m[e.valueAttribute],selected:m[e.valueAttribute]===e.normalizedValue,disabled:m.disabled,textContent:H(m[e.optionAttribute])},null,8,vo))),128))],8,po)):(g(),F("option",{key:`${s[e.valueAttribute]}-${i}`,value:s[e.valueAttribute],selected:s[e.valueAttribute]===e.normalizedValue,disabled:s.disabled,textContent:H(s[e.optionAttribute])},null,8,go))],64))),256))],16,fo),e.isLeading&&e.leadingIconName||e.$slots.leading?(g(),F("span",{key:0,class:j(e.leadingWrapperIconClass)},[le(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[I(l,{name:e.leadingIconName,class:j(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):x("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(g(),F("span",{key:1,class:j(e.trailingWrapperIconClass)},[le(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[I(l,{name:e.trailingIconName,class:j(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):x("",!0)],2)}const bo=$e(mo,[["render",ho],["__scopeId","data-v-9e521a3e"]]),yo={class:"p-4"},wo=S("h2",{class:"text-lg text-center mb-4"},"Send to flow",-1),ko={class:"flex justify-center mb-4"},$o={class:"text-sm text-slate-500 text-center mb-4"},So={class:"text-md text-center text-red-500 mb-4"},Po={key:1},Io={class:"flex justify-end"},Co=V({__name:"SendToFlowModal",props:{show:{type:Boolean,required:!1},flowResult:{type:Object,required:!1,default:()=>null},outputImgSrc:{type:String,required:!0},outputParamIndex:{type:Number,required:!0}},emits:["update:show"],setup(e,{emit:t}){const n=e,a=Ne(),o=k(()=>a.sub_flows.map(m=>({value:m.name,label:`${m.display_name} - ${m.description}`}))),r=P(o.value[0]||""),l=P(!1),s=t;function i(){console.debug("[Send to flow]: ",r.value);const m=a.sub_flows.find(w=>w.name===r.value.value&&w.display_name===r.value.label.split(" - ")[0]);if(console.debug("[Send to flow]: targetFlow",m),!m){Kn().add({title:`Target sub-flow "${r.value.value}" not found`,description:"Please, verify the target sub-flow is installed and available and try again",timeout:5e3});return}const b=m.input_params.reduce((w,c)=>{const h={};return c.type==="text"?h[c.name]={value:c.default||"",type:c.type}:c.type==="number"?h[c.name]={value:c.default||0,type:c.type}:c.type==="image"?h[c.name]={value:JSON.stringify({task_id:n.flowResult.task_id,node_id:n.flowResult.output_params[n.outputParamIndex].comfy_node_id})||"",type:c.type}:c.type==="list"?h[c.name]={value:c.default||Object.keys(c.options)[0]||"",type:c.type,options:c.options}:c.type==="bool"?h[c.name]={value:c.default||!1,type:c.type}:["range","range_scale"].includes(c.type)&&(h[c.name]={value:c.default||0,type:c.type}),w.push(h),w},[]);console.debug("[Send to flow]: input_params_map",b),l.value=!0,a.runFlow(m,b).finally(()=>{l.value=!1,s("update:show",!1)})}return Yn(()=>{a.fetchSubFlows("image").then(()=>{r.value=o.value[0]||""})}),(m,b)=>{const w=st,c=Zt,h=fe,d=Qe;return g(),B(d,{modelValue:m.$props.show,"onUpdate:modelValue":b[1]||(b[1]=f=>m.$props.show=f),class:"z-[90]",transition:!1},{default:_(()=>[S("div",yo,[wo,S("div",ko,[I(w,{src:e.outputImgSrc,class:"w-1/2 rounded-lg",draggable:!1},null,8,["src"])]),S("p",$o,H(Object.keys(e.flowResult.input_params_mapped).filter(f=>e.flowResult.input_params_mapped[f]!=="").map(f=>`${f}: ${e.flowResult.input_params_mapped[f]}`).join(" | ")),1),S("p",So,[u(o).length>0?(g(),B(c,{key:0,modelValue:u(r),"onUpdate:modelValue":b[0]||(b[0]=f=>Fe(r)?r.value=f:null),class:"w-full",size:"lg",options:u(o)},null,8,["modelValue","options"])):(g(),F("span",Po,"No sub-flows available"))]),S("div",Io,[I(h,{icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",loading:u(l),disabled:u(o).length===0,onClick:i},{default:_(()=>[L(" Send ")]),_:1},8,["loading","disabled"])])])]),_:1},8,["modelValue"])}}}),Fo={class:"flex flex-col md:flex-row items-center justify-center mb-5 sticky top-1 z-[10]"},Mo={class:"flex items-center justify-center"},xo={class:"p-4"},Ao=S("p",{class:"text-lg text-center mb-4"},"Are you sure you want to delete all results?",-1),Bo={class:"text-md text-center text-red-500 mb-4"},_o={class:"flex justify-center"},Oo={key:0,class:"results overflow-auto"},zo={class:"flex flex-col basis-full"},To={class:"text-sm text-slate-500 text-center mb-3"},jo={class:"w-full flex justify-center items-center"},Eo={key:1,class:"text-center text-slate-500"},Uo=V({__name:"Output",emits:["copy-prompt-inputs"],setup(e,{emit:t}){const n=Ne(),a=k(()=>{var T;return n.flowResultsByName((T=n.currentFlow)==null?void 0:T.name).length>0||!1}),o=k(()=>{var T;return n.flowResultsByName((T=n.currentFlow)==null?void 0:T.name).reverse()||[]}),r=k(()=>n.$state.resultsPageSize),l=function(T){return`${et()}/tasks/results?task_id=${T.task_id}&node_id=${T.node_id}`};ie(o,()=>{o.value.length<=n.$state.resultsPageSize?n.$state.resultsPage=1:n.$state.resultsPage>Math.ceil(o.value.length/n.$state.resultsPageSize)&&(n.$state.resultsPage=Math.ceil(o.value.length/n.$state.resultsPageSize))}),ie(r,()=>{o.value.length<=n.$state.resultsPageSize?n.$state.resultsPage=1:n.$state.resultsPage>Math.ceil(o.value.length/n.$state.resultsPageSize)&&(n.$state.resultsPage=Math.ceil(o.value.length/n.$state.resultsPageSize)),n.saveUserOptions()}),he(()=>{n.$state.flow_results_filter="",n.$state.resultsPage=1});const s=t;function i(T){s("copy-prompt-inputs",T.input_params_mapped)}function m(T){p.value=T,f.value=!0}const b=P(null),w=P(!1);window.addEventListener("scroll",()=>{var T;w.value=window.scrollY>(((T=b.value)==null?void 0:T.offsetTop)+window.screen.height||0)});const c=k(()=>n.$state.resultsPage);ie(c,()=>{const T=document.getElementById("output-container");T&&T.scrollIntoView({behavior:"smooth"})});const h=rt(),d=P(!1),f=P(!1),p=P(""),v=P(!1),$=P(!1),y=P(!1),A=P(""),C=P(null),E=P(0);return(T,z)=>{var U;const Y=co,ne=me,N=yt,G=ia,K=bo,O=fe,W=$t,Q=Yt,de=Qe,be=st,_e=vn,Oe=Co;return g(),F("div",{id:"output-container",ref_key:"outputContainer",ref:b,class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md my-10"},[I(Y,{show:u(w),class:"fixed bottom-5 right-5",target:"output-container"},null,8,["show"]),S("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:z[0]||(z[0]=()=>{d.value=!u(d)})},[I(ne,{name:u(d)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),L(" Output ("+H(u(o).length)+") ",1)]),u(d)?x("",!0):(g(),F(q,{key:0},[S("div",Fo,[I(N,{modelValue:u(n).$state.flow_results_filter,"onUpdate:modelValue":z[1]||(z[1]=M=>u(n).$state.flow_results_filter=M),icon:"i-heroicons-magnifying-glass-20-solid",color:"white",class:"md:mr-3",label:"Filter results by prompt",trailing:!0,placeholder:"Filter results by prompt"},null,8,["modelValue"]),u(o).length>u(n).$state.resultsPageSize?(g(),B(G,{key:0,modelValue:u(n).$state.resultsPage,"onUpdate:modelValue":z[2]||(z[2]=M=>u(n).$state.resultsPage=M),class:"my-1 md:my-0","page-count":u(n).$state.resultsPageSize,total:u(o).length,"show-first":"","show-last":""},null,8,["modelValue","page-count","total"])):x("",!0),S("div",Mo,[I(K,{modelValue:u(n).resultsPageSize,"onUpdate:modelValue":z[3]||(z[3]=M=>u(n).resultsPageSize=M),class:"md:mx-3 w-fit mr-3",options:[5,10,20,50,100],label:"Results per page"},null,8,["modelValue"]),I(W,{items:[[{label:"Delete all results",labelClass:"text-red-500",icon:"i-heroicons-trash",iconClass:"dark:text-red-500 text-red-500",click:()=>v.value=!0}]],mode:"click",label:"Options",popper:{placement:"bottom-end"}},{default:_(()=>[I(O,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:1},8,["items"])]),I(de,{modelValue:u(v),"onUpdate:modelValue":z[6]||(z[6]=M=>Fe(v)?v.value=M:null),class:"z-[90]",transition:!1},{default:_(()=>[S("div",xo,[Ao,S("p",Bo,[L(" All history and images of "),I(Q,{class:"mx-1",color:"orange",variant:"outline"},{default:_(()=>[L(H(u(n).currentFlow.display_name),1)]),_:1}),L(" will be deleted. ")]),S("div",_o,[I(O,{class:"mr-2",color:"red",variant:"outline",loading:u($),onClick:z[4]||(z[4]=()=>{var M;$.value=!0,u(n).deleteFlowResults((M=u(n).currentFlow)==null?void 0:M.name).then(()=>{$.value=!1,v.value=!1})})},{default:_(()=>[L(" Yes ")]),_:1},8,["loading"]),I(O,{variant:"outline",onClick:z[5]||(z[5]=()=>v.value=!1)},{default:_(()=>[L("No")]),_:1})])])]),_:1},8,["modelValue"])]),u(a)?(g(),F("div",Oo,[(g(!0),F(q,null,oe(u(n).flowResultsByNamePaginated((U=u(n).currentFlow)==null?void 0:U.name),M=>(g(),F("div",{key:M.task_id,class:"flex flex-col justify-center mx-auto mb-5"},[M.output_params.length===1?(g(),B(be,{key:0,class:"mb-2 h-100 mx-auto rounded-lg cursor-pointer",draggable:"false",fit:"outside",loading:"lazy",placeholder:u(h)(`${("buildBackendUrl"in T?T.buildBackendUrl:u(_t))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:l({task_id:M.task_id,node_id:M.output_params[0].comfy_node_id}),onClick:()=>m(l({task_id:M.task_id,node_id:M.output_params[0].comfy_node_id}))},null,8,["placeholder","src","onClick"])):(g(),B(_e,{key:1,class:"mb-3 rounded-lg overflow-hidden",items:M.output_params.map((R,ee)=>({task_id:M.task_id,node_id:R.comfy_node_id,index:ee})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:_(({item:R})=>[S("div",zo,[I(be,{class:"w-full cursor-pointer mx-auto",loading:"lazy",placeholder:u(h)(`${("buildBackendUrl"in T?T.buildBackendUrl:u(_t))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:l(R),draggable:"false",onClick:()=>m(l(R))},null,8,["placeholder","src","onClick"]),I(O,{class:"mt-2 w-fit mx-auto",icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",onClick:()=>{y.value=!0,C.value=M,A.value=l(R),E.value=R.index}},{default:_(()=>[L(" Send to flow ")]),_:2},1032,["onClick"])])]),_:2},1032,["items"])),S("p",To,H(["#"+M.task_id,...Object.keys(M.input_params_mapped).filter(R=>M.input_params_mapped[R].value&&M.input_params_mapped[R].value!=="").map(R=>`${M.input_params_mapped[R].display_name}: ${M.input_params_mapped[R].value}`)].join(" | ")+`${M.execution_time?" | execution_time: "+M.execution_time.toFixed(2)+"s":""}`),1),S("div",jo,[I(O,{class:"mr-3",color:"red",icon:"i-heroicons-trash",variant:"outline",onClick:()=>u(n).deleteFlowHistory(M.task_id)},{default:_(()=>[L(" Delete ")]),_:2},1032,["onClick"]),I(W,{items:[[{label:"Use params",labelClass:"text-cyan-500",icon:"i-heroicons-document-duplicate-16-solid",iconClass:"bg-cyan-500",click:()=>i(M)}],[{label:"Send to flow",labelClass:"text-violet-500",icon:"i-heroicons-arrow-uturn-up-solid",iconClass:"bg-violet-500",click:()=>{y.value=!0,C.value=M,A.value=l({task_id:M.task_id,node_id:M.output_params[0].comfy_node_id}),E.value=0},disabled:M.output_params.length!==1}],[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var R;return u(n).downloadFlowComfy((R=u(n).currentFlow)==null?void 0:R.name,M.task_id)}}]],mode:"click",popper:{placement:"bottom-start"}},{default:_(()=>[I(O,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])]))),128)),I(Oe,{modelValue:u(y),"onUpdate:modelValue":z[7]||(z[7]=M=>Fe(y)?y.value=M:null),"flow-result":u(C),"output-img-src":u(A),"output-param-index":u(E),"onUpdate:show":z[8]||(z[8]=M=>y.value=M)},null,8,["modelValue","flow-result","output-img-src","output-param-index"])])):(g(),F("p",Eo," No output results available "))],64)),I(de,{modelValue:u(f),"onUpdate:modelValue":z[11]||(z[11]=M=>Fe(f)?f.value=M:null),class:"z-[90]",transition:!1,fullscreen:""},{default:_(()=>[I(O,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:z[9]||(z[9]=()=>f.value=!1)}),S("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:z[10]||(z[10]=Ve(()=>f.value=!1,["left"]))},[u(p)?(g(),B(be,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",src:u(p)},null,8,["src"])):x("",!0)])]),_:1},8,["modelValue"])],512)}}}),Ro=Ae(J.ui.strategy,J.ui.skeleton,pa),Lo=V({inheritAttrs:!1,props:{class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:n}=Be("skeleton",ue(e,"ui"),Ro),a=k(()=>we(re(t.value.base,t.value.background,t.value.rounded),e.class));return{ui:t,attrs:n,skeletonClass:a}}});function No(e,t,n,a,o,r){return g(),F("div",X({class:e.skeletonClass},e.attrs),null,16)}const Do=$e(Lo,[["render",No]]),Vo={class:"flex flex-col lg:flex-row flex-grow items-start w-full"},Ho={class:"card-wrapper w-full lg:pr-5"},Wo={key:0,class:"p-0 text-sm"},qo={class:"flex flex-row items-center text-slate-400 mb-2"},Go={class:"flex flex-row flex-wrap items-center text-md mb-2"},Qo=S("b",null,"Author:",-1),Jo=["href"],Yo={class:"flex flex-row items-center text-md mb-2"},Ko=["href"],Xo={key:1},Zo={class:"flex flex-row items-center text-md mb-2"},er=S("b",null,"Version:",-1),tr={class:"flex flex-row items-center text-md mb-2"},nr=S("b",null,"Tags:",-1),ar={key:0,class:"flex flex-row flex-wrap items-center text-md mb-2"},lr=["href"],or={key:1,class:"flex flex-row flex-wrap items-center text-md"},rr=S("b",null,"Requires:",-1),sr={key:0,class:"flex justify-end"},ir={class:"flex flex-row items-center justify-center text-sm mr-2"},ur={key:1},dr={class:"text-sm flex justify-end"},cr={class:"flex flex-row items-center justify-center text-sm mr-3"},mr=S("div",{class:"text-right"},[S("p",{class:"text-orange-500"},"Only admin can manage workflows."),S("span",{class:"text-slate-500"},"Ask your admin to setup this workflow")],-1),fr={class:"prompt-wrapper w-full"},pr={class:"flex items-center justify-between"},vr=S("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Confirm workflow deletion ",-1),gr={class:"pb-2"},hr=S("b",null,"private",-1),br={class:"flex justify-end items-center"},Cr=V({__name:"[name]",setup(e){const t=Xn(),n=Ne();n.setCurrentFlow(t.params.name);const a=k(()=>n.flowInstallingByName(t.params.name)),o=k(()=>{var f;return a.value&&((f=a.value)==null?void 0:f.progress)<100||!1}),r=P(!1),l=k(()=>{var f;return a.value?"error"in a.value&&((f=a.value)==null?void 0:f.error)!==""?`${a.value.progress.toFixed(0)}% Error setting up`:`${a.value.progress.toFixed(0)}% Setting up`:"Setup flow"}),s=P(!1),i=P(!1);function m(f,p=!1){s.value=!0,n.deleteFlow(f).then(()=>{p&&na().push("/")}).finally(()=>{s.value=!1,i.value=!1})}function b(){var p;const f=((p=n.currentFlow)==null?void 0:p.private)||!1;if(f){i.value=!0;return}m(n.currentFlow,f)}const w=P(!1),c=P(null),h=function(f){var p;(p=c.value)==null||p.copyPromptInputs(f)},d=Zn();return(f,p)=>{const v=me,$=sa,y=Yt,A=fe,C=$t,E=ua,T=Hl,z=uo,Y=Uo,ne=en,N=Do,G=Qe,K=ea;return g(),B(K,null,{default:_(()=>[!u(n).loading.flows_available&&!u(n).loading.flows_installed&&u(n).currentFlow&&!u(n).$state.loading.tasks_history?(g(),F(q,{key:0},[S("div",Vo,[S("div",Ho,[I(E,{as:"div",class:"w-full mb-5"},ta({header:_(()=>{var O,W;return[S("h2",{class:"text-xl font-bold cursor-pointer select-none flex items-center",onClick:p[0]||(p[0]=()=>{w.value=!u(w)})},[(O=u(n).currentFlow)!=null&&O.private?(g(),B($,{key:0,text:"This flow is local, manually added"},{default:_(()=>[I(v,{name:"i-heroicons-lock-closed",class:"mr-2"})]),_:1})):x("",!0),I(v,{name:u(w)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),L(" "+H((W=u(n).currentFlow)==null?void 0:W.display_name),1)])]}),default:_(()=>{var O,W,Q,de,be,_e,Oe,U,M,R,ee,De,ze,St,Pt;return[u(w)?x("",!0):(g(),F("div",Wo,[S("p",qo,H((O=u(n).currentFlow)==null?void 0:O.description),1),S("p",Go,[I(v,{name:"i-heroicons-user-16-solid",class:"mr-1"}),Qo,L("  "),S("a",{class:"hover:underline text-md",href:(W=u(n).currentFlow)==null?void 0:W.homepage,rel:"noopener",target:"_blank"},H((Q=u(n).currentFlow)==null?void 0:Q.author),9,Jo)]),S("p",Yo,[I(v,{name:"i-heroicons-document-text",class:"mr-1"}),(de=u(n).currentFlow)!=null&&de.documentation?(g(),F("a",{key:0,class:"hover:underline",href:(be=u(n).currentFlow)==null?void 0:be.documentation,rel:"noopener",target:"_blank"}," Documentation ",8,Ko)):(g(),F("span",Xo,"No documentation"))]),S("p",Zo,[I(v,{name:"i-heroicons-clock",class:"mr-1"}),er,L("  "),S("span",null,H((_e=u(n).currentFlow)==null?void 0:_e.version),1)]),S("p",tr,[I(v,{name:"i-heroicons-tag",class:"mr-1"}),nr,L("  "),((Oe=u(n).currentFlow)==null?void 0:Oe.tags.length)>0?(g(!0),F(q,{key:0},oe((U=u(n).currentFlow)==null?void 0:U.tags,pe=>(g(),B(y,{key:pe,label:pe,color:"white",variant:"solid",class:"m-1"},null,8,["label"]))),128)):(g(),B(y,{key:1,label:"No tags",color:"white",variant:"solid",class:"m-1"}))]),((R=(M=u(n).currentFlow)==null?void 0:M.models)==null?void 0:R.length)>0?(g(),F("p",ar,[I(v,{name:"i-heroicons-arrow-down-on-square-stack",class:"mr-1"}),S("b",null,"Models ("+H((ee=u(n).currentFlow)==null?void 0:ee.models.length)+"):",1),L("  "),(g(!0),F(q,null,oe((De=u(n).currentFlow)==null?void 0:De.models,pe=>(g(),B(y,{key:pe.name,class:"m-1",color:"white",variant:"solid"},{default:_(()=>[pe.gated?(g(),B($,{key:0,text:"Gated model, requires auth token for download",popper:{placement:"top"}},{default:_(()=>[I(v,{name:"i-heroicons-key",class:"mr-1"})]),_:1})):x("",!0),S("a",{class:"hover:underline underline-offset-4",href:pe.homepage,rel:"noopener",target:"_blank"},H(pe.name),9,lr)]),_:2},1024))),128))])):x("",!0),((St=(ze=u(n).currentFlow)==null?void 0:ze.requires)==null?void 0:St.length)>0?(g(),F("p",or,[rr,L("  "),(g(!0),F(q,null,oe((Pt=u(n).currentFlow)==null?void 0:Pt.requires,pe=>(g(),B(y,{key:pe,class:"m-1",color:"yellow",variant:"outline"},{default:_(()=>[L(H(pe),1)]),_:2},1024))),128))])):x("",!0)]))]}),_:2},[u(w)?void 0:{name:"footer",fn:_(()=>[u(d).isAdmin?(g(),F("div",sr,[S("div",ir,[I(v,{name:u(n).isFlowInstalled(u(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),S("span",{class:j({"text-green-500":u(n).isFlowInstalled(u(t).params.name),"text-red-500":!u(n).isFlowInstalled(u(t).params.name)})},H(u(n).isFlowInstalled(u(t).params.name)?"Installed":"Not installed"),3)]),u(n).isFlowInstalled(u(t).params.name)?x("",!0):(g(),B($,{key:0,text:"Setup flow dependencies and configure it in ComfyUI",popper:{placement:"top"},"open-delay":500},{default:_(()=>[I(A,{icon:"i-heroicons-arrow-down-tray",class:"mx-3",color:"primary",variant:"outline",loading:u(o),onClick:p[1]||(p[1]=()=>u(n).setupFlow(u(n).currentFlow))},{default:_(()=>[L(H(u(l)),1)]),_:1},8,["loading"])]),_:1})),!u(n).isFlowInstalled(u(t).params.name)&&u(o)?(g(),B($,{key:1,text:"Cancel flow installation",popper:{placement:"top"},"open-delay":500},{default:_(()=>[I(A,{icon:"i-heroicons-stop",variant:"outline",color:"orange",loading:u(r),onClick:p[2]||(p[2]=()=>{r.value=!0,u(n).cancelFlowSetup(u(n).currentFlow).then(()=>{r.value=!1})})},{default:_(()=>[L(" Cancel ")]),_:1},8,["loading"])]),_:1})):x("",!0),u(n).isFlowInstalled(u(t).params.name)?(g(),B(C,{key:2,items:[[{label:"Delete flow",icon:"i-heroicons-trash",click:b}]],mode:"click",label:"Actions",popper:{placement:"bottom-end"}},{default:_(()=>[I(A,{color:"white",label:"Actions","trailing-icon":"i-heroicons-chevron-down-20-solid"})]),_:1},8,["items"])):x("",!0)])):(g(),F("div",ur,[S("div",dr,[S("div",cr,[I(v,{name:u(n).isFlowInstalled(u(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),S("span",{class:j({"text-green-500":u(n).isFlowInstalled(u(t).params.name),"text-red-500":!u(n).isFlowInstalled(u(t).params.name)})},H(u(n).isFlowInstalled(u(t).params.name)?"Installed":"Not installed"),3)]),mr])]))]),key:"0"}]),1024)]),S("div",fr,[!u(s)&&u(n).isFlowInstalled(u(t).params.name)?(g(),B(T,{key:0,ref_key:"workflowPrompt",ref:c},null,512)):x("",!0)])]),!u(s)&&u(n).isFlowInstalled(u(t).params.name)?(g(),B(z,{key:0})):x("",!0),!u(s)&&u(n).isFlowInstalled(u(t).params.name)||u(n).flowResultsByName(u(t).params.name).length>0?(g(),B(Y,{key:1,onCopyPromptInputs:p[3]||(p[3]=O=>h(O))})):x("",!0)],64)):(g(),F(q,{key:1},[I(ne,{class:"mb-3"}),I(N,{class:"w-full h-80"})],64)),I(G,{modelValue:u(i),"onUpdate:modelValue":p[7]||(p[7]=O=>Fe(i)?i.value=O:null),"prevent-close":""},{default:_(()=>[I(E,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:_(()=>[S("div",pr,[vr,I(A,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:p[4]||(p[4]=O=>i.value=!1)})])]),default:_(()=>{var O;return[S("p",gr,[L(" Are you sure you want to delete the "),hr,L(" workflow "),S("b",null,H((O=u(n).currentFlow)==null?void 0:O.display_name),1),L("? ")]),S("div",br,[I(A,{icon:"i-heroicons-x-mark-16-solid",variant:"outline",color:"green",class:"mr-2",onClick:p[5]||(p[5]=W=>i.value=!1)},{default:_(()=>[L(" Cancel ")]),_:1}),I(A,{icon:"i-heroicons-trash",variant:"outline",color:"red",onClick:p[6]||(p[6]=W=>{var Q;return m(u(n).currentFlow,((Q=u(n).currentFlow)==null?void 0:Q.private)||!1)})},{default:_(()=>[L(" Delete ")]),_:1})])]}),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{Cr as default};
