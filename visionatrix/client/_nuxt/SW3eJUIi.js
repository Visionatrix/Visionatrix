import{_ as B,a as C}from"./BE0eJ9Va.js";import{_ as I,a as T}from"./BB8aCCeT.js";import{_ as M,a as L}from"./BccztaaC.js";import{f as F,g as N,o as s,c as r,b as c,w as m,a,h as f,i as $,d as h,t as w,j as t,F as b,r as j,k as W,l as A,m as D,u as O,n as P,p as q}from"./Fv_ccydE.js";const E={class:"p-4 w-full md:w-6/12 lg:w-4/12 z-[10]"},H={class:"flex flex-grow justify-between"},G=["title"],J={class:"flex flex-col items-between text-sm"},K=["title"],Q={class:"flex flex-row flex-wrap items-center mb-2"},R={class:"flex flex-row items-center"},X=["href"],Y={class:"flex flex-row items-center mb-2"},Z=["href"],ee={key:1},te={class:"flex flex-row items-center"},oe=F({__name:"ListItem",props:{flow:{type:Object,required:!0}},setup(l){const e=N();return(z,o)=>{const d=W,p=B,g=A,x=D,k=M;return s(),r("div",E,[c(k,{as:"div",class:"hover:shadow-md"},{header:m(()=>{var i,n,_,u;return[a("div",H,[a("h2",{class:"text-xl font-bold text-ellipsis flex items-center",title:(i=l.flow)==null?void 0:i.display_name},[(n=l.flow)!=null&&n.private?(s(),f(p,{key:0,text:"This flow is local, manually added"},{default:m(()=>[c(d,{name:"i-heroicons-lock-closed",class:"mr-2"})]),_:1})):$("",!0),h(" "+w((_=l.flow)==null?void 0:_.display_name),1)],8,G),t(e).isFlowInstalled((u=l.flow)==null?void 0:u.name)?(s(),f(p,{key:0,text:"Mark flow as favorite",popper:{placement:"top"},"open-delay":500},{default:m(()=>[c(g,{icon:t(e).isFlowFavorite(l.flow.name)?"i-heroicons-star-16-solid":"i-heroicons-star",variant:"outline",color:"yellow",onClick:o[0]||(o[0]=y=>t(e).markFlowFavorite(l.flow))},null,8,["icon"])]),_:1})):$("",!0)])]}),footer:m(()=>{var i;return[c(g,{to:`/workflows/${(i=l.flow)==null?void 0:i.name}`,icon:"i-heroicons-arrow-up-right-16-solid",class:"flex justify-center dark:bg-slate-500 bg-slate-500 dark:hover:bg-slate-700 hover:bg-slate-700 dark:text-white"},{default:m(()=>o[5]||(o[5]=[h(" Open ")])),_:1},8,["to"])]}),default:m(()=>{var i,n,_,u,y,v,V,S;return[a("div",J,[a("p",{class:"text-md text-slate-400 truncate text-ellipsis mb-2",title:(i=l.flow)==null?void 0:i.description},w((n=l.flow)==null?void 0:n.description),9,K),a("p",Q,[a("span",R,[c(d,{name:"i-heroicons-user-16-solid",class:"mr-1"}),o[1]||(o[1]=a("b",null,"Author:",-1)),o[2]||(o[2]=h("  "))]),a("a",{class:"hover:underline flex flex-row items-center",href:(_=l.flow)==null?void 0:_.homepage,rel:"noopener",target:"_blank"},w((u=l.flow)==null?void 0:u.author),9,X)]),a("p",Y,[c(d,{name:"i-heroicons-document-text",class:"mr-1"}),(y=l.flow)!=null&&y.documentation?(s(),r("a",{key:0,class:"hover:underline",href:(v=l.flow)==null?void 0:v.documentation,rel:"noopener",target:"_blank"},"Documentation",8,Z)):(s(),r("span",ee,"No documentation"))]),a("p",te,[c(d,{name:"i-heroicons-tag",class:"mr-1"}),o[3]||(o[3]=a("b",null,"Tags:",-1)),o[4]||(o[4]=h("  ")),((V=l.flow)==null?void 0:V.tags.length)>0?(s(!0),r(b,{key:0},j((S=l.flow)==null?void 0:S.tags,U=>(s(),f(x,{key:U,label:U,color:"white",variant:"solid",class:"m-1"},null,8,["label"]))),128)):(s(),f(x,{key:1,label:"No tags",color:"white",variant:"solid",class:"m-1"}))])])]}),_:1})])}}}),se={class:"w-full sticky z-[100] top-1 flex flex-col md:flex-row justify-center items-center my-1"},le={key:0,class:"truncate"},ne={key:1},ae={key:0,class:"flex flex-wrap justify-center items-center mb-10"},ie={key:1,class:"text-center text-slate-500 my-5"},de=F({__name:"index",setup(l){O({title:"Workflows - Visionatrix",meta:[{name:"description",content:"Workflows - Visionatrix"}]});const e=N();return P(()=>e.paginatedFlows,()=>{e.flows.length<=e.$state.pageSize?e.$state.page=1:e.$state.page>Math.ceil(e.flows.length/e.$state.pageSize)&&(e.$state.page=Math.ceil(e.flows.length/e.$state.pageSize))}),(z,o)=>{const d=C,p=I,g=L,x=T,k=oe,i=q;return s(),f(i,{class:"lg:h-dvh"},{default:m(()=>[t(e).$state.loading.flows_available||t(e).loading.flows_installed||t(e).$state.loading.tasks_history?(s(),f(d,{key:0})):(s(),r(b,{key:1},[a("div",se,[c(p,{modelValue:t(e).$state.flows_search_filter,"onUpdate:modelValue":o[0]||(o[0]=n=>t(e).$state.flows_search_filter=n),icon:"i-heroicons-magnifying-glass-20-solid",color:"white",class:"mb-1 md:mr-3 md:mb-0",label:"Filter by prompt",trailing:!0,placeholder:"Search flows"},null,8,["modelValue"]),t(e).flows.length>t(e).$state.pageSize?(s(),f(g,{key:0,modelValue:t(e).$state.page,"onUpdate:modelValue":o[1]||(o[1]=n=>t(e).$state.page=n),class:"mb-1 md:mr-3 md:mb-0","page-count":t(e).$state.pageSize,total:t(e).flows.length},null,8,["modelValue","page-count","total"])):$("",!0),c(x,{modelValue:t(e).$state.flows_tags_filter,"onUpdate:modelValue":o[2]||(o[2]=n=>t(e).$state.flows_tags_filter=n),options:t(e).flowsTags,multiple:"",searchable:""},{label:m(()=>[t(e).$state.flows_tags_filter.length>0?(s(),r("span",le,w(t(e).$state.flows_tags_filter.join(",")),1)):(s(),r("span",ne,"Select tags to filter"))]),_:1},8,["modelValue","options"])]),t(e).flows.length>0?(s(),r("div",ae,[(s(!0),r(b,null,j(t(e).paginatedFlows,n=>(s(),f(k,{key:n.name,flow:n},null,8,["flow"]))),128))])):(s(),r("p",ie,w(t(e).$state.flows_search_filter||t(e).$state.flows_tags_filter?"No flows found":"No flows available"),1))],64))]),_:1})}}});export{de as default};
