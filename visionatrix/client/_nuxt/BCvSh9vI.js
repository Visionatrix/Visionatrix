import{x as m,p as Re,b7 as wt,v as te,bq as je,br as Mt,N as k,$ as Ve,a6 as he,ac as Je,f as J,Z as ce,a1 as T,S as de,a2 as ie,a0 as be,ah as U,a8 as Ee,aQ as Ye,aR as ue,a4 as Xe,ab as K,aS as Ze,aU as Ge,W as ge,Y as _e,be as et,F as Fe,bo as j,bs as Rt,a7 as tt,a5 as Be,X as nt,a3 as ye,a9 as B,bt as xt,bu as Tt,aT as Et,aV as At,bv as lt,B as Le,bw as zt,C as Q,_ as at,c as H,o as N,a as ae,D as G,k as Z,E as xe,n as F,b as me,h as Ae,H as $e,I as we,bj as it,ag as ot,K as ut,J as ee,ai as kt,bi as $t,bx as Dt,ay as Vt,i as oe,w as fe,a$ as Ie,t as ve,a_ as Ft,r as Bt,U as st,av as Lt,d as Pe,b1 as Nt,by as jt,bk as qe,bn as We,aK as Pt,aL as qt}from"./CuaLw3ki.js";function pe(e,u,n){let l=n.initialDeps??[],t;return()=>{var o,a,i,b;let v;n.key&&((o=n.debug)!=null&&o.call(n))&&(v=Date.now());const r=e();if(!(r.length!==l.length||r.some((C,w)=>l[w]!==C)))return t;l=r;let c;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(c=Date.now()),t=u(...r),n.key&&((i=n.debug)!=null&&i.call(n))){const C=Math.round((Date.now()-v)*100)/100,w=Math.round((Date.now()-c)*100)/100,R=w/16,L=(D,S)=>{for(D=String(D);D.length<S;)D=" "+D;return D};console.info(`%câ± ${L(w,5)} /${L(C,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*R,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(b=n==null?void 0:n.onChange)==null||b.call(n,t),t}}function ke(e,u){if(e===void 0)throw new Error("Unexpected undefined");return e}const Wt=(e,u)=>Math.abs(e-u)<1,Ht=(e,u,n)=>{let l;return function(...t){e.clearTimeout(l),l=e.setTimeout(()=>u.apply(this,t),n)}},Ut=e=>e,Kt=e=>{const u=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),l=[];for(let t=u;t<=n;t++)l.push(t);return l},Qt=(e,u)=>{const n=e.scrollElement;if(!n)return;const l=e.targetWindow;if(!l)return;const t=a=>{const{width:i,height:b}=a;u({width:Math.round(i),height:Math.round(b)})};if(t(n.getBoundingClientRect()),!l.ResizeObserver)return()=>{};const o=new l.ResizeObserver(a=>{const i=a[0];if(i!=null&&i.borderBoxSize){const b=i.borderBoxSize[0];if(b){t({width:b.inlineSize,height:b.blockSize});return}}t(n.getBoundingClientRect())});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},He={passive:!0},Jt=typeof window>"u"?!0:"onscrollend"in window,Yt=(e,u)=>{const n=e.scrollElement;if(!n)return;const l=e.targetWindow;if(!l)return;let t=0;const o=e.options.useScrollendEvent&&Jt?()=>{}:Ht(l,()=>{u(t,!1)},e.options.isScrollingResetDelay),a=v=>()=>{const{horizontal:r,isRtl:s}=e.options;t=r?n.scrollLeft*(s&&-1||1):n.scrollTop,o(),u(t,v)},i=a(!0),b=a(!1);return b(),n.addEventListener("scroll",i,He),n.addEventListener("scrollend",b,He),()=>{n.removeEventListener("scroll",i),n.removeEventListener("scrollend",b)}},Xt=(e,u,n)=>{if(u!=null&&u.borderBoxSize){const l=u.borderBoxSize[0];if(l)return Math.round(l[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Zt=(e,{adjustments:u=0,behavior:n},l)=>{var t,o;const a=e+u;(o=(t=l.scrollElement)==null?void 0:t.scrollTo)==null||o.call(t,{[l.options.horizontal?"left":"top"]:a,behavior:n})};class Gt{constructor(u){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const l=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(t=>{t.forEach(o=>{this._measureElement(o.target,o)})}));return{disconnect:()=>{var t;(t=l())==null||t.disconnect(),n=null},observe:t=>{var o;return(o=l())==null?void 0:o.observe(t,{box:"border-box"})},unobserve:t=>{var o;return(o=l())==null?void 0:o.unobserve(t)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([l,t])=>{typeof t>"u"&&delete n[l]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ut,rangeExtractor:Kt,onChange:()=>{},measureElement:Xt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...n}},this.notify=n=>{var l,t;(t=(l=this.options).onChange)==null||t.call(l,this,n)},this.maybeNotify=pe(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const l=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==l){if(this.cleanup(),!l){this.maybeNotify();return}this.scrollElement=l,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(t=>{this.observer.observe(t)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,t=>{this.scrollRect=t,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(t,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,l)=>{const t=new Map,o=new Map;for(let a=l-1;a>=0;a--){const i=n[a];if(t.has(i.lane))continue;const b=o.get(i.lane);if(b==null||i.end>b.end?o.set(i.lane,i):i.end<b.end&&t.set(i.lane,!0),t.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((a,i)=>a.end===i.end?a.index-i.index:a.end-i.end)[0]:void 0},this.getMeasurementOptions=pe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,l,t,o,a)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:l,scrollMargin:t,getItemKey:o,enabled:a}),{key:!1}),this.getMeasurements=pe(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:l,scrollMargin:t,getItemKey:o,enabled:a},i)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(r=>{this.itemSizeCache.set(r.key,r.size)}));const b=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const v=this.measurementsCache.slice(0,b);for(let r=b;r<n;r++){const s=o(r),c=this.options.lanes===1?v[r-1]:this.getFurthestMeasurement(v,r),C=c?c.end+this.options.gap:l+t,w=i.get(s),R=typeof w=="number"?w:this.options.estimateSize(r),L=C+R,D=c?c.lane:r%this.options.lanes;v[r]={index:r,start:C,size:R,end:L,key:s,lane:D}}return this.measurementsCache=v,v},{key:!1,debug:()=>this.options.debug}),this.calculateRange=pe(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,l,t)=>this.range=n.length>0&&l>0?_t({measurements:n,outerSize:l,scrollOffset:t}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=pe(()=>{let n=null,l=null;const t=this.calculateRange();return t&&(n=t.startIndex,l=t.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,l]},(n,l,t,o,a)=>o===null||a===null?[]:n({startIndex:o,endIndex:a,overscan:l,count:t}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const l=this.options.indexAttribute,t=n.getAttribute(l);return t?parseInt(t,10):(console.warn(`Missing attribute name '${l}={index}' on measured element.`),-1)},this._measureElement=(n,l)=>{const t=this.indexFromElement(n),o=this.measurementsCache[t];if(!o)return;const a=o.key,i=this.elementsCache.get(a);i!==n&&(i&&this.observer.unobserve(i),this.observer.observe(n),this.elementsCache.set(a,n)),n.isConnected&&this.resizeItem(t,this.options.measureElement(n,l,this))},this.resizeItem=(n,l)=>{const t=this.measurementsCache[n];if(!t)return;const o=this.itemSizeCache.get(t.key)??t.size,a=l-o;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,a,this):t.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,l)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((l,t)=>{l.isConnected||(this.observer.unobserve(l),this.elementsCache.delete(t))});return}this._measureElement(n,void 0)},this.getVirtualItems=pe(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,l)=>{const t=[];for(let o=0,a=n.length;o<a;o++){const i=n[o],b=l[i];t.push(b)}return t},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const l=this.getMeasurements();if(l.length!==0)return ke(l[rt(0,l.length-1,t=>ke(l[t]).start,n)])},this.getOffsetForAlignment=(n,l)=>{const t=this.getSize(),o=this.getScrollOffset();l==="auto"&&n>=o+t&&(l="end"),l==="end"&&(n-=t);const a=this.options.horizontal?"scrollWidth":"scrollHeight",b=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[a]:this.scrollElement[a]:0)-t;return Math.max(Math.min(b,n),0)},this.getOffsetForIndex=(n,l="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const t=this.measurementsCache[n];if(!t)return;const o=this.getSize(),a=this.getScrollOffset();if(l==="auto")if(t.end>=a+o-this.options.scrollPaddingEnd)l="end";else if(t.start<=a+this.options.scrollPaddingStart)l="start";else return[a,l];const i=t.start-this.options.scrollPaddingStart+(t.size-o)/2;switch(l){case"center":return[this.getOffsetForAlignment(i,l),l];case"end":return[this.getOffsetForAlignment(t.end+this.options.scrollPaddingEnd,l),l];default:return[this.getOffsetForAlignment(t.start-this.options.scrollPaddingStart,l),l]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:l="start",behavior:t}={})=>{this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,l),{adjustments:void 0,behavior:t})},this.scrollToIndex=(n,{align:l="auto",behavior:t}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,l);if(!o)return;const[a,i]=o;this._scrollToOffset(a,{adjustments:void 0,behavior:t}),t!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[v]=ke(this.getOffsetForIndex(n,i));Wt(v,this.getScrollOffset())||this.scrollToIndex(n,{align:i,behavior:t})}else this.scrollToIndex(n,{align:i,behavior:t})}))},this.scrollBy=(n,{behavior:l}={})=>{this.cancelScrollToIndex(),l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:l})},this.getTotalSize=()=>{var n;const l=this.getMeasurements();let t;return l.length===0?t=this.options.paddingStart:t=this.options.lanes===1?((n=l[l.length-1])==null?void 0:n.end)??0:Math.max(...l.slice(-this.options.lanes).map(o=>o.end)),Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:l,behavior:t})=>{this.options.scrollToFn(n,{behavior:t,adjustments:l},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(u)}}const rt=(e,u,n,l)=>{for(;e<=u;){const t=(e+u)/2|0,o=n(t);if(o<l)e=t+1;else if(o>l)u=t-1;else return t}return e>0?e-1:0};function _t({measurements:e,outerSize:u,scrollOffset:n}){const l=e.length-1,o=rt(0,l,i=>e[i].start,n);let a=o;for(;a<l&&e[a].end<n+u;)a++;return{startIndex:o,endIndex:a}}function en(e){const u=new Gt(Re(e)),n=wt(u),l=u._didMount();return te(()=>Re(e).getScrollElement(),t=>{t&&u._willUpdate()},{immediate:!0}),te(()=>Re(e),t=>{u.setOptions({...t,onChange:(o,a)=>{var i;je(n),(i=t.onChange)==null||i.call(t,o,a)}}),u._willUpdate(),je(n)},{immediate:!0}),Mt(l),n}function tn(e){return en(m(()=>({observeElementRect:Qt,observeElementOffset:Yt,scrollToFn:Zt,...Re(e)})))}function dt(e,u,n){let l=k(n==null?void 0:n.value),t=m(()=>e.value!==void 0);return[m(()=>t.value?e.value:l.value),function(o){return t.value||(l.value=o),u==null?void 0:u(o)}]}function nn(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(u=>setTimeout(()=>{throw u}))}function Te(){let e=[],u={addEventListener(n,l,t,o){return n.addEventListener(l,t,o),u.add(()=>n.removeEventListener(l,t,o))},requestAnimationFrame(...n){let l=requestAnimationFrame(...n);u.add(()=>cancelAnimationFrame(l))},nextFrame(...n){u.requestAnimationFrame(()=>{u.requestAnimationFrame(...n)})},setTimeout(...n){let l=setTimeout(...n);u.add(()=>clearTimeout(l))},microTask(...n){let l={current:!0};return nn(()=>{l.current&&n[0]()}),u.add(()=>{l.current=!1})},style(n,l,t){let o=n.style.getPropertyValue(l);return Object.assign(n.style,{[l]:t}),this.add(()=>{Object.assign(n.style,{[l]:o})})},group(n){let l=Te();return n(l),this.add(()=>l.dispose())},add(n){return e.push(n),()=>{let l=e.indexOf(n);if(l>=0)for(let t of e.splice(l,1))t()}},dispose(){for(let n of e.splice(0))n()}};return u}function ln(){let e=Te();return Ve(()=>e.dispose()),e}function an(){let e=ln();return u=>{e.dispose(),e.nextFrame(u)}}function Ue(e){return[e.screenX,e.screenY]}function ct(){let e=k([-1,-1]);return{wasMoved(u){let n=Ue(u);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(u){e.value=Ue(u)}}}function on({container:e,accept:u,walk:n,enabled:l}){he(()=>{let t=e.value;if(!t||l!==void 0&&!l.value)return;let o=Je(e);if(!o)return;let a=Object.assign(b=>u(b),{acceptNode:u}),i=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,a,!1);for(;i.nextNode();)n(i.currentNode)})}var ft=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(ft||{});function un(e){function u(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",u))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",u),u())}let re=[];un(()=>{function e(u){u.target instanceof HTMLElement&&u.target!==document.body&&re[0]!==u.target&&(re.unshift(u.target),re=re.filter(n=>n!=null&&n.isConnected),re.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function sn(e){throw new Error("Unexpected object: "+e)}var $=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))($||{});function De(e,u){let n=u.resolveItems();if(n.length<=0)return null;let l=u.resolveActiveIndex(),t=l??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!u.resolveDisabled(n[o],o,n))return o;return l}case 1:{t===-1&&(t=n.length);for(let o=t-1;o>=0;--o)if(!u.resolveDisabled(n[o],o,n))return o;return l}case 2:{for(let o=t+1;o<n.length;++o)if(!u.resolveDisabled(n[o],o,n))return o;return l}case 3:{for(let o=n.length-1;o>=0;--o)if(!u.resolveDisabled(n[o],o,n))return o;return l}case 4:{for(let o=0;o<n.length;++o)if(u.resolveId(n[o],o,n)===e.id)return o;return l}case 5:return null;default:sn(e)}}function Ne(e={},u=null,n=[]){for(let[l,t]of Object.entries(e))pt(n,vt(u,l),t);return n}function vt(e,u){return e?e+"["+u+"]":u}function pt(e,u,n){if(Array.isArray(n))for(let[l,t]of n.entries())pt(e,vt(u,l.toString()),t);else n instanceof Date?e.push([u,n.toISOString()]):typeof n=="boolean"?e.push([u,n?"1":"0"]):typeof n=="string"?e.push([u,n]):typeof n=="number"?e.push([u,`${n}`]):n==null?e.push([u,""]):Ne(n,u,e)}function jn(e){var u,n;let l=(u=e==null?void 0:e.form)!=null?u:e.closest("form");if(l){for(let t of l.elements)if(t!==e&&(t.tagName==="INPUT"&&t.type==="submit"||t.tagName==="BUTTON"&&t.type==="submit"||t.nodeName==="INPUT"&&t.type==="image")){t.click();return}(n=l.requestSubmit)==null||n.call(l)}}var rn={};function dn(e,u){return e===u}var cn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(cn||{}),fn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(fn||{}),vn=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(vn||{});let mt=Symbol("ComboboxContext");function Oe(e){let u=be(mt,null);if(u===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Oe),n}return u}let bt=Symbol("VirtualContext"),pn=J({name:"VirtualProvider",setup(e,{slots:u}){let n=Oe("VirtualProvider"),l=m(()=>{let i=T(n.optionsRef);if(!i)return{start:0,end:0};let b=window.getComputedStyle(i);return{start:parseFloat(b.paddingBlockStart||b.paddingTop),end:parseFloat(b.paddingBlockEnd||b.paddingBottom)}}),t=tn(m(()=>({scrollPaddingStart:l.value.start,scrollPaddingEnd:l.value.end,count:n.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return T(n.optionsRef)},overscan:12}))),o=m(()=>{var i;return(i=n.virtual.value)==null?void 0:i.options}),a=k(0);return te([o],()=>{a.value+=1}),Be(bt,n.virtual.value?t:null),()=>[ge("div",{style:{position:"relative",width:"100%",height:`${t.value.getTotalSize()}px`},ref:i=>{if(i){if(typeof process<"u"&&rn.JEST_WORKER_ID!==void 0||n.activationTrigger.value===0)return;n.activeOptionIndex.value!==null&&n.virtual.value.options.length>n.activeOptionIndex.value&&t.value.scrollToIndex(n.activeOptionIndex.value)}}},t.value.getVirtualItems().map(i=>xt(u.default({option:n.virtual.value.options[i.index],open:n.comboboxState.value===0})[0],{key:`${a.value}-${i.index}`,"data-index":i.index,"aria-setsize":n.virtual.value.options.length,"aria-posinset":i.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${i.start}px)`,overflowAnchor:"none"}})))]}}),mn=J({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:u,attrs:n,emit:l}){let t=k(1),o=k(null),a=k(null),i=k(null),b=k(null),v=k({static:!1,hold:!1}),r=k([]),s=k(null),c=k(2),C=k(!1);function w(h=y=>y){let y=s.value!==null?r.value[s.value]:null,x=h(r.value.slice()),E=x.length>0&&x[0].dataRef.order.value!==null?x.sort((z,W)=>z.dataRef.order.value-W.dataRef.order.value):tt(x,z=>T(z.dataRef.domRef)),I=y?E.indexOf(y):null;return I===-1&&(I=null),{options:E,activeOptionIndex:I}}let R=m(()=>e.multiple?1:0),L=m(()=>e.nullable),[D,S]=dt(m(()=>e.modelValue),h=>l("update:modelValue",h),m(()=>e.defaultValue)),f=m(()=>D.value===void 0?K(R.value,{1:[],0:void 0}):D.value),g=null,d=null;function O(h){return K(R.value,{0(){return S==null?void 0:S(h)},1:()=>{let y=j(p.value.value).slice(),x=j(h),E=y.findIndex(I=>p.compare(x,j(I)));return E===-1?y.push(x):y.splice(E,1),S==null?void 0:S(y)}})}let M=m(()=>{});te([M],([h],[y])=>{if(p.virtual.value&&h&&y&&s.value!==null){let x=h.indexOf(y[s.value]);x!==-1?s.value=x:s.value=null}});let p={comboboxState:t,value:f,mode:R,compare(h,y){if(typeof e.by=="string"){let x=e.by;return(h==null?void 0:h[x])===(y==null?void 0:y[x])}return e.by===null?dn(h,y):e.by(h,y)},calculateIndex(h){return p.virtual.value?e.by===null?p.virtual.value.options.indexOf(h):p.virtual.value.options.findIndex(y=>p.compare(y,h)):r.value.findIndex(y=>p.compare(y.dataRef.value,h))},defaultValue:m(()=>e.defaultValue),nullable:L,immediate:m(()=>!1),virtual:m(()=>null),inputRef:a,labelRef:o,buttonRef:i,optionsRef:b,disabled:m(()=>e.disabled),options:r,change(h){S(h)},activeOptionIndex:m(()=>{if(C.value&&s.value===null&&(p.virtual.value?p.virtual.value.options.length>0:r.value.length>0)){if(p.virtual.value){let y=p.virtual.value.options.findIndex(x=>{var E;return!((E=p.virtual.value)!=null&&E.disabled(x))});if(y!==-1)return y}let h=r.value.findIndex(y=>!y.dataRef.disabled);if(h!==-1)return h}return s.value}),activationTrigger:c,optionsPropsRef:v,closeCombobox(){C.value=!1,!e.disabled&&t.value!==1&&(t.value=1,s.value=null)},openCombobox(){if(C.value=!0,!e.disabled&&t.value!==0){if(p.value.value){let h=p.calculateIndex(p.value.value);h!==-1&&(s.value=h)}t.value=0}},setActivationTrigger(h){c.value=h},goToOption(h,y,x){C.value=!1,g!==null&&cancelAnimationFrame(g),g=requestAnimationFrame(()=>{if(e.disabled||b.value&&!v.value.static&&t.value===1)return;if(p.virtual.value){s.value=h===$.Specific?y:De({focus:h},{resolveItems:()=>p.virtual.value.options,resolveActiveIndex:()=>{var z,W;return(W=(z=p.activeOptionIndex.value)!=null?z:p.virtual.value.options.findIndex(Y=>{var se;return!((se=p.virtual.value)!=null&&se.disabled(Y))}))!=null?W:null},resolveDisabled:z=>p.virtual.value.disabled(z),resolveId(){throw new Error("Function not implemented.")}}),c.value=x??2;return}let E=w();if(E.activeOptionIndex===null){let z=E.options.findIndex(W=>!W.dataRef.disabled);z!==-1&&(E.activeOptionIndex=z)}let I=h===$.Specific?y:De({focus:h},{resolveItems:()=>E.options,resolveActiveIndex:()=>E.activeOptionIndex,resolveId:z=>z.id,resolveDisabled:z=>z.dataRef.disabled});s.value=I,c.value=x??2,r.value=E.options})},selectOption(h){let y=r.value.find(E=>E.id===h);if(!y)return;let{dataRef:x}=y;O(x.value)},selectActiveOption(){if(p.activeOptionIndex.value!==null){if(p.virtual.value)O(p.virtual.value.options[p.activeOptionIndex.value]);else{let{dataRef:h}=r.value[p.activeOptionIndex.value];O(h.value)}p.goToOption($.Specific,p.activeOptionIndex.value)}},registerOption(h,y){let x=Rt({id:h,dataRef:y});if(p.virtual.value){r.value.push(x);return}d&&cancelAnimationFrame(d);let E=w(I=>(I.push(x),I));s.value===null&&p.isSelected(y.value.value)&&(E.activeOptionIndex=E.options.indexOf(x)),r.value=E.options,s.value=E.activeOptionIndex,c.value=2,E.options.some(I=>!T(I.dataRef.domRef))&&(d=requestAnimationFrame(()=>{let I=w();r.value=I.options,s.value=I.activeOptionIndex}))},unregisterOption(h,y){if(g!==null&&cancelAnimationFrame(g),y&&(C.value=!0),p.virtual.value){r.value=r.value.filter(E=>E.id!==h);return}let x=w(E=>{let I=E.findIndex(z=>z.id===h);return I!==-1&&E.splice(I,1),E});r.value=x.options,s.value=x.activeOptionIndex,c.value=2},isSelected(h){return K(R.value,{0:()=>p.compare(j(p.value.value),j(h)),1:()=>j(p.value.value).some(y=>p.compare(j(y),j(h)))})},isActive(h){return s.value===p.calculateIndex(h)}};Ze([a,i,b],()=>p.closeCombobox(),m(()=>t.value===0)),Be(mt,p),Ge(m(()=>K(t.value,{0:ue.Open,1:ue.Closed})));let A=m(()=>{var h;return(h=T(a))==null?void 0:h.closest("form")});return de(()=>{te([A],()=>{if(!A.value||e.defaultValue===void 0)return;function h(){p.change(e.defaultValue)}return A.value.addEventListener("reset",h),()=>{var y;(y=A.value)==null||y.removeEventListener("reset",h)}},{immediate:!0})}),()=>{var h,y,x;let{name:E,disabled:I,form:z,...W}=e,Y={open:t.value===0,disabled:I,activeIndex:p.activeOptionIndex.value,activeOption:p.activeOptionIndex.value===null?null:p.virtual.value?p.virtual.value.options[(h=p.activeOptionIndex.value)!=null?h:0]:(x=(y=p.options.value[p.activeOptionIndex.value])==null?void 0:y.dataRef.value)!=null?x:null,value:f.value};return ge(Fe,[...E!=null&&f.value!=null?Ne({[E]:f.value}).map(([se,ne])=>ge(_e,et({features:nt.Hidden,key:se,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:z,disabled:I,name:se,value:ne}))):[],ie({theirProps:{...n,...Ee(W,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:Y,slots:u,attrs:n,name:"Combobox"})])}}}),bn=J({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:u,slots:n,expose:l}){var t;let o=(t=e.id)!=null?t:`headlessui-combobox-button-${ce()}`,a=Oe("ComboboxButton");l({el:a.buttonRef,$el:a.buttonRef});function i(r){a.disabled.value||(a.comboboxState.value===0?a.closeCombobox():(r.preventDefault(),a.openCombobox()),U(()=>{var s;return(s=T(a.inputRef))==null?void 0:s.focus({preventScroll:!0})}))}function b(r){switch(r.key){case B.ArrowDown:r.preventDefault(),r.stopPropagation(),a.comboboxState.value===1&&a.openCombobox(),U(()=>{var s;return(s=a.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return;case B.ArrowUp:r.preventDefault(),r.stopPropagation(),a.comboboxState.value===1&&(a.openCombobox(),U(()=>{a.value.value||a.goToOption($.Last)})),U(()=>{var s;return(s=a.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return;case B.Escape:if(a.comboboxState.value!==0)return;r.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&r.stopPropagation(),a.closeCombobox(),U(()=>{var s;return(s=a.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return}}let v=Xe(m(()=>({as:e.as,type:u.type})),a.buttonRef);return()=>{var r,s;let c={open:a.comboboxState.value===0,disabled:a.disabled.value,value:a.value.value},{...C}=e,w={ref:a.buttonRef,id:o,type:v.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(r=T(a.optionsRef))==null?void 0:r.id,"aria-expanded":a.comboboxState.value===0,"aria-labelledby":a.labelRef.value?[(s=T(a.labelRef))==null?void 0:s.id,o].join(" "):void 0,disabled:a.disabled.value===!0?!0:void 0,onKeydown:b,onClick:i};return ie({ourProps:w,theirProps:C,slot:c,attrs:u,slots:n,name:"ComboboxButton"})}}}),hn=J({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:u,attrs:n,slots:l,expose:t}){var o;let a=(o=e.id)!=null?o:`headlessui-combobox-input-${ce()}`,i=Oe("ComboboxInput"),b=m(()=>Je(T(i.inputRef))),v={value:!1};t({el:i.inputRef,$el:i.inputRef});function r(){i.change(null);let d=T(i.optionsRef);d&&(d.scrollTop=0),i.goToOption($.Nothing)}let s=m(()=>{var d;let O=i.value.value;return T(i.inputRef)?typeof e.displayValue<"u"&&O!==void 0?(d=e.displayValue(O))!=null?d:"":typeof O=="string"?O:"":""});de(()=>{te([s,i.comboboxState,b],([d,O],[M,p])=>{if(v.value)return;let A=T(i.inputRef);A&&((p===0&&O===1||d!==M)&&(A.value=d),requestAnimationFrame(()=>{var h;if(v.value||!A||((h=b.value)==null?void 0:h.activeElement)!==A)return;let{selectionStart:y,selectionEnd:x}=A;Math.abs((x??0)-(y??0))===0&&y===0&&A.setSelectionRange(A.value.length,A.value.length)}))},{immediate:!0}),te([i.comboboxState],([d],[O])=>{if(d===0&&O===1){if(v.value)return;let M=T(i.inputRef);if(!M)return;let p=M.value,{selectionStart:A,selectionEnd:h,selectionDirection:y}=M;M.value="",M.value=p,y!==null?M.setSelectionRange(A,h,y):M.setSelectionRange(A,h)}})});let c=k(!1);function C(){c.value=!0}function w(){Te().nextFrame(()=>{c.value=!1})}let R=an();function L(d){switch(v.value=!0,R(()=>{v.value=!1}),d.key){case B.Enter:if(v.value=!1,i.comboboxState.value!==0||c.value)return;if(d.preventDefault(),d.stopPropagation(),i.activeOptionIndex.value===null){i.closeCombobox();return}i.selectActiveOption(),i.mode.value===0&&i.closeCombobox();break;case B.ArrowDown:return v.value=!1,d.preventDefault(),d.stopPropagation(),K(i.comboboxState.value,{0:()=>i.goToOption($.Next),1:()=>i.openCombobox()});case B.ArrowUp:return v.value=!1,d.preventDefault(),d.stopPropagation(),K(i.comboboxState.value,{0:()=>i.goToOption($.Previous),1:()=>{i.openCombobox(),U(()=>{i.value.value||i.goToOption($.Last)})}});case B.Home:if(d.shiftKey)break;return v.value=!1,d.preventDefault(),d.stopPropagation(),i.goToOption($.First);case B.PageUp:return v.value=!1,d.preventDefault(),d.stopPropagation(),i.goToOption($.First);case B.End:if(d.shiftKey)break;return v.value=!1,d.preventDefault(),d.stopPropagation(),i.goToOption($.Last);case B.PageDown:return v.value=!1,d.preventDefault(),d.stopPropagation(),i.goToOption($.Last);case B.Escape:if(v.value=!1,i.comboboxState.value!==0)return;d.preventDefault(),i.optionsRef.value&&!i.optionsPropsRef.value.static&&d.stopPropagation(),i.nullable.value&&i.mode.value===0&&i.value.value===null&&r(),i.closeCombobox();break;case B.Tab:if(v.value=!1,i.comboboxState.value!==0)return;i.mode.value===0&&i.activationTrigger.value!==1&&i.selectActiveOption(),i.closeCombobox();break}}function D(d){u("change",d),i.nullable.value&&i.mode.value===0&&d.target.value===""&&r(),i.openCombobox()}function S(d){var O,M,p;let A=(O=d.relatedTarget)!=null?O:re.find(h=>h!==d.currentTarget);if(v.value=!1,!((M=T(i.optionsRef))!=null&&M.contains(A))&&!((p=T(i.buttonRef))!=null&&p.contains(A))&&i.comboboxState.value===0)return d.preventDefault(),i.mode.value===0&&(i.nullable.value&&i.value.value===null?r():i.activationTrigger.value!==1&&i.selectActiveOption()),i.closeCombobox()}function f(d){var O,M,p;let A=(O=d.relatedTarget)!=null?O:re.find(h=>h!==d.currentTarget);(M=T(i.buttonRef))!=null&&M.contains(A)||(p=T(i.optionsRef))!=null&&p.contains(A)||i.disabled.value||i.immediate.value&&i.comboboxState.value!==0&&(i.openCombobox(),Te().nextFrame(()=>{i.setActivationTrigger(1)}))}let g=m(()=>{var d,O,M,p;return(p=(M=(O=e.defaultValue)!=null?O:i.defaultValue.value!==void 0?(d=e.displayValue)==null?void 0:d.call(e,i.defaultValue.value):null)!=null?M:i.defaultValue.value)!=null?p:""});return()=>{var d,O,M,p,A,h,y;let x={open:i.comboboxState.value===0},{displayValue:E,onChange:I,...z}=e,W={"aria-controls":(d=i.optionsRef.value)==null?void 0:d.id,"aria-expanded":i.comboboxState.value===0,"aria-activedescendant":i.activeOptionIndex.value===null?void 0:i.virtual.value?(O=i.options.value.find(Y=>!i.virtual.value.disabled(Y.dataRef.value)&&i.compare(Y.dataRef.value,i.virtual.value.options[i.activeOptionIndex.value])))==null?void 0:O.id:(M=i.options.value[i.activeOptionIndex.value])==null?void 0:M.id,"aria-labelledby":(h=(p=T(i.labelRef))==null?void 0:p.id)!=null?h:(A=T(i.buttonRef))==null?void 0:A.id,"aria-autocomplete":"list",id:a,onCompositionstart:C,onCompositionend:w,onKeydown:L,onInput:D,onFocus:f,onBlur:S,role:"combobox",type:(y=n.type)!=null?y:"text",tabIndex:0,ref:i.inputRef,defaultValue:g.value,disabled:i.disabled.value===!0?!0:void 0};return ie({ourProps:W,theirProps:z,slot:x,attrs:n,slots:l,features:ye.RenderStrategy|ye.Static,name:"ComboboxInput"})}}}),gn=J({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:u,slots:n,expose:l}){let t=Oe("ComboboxOptions"),o=`headlessui-combobox-options-${ce()}`;l({el:t.optionsRef,$el:t.optionsRef}),he(()=>{t.optionsPropsRef.value.static=e.static}),he(()=>{t.optionsPropsRef.value.hold=e.hold});let a=Ye(),i=m(()=>a!==null?(a.value&ue.Open)===ue.Open:t.comboboxState.value===0);on({container:m(()=>T(t.optionsRef)),enabled:m(()=>t.comboboxState.value===0),accept(v){return v.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});function b(v){v.preventDefault()}return()=>{var v,r,s;let c={open:t.comboboxState.value===0},C={"aria-labelledby":(s=(v=T(t.labelRef))==null?void 0:v.id)!=null?s:(r=T(t.buttonRef))==null?void 0:r.id,id:o,ref:t.optionsRef,role:"listbox","aria-multiselectable":t.mode.value===1?!0:void 0,onMousedown:b},w=Ee(e,["hold"]);return ie({ourProps:C,theirProps:w,slot:c,attrs:u,slots:t.virtual.value&&t.comboboxState.value===0?{...n,default:()=>[ge(pn,{},n.default)]}:n,features:ye.RenderStrategy|ye.Static,visible:i.value,name:"ComboboxOptions"})}}}),yn=J({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:u,attrs:n,expose:l}){let t=Oe("ComboboxOption"),o=`headlessui-combobox-option-${ce()}`,a=k(null),i=m(()=>e.disabled);l({el:a,$el:a});let b=m(()=>{var S;return t.virtual.value?t.activeOptionIndex.value===t.calculateIndex(e.value):t.activeOptionIndex.value===null?!1:((S=t.options.value[t.activeOptionIndex.value])==null?void 0:S.id)===o}),v=m(()=>t.isSelected(e.value)),r=be(bt,null),s=m(()=>({disabled:e.disabled,value:e.value,domRef:a,order:m(()=>e.order)}));de(()=>t.registerOption(o,s)),Ve(()=>t.unregisterOption(o,b.value)),he(()=>{let S=T(a);S&&(r==null||r.value.measureElement(S))}),he(()=>{t.comboboxState.value===0&&b.value&&(t.virtual.value||t.activationTrigger.value!==0&&U(()=>{var S,f;return(f=(S=T(a))==null?void 0:S.scrollIntoView)==null?void 0:f.call(S,{block:"nearest"})}))});function c(S){S.preventDefault(),S.button===ft.Left&&(i.value||(t.selectOption(o),Tt()||requestAnimationFrame(()=>{var f;return(f=T(t.inputRef))==null?void 0:f.focus({preventScroll:!0})}),t.mode.value===0&&t.closeCombobox()))}function C(){var S;if(e.disabled||(S=t.virtual.value)!=null&&S.disabled(e.value))return t.goToOption($.Nothing);let f=t.calculateIndex(e.value);t.goToOption($.Specific,f)}let w=ct();function R(S){w.update(S)}function L(S){var f;if(!w.wasMoved(S)||e.disabled||(f=t.virtual.value)!=null&&f.disabled(e.value)||b.value)return;let g=t.calculateIndex(e.value);t.goToOption($.Specific,g,0)}function D(S){var f;w.wasMoved(S)&&(e.disabled||(f=t.virtual.value)!=null&&f.disabled(e.value)||b.value&&(t.optionsPropsRef.value.hold||t.goToOption($.Nothing)))}return()=>{let{disabled:S}=e,f={active:b.value,selected:v.value,disabled:S},g={id:o,ref:a,role:"option",tabIndex:S===!0?void 0:-1,"aria-disabled":S===!0?!0:void 0,"aria-selected":v.value,disabled:void 0,onMousedown:c,onFocus:C,onPointerenter:R,onMouseenter:R,onPointermove:L,onMousemove:L,onPointerleave:D,onMouseleave:D},d=Ee(e,["order","value"]);return ie({ourProps:g,theirProps:d,slot:f,attrs:n,slots:u,name:"ComboboxOption"})}}}),Ke=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Qe(e){var u,n;let l=(u=e.innerText)!=null?u:"",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return l;let o=!1;for(let i of t.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))i.remove(),o=!0;let a=o?(n=t.innerText)!=null?n:"":l;return Ke.test(a)&&(a=a.replace(Ke,"")),a}function On(e){let u=e.getAttribute("aria-label");if(typeof u=="string")return u.trim();let n=e.getAttribute("aria-labelledby");if(n){let l=n.split(" ").map(t=>{let o=document.getElementById(t);if(o){let a=o.getAttribute("aria-label");return typeof a=="string"?a.trim():Qe(o).trim()}return null}).filter(Boolean);if(l.length>0)return l.join(", ")}return Qe(e).trim()}function Sn(e){let u=k(""),n=k("");return()=>{let l=T(e);if(!l)return"";let t=l.innerText;if(u.value===t)return n.value;let o=On(l).trim().toLowerCase();return u.value=t,n.value=o,o}}function In(e,u){return e===u}var Cn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Cn||{}),wn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(wn||{}),Mn=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Mn||{});function Rn(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let ht=Symbol("ListboxContext");function ze(e){let u=be(ht,null);if(u===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ze),n}return u}let xn=J({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>In},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:u,attrs:n,emit:l}){let t=k(1),o=k(null),a=k(null),i=k(null),b=k([]),v=k(""),r=k(null),s=k(1);function c(f=g=>g){let g=r.value!==null?b.value[r.value]:null,d=tt(f(b.value.slice()),M=>T(M.dataRef.domRef)),O=g?d.indexOf(g):null;return O===-1&&(O=null),{options:d,activeOptionIndex:O}}let C=m(()=>e.multiple?1:0),[w,R]=dt(m(()=>e.modelValue),f=>l("update:modelValue",f),m(()=>e.defaultValue)),L=m(()=>w.value===void 0?K(C.value,{1:[],0:void 0}):w.value),D={listboxState:t,value:L,mode:C,compare(f,g){if(typeof e.by=="string"){let d=e.by;return(f==null?void 0:f[d])===(g==null?void 0:g[d])}return e.by(f,g)},orientation:m(()=>e.horizontal?"horizontal":"vertical"),labelRef:o,buttonRef:a,optionsRef:i,disabled:m(()=>e.disabled),options:b,searchQuery:v,activeOptionIndex:r,activationTrigger:s,closeListbox(){e.disabled||t.value!==1&&(t.value=1,r.value=null)},openListbox(){e.disabled||t.value!==0&&(t.value=0)},goToOption(f,g,d){if(e.disabled||t.value===1)return;let O=c(),M=De(f===$.Specific?{focus:$.Specific,id:g}:{focus:f},{resolveItems:()=>O.options,resolveActiveIndex:()=>O.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.disabled});v.value="",r.value=M,s.value=d??1,b.value=O.options},search(f){if(e.disabled||t.value===1)return;let g=v.value!==""?0:1;v.value+=f.toLowerCase();let d=(r.value!==null?b.value.slice(r.value+g).concat(b.value.slice(0,r.value+g)):b.value).find(M=>M.dataRef.textValue.startsWith(v.value)&&!M.dataRef.disabled),O=d?b.value.indexOf(d):-1;O===-1||O===r.value||(r.value=O,s.value=1)},clearSearch(){e.disabled||t.value!==1&&v.value!==""&&(v.value="")},registerOption(f,g){let d=c(O=>[...O,{id:f,dataRef:g}]);b.value=d.options,r.value=d.activeOptionIndex},unregisterOption(f){let g=c(d=>{let O=d.findIndex(M=>M.id===f);return O!==-1&&d.splice(O,1),d});b.value=g.options,r.value=g.activeOptionIndex,s.value=1},theirOnChange(f){e.disabled||R(f)},select(f){e.disabled||R(K(C.value,{0:()=>f,1:()=>{let g=j(D.value.value).slice(),d=j(f),O=g.findIndex(M=>D.compare(d,j(M)));return O===-1?g.push(d):g.splice(O,1),g}}))}};Ze([a,i],(f,g)=>{var d;D.closeListbox(),Et(g,At.Loose)||(f.preventDefault(),(d=T(a))==null||d.focus())},m(()=>t.value===0)),Be(ht,D),Ge(m(()=>K(t.value,{0:ue.Open,1:ue.Closed})));let S=m(()=>{var f;return(f=T(a))==null?void 0:f.closest("form")});return de(()=>{te([S],()=>{if(!S.value||e.defaultValue===void 0)return;function f(){D.theirOnChange(e.defaultValue)}return S.value.addEventListener("reset",f),()=>{var g;(g=S.value)==null||g.removeEventListener("reset",f)}},{immediate:!0})}),()=>{let{name:f,modelValue:g,disabled:d,form:O,...M}=e,p={open:t.value===0,disabled:d,value:L.value};return ge(Fe,[...f!=null&&L.value!=null?Ne({[f]:L.value}).map(([A,h])=>ge(_e,et({features:nt.Hidden,key:A,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:O,disabled:d,name:A,value:h}))):[],ie({ourProps:{},theirProps:{...n,...Ee(M,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:p,slots:u,attrs:n,name:"Listbox"})])}}}),Tn=J({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:u,slots:n,expose:l}){var t;let o=(t=e.id)!=null?t:`headlessui-listbox-button-${ce()}`,a=ze("ListboxButton");l({el:a.buttonRef,$el:a.buttonRef});function i(s){switch(s.key){case B.Space:case B.Enter:case B.ArrowDown:s.preventDefault(),a.openListbox(),U(()=>{var c;(c=T(a.optionsRef))==null||c.focus({preventScroll:!0}),a.value.value||a.goToOption($.First)});break;case B.ArrowUp:s.preventDefault(),a.openListbox(),U(()=>{var c;(c=T(a.optionsRef))==null||c.focus({preventScroll:!0}),a.value.value||a.goToOption($.Last)});break}}function b(s){switch(s.key){case B.Space:s.preventDefault();break}}function v(s){a.disabled.value||(a.listboxState.value===0?(a.closeListbox(),U(()=>{var c;return(c=T(a.buttonRef))==null?void 0:c.focus({preventScroll:!0})})):(s.preventDefault(),a.openListbox(),Rn(()=>{var c;return(c=T(a.optionsRef))==null?void 0:c.focus({preventScroll:!0})})))}let r=Xe(m(()=>({as:e.as,type:u.type})),a.buttonRef);return()=>{var s,c;let C={open:a.listboxState.value===0,disabled:a.disabled.value,value:a.value.value},{...w}=e,R={ref:a.buttonRef,id:o,type:r.value,"aria-haspopup":"listbox","aria-controls":(s=T(a.optionsRef))==null?void 0:s.id,"aria-expanded":a.listboxState.value===0,"aria-labelledby":a.labelRef.value?[(c=T(a.labelRef))==null?void 0:c.id,o].join(" "):void 0,disabled:a.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:b,onClick:v};return ie({ourProps:R,theirProps:w,slot:C,attrs:u,slots:n,name:"ListboxButton"})}}}),En=J({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:u,slots:n,expose:l}){var t;let o=(t=e.id)!=null?t:`headlessui-listbox-options-${ce()}`,a=ze("ListboxOptions"),i=k(null);l({el:a.optionsRef,$el:a.optionsRef});function b(s){switch(i.value&&clearTimeout(i.value),s.key){case B.Space:if(a.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),a.search(s.key);case B.Enter:if(s.preventDefault(),s.stopPropagation(),a.activeOptionIndex.value!==null){let c=a.options.value[a.activeOptionIndex.value];a.select(c.dataRef.value)}a.mode.value===0&&(a.closeListbox(),U(()=>{var c;return(c=T(a.buttonRef))==null?void 0:c.focus({preventScroll:!0})}));break;case K(a.orientation.value,{vertical:B.ArrowDown,horizontal:B.ArrowRight}):return s.preventDefault(),s.stopPropagation(),a.goToOption($.Next);case K(a.orientation.value,{vertical:B.ArrowUp,horizontal:B.ArrowLeft}):return s.preventDefault(),s.stopPropagation(),a.goToOption($.Previous);case B.Home:case B.PageUp:return s.preventDefault(),s.stopPropagation(),a.goToOption($.First);case B.End:case B.PageDown:return s.preventDefault(),s.stopPropagation(),a.goToOption($.Last);case B.Escape:s.preventDefault(),s.stopPropagation(),a.closeListbox(),U(()=>{var c;return(c=T(a.buttonRef))==null?void 0:c.focus({preventScroll:!0})});break;case B.Tab:s.preventDefault(),s.stopPropagation();break;default:s.key.length===1&&(a.search(s.key),i.value=setTimeout(()=>a.clearSearch(),350));break}}let v=Ye(),r=m(()=>v!==null?(v.value&ue.Open)===ue.Open:a.listboxState.value===0);return()=>{var s,c;let C={open:a.listboxState.value===0},{...w}=e,R={"aria-activedescendant":a.activeOptionIndex.value===null||(s=a.options.value[a.activeOptionIndex.value])==null?void 0:s.id,"aria-multiselectable":a.mode.value===1?!0:void 0,"aria-labelledby":(c=T(a.buttonRef))==null?void 0:c.id,"aria-orientation":a.orientation.value,id:o,onKeydown:b,role:"listbox",tabIndex:0,ref:a.optionsRef};return ie({ourProps:R,theirProps:w,slot:C,attrs:u,slots:n,features:ye.RenderStrategy|ye.Static,visible:r.value,name:"ListboxOptions"})}}}),An=J({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:u,attrs:n,expose:l}){var t;let o=(t=e.id)!=null?t:`headlessui-listbox-option-${ce()}`,a=ze("ListboxOption"),i=k(null);l({el:i,$el:i});let b=m(()=>a.activeOptionIndex.value!==null?a.options.value[a.activeOptionIndex.value].id===o:!1),v=m(()=>K(a.mode.value,{0:()=>a.compare(j(a.value.value),j(e.value)),1:()=>j(a.value.value).some(f=>a.compare(j(f),j(e.value)))})),r=m(()=>K(a.mode.value,{1:()=>{var f;let g=j(a.value.value);return((f=a.options.value.find(d=>g.some(O=>a.compare(j(O),j(d.dataRef.value)))))==null?void 0:f.id)===o},0:()=>v.value})),s=Sn(i),c=m(()=>({disabled:e.disabled,value:e.value,get textValue(){return s()},domRef:i}));de(()=>a.registerOption(o,c)),Ve(()=>a.unregisterOption(o)),de(()=>{te([a.listboxState,v],()=>{a.listboxState.value===0&&v.value&&K(a.mode.value,{1:()=>{r.value&&a.goToOption($.Specific,o)},0:()=>{a.goToOption($.Specific,o)}})},{immediate:!0})}),he(()=>{a.listboxState.value===0&&b.value&&a.activationTrigger.value!==0&&U(()=>{var f,g;return(g=(f=T(i))==null?void 0:f.scrollIntoView)==null?void 0:g.call(f,{block:"nearest"})})});function C(f){if(e.disabled)return f.preventDefault();a.select(e.value),a.mode.value===0&&(a.closeListbox(),U(()=>{var g;return(g=T(a.buttonRef))==null?void 0:g.focus({preventScroll:!0})}))}function w(){if(e.disabled)return a.goToOption($.Nothing);a.goToOption($.Specific,o)}let R=ct();function L(f){R.update(f)}function D(f){R.wasMoved(f)&&(e.disabled||b.value||a.goToOption($.Specific,o,0))}function S(f){R.wasMoved(f)&&(e.disabled||b.value&&a.goToOption($.Nothing))}return()=>{let{disabled:f}=e,g={active:b.value,selected:v.value,disabled:f},{value:d,disabled:O,...M}=e,p={id:o,ref:i,role:"option",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,"aria-selected":v.value,disabled:void 0,onClick:C,onFocus:w,onPointerenter:L,onMouseenter:L,onPointermove:D,onMousemove:D,onPointerleave:S,onMouseleave:S};return ie({ourProps:p,theirProps:M,slot:g,attrs:n,slots:u,name:"ListboxOption"})}}});const gt=(e,u,n=!0)=>{const l=be("form-events",void 0),t=be("form-group",void 0),o=be("form-inputs",void 0);t&&(!n||e!=null&&e.legend?t.inputId.value=void 0:e!=null&&e.id&&(t.inputId.value=e==null?void 0:e.id),o&&(o.value[t.name.value]=t.inputId.value));const a=k(!1);function i(s,c){l&&l.emit({type:s,path:c})}function b(){i("blur",t==null?void 0:t.name.value),a.value=!0}function v(){i("change",t==null?void 0:t.name.value)}const r=lt(()=>{(a.value||t!=null&&t.eagerValidation.value)&&i("input",t==null?void 0:t.name.value)},300);return{inputId:m(()=>(e==null?void 0:e.id)??(t==null?void 0:t.inputId.value)),name:m(()=>(e==null?void 0:e.name)??(t==null?void 0:t.name.value)),size:m(()=>{var c;const s=u.size[t==null?void 0:t.size.value]?t==null?void 0:t.size.value:null;return(e==null?void 0:e.size)??s??((c=u.default)==null?void 0:c.size)}),color:m(()=>{var s;return(s=t==null?void 0:t.error)!=null&&s.value?"red":e==null?void 0:e.color}),emitFormBlur:b,emitFormInput:r,emitFormChange:v}},le=Le(Q.ui.strategy,Q.ui.input,zt),zn=J({components:{UIcon:Ae},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>le.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(le.size).includes(e)}},color:{type:String,default:()=>le.default.color,validator(e){return[...Q.ui.colors,...Object.keys(le.color)].includes(e)}},variant:{type:String,default:()=>le.default.variant,validator(e){return[...Object.keys(le.variant),...Object.values(le.color).flatMap(u=>Object.keys(u))].includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:u,slots:n}){const{ui:l,attrs:t}=$e("input",we(e,"ui"),le,we(e,"class")),{size:o,rounded:a}=it({ui:l,props:e}),{emitFormBlur:i,emitFormInput:b,size:v,color:r,inputId:s,name:c}=gt(e,le),C=m(()=>o.value??v.value),w=k(ot({},e.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),R=k(null),L=()=>{var I;e.autofocus&&((I=R.value)==null||I.focus())},D=I=>{w.value.trim&&(I=I.trim()),(w.value.number||e.type==="number")&&(I=kt(I)),w.value.nullify&&(I||(I=null)),u("update:modelValue",I),b()},S=I=>{w.value.lazy||D(I.target.value)},f=I=>{if(e.type==="file"){const z=I.target.files;u("change",z)}else{const z=I.target.value;u("change",z),w.value.lazy&&D(z),w.value.trim&&(I.target.value=z.trim())}},g=I=>{i(),u("blur",I)};de(()=>{setTimeout(()=>{L()},e.autofocusDelay)});const d=m(()=>{var z,W;const I=((W=(z=l.value.color)==null?void 0:z[r.value])==null?void 0:W[e.variant])||l.value.variant[e.variant];return ut(ee(l.value.base,l.value.form,a.value,l.value.placeholder,e.type==="file"&&l.value.file.base,l.value.size[C.value],e.padded?l.value.padding[C.value]:"p-0",I==null?void 0:I.replaceAll("{color}",r.value),(O.value||n.leading)&&l.value.leading.padding[C.value],(M.value||n.trailing)&&l.value.trailing.padding[C.value]),e.inputClass)}),O=m(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),M=m(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),p=m(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),A=m(()=>e.loading&&!O.value?e.loadingIcon:e.trailingIcon||e.icon),h=m(()=>ee(l.value.icon.leading.wrapper,l.value.icon.leading.pointer,l.value.icon.leading.padding[C.value])),y=m(()=>ee(l.value.icon.base,r.value&&Q.ui.colors.includes(r.value)&&l.value.icon.color.replaceAll("{color}",r.value),l.value.icon.size[C.value],e.loading&&l.value.icon.loading)),x=m(()=>ee(l.value.icon.trailing.wrapper,l.value.icon.trailing.pointer,l.value.icon.trailing.padding[C.value])),E=m(()=>ee(l.value.icon.base,r.value&&Q.ui.colors.includes(r.value)&&l.value.icon.color.replaceAll("{color}",r.value),l.value.icon.size[C.value],e.loading&&!O.value&&l.value.icon.loading));return{ui:l,attrs:t,name:c,inputId:s,input:R,isLeading:O,isTrailing:M,inputClass:d,leadingIconName:p,leadingIconClass:y,leadingWrapperIconClass:h,trailingIconName:A,trailingIconClass:E,trailingWrapperIconClass:x,onInput:S,onChange:f,onBlur:g}}}),kn=["id","name","type","required","placeholder","disabled"];function $n(e,u,n,l,t,o){const a=Ae;return N(),H("div",{class:F(e.type==="hidden"?"hidden":e.ui.wrapper)},[ae("input",xe({id:e.inputId,ref:"input",name:e.name,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass},e.type==="file"?e.attrs:{...e.attrs,value:e.modelValue},{onInput:u[0]||(u[0]=(...i)=>e.onInput&&e.onInput(...i)),onBlur:u[1]||(u[1]=(...i)=>e.onBlur&&e.onBlur(...i)),onChange:u[2]||(u[2]=(...i)=>e.onChange&&e.onChange(...i))}),null,16,kn),G(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(N(),H("span",{key:0,class:F(e.leadingWrapperIconClass)},[G(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[me(a,{name:e.leadingIconName,class:F(e.leadingIconClass)},null,8,["name","class"])])],2)):Z("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(N(),H("span",{key:1,class:F(e.trailingWrapperIconClass)},[G(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[me(a,{name:e.trailingIconName,class:F(e.trailingIconClass)},null,8,["name","class"])])],2)):Z("",!0)],2)}const Pn=at(zn,[["render",$n]]),_=Le(Q.ui.strategy,Q.ui.select,$t),Ce=Le(Q.ui.strategy,Q.ui.selectMenu,Dt),Dn=J({components:{HCombobox:mn,HComboboxButton:bn,HComboboxOptions:gn,HComboboxOption:yn,HComboboxInput:hn,HListbox:xn,HListboxButton:Tn,HListboxOptions:En,HListboxOption:An,UIcon:Ae,UAvatar:st},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>_.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>_.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>Ce.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:()=>Ce.default.searchablePlaceholder.label},searchableLazy:{type:Boolean,default:!1},clearSearchOnClose:{type:Boolean,default:()=>Ce.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:[String,Function],default:()=>Ce.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(_.size).includes(e)}},color:{type:String,default:()=>_.default.color,validator(e){return[...Q.ui.colors,...Object.keys(_.color)].includes(e)}},variant:{type:String,default:()=>_.default.variant,validator(e){return[...Object.keys(_.variant),...Object.values(_.color).flatMap(u=>Object.keys(u))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:u,slots:n}){const{ui:l,attrs:t}=$e("select",we(e,"ui"),_,we(e,"class")),{ui:o}=$e("selectMenu",we(e,"uiMenu"),Ce),a=m(()=>ot({},e.popper,o.value.popper)),[i,b]=Nt(a.value),v=m(()=>{if(!e.by)return;if(typeof e.by=="function")return e.by;const V=e.by;return V.indexOf(".")>0?(P,X)=>ne(P,V)===ne(X,V):V}),{size:r,rounded:s}=it({ui:l,props:e}),{emitFormBlur:c,emitFormChange:C,inputId:w,color:R,size:L,name:D}=gt(e,_),S=m(()=>r.value??L.value),f=k(""),g=m({get(){return e.query??f.value},set(V){f.value=V,u("update:query",V)}}),d=m(()=>{function V(P,X){return v.value&&typeof v.value!="function"&&typeof P=="object"&&typeof X=="object"?We(P[v.value],X[v.value]):We(P,X)}function q(P){return e.valueAttribute?ne(P,e.valueAttribute):P}if(e.multiple){const P=e.modelValue;return!Array.isArray(P)||!P.length?[]:Y.value.filter(X=>{const Se=q(X);return P.some(Ct=>V(Ct,Se))})}return Y.value.find(P=>{const X=q(P);return V(X,j(e.modelValue))})??e.modelValue}),O=m(()=>e.modelValue?Array.isArray(e.modelValue)&&e.modelValue.length?`${e.modelValue.length} selected`:["string","number"].includes(typeof e.modelValue)?e.valueAttribute?ne(d.value,e.optionAttribute):e.modelValue:ne(e.modelValue,e.optionAttribute):null),M=m(()=>{var q,P;const V=((P=(q=l.value.color)==null?void 0:q[R.value])==null?void 0:P[e.variant])||l.value.variant[e.variant];return ut(ee(l.value.base,o.value.select,s.value,l.value.size[S.value],l.value.gap[S.value],e.padded?l.value.padding[S.value]:"p-0",V==null?void 0:V.replaceAll("{color}",R.value),(p.value||n.leading)&&l.value.leading.padding[S.value],(A.value||n.trailing)&&l.value.trailing.padding[S.value]),e.placeholder&&(!e.modelValue||Array.isArray(e.modelValue)&&!e.modelValue.length)&&l.value.placeholder,e.selectClass)}),p=m(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),A=m(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),h=m(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),y=m(()=>e.loading&&!p.value?e.loadingIcon:e.trailingIcon||e.icon),x=m(()=>ee(l.value.icon.leading.wrapper,l.value.icon.leading.pointer,l.value.icon.leading.padding[S.value])),E=m(()=>ee(l.value.icon.base,R.value&&Q.ui.colors.includes(R.value)&&l.value.icon.color.replaceAll("{color}",R.value),l.value.icon.size[S.value],e.loading&&l.value.icon.loading)),I=m(()=>ee(l.value.icon.trailing.wrapper,l.value.icon.trailing.pointer,l.value.icon.trailing.padding[S.value])),z=m(()=>ee(l.value.icon.base,R.value&&Q.ui.colors.includes(R.value)&&l.value.icon.color.replaceAll("{color}",R.value),l.value.icon.size[S.value],e.loading&&!p.value&&l.value.icon.loading)),W=e.searchable&&typeof e.searchable=="function"?lt(e.searchable,e.debounce):void 0,Y=jt(async()=>W?await W(g.value):e.options||[],[],{lazy:e.searchableLazy});function se(V){return V.replace(/[.*+?^${}()|[\]\\]/g,q=>`\\${q}`)}function ne(V,q){return qe(V,q)}const Me=m(()=>{if(!g.value||W)return Y.value;const V=se(g.value);return Y.value.filter(q=>{var P;return((P=e.searchAttributes)!=null&&P.length?e.searchAttributes:[e.optionAttribute]).some(X=>{if(["string","number"].includes(typeof q))return String(q).search(new RegExp(V,"i"))!==-1;const Se=qe(q,X);return Se!=null&&String(Se).search(new RegExp(V,"i"))!==-1})})}),yt=m(()=>g.value===""||e.showCreateOptionWhen==="empty"&&Me.value.length||e.showCreateOptionWhen==="always"&&Me.value.find(q=>["string","number"].includes(typeof q)?q===g.value:ne(q,e.optionAttribute)===g.value)||typeof e.showCreateOptionWhen=="function"&&!e.showCreateOptionWhen(g.value,Me.value)?null:["string","number"].includes(typeof e.modelValue)?g.value:{[e.optionAttribute]:g.value});function Ot(){e.clearSearchOnClose&&(g.value="")}te(b,V=>{V?u("open"):(Ot(),u("close"),c())});function St(V){j(e.modelValue)!==V&&(u("update:modelValue",V),u("change",V),C())}function It(V){g.value=V.target.value}return Pt(()=>qt()),{ui:l,uiMenu:o,attrs:t,name:D,inputId:w,popper:a,trigger:i,container:b,selected:d,label:O,accessor:ne,isLeading:p,isTrailing:A,selectClass:M,leadingIconName:h,leadingIconClass:E,leadingWrapperIconClass:x,trailingIconName:y,trailingIconClass:z,trailingWrapperIconClass:I,filteredOptions:Me,createOption:yt,query:g,onUpdate:St,onQueryChange:It,by:v}}}),Vn=["value","required"],Fn=["id","disabled"],Bn={class:"truncate"};function Ln(e,u,n,l,t,o){const a=Ae,i=Vt("HComboboxInput"),b=st;return N(),oe(Ie(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.multiple?Array.isArray(e.modelValue)?e.modelValue:[]:e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:F(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:fe(({open:v})=>[e.required?(N(),H("input",{key:0,value:e.modelValue,required:e.required,class:F(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,Vn)):Z("",!0),(N(),oe(Ie(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:F(e.uiMenu.trigger)},{default:fe(()=>[G(e.$slots,"default",{open:v,disabled:e.disabled,loading:e.loading},()=>[ae("button",xe({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(N(),H("span",{key:0,class:F(e.leadingWrapperIconClass)},[G(e.$slots,"leading",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[me(a,{name:e.leadingIconName,class:F(e.leadingIconClass)},null,8,["name","class"])])],2)):Z("",!0),G(e.$slots,"label",{selected:e.selected},()=>[e.label?(N(),H("span",{key:0,class:F(e.uiMenu.label)},ve(e.label),3)):(N(),H("span",{key:1,class:F(e.uiMenu.label)},ve(e.placeholder||"Â "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(N(),H("span",{key:1,class:F(e.trailingWrapperIconClass)},[G(e.$slots,"trailing",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[me(a,{name:e.trailingIconName,class:F(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):Z("",!0)],16,Fn)])]),_:2},1032,["class"])),v?(N(),H("div",{key:1,ref:"container",class:F([e.uiMenu.container,e.uiMenu.width])},[me(Ft,xe({appear:""},e.uiMenu.transition),{default:fe(()=>[ae("div",null,[e.popper.arrow?(N(),H("div",{key:0,"data-popper-arrow":"",class:F(Object.values(e.uiMenu.arrow))},null,2)):Z("",!0),(N(),oe(Ie(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:F([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:fe(()=>{var r,s;return[e.searchable?(N(),oe(i,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:F(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):Z("",!0),(N(!0),H(Fe,null,Bt(e.filteredOptions,(c,C)=>(N(),oe(Ie(e.searchable?"HComboboxOption":"HListboxOption"),{key:C,as:"template",value:e.valueAttribute?e.accessor(c,e.valueAttribute):c,disabled:c.disabled},{default:fe(({active:w,selected:R,disabled:L})=>[ae("li",{class:F([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,w?e.uiMenu.option.active:e.uiMenu.option.inactive,R&&e.uiMenu.option.selected,L&&e.uiMenu.option.disabled])},[ae("div",{class:F(e.uiMenu.option.container)},[G(e.$slots,"option",{option:c,active:w,selected:R},()=>[c.icon?(N(),oe(a,{key:0,name:c.icon,class:F([e.uiMenu.option.icon.base,w?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,c.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):c.avatar?(N(),oe(b,xe({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...c.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):c.chip?(N(),H("span",{key:2,class:F(e.uiMenu.option.chip.base),style:Lt({background:`#${c.chip}`})},null,6)):Z("",!0),ae("span",Bn,ve(["string","number"].includes(typeof c)?c:e.accessor(c,e.optionAttribute)),1)])],2),R?(N(),H("span",{key:0,class:F([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[me(a,{name:e.selectedIcon,class:F(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):Z("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(N(),oe(Ie(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:fe(({active:c,selected:C})=>[ae("li",{class:F([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,c?e.uiMenu.option.active:e.uiMenu.option.inactive])},[ae("div",{class:F(e.uiMenu.option.container)},[G(e.$slots,"option-create",{option:e.createOption,active:c,selected:C},()=>[ae("span",{class:F(e.uiMenu.option.create)},'Create "'+ve(typeof e.createOption=="string"?e.createOption:e.accessor(e.createOption,e.optionAttribute))+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((r=e.filteredOptions)!=null&&r.length)?(N(),H("p",{key:2,class:F(e.uiMenu.option.empty)},[G(e.$slots,"option-empty",{query:e.query},()=>[Pe(ve(e.uiMenu.default.optionEmpty.label.replace("{query}",e.query)),1)])],2)):(s=e.filteredOptions)!=null&&s.length?Z("",!0):(N(),H("p",{key:3,class:F(e.uiMenu.empty)},[G(e.$slots,"empty",{query:e.query},()=>[Pe(ve(e.uiMenu.default.empty.label),1)])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):Z("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const qn=at(Dn,[["render",Ln]]);export{Pn as _,qn as a,ct as b,$ as c,re as d,dt as e,De as f,jn as g,on as i,Te as o,Sn as p,nn as t,gt as u};
