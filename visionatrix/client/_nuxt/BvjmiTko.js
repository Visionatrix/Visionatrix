import{g as V,y as C,E as $,a0 as qt,P as X,a1 as Ie,a2 as Cn,a3 as ce,a4 as yt,a5 as wt,a6 as Se,F as q,a7 as Oe,a8 as We,q as de,a9 as N,aa as Kt,ab as je,ac as et,ad as lt,ae as Pe,af as Pn,ag as _n,ah as xn,ai as qe,aj as Ue,ak as Ke,al as Ct,am as re,an as Fn,ao as Mn,ap as Gt,aq as Tn,ar as zn,as as Ot,at as Je,au as Be,av as ee,aw as An,ax as Bn,ay as Qt,az as Yt,aA as On,aB as Jt,aC as jn,aD as Un,aE as Xt,aF as En,aG as Re,aH as Ln,K as j,A as Ee,aI as Nn,B as Q,_ as xe,l as me,W as ot,C as Le,D as fe,H as st,aJ as Dn,aK as Pt,aL as Vn,X as _e,Y as ne,aM as ke,o as g,i as T,w as z,b as I,J as ue,a as P,c as _,aN as Zt,aO as Rn,L as te,j as x,r as ie,aP as Hn,t as D,d as E,e as en,aQ as _t,aR as Wn,aS as qn,aT as jt,aU as Kn,aV as kt,aW as Gn,aX as Qn,aY as Ut,aZ as tn,a_ as Yn,u as Jn,a$ as it,b0 as Xn,Q as Et,k as r,S as he,M as Ge,m as pe,h as Ne,b1 as xt,b2 as Zn,b3 as ea,b4 as ta,b5 as pt,b6 as na,b7 as aa,I as Lt,b8 as ve,R as la,z as Ft,b9 as oa,ba as sa,n as nn,bb as ia,v as ra,s as ua,bc as da,bd as ca}from"./BHNQZpRg.js";import{t as an,c as Nt,o as rt,i as ma,p as fa,u as pa,f as va,d as ge,e as ga,g as ha,h as ln,b as on,a as sn,_ as rn}from"./B_BPFJJE.js";import{a as ba,_ as ya}from"./7M_51Eo9.js";import{u as ut}from"./CQoQ1Gya.js";import{_ as Mt}from"./DWZ4Rl-R.js";import{_ as un}from"./yB8jgQD2.js";import{_ as dn}from"./BGOMOF9I.js";const wa={wrapper:"w-full relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium",description:"mt-1 text-sm leading-4 opacity-90",actions:"flex items-center gap-2 mt-3 flex-shrink-0",shadow:"",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0 self-center",size:"md"},color:{white:{solid:"text-gray-900 dark:text-white bg-white dark:bg-gray-900 ring-1 ring-gray-200 dark:ring-gray-800"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{color:"white",variant:"solid",icon:null,closeButton:null,actionButton:{size:"xs",color:"primary",variant:"link"}}},ka={wrapper:"relative",container:"relative w-full flex overflow-x-auto snap-x snap-mandatory scroll-smooth",item:"flex flex-none snap-center",arrows:{wrapper:"flex items-center justify-between"},indicators:{wrapper:"absolute flex items-center justify-center gap-3 bottom-4 inset-x-0",base:"rounded-full h-3 w-3",active:"bg-primary-500 dark:bg-primary-400",inactive:"bg-gray-100 dark:bg-gray-800"},default:{prevButton:{color:"black",class:"rtl:[&_span:first-child]:rotate-180 absolute left-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"black",class:"rtl:[&_span:last-child]:rotate-180 absolute right-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-right-20-solid "}}},$a={base:"relative inline-flex flex-shrink-0 border-2 border-transparent disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none",rounded:"rounded-full",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",active:"bg-{color}-500 dark:bg-{color}-400",inactive:"bg-gray-200 dark:bg-gray-700",size:{"2xs":"h-3 w-5",xs:"h-3.5 w-6",sm:"h-4 w-7",md:"h-5 w-9",lg:"h-6 w-11",xl:"h-7 w-[3.25rem]","2xl":"h-8 w-[3.75rem]"},container:{base:"pointer-events-none relative inline-block rounded-full bg-white dark:bg-gray-900 shadow transform ring-0 transition ease-in-out duration-200",active:{"2xs":"translate-x-2 rtl:-translate-x-2",xs:"translate-x-2.5 rtl:-translate-x-2.5",sm:"translate-x-3 rtl:-translate-x-3",md:"translate-x-4 rtl:-translate-x-4",lg:"translate-x-5 rtl:-translate-x-5",xl:"translate-x-6 rtl:-translate-x-6","2xl":"translate-x-7 rtl:-translate-x-7"},inactive:"translate-x-0 rtl:-translate-x-0",size:{"2xs":"h-2 w-2",xs:"h-2.5 w-2.5",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5",xl:"h-6 w-6","2xl":"h-7 w-7"}},icon:{base:"absolute inset-0 h-full w-full flex items-center justify-center transition-opacity",active:"opacity-100 ease-in duration-200",inactive:"opacity-0 ease-out duration-100",size:{"2xs":"h-2 w-2",xs:"h-2 w-2",sm:"h-2 w-2",md:"h-3 w-3",lg:"h-4 w-4",xl:"h-5 w-5","2xl":"h-6 w-6"},on:"text-{color}-500 dark:text-{color}-400",off:"text-gray-400 dark:text-gray-500",loading:"animate-spin text-{color}-500 dark:text-{color}-400"},default:{onIcon:null,offIcon:null,loadingIcon:"i-heroicons-arrow-path-20-solid",color:"primary",size:"md"}},Ia={wrapper:"relative w-full flex items-center",base:"w-full absolute appearance-none cursor-pointer disabled:cursor-not-allowed disabled:bg-opacity-50 focus:outline-none peer group",rounded:"rounded-lg",background:"bg-transparent",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",progress:{base:"absolute pointer-events-none peer-disabled:bg-opacity-50",rounded:"rounded-s-lg",background:"bg-{color}-500 dark:bg-{color}-400",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"}},thumb:{base:"[&::-webkit-slider-thumb]:relative [&::-moz-range-thumb]:relative [&::-webkit-slider-thumb]:z-[1] [&::-moz-range-thumb]:z-[1] [&::-webkit-slider-thumb]:appearance-none [&::-moz-range-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:border-0",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:dark:bg-gray-900 [&::-moz-range-thumb]:bg-current",ring:"[&::-webkit-slider-thumb]:ring-2 [&::-webkit-slider-thumb]:ring-current",size:{"2xs":"[&::-webkit-slider-thumb]:h-1.5 [&::-moz-range-thumb]:h-1.5 [&::-webkit-slider-thumb]:w-1.5 [&::-moz-range-thumb]:w-1.5 [&::-webkit-slider-thumb]:mt-[-2.5px] [&::-moz-range-thumb]:mt-[-2.5px]",xs:"[&::-webkit-slider-thumb]:h-2 [&::-moz-range-thumb]:h-2 [&::-webkit-slider-thumb]:w-2 [&::-moz-range-thumb]:w-2 [&::-webkit-slider-thumb]:mt-[-3px] [&::-moz-range-thumb]:mt-[-3px]",sm:"[&::-webkit-slider-thumb]:h-3 [&::-moz-range-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-moz-range-thumb]:w-3 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",md:"[&::-webkit-slider-thumb]:h-4 [&::-moz-range-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-moz-range-thumb]:w-4 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",lg:"[&::-webkit-slider-thumb]:h-5 [&::-moz-range-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-moz-range-thumb]:w-5 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",xl:"[&::-webkit-slider-thumb]:h-6 [&::-moz-range-thumb]:h-6 [&::-webkit-slider-thumb]:w-6 [&::-moz-range-thumb]:w-6 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1","2xl":"[&::-webkit-slider-thumb]:h-7 [&::-moz-range-thumb]:h-7 [&::-webkit-slider-thumb]:w-7 [&::-moz-range-thumb]:w-7 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1"}},track:{base:"[&::-webkit-slider-runnable-track]:group-disabled:bg-opacity-50 [&::-moz-range-track]:group-disabled:bg-opacity-50",background:"[&::-webkit-slider-runnable-track]:bg-gray-200 [&::-moz-range-track]:bg-gray-200 [&::-webkit-slider-runnable-track]:dark:bg-gray-700 [&::-moz-range-track]:dark:bg-gray-700",rounded:"[&::-webkit-slider-runnable-track]:rounded-lg [&::-moz-range-track]:rounded-lg",size:{"2xs":"[&::-webkit-slider-runnable-track]:h-px [&::-moz-range-track]:h-px",xs:"[&::-webkit-slider-runnable-track]:h-0.5 [&::-moz-range-track]:h-0.5",sm:"[&::-webkit-slider-runnable-track]:h-1 [&::-moz-range-track]:h-1",md:"[&::-webkit-slider-runnable-track]:h-2 [&::-moz-range-track]:h-2",lg:"[&::-webkit-slider-runnable-track]:h-3 [&::-moz-range-track]:h-3",xl:"[&::-webkit-slider-runnable-track]:h-4 [&::-moz-range-track]:h-4","2xl":"[&::-webkit-slider-runnable-track]:h-5 [&::-moz-range-track]:h-5"}},size:{"2xs":"h-1.5",xs:"h-2",sm:"h-3",md:"h-4",lg:"h-5",xl:"h-6","2xl":"h-7"},default:{size:"md",color:"primary"}},Sa={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function cn(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.value){let a=N(n);a instanceof HTMLElement&&t.add(a)}return t}var mn=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(mn||{});let Qe=Object.assign(V({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:C(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:a}){let s=C(null);a({el:s,$el:s});let o=$(()=>qt(s)),l=C(!1);X(()=>l.value=!0),Ie(()=>l.value=!1),Pa({ownerDocument:o},$(()=>l.value&&!!(e.features&16)));let i=_a({ownerDocument:o,container:s,initialFocus:$(()=>e.initialFocus)},$(()=>l.value&&!!(e.features&2)));xa({ownerDocument:o,container:s,containers:e.containers,previousActiveElement:i},$(()=>l.value&&!!(e.features&8)));let u=Cn();function v(p){let d=N(s);d&&(h=>h())(()=>{je(u.value,{[et.Forwards]:()=>{lt(d,Pe.First,{skipElements:[p.relatedTarget]})},[et.Backwards]:()=>{lt(d,Pe.Last,{skipElements:[p.relatedTarget]})}})})}let y=C(!1);function k(p){p.key==="Tab"&&(y.value=!0,requestAnimationFrame(()=>{y.value=!1}))}function f(p){if(!l.value)return;let d=cn(e.containers);N(s)instanceof HTMLElement&&d.add(N(s));let h=p.relatedTarget;h instanceof HTMLElement&&h.dataset.headlessuiFocusGuard!=="true"&&(fn(d,h)||(y.value?lt(N(s),je(u.value,{[et.Forwards]:()=>Pe.Next,[et.Backwards]:()=>Pe.Previous})|Pe.WrapAround,{relativeTo:p.target}):p.target instanceof HTMLElement&&We(p.target)))}return()=>{let p={},d={ref:s,onKeydown:k,onFocusout:f},{features:h,initialFocus:c,containers:m,...b}=e;return ce(q,[!!(h&4)&&ce(yt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:wt.Focusable}),Se({ourProps:d,theirProps:{...t,...b},slot:p,attrs:t,slots:n,name:"FocusTrap"}),!!(h&4)&&ce(yt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:wt.Focusable})])}}}),{features:mn});function Ca(e){let t=C(Nt.slice());return de([e],([n],[a])=>{a===!0&&n===!1?an(()=>{t.value.splice(0)}):a===!1&&n===!0&&(t.value=Nt.slice())},{flush:"post"}),()=>{var n;return(n=t.value.find(a=>a!=null&&a.isConnected))!=null?n:null}}function Pa({ownerDocument:e},t){let n=Ca(t);X(()=>{Oe(()=>{var a,s;t.value||((a=e.value)==null?void 0:a.activeElement)===((s=e.value)==null?void 0:s.body)&&We(n())},{flush:"post"})}),Ie(()=>{t.value&&We(n())})}function _a({ownerDocument:e,container:t,initialFocus:n},a){let s=C(null),o=C(!1);return X(()=>o.value=!0),Ie(()=>o.value=!1),X(()=>{de([t,n,a],(l,i)=>{if(l.every((v,y)=>(i==null?void 0:i[y])===v)||!a.value)return;let u=N(t);u&&an(()=>{var v,y;if(!o.value)return;let k=N(n),f=(v=e.value)==null?void 0:v.activeElement;if(k){if(k===f){s.value=f;return}}else if(u.contains(f)){s.value=f;return}k?We(k):lt(u,Pe.First|Pe.NoScroll)===Pn.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(y=e.value)==null?void 0:y.activeElement})},{immediate:!0,flush:"post"})}),s}function xa({ownerDocument:e,container:t,containers:n,previousActiveElement:a},s){var o;Kt((o=e.value)==null?void 0:o.defaultView,"focus",l=>{if(!s.value)return;let i=cn(n);N(t)instanceof HTMLElement&&i.add(N(t));let u=a.value;if(!u)return;let v=l.target;v&&v instanceof HTMLElement?fn(i,v)?(a.value=v,We(v)):(l.preventDefault(),l.stopPropagation(),We(u)):We(a.value)},!0)}function fn(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function Fa(e){let t=_n(e.getSnapshot());return Ie(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function Ma(e,t){let n=e(),a=new Set;return{getSnapshot(){return n},subscribe(s){return a.add(s),()=>a.delete(s)},dispatch(s,...o){let l=t[s].call(n,...o);l&&(n=l,a.forEach(i=>i()))}}}function Ta(){let e;return{before({doc:t}){var n;let a=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-a.clientWidth},after({doc:t,d:n}){let a=t.documentElement,s=a.clientWidth-a.offsetWidth,o=e-s;n.style(a,"paddingRight",`${o}px`)}}}function za(){return xn()?{before({doc:e,d:t,meta:n}){function a(s){return n.containers.flatMap(o=>o()).some(o=>o.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=rt();i.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>i.dispose()))}let o=(s=window.scrollY)!=null?s:window.pageYOffset,l=null;t.addEventListener(e,"click",i=>{if(i.target instanceof HTMLElement)try{let u=i.target.closest("a");if(!u)return;let{hash:v}=new URL(u.href),y=e.querySelector(v);y&&!a(y)&&(l=y)}catch{}},!0),t.addEventListener(e,"touchstart",i=>{if(i.target instanceof HTMLElement)if(a(i.target)){let u=i.target;for(;u.parentElement&&a(u.parentElement);)u=u.parentElement;t.style(u,"overscrollBehavior","contain")}else t.style(i.target,"touchAction","none")}),t.addEventListener(e,"touchmove",i=>{if(i.target instanceof HTMLElement){if(i.target.tagName==="INPUT")return;if(a(i.target)){let u=i.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()}},{passive:!1}),t.add(()=>{var i;let u=(i=window.scrollY)!=null?i:window.pageYOffset;o!==u&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function Aa(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Ba(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let He=Ma(()=>new Map,{PUSH(e,t){var n;let a=(n=this.get(e))!=null?n:{doc:e,count:0,d:rt(),meta:new Set};return a.count++,a.meta.add(t),this.set(e,a),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let a={doc:e,d:t,meta:Ba(n)},s=[za(),Ta(),Aa()];s.forEach(({before:o})=>o==null?void 0:o(a)),s.forEach(({after:o})=>o==null?void 0:o(a))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});He.subscribe(()=>{let e=He.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let a=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!a||!s&&a)&&He.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&He.dispatch("TEARDOWN",n)}});function Oa(e,t,n){let a=Fa(He),s=$(()=>{let o=e.value?a.value.get(e.value):void 0;return o?o.count>0:!1});return de([e,t],([o,l],[i],u)=>{if(!o||!l)return;He.dispatch("PUSH",o,n);let v=!1;u(()=>{v||(He.dispatch("POP",i??o,n),v=!0)})},{immediate:!0}),s}let vt=new Map,Ye=new Map;function Dt(e,t=C(!0)){Oe(n=>{var a;if(!t.value)return;let s=N(e);if(!s)return;n(function(){var l;if(!s)return;let i=(l=Ye.get(s))!=null?l:1;if(i===1?Ye.delete(s):Ye.set(s,i-1),i!==1)return;let u=vt.get(s);u&&(u["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",u["aria-hidden"]),s.inert=u.inert,vt.delete(s))});let o=(a=Ye.get(s))!=null?a:0;Ye.set(s,o+1),o===0&&(vt.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}let pn=Symbol("StackContext");var $t=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))($t||{});function ja(){return Ue(pn,()=>{})}function Ua({type:e,enabled:t,element:n,onUpdate:a}){let s=ja();function o(...l){a==null||a(...l),s(...l)}X(()=>{de(t,(l,i)=>{l?o(0,e,n):i===!0&&o(1,e,n)},{immediate:!0,flush:"sync"})}),Ie(()=>{t.value&&o(1,e,n)}),qe(pn,o)}let Ea=Symbol("DescriptionContext");function La({slot:e=C({}),name:t="Description",props:n={}}={}){let a=C([]);function s(o){return a.value.push(o),()=>{let l=a.value.indexOf(o);l!==-1&&a.value.splice(l,1)}}return qe(Ea,{register:s,slot:e,name:t,props:n}),$(()=>a.value.length>0?a.value.join(" "):void 0)}var Na=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Na||{});let It=Symbol("DialogContext");function vn(e){let t=Ue(It,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,vn),n}return t}let tt="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Da=V({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:tt},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:n,slots:a,expose:s}){var o,l;let i=(o=e.id)!=null?o:`headlessui-dialog-${Ke()}`,u=C(!1);X(()=>{u.value=!0});let v=!1,y=$(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(v||(v=!0,console.warn(`Invalid role [${y}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),k=C(0),f=Ct(),p=$(()=>e.open===tt&&f!==null?(f.value&re.Open)===re.Open:e.open),d=C(null),h=$(()=>qt(d));if(s({el:d,$el:d}),!(e.open!==tt||f!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof p.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${p.value===tt?void 0:e.open}`);let c=$(()=>u.value&&p.value?0:1),m=$(()=>c.value===0),b=$(()=>k.value>1),w=Ue(It,null)!==null,[B,S]=Fn(),{resolveContainers:U,mainTreeNodeRef:G,MainTreeNode:J}=Mn({portals:B,defaultContainers:[$(()=>{var L;return(L=ae.panelRef.value)!=null?L:d.value})]}),H=$(()=>b.value?"parent":"leaf"),F=$(()=>f!==null?(f.value&re.Closing)===re.Closing:!1),M=$(()=>w||F.value?!1:m.value),W=$(()=>{var L,R,le;return(le=Array.from((R=(L=h.value)==null?void 0:L.querySelectorAll("body > *"))!=null?R:[]).find(oe=>oe.id==="headlessui-portal-root"?!1:oe.contains(N(G))&&oe instanceof HTMLElement))!=null?le:null});Dt(W,M);let Z=$(()=>b.value?!0:m.value),O=$(()=>{var L,R,le;return(le=Array.from((R=(L=h.value)==null?void 0:L.querySelectorAll("[data-headlessui-portal]"))!=null?R:[]).find(oe=>oe.contains(N(G))&&oe instanceof HTMLElement))!=null?le:null});Dt(O,Z),Ua({type:"Dialog",enabled:$(()=>c.value===0),element:d,onUpdate:(L,R)=>{if(R==="Dialog")return je(L,{[$t.Add]:()=>k.value+=1,[$t.Remove]:()=>k.value-=1})}});let K=La({name:"DialogDescription",slot:$(()=>({open:p.value}))}),Y=C(null),ae={titleId:Y,panelRef:C(null),dialogState:c,setTitleId(L){Y.value!==L&&(Y.value=L)},close(){t("close",!1)}};qe(It,ae);let Fe=$(()=>!(!m.value||b.value));Gt(U,(L,R)=>{L.preventDefault(),ae.close(),Be(()=>R==null?void 0:R.focus())},Fe);let Me=$(()=>!(b.value||c.value!==0));Kt((l=h.value)==null?void 0:l.defaultView,"keydown",L=>{Me.value&&(L.defaultPrevented||L.key===ee.Escape&&(L.preventDefault(),L.stopPropagation(),ae.close()))});let Te=$(()=>!(F.value||c.value!==0||w));return Oa(h,Te,L=>{var R;return{containers:[...(R=L.containers)!=null?R:[],U]}}),Oe(L=>{if(c.value!==0)return;let R=N(d);if(!R)return;let le=new ResizeObserver(oe=>{for(let Ce of oe){let A=Ce.target.getBoundingClientRect();A.x===0&&A.y===0&&A.width===0&&A.height===0&&ae.close()}});le.observe(R),L(()=>le.disconnect())}),()=>{let{open:L,initialFocus:R,...le}=e,oe={...n,ref:d,id:i,role:y.value,"aria-modal":c.value===0?!0:void 0,"aria-labelledby":Y.value,"aria-describedby":K.value},Ce={open:c.value===0};return ce(Ot,{force:!0},()=>[ce(Tn,()=>ce(zn,{target:d.value},()=>ce(Ot,{force:!1},()=>ce(Qe,{initialFocus:R,containers:U,features:m.value?je(H.value,{parent:Qe.features.RestoreFocus,leaf:Qe.features.All&~Qe.features.FocusLock}):Qe.features.None},()=>ce(S,{},()=>Se({ourProps:oe,theirProps:{...le,...n},slot:Ce,attrs:n,slots:a,visible:c.value===0,features:Je.RenderStrategy|Je.Static,name:"Dialog"})))))),ce(J)])}}}),Va=V({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:a}){var s;let o=(s=e.id)!=null?s:`headlessui-dialog-panel-${Ke()}`,l=vn("DialogPanel");a({el:l.panelRef,$el:l.panelRef});function i(u){u.stopPropagation()}return()=>{let{...u}=e,v={id:o,ref:l.panelRef,onClick:i};return Se({ourProps:v,theirProps:u,slot:{open:l.dialogState.value===0},attrs:t,slots:n,name:"DialogPanel"})}}});var Ra=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ra||{}),Ha=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ha||{});function Wa(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let gn=Symbol("MenuContext");function dt(e){let t=Ue(gn,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,dt),n}return t}let qa=V({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let a=C(1),s=C(null),o=C(null),l=C([]),i=C(""),u=C(null),v=C(1);function y(f=p=>p){let p=u.value!==null?l.value[u.value]:null,d=jn(f(l.value.slice()),c=>N(c.dataRef.domRef)),h=p?d.indexOf(p):null;return h===-1&&(h=null),{items:d,activeItemIndex:h}}let k={menuState:a,buttonRef:s,itemsRef:o,items:l,searchQuery:i,activeItemIndex:u,activationTrigger:v,closeMenu:()=>{a.value=1,u.value=null},openMenu:()=>a.value=0,goToItem(f,p,d){let h=y(),c=va(f===ge.Specific?{focus:ge.Specific,id:p}:{focus:f},{resolveItems:()=>h.items,resolveActiveIndex:()=>h.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.disabled});i.value="",u.value=c,v.value=d??1,l.value=h.items},search(f){let p=i.value!==""?0:1;i.value+=f.toLowerCase();let d=(u.value!==null?l.value.slice(u.value+p).concat(l.value.slice(0,u.value+p)):l.value).find(c=>c.dataRef.textValue.startsWith(i.value)&&!c.dataRef.disabled),h=d?l.value.indexOf(d):-1;h===-1||h===u.value||(u.value=h,v.value=1)},clearSearch(){i.value=""},registerItem(f,p){let d=y(h=>[...h,{id:f,dataRef:p}]);l.value=d.items,u.value=d.activeItemIndex,v.value=1},unregisterItem(f){let p=y(d=>{let h=d.findIndex(c=>c.id===f);return h!==-1&&d.splice(h,1),d});l.value=p.items,u.value=p.activeItemIndex,v.value=1}};return Gt([s,o],(f,p)=>{var d;k.closeMenu(),An(p,Bn.Loose)||(f.preventDefault(),(d=N(s))==null||d.focus())},$(()=>a.value===0)),qe(gn,k),Qt($(()=>je(a.value,{0:re.Open,1:re.Closed}))),()=>{let f={open:a.value===0,close:k.closeMenu};return Se({ourProps:{},theirProps:e,slot:f,slots:t,attrs:n,name:"Menu"})}}}),Ka=V({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:a}){var s;let o=(s=e.id)!=null?s:`headlessui-menu-button-${Ke()}`,l=dt("MenuButton");a({el:l.buttonRef,$el:l.buttonRef});function i(k){switch(k.key){case ee.Space:case ee.Enter:case ee.ArrowDown:k.preventDefault(),k.stopPropagation(),l.openMenu(),Be(()=>{var f;(f=N(l.itemsRef))==null||f.focus({preventScroll:!0}),l.goToItem(ge.First)});break;case ee.ArrowUp:k.preventDefault(),k.stopPropagation(),l.openMenu(),Be(()=>{var f;(f=N(l.itemsRef))==null||f.focus({preventScroll:!0}),l.goToItem(ge.Last)});break}}function u(k){switch(k.key){case ee.Space:k.preventDefault();break}}function v(k){e.disabled||(l.menuState.value===0?(l.closeMenu(),Be(()=>{var f;return(f=N(l.buttonRef))==null?void 0:f.focus({preventScroll:!0})})):(k.preventDefault(),l.openMenu(),Wa(()=>{var f;return(f=N(l.itemsRef))==null?void 0:f.focus({preventScroll:!0})})))}let y=Yt($(()=>({as:e.as,type:t.type})),l.buttonRef);return()=>{var k;let f={open:l.menuState.value===0},{...p}=e,d={ref:l.buttonRef,id:o,type:y.value,"aria-haspopup":"menu","aria-controls":(k=N(l.itemsRef))==null?void 0:k.id,"aria-expanded":l.menuState.value===0,onKeydown:i,onKeyup:u,onClick:v};return Se({ourProps:d,theirProps:p,slot:f,attrs:t,slots:n,name:"MenuButton"})}}}),Ga=V({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:a}){var s;let o=(s=e.id)!=null?s:`headlessui-menu-items-${Ke()}`,l=dt("MenuItems"),i=C(null);a({el:l.itemsRef,$el:l.itemsRef}),ma({container:$(()=>N(l.itemsRef)),enabled:$(()=>l.menuState.value===0),accept(f){return f.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:f.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(f){f.setAttribute("role","none")}});function u(f){var p;switch(i.value&&clearTimeout(i.value),f.key){case ee.Space:if(l.searchQuery.value!=="")return f.preventDefault(),f.stopPropagation(),l.search(f.key);case ee.Enter:if(f.preventDefault(),f.stopPropagation(),l.activeItemIndex.value!==null){let d=l.items.value[l.activeItemIndex.value];(p=N(d.dataRef.domRef))==null||p.click()}l.closeMenu(),Jt(N(l.buttonRef));break;case ee.ArrowDown:return f.preventDefault(),f.stopPropagation(),l.goToItem(ge.Next);case ee.ArrowUp:return f.preventDefault(),f.stopPropagation(),l.goToItem(ge.Previous);case ee.Home:case ee.PageUp:return f.preventDefault(),f.stopPropagation(),l.goToItem(ge.First);case ee.End:case ee.PageDown:return f.preventDefault(),f.stopPropagation(),l.goToItem(ge.Last);case ee.Escape:f.preventDefault(),f.stopPropagation(),l.closeMenu(),Be(()=>{var d;return(d=N(l.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case ee.Tab:f.preventDefault(),f.stopPropagation(),l.closeMenu(),Be(()=>On(N(l.buttonRef),f.shiftKey?Pe.Previous:Pe.Next));break;default:f.key.length===1&&(l.search(f.key),i.value=setTimeout(()=>l.clearSearch(),350));break}}function v(f){switch(f.key){case ee.Space:f.preventDefault();break}}let y=Ct(),k=$(()=>y!==null?(y.value&re.Open)===re.Open:l.menuState.value===0);return()=>{var f,p;let d={open:l.menuState.value===0},{...h}=e,c={"aria-activedescendant":l.activeItemIndex.value===null||(f=l.items.value[l.activeItemIndex.value])==null?void 0:f.id,"aria-labelledby":(p=N(l.buttonRef))==null?void 0:p.id,id:o,onKeydown:u,onKeyup:v,role:"menu",tabIndex:0,ref:l.itemsRef};return Se({ourProps:c,theirProps:h,slot:d,attrs:t,slots:n,features:Je.RenderStrategy|Je.Static,visible:k.value,name:"MenuItems"})}}}),Qa=V({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:n,expose:a}){var s;let o=(s=e.id)!=null?s:`headlessui-menu-item-${Ke()}`,l=dt("MenuItem"),i=C(null);a({el:i,$el:i});let u=$(()=>l.activeItemIndex.value!==null?l.items.value[l.activeItemIndex.value].id===o:!1),v=fa(i),y=$(()=>({disabled:e.disabled,get textValue(){return v()},domRef:i}));X(()=>l.registerItem(o,y)),Ie(()=>l.unregisterItem(o)),Oe(()=>{l.menuState.value===0&&u.value&&l.activationTrigger.value!==0&&Be(()=>{var m,b;return(b=(m=N(i))==null?void 0:m.scrollIntoView)==null?void 0:b.call(m,{block:"nearest"})})});function k(m){if(e.disabled)return m.preventDefault();l.closeMenu(),Jt(N(l.buttonRef))}function f(){if(e.disabled)return l.goToItem(ge.Nothing);l.goToItem(ge.Specific,o)}let p=pa();function d(m){p.update(m)}function h(m){p.wasMoved(m)&&(e.disabled||u.value||l.goToItem(ge.Specific,o,0))}function c(m){p.wasMoved(m)&&(e.disabled||u.value&&l.goToItem(ge.Nothing))}return()=>{let{disabled:m,...b}=e,w={active:u.value,disabled:m,close:l.closeMenu};return Se({ourProps:{id:o,ref:i,role:"menuitem",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,onClick:k,onFocus:f,onPointerenter:d,onMouseenter:d,onPointermove:h,onMousemove:h,onPointerleave:c,onMouseleave:c},theirProps:{...n,...b},slot:w,attrs:n,slots:t,name:"MenuItem"})}}}),Ya=Symbol("GroupContext"),Ja=V({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(e,{emit:t,attrs:n,slots:a,expose:s}){var o;let l=(o=e.id)!=null?o:`headlessui-switch-${Ke()}`,i=Ue(Ya,null),[u,v]=ga($(()=>e.modelValue),b=>t("update:modelValue",b),$(()=>e.defaultChecked));function y(){v(!u.value)}let k=C(null),f=i===null?k:i.switchRef,p=Yt($(()=>({as:e.as,type:n.type})),f);s({el:f,$el:f});function d(b){b.preventDefault(),y()}function h(b){b.key===ee.Space?(b.preventDefault(),y()):b.key===ee.Enter&&ha(b.currentTarget)}function c(b){b.preventDefault()}let m=$(()=>{var b,w;return(w=(b=N(f))==null?void 0:b.closest)==null?void 0:w.call(b,"form")});return X(()=>{de([m],()=>{if(!m.value||e.defaultChecked===void 0)return;function b(){v(e.defaultChecked)}return m.value.addEventListener("reset",b),()=>{var w;(w=m.value)==null||w.removeEventListener("reset",b)}},{immediate:!0})}),()=>{let{name:b,value:w,form:B,tabIndex:S,...U}=e,G={checked:u.value},J={id:l,ref:f,role:"switch",type:p.value,tabIndex:S===-1?0:S,"aria-checked":u.value,"aria-labelledby":i==null?void 0:i.labelledby.value,"aria-describedby":i==null?void 0:i.describedby.value,onClick:d,onKeyup:h,onKeypress:c};return ce(q,[b!=null&&u.value!=null?ce(yt,Un({features:wt.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:u.value,form:B,disabled:U.disabled,name:b,value:w})):null,Se({ourProps:J,theirProps:{...n,...Xt(U,["modelValue","defaultChecked"])},slot:G,attrs:n,slots:a,name:"Switch"})])}}});function Xa(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function gt(e,...t){e&&t.length>0&&e.classList.add(...t)}function nt(e,...t){e&&t.length>0&&e.classList.remove(...t)}var St=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(St||{});function Za(e,t){let n=rt();if(!e)return n.dispose;let{transitionDuration:a,transitionDelay:s}=getComputedStyle(e),[o,l]=[a,s].map(i=>{let[u=0]=i.split(",").filter(Boolean).map(v=>v.includes("ms")?parseFloat(v):parseFloat(v)*1e3).sort((v,y)=>y-v);return u});return o!==0?n.setTimeout(()=>t("finished"),o+l):t("finished"),n.add(()=>t("cancelled")),n.dispose}function Vt(e,t,n,a,s,o){let l=rt(),i=o!==void 0?Xa(o):()=>{};return nt(e,...s),gt(e,...t,...n),l.nextFrame(()=>{nt(e,...n),gt(e,...a),l.add(Za(e,u=>(nt(e,...a,...t),gt(e,...s),i(u))))}),l.add(()=>nt(e,...t,...n,...a,...s)),l.add(()=>i("cancelled")),l.dispose}function De(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Tt=Symbol("TransitionContext");var el=(e=>(e.Visible="visible",e.Hidden="hidden",e))(el||{});function tl(){return Ue(Tt,null)!==null}function nl(){let e=Ue(Tt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function al(){let e=Ue(zt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let zt=Symbol("NestingContext");function ct(e){return"children"in e?ct(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function hn(e){let t=C([]),n=C(!1);X(()=>n.value=!0),Ie(()=>n.value=!1);function a(o,l=Re.Hidden){let i=t.value.findIndex(({id:u})=>u===o);i!==-1&&(je(l,{[Re.Unmount](){t.value.splice(i,1)},[Re.Hidden](){t.value[i].state="hidden"}}),!ct(t)&&n.value&&(e==null||e()))}function s(o){let l=t.value.find(({id:i})=>i===o);return l?l.state!=="visible"&&(l.state="visible"):t.value.push({id:o,state:"visible"}),()=>a(o,Re.Unmount)}return{children:t,register:s,unregister:a}}let bn=Je.RenderStrategy,yn=V({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:a,expose:s}){let o=C(0);function l(){o.value|=re.Opening,t("beforeEnter")}function i(){o.value&=~re.Opening,t("afterEnter")}function u(){o.value|=re.Closing,t("beforeLeave")}function v(){o.value&=~re.Closing,t("afterLeave")}if(!tl()&&En())return()=>ce(wn,{...e,onBeforeEnter:l,onAfterEnter:i,onBeforeLeave:u,onAfterLeave:v},a);let y=C(null),k=$(()=>e.unmount?Re.Unmount:Re.Hidden);s({el:y,$el:y});let{show:f,appear:p}=nl(),{register:d,unregister:h}=al(),c=C(f.value?"visible":"hidden"),m={value:!0},b=Ke(),w={value:!1},B=hn(()=>{!w.value&&c.value!=="hidden"&&(c.value="hidden",h(b),v())});X(()=>{let Z=d(b);Ie(Z)}),Oe(()=>{if(k.value===Re.Hidden&&b){if(f.value&&c.value!=="visible"){c.value="visible";return}je(c.value,{hidden:()=>h(b),visible:()=>d(b)})}});let S=De(e.enter),U=De(e.enterFrom),G=De(e.enterTo),J=De(e.entered),H=De(e.leave),F=De(e.leaveFrom),M=De(e.leaveTo);X(()=>{Oe(()=>{if(c.value==="visible"){let Z=N(y);if(Z instanceof Comment&&Z.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function W(Z){let O=m.value&&!p.value,K=N(y);!K||!(K instanceof HTMLElement)||O||(w.value=!0,f.value&&l(),f.value||u(),Z(f.value?Vt(K,S,U,G,J,Y=>{w.value=!1,Y===St.Finished&&i()}):Vt(K,H,F,M,J,Y=>{w.value=!1,Y===St.Finished&&(ct(B)||(c.value="hidden",h(b),v()))})))}return X(()=>{de([f],(Z,O,K)=>{W(K),m.value=!1},{immediate:!0})}),qe(zt,B),Qt($(()=>je(c.value,{visible:re.Open,hidden:re.Closed})|o.value)),()=>{let{appear:Z,show:O,enter:K,enterFrom:Y,enterTo:ae,entered:Fe,leave:Me,leaveFrom:Te,leaveTo:L,...R}=e,le={ref:y},oe={...R,...p.value&&f.value&&Ln.isServer?{class:j([n.class,R.class,...S,...U])}:{}};return Se({theirProps:oe,ourProps:le,slot:{},slots:a,attrs:n,features:bn,visible:c.value==="visible",name:"TransitionChild"})}}}),ll=yn,wn=V({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:a}){let s=Ct(),o=$(()=>e.show===null&&s!==null?(s.value&re.Open)===re.Open:e.show);Oe(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=C(o.value?"visible":"hidden"),i=hn(()=>{l.value="hidden"}),u=C(!0),v={show:o,appear:$(()=>e.appear||!u.value)};return X(()=>{Oe(()=>{u.value=!1,o.value?l.value="visible":ct(i)||(l.value="hidden")})}),qe(zt,i),qe(Tt,v),()=>{let y=Xt(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),k={unmount:e.unmount};return Se({ourProps:{...k,as:"template"},theirProps:{},slot:{},slots:{...a,default:()=>[ce(ll,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...k,...y},a.default)]},attrs:{},features:bn,visible:l.value==="visible",name:"Transition"})}}});const ht=Ee(Q.ui.strategy,Q.ui.dropdown,Nn),ol=V({components:{HMenu:qa,HMenuButton:Ka,HMenuItems:Ga,HMenuItem:Qa,UIcon:me,UAvatar:ot,UKbd:ln},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>ht.default.openDelay},closeDelay:{type:Number,default:()=>ht.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:t}){const{ui:n,attrs:a}=Le("dropdown",fe(e,"ui"),ht,fe(e,"class")),s=$(()=>st(e.mode==="hover"?{offsetDistance:0}:{},e.popper,n.value.popper)),[o,l]=Dn(s.value),i=C(null);let u=null,v=null;X(()=>{var b,w;const c=(b=o.value)==null?void 0:b.$.provides;if(!c)return;const m=Object.getOwnPropertySymbols(c);i.value=m.length&&c[m[0]],e.open&&((w=i.value)==null||w.openMenu())});const y=$(()=>{var w,B,S;if(e.mode!=="hover")return{};const c=((w=e.popper)==null?void 0:w.offsetDistance)||((B=n.value.popper)==null?void 0:B.offsetDistance)||8,m=(S=s.value.placement)==null?void 0:S.split("-")[0],b=`${c}px`;return m==="top"||m==="bottom"?{paddingTop:b,paddingBottom:b}:m==="left"||m==="right"?{paddingLeft:b,paddingRight:b}:{paddingTop:b,paddingBottom:b,paddingLeft:b,paddingRight:b}});function k(c){!c.cancelable||!i.value||(i.value.menuState===0?i.value.closeMenu():i.value.openMenu())}function f(){e.mode!=="hover"||!i.value||(v&&(clearTimeout(v),v=null),i.value.menuState!==0&&(u=u||setTimeout(()=>{i.value.openMenu&&i.value.openMenu(),u=null},e.openDelay)))}function p(){e.mode!=="hover"||!i.value||(u&&(clearTimeout(u),u=null),i.value.menuState!==1&&(v=v||setTimeout(()=>{i.value.closeMenu&&i.value.closeMenu(),v=null},e.closeDelay)))}function d(c,m,{href:b,navigate:w,close:B,isExternal:S}){m.click&&m.click(c),b&&!S&&(w(c),B())}de(()=>e.open,(c,m)=>{i.value&&(m===void 0||c===m||(c?i.value.openMenu():i.value.closeMenu()))}),de(()=>{var c;return(c=i.value)==null?void 0:c.menuState},(c,m)=>{m===void 0||c===m||t("update:open",c===0)});const h=en;return Pt(()=>_t("$ctlRmIk4j0")),{ui:n,attrs:a,popper:s,trigger:o,container:l,containerStyle:y,onTouchStart:k,onMouseEnter:f,onMouseLeave:p,onClick:d,getNuxtLinkProps:Vn,twMerge:_e,twJoin:ne,NuxtLink:h}}}),sl=["disabled"];function il(e,t,n,a,s,o){const l=ke("HMenuButton"),i=me,u=ot,v=ln,y=ke("HMenuItem"),k=en,f=ke("HMenuItems"),p=ke("HMenu");return g(),T(p,te({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:z(({open:d})=>[I(l,{ref:"trigger",as:"div",disabled:e.disabled,class:j(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:z(()=>[ue(e.$slots,"default",{open:d,disabled:e.disabled},()=>[P("button",{disabled:e.disabled}," Open ",8,sl)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),d&&e.items.length?(g(),_("div",{key:0,ref:"container",class:j([e.ui.container,e.ui.width]),style:Zt(e.containerStyle),onMouseenter:t[0]||(t[0]=(...h)=>e.onMouseEnter&&e.onMouseEnter(...h))},[I(Rn,te({appear:""},e.ui.transition),{default:z(()=>[P("div",null,[e.popper.arrow?(g(),_("div",{key:0,"data-popper-arrow":"",class:j(Object.values(e.ui.arrow))},null,2)):x("",!0),I(f,{class:j([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:z(()=>[(g(!0),_(q,null,ie(e.items,(h,c)=>(g(),_("div",{key:c,class:j(e.ui.padding)},[(g(!0),_(q,null,ie(h,(m,b)=>(g(),T(k,te({key:b,ref_for:!0},e.getNuxtLinkProps(m),{custom:""}),{default:z(({href:w,target:B,rel:S,navigate:U,isExternal:G,isActive:J})=>[I(y,{disabled:m.disabled},{default:z(({active:H,disabled:F,close:M})=>[(g(),T(Hn(w?"a":"button"),{href:F?void 0:w,rel:S,target:B,class:j(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,H||J?e.ui.item.active:e.ui.item.inactive,F&&e.ui.item.disabled),m.class)),onClick:W=>e.onClick(W,m,{href:w,navigate:U,close:M,isExternal:G})},{default:z(()=>[ue(e.$slots,m.slot||"item",{item:m},()=>{var W;return[m.icon?(g(),T(i,{key:0,name:m.icon,class:j(e.twMerge(e.twJoin(e.ui.item.icon.base,H||J?e.ui.item.icon.active:e.ui.item.icon.inactive),m.iconClass))},null,8,["name","class"])):m.avatar?(g(),T(u,te({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...m.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):x("",!0),P("span",{class:j(e.twMerge(e.ui.item.label,m.labelClass))},D(m.label),3),(W=m.shortcuts)!=null&&W.length?(g(),_("span",{key:2,class:j(e.ui.item.shortcuts)},[(g(!0),_(q,null,ie(m.shortcuts,Z=>(g(),T(v,{key:Z},{default:z(()=>[E(D(Z),1)]),_:2},1024))),128))],2)):x("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):x("",!0)]),_:3},16,["class","onMouseleave"])}const mt=xe(ol,[["render",il]]),ze=Ee(Q.ui.strategy,Q.ui.textarea,Wn),rl=V({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(ze.size).includes(e)}},color:{type:String,default:()=>ze.default.color,validator(e){return[...Q.ui.colors,...Object.keys(ze.color)].includes(e)}},variant:{type:String,default:()=>ze.default.variant,validator(e){return[...Object.keys(ze.variant),...Object.values(ze.color).flatMap(t=>Object.keys(t))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t}){const{ui:n,attrs:a}=Le("textarea",fe(e,"ui"),ze,fe(e,"class")),{emitFormBlur:s,emitFormInput:o,inputId:l,color:i,size:u,name:v}=ut(e,ze),y=C(st({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),k=C(null),f=()=>{var w;e.autofocus&&((w=k.value)==null||w.focus())},p=()=>{if(e.autoresize){if(!k.value)return;k.value.rows=e.rows;const w=window.getComputedStyle(k.value),B=parseInt(w.paddingTop),S=parseInt(w.paddingBottom),U=B+S,G=parseInt(w.lineHeight),{scrollHeight:J}=k.value,H=(J-U)/G;H>e.rows&&(k.value.rows=e.maxrows?Math.min(H,e.maxrows):H)}},d=w=>{y.value.trim&&(w=w.trim()),y.value.number&&(w=qn(w)),t("update:modelValue",w),o()},h=w=>{p(),y.value.lazy||d(w.target.value)},c=w=>{const B=w.target.value;t("change",B),y.value.lazy&&d(B),y.value.trim&&(w.target.value=B.trim())},m=w=>{t("blur",w),s()};X(()=>{setTimeout(()=>{f()},e.autofocusDelay)}),de(()=>e.modelValue,()=>{Be(p)}),X(()=>{setTimeout(()=>{f(),p()},100)});const b=$(()=>{var B,S;const w=((S=(B=n.value.color)==null?void 0:B[i.value])==null?void 0:S[e.variant])||n.value.variant[e.variant];return _e(ne(n.value.base,n.value.form,n.value.rounded,n.value.placeholder,n.value.size[u.value],e.padded?n.value.padding[u.value]:"p-0",w==null?void 0:w.replaceAll("{color}",i.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:n,attrs:a,name:v,inputId:l,textarea:k,textareaClass:b,onInput:h,onChange:c,onBlur:m}}}),ul=["id","value","name","rows","required","disabled","placeholder"];function dl(e,t,n,a,s,o){return g(),_("div",{class:j(e.ui.wrapper)},[P("textarea",te({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:t[0]||(t[0]=(...l)=>e.onInput&&e.onInput(...l)),onBlur:t[1]||(t[1]=(...l)=>e.onBlur&&e.onBlur(...l)),onChange:t[2]||(t[2]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,ul),ue(e.$slots,"default")],2)}const cl=xe(rl,[["render",dl]]);async function ml(e,t){return await fl(t).catch(a=>(console.error("Failed to get image meta for "+t,a+""),{width:0,height:0,ratio:0}))}async function fl(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,n)=>{const a=new Image;a.onload=()=>{const s={width:a.width,height:a.height,ratio:a.width/a.height};t(s)},a.onerror=s=>n(s),a.src=e})}function Rt(e){return t=>t?e[t]||t:e.missingValue}function pl({formatter:e,keyMap:t,joinWith:n="/",valueMap:a}={}){e||(e=(o,l)=>`${o}=${l}`),t&&typeof t!="function"&&(t=Rt(t));const s=a||{};return Object.keys(s).forEach(o=>{typeof s[o]!="function"&&(s[o]=Rt(s[o]))}),(o={})=>Object.entries(o).filter(([i,u])=>typeof u<"u").map(([i,u])=>{const v=s[i];return typeof v=="function"&&(u=v(o[i])),i=typeof t=="function"?t(i):i,e(i,u)}).join(n)}function $e(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function vl(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const n of e.split(" ")){const a=Number.parseInt(n.replace("x",""));a&&t.add(a)}return Array.from(t)}function gl(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function hl(e){const t={};if(typeof e=="string")for(const n of e.split(/[\s,]+/).filter(a=>a)){const a=n.split(":");a.length!==2?t["1px"]=a[0].trim():t[a[0].trim()]=a[1].trim()}else Object.assign(t,e);return t}function bl(e){const t={options:e},n=(s,o={})=>kn(t,s,o),a=(s,o={},l={})=>n(s,{...l,modifiers:st(o,l.modifiers||{})}).url;for(const s in e.presets)a[s]=(o,l,i)=>a(o,l,{...e.presets[s],...i});return a.options=e,a.getImage=n,a.getMeta=(s,o)=>yl(t,s,o),a.getSizes=(s,o)=>$l(t,s,o),t.$img=a,a}async function yl(e,t,n){const a=kn(e,t,{...n});return typeof a.getMeta=="function"?await a.getMeta():await ml(e,a.url)}function kn(e,t,n){var v,y;if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{provider:a,defaults:s}=wl(e,n.provider||e.options.provider),o=kl(e,n.preset);if(t=jt(t)?t:Kn(t),!a.supportsAlias)for(const k in e.options.alias)t.startsWith(k)&&(t=kt(e.options.alias[k],t.substr(k.length)));if(a.validateDomains&&jt(t)){const k=Gn(t).host;if(!e.options.domains.find(f=>f===k))return{url:t}}const l=st(n,o,s);l.modifiers={...l.modifiers};const i=l.modifiers.format;(v=l.modifiers)!=null&&v.width&&(l.modifiers.width=$e(l.modifiers.width)),(y=l.modifiers)!=null&&y.height&&(l.modifiers.height=$e(l.modifiers.height));const u=a.getImage(t,l,e);return u.format=u.format||i||"",u}function wl(e,t){const n=e.options.providers[t];if(!n)throw new Error("Unknown provider: "+t);return n}function kl(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function $l(e,t,n){var d,h,c,m,b;const a=$e((d=n.modifiers)==null?void 0:d.width),s=$e((h=n.modifiers)==null?void 0:h.height),o=hl(n.sizes),l=(c=n.densities)!=null&&c.trim()?vl(n.densities.trim()):e.options.densities;gl(l);const i=a&&s?s/a:0,u=[],v=[];if(Object.keys(o).length>=1){for(const w in o){const B=Ht(w,String(o[w]),s,i,e);if(B!==void 0){u.push({size:B.size,screenMaxWidth:B.screenMaxWidth,media:`(max-width: ${B.screenMaxWidth}px)`});for(const S of l)v.push({width:B._cWidth*S,src:Wt(e,t,n,B,S)})}}Il(u)}else for(const w of l){const B=Object.keys(o)[0];let S=Ht(B,String(o[B]),s,i,e);S===void 0&&(S={size:"",screenMaxWidth:0,_cWidth:(m=n.modifiers)==null?void 0:m.width,_cHeight:(b=n.modifiers)==null?void 0:b.height}),v.push({width:w,src:Wt(e,t,n,S,w)})}Sl(v);const y=v[v.length-1],k=u.length?u.map(w=>`${w.media?w.media+" ":""}${w.size}`).join(", "):void 0,f=k?"w":"x",p=v.map(w=>`${w.src} ${w.width}${f}`).join(", ");return{sizes:k,srcset:p,src:y==null?void 0:y.src}}function Ht(e,t,n,a,s){const o=s.options.screens&&s.options.screens[e]||Number.parseInt(e),l=t.endsWith("vw");if(!l&&/^\d+$/.test(t)&&(t=t+"px"),!l&&!t.endsWith("px"))return;let i=Number.parseInt(t);if(!o||!i)return;l&&(i=Math.round(i/100*o));const u=a?Math.round(i*a):n;return{size:t,screenMaxWidth:o,_cWidth:i,_cHeight:u}}function Wt(e,t,n,a,s){return e.$img(t,{...n.modifiers,width:a._cWidth?a._cWidth*s:void 0,height:a._cHeight?a._cHeight*s:void 0},n)}function Il(e){var n;e.sort((a,s)=>a.screenMaxWidth-s.screenMaxWidth);let t=null;for(let a=e.length-1;a>=0;a--){const s=e[a];s.media===t&&e.splice(a,1),t=s.media}for(let a=0;a<e.length;a++)e[a].media=((n=e[a+1])==null?void 0:n.media)||""}function Sl(e){e.sort((n,a)=>n.width-a.width);let t=null;for(let n=e.length-1;n>=0;n--){const a=e[n];a.width===t&&e.splice(n,1),t=a.width}}const Cl=pl({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>Ut(e)+"_"+Ut(t)}),Pl=(e,{modifiers:t={},baseURL:n}={},a)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const s=Cl(t)||"_";return n||(n=kt(a.options.nuxt.baseURL,"/_ipx")),{url:kt(n,s,Qn(e))}},_l=!0,xl=!0,Fl=Object.freeze(Object.defineProperty({__proto__:null,getImage:Pl,supportsAlias:xl,validateDomains:_l},Symbol.toStringTag,{value:"Module"})),$n={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};$n.providers={ipxStatic:{provider:Fl,defaults:{}}};const At=()=>{const e=Yn(),t=tn();return t.$img||t._img||(t._img=bl({...$n,nuxt:{baseURL:e.app.baseURL}}))};function Ml(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const Tl={src:{type:String,default:void 0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:[Boolean,Object],default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},zl=e=>{const t=$(()=>({provider:e.provider,preset:e.preset})),n=$(()=>({width:$e(e.width),height:$e(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),a=At(),s=$(()=>({...e.modifiers,width:$e(e.width),height:$e(e.height),format:e.format,quality:e.quality||a.options.quality,background:e.background,fit:e.fit}));return{options:t,attrs:n,modifiers:s}},Al={...Tl,placeholder:{type:[Boolean,String,Number,Array],default:void 0},placeholderClass:{type:String,default:void 0}},Xe=V({name:"NuxtImg",props:Al,emits:["load","error"],setup:(e,t)=>{const n=At(),a=zl(e),s=C(!1),o=C(),l=$(()=>n.getSizes(e.src,{...a.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...a.modifiers.value,width:$e(e.width),height:$e(e.height)}})),i=$(()=>{const p={...a.attrs.value,"data-nuxt-img":""};return(!e.placeholder||s.value)&&(p.sizes=l.value.sizes,p.srcset=l.value.srcset),p}),u=$(()=>{let p=e.placeholder;if(p===""&&(p=!0),!p||s.value)return!1;if(typeof p=="string")return p;const d=Array.isArray(p)?p:typeof p=="number"?[p,p]:[10,10];return n(e.src,{...a.modifiers.value,width:d[0],height:d[1],quality:d[2]||50,blur:d[3]||3},a.options.value)}),v=$(()=>e.sizes?l.value.src:n(e.src,a.modifiers.value,a.options.value)),y=$(()=>u.value?u.value:v.value);if(e.preload){const p=Object.values(l.value).every(d=>d);Jn({link:[{rel:"preload",as:"image",nonce:e.nonce,...p?{href:l.value.src,imagesizes:l.value.sizes,imagesrcset:l.value.srcset}:{href:y.value},...typeof e.preload!="boolean"&&e.preload.fetchPriority?{fetchpriority:e.preload.fetchPriority}:{}}]})}const f=tn().isHydrating;return X(()=>{if(u.value){const p=new Image;p.src=v.value,e.sizes&&(p.sizes=l.value.sizes||"",p.srcset=l.value.srcset),p.onload=d=>{s.value=!0,t.emit("load",d)},Ml("nuxt-image");return}o.value&&(o.value.complete&&f&&(o.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),o.value.onload=p=>{t.emit("load",p)},o.value.onerror=p=>{t.emit("error",p)})}),()=>ce("img",{ref:o,...i.value,...t.attrs,class:e.placeholder&&!s.value?[e.placeholderClass]:void 0,src:y.value})}}),Bl=Ee(Q.ui.strategy,Q.ui.modal,Sa),Ol=V({components:{HDialog:Da,HDialogPanel:Va,TransitionRoot:wn,TransitionChild:yn},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:t}){const{ui:n,attrs:a}=Le("modal",fe(e,"ui"),Bl,fe(e,"class")),s=$({get(){return e.modelValue},set(u){t("update:modelValue",u)}}),o=$(()=>e.transition?{...n.value.transition}:{});function l(u){if(e.preventClose){t("close-prevented");return}s.value=u,t("close")}const i=()=>{t("after-leave")};return Pt(()=>_t("$HAJMhYDoe7")),{ui:n,attrs:a,isOpen:s,transitionClass:o,onAfterLeave:i,close:l}}});function jl(e,t,n,a,s,o){const l=ke("TransitionChild"),i=ke("HDialogPanel"),u=ke("HDialog"),v=ke("TransitionRoot");return g(),T(v,{appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},{default:z(()=>[I(u,te({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:z(()=>[e.overlay?(g(),T(l,te({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:z(()=>[P("div",{class:j([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):x("",!0),P("div",{class:j(e.ui.inner)},[P("div",{class:j([e.ui.container,!e.fullscreen&&e.ui.padding])},[I(l,te({as:"template",appear:e.appear},e.transitionClass),{default:z(()=>[I(i,{class:j([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:z(()=>[ue(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const Ze=xe(Ol,[["render",jl]]),at=Ee(Q.ui.strategy,Q.ui.range,Ia),Ul=V({inheritAttrs:!1,props:{modelValue:{type:Number,default:0},id:{type:String,default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},size:{type:String,default:null,validator(e){return Object.keys(at.size).includes(e)}},color:{type:String,default:()=>at.default.color,validator(e){return Q.ui.colors.includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:n,attrs:a}=Le("range",fe(e,"ui"),at),{emitFormChange:s,inputId:o,color:l,size:i,name:u}=ut(e,at),v=$({get(){return e.modelValue},set(m){t("update:modelValue",m)}}),y=m=>{t("change",m.target.value),s()},k=$(()=>_e(ne(n.value.wrapper,n.value.size[i.value]),e.class)),f=$(()=>_e(ne(n.value.base,n.value.background,n.value.rounded,l.value&&n.value.ring.replaceAll("{color}",l.value),n.value.size[i.value]),e.inputClass)),p=$(()=>ne(n.value.thumb.base,l.value&&n.value.thumb.color.replaceAll("{color}",l.value),n.value.thumb.ring,n.value.thumb.background,n.value.thumb.size[i.value])),d=$(()=>ne(n.value.track.base,n.value.track.background,n.value.track.rounded,n.value.track.size[i.value])),h=$(()=>ne(n.value.progress.base,n.value.progress.rounded,l.value&&n.value.progress.background.replaceAll("{color}",l.value),n.value.progress.size[i.value])),c=$(()=>{const{modelValue:m,min:b,max:w}=e;return{width:`${(Math.max(b,Math.min(m,w))-b)/(w-b)*100}%`}});return{ui:n,attrs:a,name:u,inputId:o,value:v,wrapperClass:k,inputClass:f,thumbClass:p,trackClass:d,progressClass:h,progressStyle:c,onChange:y}}}),El=["id","name","min","max","disabled","step"];function Ll(e,t,n,a,s,o){return g(),_("div",{class:j(e.wrapperClass)},[it(P("input",te({id:e.inputId,ref:"input","onUpdate:modelValue":t[0]||(t[0]=l=>e.value=l),name:e.name,min:e.min,max:e.max,disabled:e.disabled,step:e.step,type:"range",class:[e.inputClass,e.thumbClass,e.trackClass]},e.attrs,{onChange:t[1]||(t[1]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,El),[[Xn,e.value,void 0,{number:!0}]]),P("span",{class:j(e.progressClass),style:Zt(e.progressStyle)},null,6)],2)}const Nl=xe(Ul,[["render",Ll]]),Dl="0.05";function Vl(e,t){const n=parseFloat(e);if(isNaN(n))return e;const a=n+t;return a<0?"0":String(Number(a.toFixed(10)))}function Rl(e,t){let n=t,a=t,s=0,o=0;for(;n>=0&&(n--,!(e[n]==="("&&s===o));)e[n]==="("&&s++,e[n]===")"&&o++;if(n<0)return!1;for(s=0,o=0;a<e.length&&!(e[a]===")"&&s===o);)e[a]==="("&&s++,e[a]===")"&&o++,a++;return a===e.length?!1:{start:n+1,end:a}}function Hl(e){const t=/^\((.*)\)$/,n=e.match(t),a=/:([+-]?(\d*\.)?\d+([eE][+-]?\d+)?)/,s=e.match(a);return n&&!s?`(${n[1]}:1.0)`:e}function Wl(e){const t=e.composedPath()[0],n=parseFloat(Dl);if(t.tagName!=="TEXTAREA"||!(e.key==="ArrowUp"||e.key==="ArrowDown")||!e.ctrlKey&&!e.metaKey)return;e.preventDefault();let a=t.selectionStart,s=t.selectionEnd,o=t.value.substring(a,s);if(!o){const u=Rl(t.value,a);if(u)a=u.start,s=u.end,o=t.value.substring(a,s);else{const v=" .,\\/!?%^*;:{}=-_`~()\r\n	";for(;!v.includes(t.value[a-1])&&a>0;)a--;for(;!v.includes(t.value[s])&&s<t.value.length;)s++;if(o=t.value.substring(a,s),!o)return}}o[o.length-1]===" "&&(o=o.substring(0,o.length-1),s-=1),t.value[a-1]==="("&&t.value[s]===")"&&(a-=1,s+=1,o=t.value.substring(a,s)),(o[0]!=="("||o[o.length-1]!==")")&&(o=`(${o})`),o=Hl(o);const l=e.key==="ArrowUp"?n:-n,i=o.replace(/\((.*):(\d+(?:\.\d+)?)\)/,(u,v,y)=>(y=Vl(y,l),Number(y)==1?v:`(${v}:${y})`));return t.setRangeText(i,a,s,"select"),t.value}const ql={key:0,class:"text-red-300"},Kl={key:0,class:"flex items-center"},Gl={key:2,class:"flex flex-row flex-grow items-center justify-between"},Ql=V({__name:"InputParam",props:{inputParam:{type:Object,required:!0},index:{type:Number,required:!0},inputParamsMap:{type:Array,required:!0},advanced:{type:Boolean,default:!1}},setup(e){const t=e;function n(d){return d?URL.createObjectURL(d):""}const a=C(null),s=C(""),o=C(!1),l=C({width:0,height:0});function i(){try{const d=t.inputParamsMap[t.index][t.inputParam.name].source_input_name,h=t.inputParamsMap.find(c=>{const m=Object.keys(c)[0];if(m===d)return c[m]});y(h[d].value)}catch{l.value.width=0,l.value.height=0}}X(()=>{t.inputParam.type==="range_scale"&&i()}),t.inputParam.type==="range_scale"&&de(t.inputParamsMap,()=>{i()});function u(){URL.revokeObjectURL(s.value),s.value="",a&&(a.value.$refs.input.value=""),t.inputParamsMap[t.index][t.inputParam.name].value=null}const v=$(()=>t.inputParam.type!=="bool"?t.inputParam.display_name:"");function y(d){if(!(d instanceof File)){l.value.width=0,l.value.height=0;return}const h=URL.createObjectURL(d),c=new Image;c.onload=function(){l.value.width=c.naturalWidth,l.value.height=c.naturalHeight,URL.revokeObjectURL(c.src)},c.src=h}const k=$(()=>{if(t.inputParam.type==="range_scale"){const d=t.inputParamsMap[t.index][t.inputParam.name].value;return`value: ${d}x (${l.value.width}x${l.value.height} -> ${(l.value.width*d).toFixed(0)}x${(l.value.height*d).toFixed(0)})`}return["range","range_scale"].includes(t.inputParam.type)?`value: ${t.inputParamsMap[t.index][t.inputParam.name].value}`:""});Et(()=>{URL.revokeObjectURL(s.value)});const f=C(null);function p(d){const h=Wl(d);h&&(t.inputParamsMap[t.index][t.inputParam.name].value=h)}return X(()=>{t.inputParam.type==="text"&&f.value&&f.value.$refs.textarea.addEventListener("keydown",p)}),Et(()=>{t.inputParam.type==="text"&&f.value&&f.value.$refs.textarea.removeEventListener("keydown",p)}),(d,h)=>{var H;const c=cl,m=Mt,b=pe,w=Xe,B=Ze,S=on,U=un,G=Nl,J=dn;return(((H=e.inputParam)==null?void 0:H.advanced)||!1)===e.advanced?(g(),T(J,{key:0,label:r(v),class:"mb-3",help:r(k)},{hint:z(()=>[e.inputParam.optional?x("",!0):(g(),_("span",ql,"required"))]),default:z(()=>{var F;return[e.inputParam.type==="text"?(g(),T(c,{key:0,ref_key:"textareaInput",ref:f,size:"md",placeholder:e.inputParam.display_name,required:!e.inputParam.optional,resize:!0,label:e.inputParam.display_name,value:e.inputParamsMap[e.index][e.inputParam.name].value,variant:"outline",onInput:h[0]||(h[0]=M=>{const W=M.target;e.inputParamsMap[e.index][e.inputParam.name].value=W.value})},null,8,["placeholder","required","label","value"])):x("",!0),e.inputParam.type==="number"?(g(),_(q,{key:1},[e.inputParam.name==="seed"?(g(),_("div",Kl,[e.inputParam.type==="number"?(g(),T(m,{key:0,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:h[1]||(h[1]=M=>{const W=M.target;e.inputParamsMap[e.index][e.inputParam.name].value=W.value})},null,8,["label","required","value","max","min"])):x("",!0),I(b,{icon:"i-heroicons-arrow-path",color:"violet",variant:"outline",size:"xs",class:"ml-2",onClick:h[2]||(h[2]=()=>{e.inputParamsMap[e.index][e.inputParam.name].value=Math.floor(Math.random()*1e7)})})])):(g(),T(m,{key:1,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:h[3]||(h[3]=M=>{const W=M.target;e.inputParamsMap[e.index][e.inputParam.name].value=W.value})},null,8,["label","required","value","max","min"]))],64)):x("",!0),e.inputParam.type==="image"?(g(),_("div",Gl,[I(m,{ref_key:"imageInput",ref:a,type:"file",accept:"image/*",class:"w-full",label:e.inputParam.display_name,onChange:h[4]||(h[4]=M=>{console.debug("files",M);const W=M==null?void 0:M[0];e.inputParamsMap[e.index][e.inputParam.name].value=W,s.value=n(W),console.debug("inputParamsMap",e.inputParamsMap)})},null,8,["label"]),r(s)!==""?(g(),T(w,{key:0,src:r(s),class:"w-10 h-10 rounded-lg cursor-pointer ml-2",onClick:h[5]||(h[5]=()=>{o.value=!0})},null,8,["src"])):x("",!0),r(s)!==""?(g(),T(b,{key:1,icon:"i-heroicons-x-mark",variant:"outline",class:"ml-2",onClick:u})):x("",!0)])):x("",!0),e.inputParam.type==="image"?(g(),T(B,{key:3,modelValue:r(o),"onUpdate:modelValue":h[8]||(h[8]=M=>he(o)?o.value=M:null),class:"z-[90]",transition:!1,fullscreen:""},{default:z(()=>[I(b,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:h[6]||(h[6]=()=>o.value=!1)}),P("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:h[7]||(h[7]=Ge(()=>o.value=!1,["left"]))},[r(s)?(g(),T(w,{key:0,class:"lg:h-full",fit:"inside",src:r(s)},null,8,["src"])):x("",!0)])]),_:1},8,["modelValue"])):x("",!0),e.inputParam.type==="list"?(g(),T(S,{key:4,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":h[9]||(h[9]=M=>e.inputParamsMap[e.index][e.inputParam.name].value=M),placeholder:e.inputParam.display_name,options:Object.keys(e.inputParam.options)},null,8,["modelValue","placeholder","options"])):x("",!0),e.inputParam.type==="bool"?(g(),T(U,{key:5,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":h[10]||(h[10]=M=>e.inputParamsMap[e.index][e.inputParam.name].value=M),label:(F=e.inputParam)==null?void 0:F.display_name},null,8,["modelValue","label"])):x("",!0),["range","range_scale"].includes(e.inputParam.type)?(g(),T(G,{key:6,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":h[11]||(h[11]=M=>e.inputParamsMap[e.index][e.inputParam.name].value=M),label:e.inputParam.display_name,size:"sm",min:e.inputParam.min,max:e.inputParam.max,step:e.inputParam.step},null,8,["modelValue","label","min","max","step"])):x("",!0)]}),_:1},8,["label","help"])):x("",!0)}}}),Yl={key:0,class:"heading"},Jl={key:1},Xl=V({__name:"InputParams",props:{inputParamsMap:{type:Array,required:!0},additionalInputParamsMap:{type:Array,required:!1,default:[]},advanced:{type:Boolean,default:!1}},setup(e){const t=e,n=Ne(),a=C(!t.advanced);return(s,o)=>{const l=me,i=Ql;return g(),_(q,null,[e.advanced?(g(),_("div",Yl,[P("h4",{class:"text-md font-bold cursor-pointer select-none flex items-center mb-3",onClick:o[0]||(o[0]=()=>{a.value=!r(a)})},[I(l,{name:r(a)?"i-heroicons-chevron-up":"i-heroicons-chevron-down",class:"mr-2"},null,8,["name"]),E(" Advanced options ")])])):x("",!0),r(a)?(g(),_("div",Jl,[(g(!0),_(q,null,ie(r(n).currentFlow.input_params,(u,v)=>(g(),T(i,{key:v,"input-params-map":e.inputParamsMap,index:v,"input-param":u,advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128)),(g(!0),_(q,null,ie(e.additionalInputParamsMap,(u,v)=>(g(),T(i,{key:Object.keys(u)[0],"input-params-map":e.additionalInputParamsMap,index:v,"input-param":u[Object.keys(u)[0]],advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128))])):x("",!0)],64)}}}),Zl={key:0,id:"prompt",class:"w-full my-10 lg:my-0 p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg"},eo={class:"flex justify-end px-2"},to=V({__name:"Prompt",setup(e,{expose:t}){var y,k,f,p;const n=Ne();let a=localStorage.getItem(`input_params_map_${(y=n.currentFlow)==null?void 0:y.name}`);if(a){const d=JSON.parse(a);"flow_version"in d&&d.flow_version.split(".")[0]===((k=n.currentFlow)==null?void 0:k.version.split(".")[0])?a=d:(a=null,localStorage.removeItem(`input_params_map_${(f=n.currentFlow)==null?void 0:f.name}`))}const s=C(((p=n.currentFlow)==null?void 0:p.input_params.map(d=>{var h;if(d.type==="text")return{[d.name]:{value:a!==null?a[d.name]:d.default||"",type:d.type,optional:d.optional,advanced:d.advanced||!1}};if(d.type==="number")return{[d.name]:{value:a!==null?a[d.name]:d.default||0,type:d.type,optional:d.optional,advanced:d.advanced||!1}};if(d.type==="image")return{[d.name]:{value:a!==null?a[d.name]:d.default||{},type:d.type,optional:d.optional,advanced:d.advanced||!1}};if(d.type==="list")return{[d.name]:{value:a!==null?a[d.name]:d.default||Object.keys(d.options)[0]||"",type:d.type,optional:d.optional,options:d.options,advanced:d.advanced||!1}};if(d.type==="bool")return{[d.name]:{value:a!==null?a[d.name]:d.default||!1,type:d.type,optional:d.optional,advanced:d.advanced||!1}};if(["range","range_scale"].includes(d.type)){const c={value:a!==null?a[d.name]:d.default||0,type:d.type,optional:d.optional,advanced:d.advanced||!1,min:d.min||0,max:d.max||100,step:d.step||1};if(d.type==="range_scale"&&(c.source_input_name=d.source_input_name||null,c.source_input_name===null||c.source_input_name==="")){const m=(h=n.currentFlow)==null?void 0:h.input_params.find(b=>b.type==="image"&&!b.optional);m&&(c.source_input_name=m.name)}return{[d.name]:c}}}))||[]),o=C([{seed:{name:"seed",display_name:"Random seed",value:Math.floor(Math.random()*1e7),type:"number",optional:!0,advanced:!0,min:0,max:1e7}}]);function l(d){console.debug("Copy prompt inputs",d),Object.keys(d).forEach(c=>{const m=s.value.findIndex(b=>Object.keys(b)[0]===c);m!==-1&&(s.value[m][c].value=d[c].value)});const h=document.getElementById("prompt");h&&h.scrollIntoView({behavior:"smooth"})}t({copyPromptInputs:l}),s.value.forEach(d=>{const h=Object.keys(d)[0];d[h].type!=="image"&&de(()=>d[h].value,()=>{var m,b;const c={};s.value.forEach(w=>{const B=Object.keys(w)[0];c[B]=w[B].value}),localStorage.setItem(`input_params_map_${(m=n.currentFlow)==null?void 0:m.name}`,JSON.stringify({...c,flow_version:(b=n.currentFlow)==null?void 0:b.version}))})});const i=C(!1),u=C(1),v=C(!1);return(d,h)=>{const c=me,m=Xl,b=Mt,w=dn,B=pe;return r(n).currentFlow?(g(),_("div",Zl,[P("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:h[0]||(h[0]=()=>{v.value=!r(v)})},[I(c,{name:r(v)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),E(" Prompt ")]),it(P("div",null,[I(m,{"input-params-map":r(s),"additional-input-params-map":r(o),advanced:!1},null,8,["input-params-map","additional-input-params-map"]),I(m,{"input-params-map":r(s),"additional-input-params-map":r(o),advanced:!0},null,8,["input-params-map","additional-input-params-map"]),I(w,{label:"Number of images"},{default:z(()=>[I(b,{modelValue:r(u),"onUpdate:modelValue":h[1]||(h[1]=S=>he(u)?u.value=S:null),type:"number",min:"1",max:"50",label:"Batch size",class:"mb-3 max-w-fit flex justify-end"},null,8,["modelValue"])]),_:1}),P("div",eo,[I(B,{icon:"i-heroicons-sparkles-16-solid",variant:"outline",loading:r(i),onClick:h[2]||(h[2]=()=>{i.value=!0,r(n).runFlow(r(n).currentFlow,[...r(s),...r(o)],r(u)).finally(()=>{i.value=!1;const S=r(o).find(U=>Object.keys(U)[0]==="seed");S.seed.value=Number(S.seed.value)+r(u)+1})})},{default:z(()=>[E(" Run prompt ")]),_:1},8,["loading"])])],512),[[xt,!r(v)]])])):x("",!0)}}}),no=e=>{const t=C(0);function n(o){e.value.style.scrollSnapType="none",e.value.style.scrollBehavior="auto",t.value=o.pageX,window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)}function a(){e.value.style.removeProperty("scroll-behavior"),e.value.style.removeProperty("scroll-snap-type"),e.value.style.removeProperty("pointer-events"),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)}function s(o){o.preventDefault(),e.value.style.pointerEvents="none";const l=o.pageX-t.value;t.value=o.pageX,e.value.scrollBy(-l,0)}X(()=>{e.value&&e.value.addEventListener("mousedown",n)}),Ie(()=>{e.value&&e.value.removeEventListener("mousedown",n)})},bt=Ee(Q.ui.strategy,Q.ui.carousel,ka),ao=V({components:{UButton:pe},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},arrows:{type:Boolean,default:!1},indicators:{type:Boolean,default:!1},prevButton:{type:Object,default:()=>bt.default.prevButton},nextButton:{type:Object,default:()=>bt.default.nextButton},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:void 0}},setup(e,{expose:t}){const{ui:n,attrs:a}=Le("carousel",fe(e,"ui"),bt,fe(e,"class")),s=C(),o=C(0),{x:l}=Zn(s,{behavior:"smooth"}),{width:i}=ea(s);no(s),ta(s,h=>{var m,b;const[c]=h;o.value=((b=(m=c==null?void 0:c.target)==null?void 0:m.firstElementChild)==null?void 0:b.clientWidth)||0});const u=$(()=>o.value?Math.round(l.value/o.value)+1:0),v=$(()=>o.value?e.items.length-Math.round(i.value/o.value)+1:0),y=$(()=>u.value<=1),k=$(()=>u.value===v.value);function f(){l.value+=o.value}function p(){l.value-=o.value}function d(h){l.value=(h-1)*o.value}return t({pages:v,page:u,prev:p,next:f,select:d}),{ui:n,attrs:a,isFirst:y,isLast:k,carouselRef:s,pages:v,currentPage:u,onClickNext:f,onClickPrev:p,onClick:d,twMerge:_e}}}),lo=["role"],oo=["aria-selected","aria-label","onClick"];function so(e,t,n,a,s,o){const l=pe;return g(),_("div",te({class:e.ui.wrapper},e.attrs),[P("div",{ref:"carouselRef",class:j([e.ui.container,"no-scrollbar"])},[(g(!0),_(q,null,ie(e.items,(i,u)=>(g(),_("div",{key:u,class:j(e.ui.item),role:e.indicators?"tabpanel":null},[ue(e.$slots,"default",{item:i,index:u},void 0,!0)],10,lo))),128))],2),e.arrows?(g(),_("div",{key:0,class:j(e.ui.arrows.wrapper)},[ue(e.$slots,"prev",{onClick:e.onClickPrev,disabled:e.isFirst},()=>{var i;return[e.prevButton?(g(),T(l,te({key:0,disabled:e.isFirst},{...e.ui.default.prevButton,...e.prevButton},{class:e.twMerge(e.ui.default.prevButton.class,(i=e.prevButton)==null?void 0:i.class),"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["disabled","class","onClick"])):x("",!0)]},!0),ue(e.$slots,"next",{onClick:e.onClickNext,disabled:e.isLast},()=>{var i;return[e.nextButton?(g(),T(l,te({key:0,disabled:e.isLast},{...e.ui.default.nextButton,...e.nextButton},{class:e.twMerge(e.ui.default.nextButton.class,(i=e.nextButton)==null?void 0:i.class),"aria-label":"Next",onClick:e.onClickNext}),null,16,["disabled","class","onClick"])):x("",!0)]},!0)],2)):x("",!0),e.indicators?(g(),_("div",{key:1,role:"tablist",class:j(e.ui.indicators.wrapper)},[(g(!0),_(q,null,ie(e.pages,i=>ue(e.$slots,"indicator",{key:i,onClick:e.onClick,active:i===e.currentPage,page:i},()=>[P("button",{type:"button",role:"tab","aria-selected":i===e.currentPage,class:j([e.ui.indicators.base,i===e.currentPage?e.ui.indicators.active:e.ui.indicators.inactive]),"aria-label":`set slide ${i}`,onClick:u=>e.onClick(i)},null,10,oo)],!0)),128))],2)):x("",!0)],16)}const In=xe(ao,[["render",so],["__scopeId","data-v-ea54307d"]]),io={class:"flex flex-col basis-full"},ro=V({__name:"QueueInputFiles",props:{running:{type:Object,required:!0}},setup(e){const t=At(),n=function(i,u){return`${pt()}/tasks/inputs?task_id=${i}&input_index=${u}`},a=C(!1),s=C(""),o=C(0),l=C(!0);return(i,u)=>{var d,h,c,m,b;const v=me,y=Xe,k=In,f=pe,p=Ze;return i.$props.running&&i.$props.running.input_files&&((d=Object.keys(i.$props.running.input_files))==null?void 0:d.length)>0?(g(),_("div",{key:0,class:j(["ml-2 mt-2 mb-5",{"mb-10":((h=Object.keys(i.$props.running.input_files))==null?void 0:h.length)>1&&!r(l)}])},[P("h4",{class:"mb-3 font-bold cursor-pointer select-none flex items-center text-sm",onClick:u[0]||(u[0]=()=>l.value=!r(l))},[I(v,{name:r(l)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),P("span",null," Input files ("+D((c=Object.keys(i.$props.running.input_files))==null?void 0:c.length)+") ",1)]),r(l)?x("",!0):(g(),_(q,{key:0},[((m=Object.keys(i.$props.running.input_files))==null?void 0:m.length)===1?(g(),T(y,{key:0,class:"mb-5 rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:r(t)(`${("buildBackendApiUrl"in i?i.buildBackendApiUrl:r(pt))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:n(i.$props.running.task_id,0),onClick:u[1]||(u[1]=()=>{s.value=n(i.$props.running.task_id,0),o.value=0,a.value=!0})},null,8,["placeholder","src"])):x("",!0),((b=Object.keys(i.$props.running.input_files))==null?void 0:b.length)>1?(g(),T(k,{key:1,items:Object.keys(i.$props.running.input_files).map(w=>({task_id:e.running.task_id,index:w})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:z(({item:w})=>[P("div",io,[I(y,{class:"rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:r(t)(`${("buildBackendApiUrl"in i?i.buildBackendApiUrl:r(pt))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:n(w.task_id,w.index),onClick:()=>{s.value=n(i.$props.running.task_id,w.index),o.value=w.index,a.value=!0}},null,8,["placeholder","src","onClick"])])]),_:1},8,["items"])):x("",!0),I(p,{modelValue:r(a),"onUpdate:modelValue":u[4]||(u[4]=w=>he(a)?a.value=w:null),class:"z-[90]",transition:!1,fullscreen:""},{default:z(()=>[I(f,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:u[2]||(u[2]=()=>a.value=!1)}),P("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:u[3]||(u[3]=Ge(()=>a.value=!1,["left"]))},[r(s)?(g(),T(y,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",placeholder:"/vix_logo.png",src:r(s)},null,8,["src"])):x("",!0)])]),_:1},8,["modelValue"])],64))],2)):x("",!0)}}}),Ae=Ee(Q.ui.strategy,Q.ui.alert,wa),uo=V({components:{UIcon:me,UAvatar:ot,UButton:pe},inheritAttrs:!1,props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>Ae.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>Ae.default.closeButton},actions:{type:Array,default:()=>[]},color:{type:String,default:()=>Ae.default.color,validator(e){return[...Q.ui.colors,...Object.keys(Ae.color)].includes(e)}},variant:{type:String,default:()=>Ae.default.variant,validator(e){return[...Object.keys(Ae.variant),...Object.values(Ae.color).flatMap(t=>Object.keys(t))].includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["close"],setup(e){const{ui:t,attrs:n}=Le("alert",fe(e,"ui"),Ae),a=$(()=>{var l,i;const o=((i=(l=t.value.color)==null?void 0:l[e.color])==null?void 0:i[e.variant])||t.value.variant[e.variant];return _e(ne(t.value.wrapper,t.value.rounded,t.value.shadow,t.value.padding,o==null?void 0:o.replaceAll("{color}",e.color)),e.class)});function s(o){o.click&&o.click()}return{ui:t,attrs:n,alertClass:a,onAction:s,twMerge:_e}}});function co(e,t,n,a,s,o){const l=me,i=ot,u=pe;return g(),_("div",te({class:e.alertClass},e.attrs),[P("div",{class:j(["flex",[e.ui.gap,{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}]])},[ue(e.$slots,"icon",{icon:e.icon},()=>[e.icon?(g(),T(l,{key:0,name:e.icon,class:j(e.ui.icon.base)},null,8,["name","class"])):x("",!0)]),ue(e.$slots,"avatar",{avatar:e.avatar},()=>[e.avatar?(g(),T(i,te({key:0},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):x("",!0)]),P("div",{class:j(e.ui.inner)},[e.title||e.$slots.title?(g(),_("p",{key:0,class:j(e.ui.title)},[ue(e.$slots,"title",{title:e.title},()=>[E(D(e.title),1)])],2)):x("",!0),e.description||e.$slots.description?(g(),_("div",{key:1,class:j(e.twMerge(e.ui.description,!e.title&&!e.$slots.title&&"mt-0 leading-5"))},[ue(e.$slots,"description",{description:e.description},()=>[E(D(e.description),1)])],2)):x("",!0),(e.description||e.$slots.description)&&(e.actions.length||e.$slots.actions)?(g(),_("div",{key:2,class:j(e.ui.actions)},[ue(e.$slots,"actions",{},()=>[(g(!0),_(q,null,ie(e.actions,(v,y)=>(g(),T(u,te({key:y,ref_for:!0},{...e.ui.default.actionButton||{},...v},{onClick:Ge(k=>e.onAction(v),["stop"])}),null,16,["onClick"]))),128))])],2)):x("",!0)],2),e.closeButton||!e.description&&!e.$slots.description&&e.actions.length?(g(),_("div",{key:0,class:j(e.twMerge(e.ui.actions,"mt-0"))},[!e.description&&!e.$slots.description&&(e.actions.length||e.$slots.actions)?ue(e.$slots,"actions",{key:0},()=>[(g(!0),_(q,null,ie(e.actions,(v,y)=>(g(),T(u,te({key:y,ref_for:!0},{...e.ui.default.actionButton||{},...v},{onClick:Ge(k=>e.onAction(v),["stop"])}),null,16,["onClick"]))),128))]):x("",!0),e.closeButton?(g(),T(u,te({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{onClick:t[0]||(t[0]=Ge(v=>e.$emit("close"),["stop"]))}),null,16)):x("",!0)],2)):x("",!0)],2)],16)}const Sn=xe(uo,[["render",co]]),mo=V({__name:"QueueErrorAlert",props:{running:{type:Object,required:!0}},setup(e){const t=Ne(),n=C(!1);return(a,s)=>{const o=Sn;return g(),T(o,{class:"mb-5",icon:"i-heroicons-exclamation-circle-16-solid",color:"red",variant:"soft",title:"Task failed",description:e.running.error,actions:[{variant:"outline",color:"yellow",label:"Restart",loading:r(n),icon:"i-heroicons-arrow-path",click:()=>{n.value=!0,r(t).restartFlow(a.$props.running).finally(()=>{n.value=!1})}}]},null,8,["description","actions"])}}}),fo={class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md mt-5 mb-10"},po={class:"flex items-center justify-between mb-2"},vo={key:0},go={key:1,class:"text-red-400"},ho={class:"text-sm mb-5 text-slate-500"},bo={class:"flex justify-between"},yo=V({__name:"Queue",setup(e){const t=Ne(),n=C(!1),a=C(!0);return(s,o)=>{var f,p,d,h,c,m,b,w,B;const l=me,i=pe,u=sn,v=ro,y=mo,k=mt;return g(),_("div",fo,[P("div",po,[P("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center",onClick:o[0]||(o[0]=()=>{a.value=!r(a)})},[I(l,{name:r(a)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),P("span",null," Queue ("+D(r(t).flowsRunningByName((f=r(t).currentFlow)==null?void 0:f.name).length)+") ",1),r(t).flowsRunningByName((p=r(t).currentFlow)==null?void 0:p.name).length>0?(g(),_("span",vo,"  - "+D(`${((h=r(t).flowsRunningByName((d=r(t).currentFlow)==null?void 0:d.name).filter(S=>S.progress>0)[0])==null?void 0:h.progress.toFixed(0))??0}%`),1)):x("",!0),r(t).flowsRunningByNameWithErrors((c=r(t))==null?void 0:c.currentFlow.name).length>0?(g(),_("span",go,"  ("+D(r(t).flowsRunningByNameWithErrors((m=r(t).currentFlow)==null?void 0:m.name).length)+") ",1)):x("",!0)]),(b=r(t).currentFlow)!=null&&b.name&&r(t).flowsRunningByName((w=r(t).currentFlow)==null?void 0:w.name).length>0?(g(),T(i,{key:0,icon:"i-heroicons-stop",color:"orange",variant:"outline",loading:r(n),onClick:o[1]||(o[1]=()=>{var S;n.value=!0,r(t).cancelRunningFlows((S=r(t).currentFlow)==null?void 0:S.name).finally(()=>{n.value=!1})})},{default:z(()=>[E(" Cancel all ")]),_:1},8,["loading"])):x("",!0)]),r(a)?x("",!0):(g(!0),_(q,{key:0},ie(r(t).flowsRunningByName((B=r(t).currentFlow)==null?void 0:B.name),S=>(g(),_("div",{key:S.task_id,class:"mb-5"},[I(u,{class:"mb-3",value:S==null?void 0:S.progress,indicator:"",color:S.error?"red":"green"},null,8,["value","color"]),P("p",ho,D(["#"+S.task_id,...Object.keys(S.input_params_mapped).filter(U=>S.input_params_mapped[U].value&&S.input_params_mapped[U].value!=="").map(U=>`${S.input_params_mapped[U].display_name}: ${S.input_params_mapped[U].value}`)].join(" | ")+`${S.execution_time?" | execution_time: "+S.execution_time.toFixed(2)+"s":""}`),1),I(v,{running:S},null,8,["running"]),S.error?(g(),T(y,{key:0,running:S},null,8,["running"])):x("",!0),P("div",bo,[I(i,{icon:S.progress>=0&&S.progress<100?"i-heroicons-stop":"i-heroicons-minus-circle",color:S.error?"red":"orange",variant:"outline",loading:r(n),onClick:()=>{n.value=!0,r(t).cancelRunningFlow(S).finally(()=>{n.value=!1})}},{default:z(()=>[E(D(S.progress>=0&&S.progress<100?"Cancel":"Remove"),1)]),_:2},1032,["icon","color","loading","onClick"]),I(k,{items:[[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var U;return r(t).downloadFlowComfy((U=r(t).currentFlow)==null?void 0:U.name,S.task_id)}}]],mode:"click",popper:{placement:"bottom-end"}},{default:z(()=>[I(i,{color:"blue",variant:"outline",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])]))),128))])}}}),wo=xe(yo,[["__scopeId","data-v-82e889dc"]]),ko=V({__name:"ScrollToTop",props:{show:{type:Boolean,required:!0},target:{type:String,required:!0}},setup(e){const t=e;function n(){const a=document.getElementById(t.target);a&&a.scrollIntoView({behavior:"smooth"})}return(a,s)=>{const o=pe;return it((g(),T(o,{icon:"i-heroicons-arrow-small-up",color:"black",variant:"outline",onClick:n},null,512)),[[xt,e.show]])}}}),we=Ee(Q.ui.strategy,Q.ui.select,na),$o=V({components:{UIcon:me},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>we.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>we.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(we.size).includes(e)}},color:{type:String,default:()=>we.default.color,validator(e){return[...Q.ui.colors,...Object.keys(we.color)].includes(e)}},variant:{type:String,default:()=>we.default.variant,validator(e){return[...Object.keys(we.variant),...Object.values(we.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t,slots:n}){const{ui:a,attrs:s}=Le("select",fe(e,"ui"),we,fe(e,"class")),{size:o,rounded:l}=aa({ui:a,props:e}),{emitFormChange:i,inputId:u,color:v,size:y,name:k}=ut(e,we),f=$(()=>o.value??y.value),p=O=>{t("update:modelValue",O.target.value)},d=O=>{t("change",O.target.value),i()},h=O=>Lt(O,e.valueAttribute,""),c=O=>Lt(O,e.optionAttribute,""),m=O=>["string","number","boolean"].includes(typeof O)?{[e.valueAttribute]:O,[e.optionAttribute]:O}:{...O,[e.valueAttribute]:h(O),[e.optionAttribute]:c(O)},b=$(()=>e.options.map(O=>m(O))),w=$(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...b.value]:b.value),B=$(()=>{const O=m(e.modelValue),K=w.value.find(Y=>Y[e.valueAttribute]===O[e.valueAttribute]);return K?K[e.valueAttribute]:""}),S=$(()=>{var K,Y;const O=((Y=(K=a.value.color)==null?void 0:K[v.value])==null?void 0:Y[e.variant])||a.value.variant[e.variant];return _e(ne(a.value.base,a.value.form,l.value,a.value.size[f.value],e.padded?a.value.padding[f.value]:"p-0",O==null?void 0:O.replaceAll("{color}",v.value),(U.value||n.leading)&&a.value.leading.padding[f.value],(G.value||n.trailing)&&a.value.trailing.padding[f.value]),e.placeholder&&!e.modelValue&&a.value.placeholder,e.selectClass)}),U=$(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),G=$(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),J=$(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),H=$(()=>e.loading&&!U.value?e.loadingIcon:e.trailingIcon||e.icon),F=$(()=>ne(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[f.value])),M=$(()=>ne(a.value.icon.base,v.value&&Q.ui.colors.includes(v.value)&&a.value.icon.color.replaceAll("{color}",v.value),a.value.icon.size[f.value],e.loading&&a.value.icon.loading)),W=$(()=>ne(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[f.value])),Z=$(()=>ne(a.value.icon.base,v.value&&Q.ui.colors.includes(v.value)&&a.value.icon.color.replaceAll("{color}",v.value),a.value.icon.size[f.value],e.loading&&!U.value&&a.value.icon.loading));return{ui:a,attrs:s,name:k,inputId:u,normalizedOptionsWithPlaceholder:w,normalizedValue:B,isLeading:U,isTrailing:G,selectClass:S,leadingIconName:J,leadingIconClass:M,leadingWrapperIconClass:F,trailingIconName:H,trailingIconClass:Z,trailingWrapperIconClass:W,onInput:p,onChange:d}}}),Io=["id","name","value","required","disabled"],So=["value","label"],Co=["value","selected","disabled","textContent"],Po=["value","selected","disabled","textContent"];function _o(e,t,n,a,s,o){const l=me;return g(),_("div",{class:j(e.ui.wrapper)},[P("select",te({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:t[0]||(t[0]=(...i)=>e.onInput&&e.onInput(...i)),onChange:t[1]||(t[1]=(...i)=>e.onChange&&e.onChange(...i))}),[(g(!0),_(q,null,ie(e.normalizedOptionsWithPlaceholder,(i,u)=>(g(),_(q,null,[i.children?(g(),_("optgroup",{key:`${i[e.valueAttribute]}-optgroup-${u}`,value:i[e.valueAttribute],label:i[e.optionAttribute]},[(g(!0),_(q,null,ie(i.children,(v,y)=>(g(),_("option",{key:`${v[e.valueAttribute]}-${u}-${y}`,value:v[e.valueAttribute],selected:v[e.valueAttribute]===e.normalizedValue,disabled:v.disabled,textContent:D(v[e.optionAttribute])},null,8,Co))),128))],8,So)):(g(),_("option",{key:`${i[e.valueAttribute]}-${u}`,value:i[e.valueAttribute],selected:i[e.valueAttribute]===e.normalizedValue,disabled:i.disabled,textContent:D(i[e.optionAttribute])},null,8,Po))],64))),256))],16,Io),e.isLeading&&e.leadingIconName||e.$slots.leading?(g(),_("span",{key:0,class:j(e.leadingWrapperIconClass)},[ue(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[I(l,{name:e.leadingIconName,class:j(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):x("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(g(),_("span",{key:1,class:j(e.trailingWrapperIconClass)},[ue(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[I(l,{name:e.trailingIconName,class:j(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):x("",!0)],2)}const xo=xe($o,[["render",_o],["__scopeId","data-v-9f80dc9e"]]),Ve=Ee(Q.ui.strategy,Q.ui.toggle,$a),Fo=V({components:{HSwitch:Ja,UIcon:me},inheritAttrs:!1,props:{id:{type:String,default:null},name:{type:String,default:null},modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onIcon:{type:String,default:()=>Ve.default.onIcon},offIcon:{type:String,default:()=>Ve.default.offIcon},loadingIcon:{type:String,default:()=>Ve.default.loadingIcon},color:{type:String,default:()=>Ve.default.color,validator(e){return Q.ui.colors.includes(e)}},size:{type:String,default:()=>Ve.default.size,validator(e){return Object.keys(Ve.size).includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:n,attrs:a}=Le("toggle",fe(e,"ui"),Ve),{emitFormChange:s,color:o,inputId:l,name:i}=ut(e),u=$({get(){return e.modelValue},set(d){t("update:modelValue",d),t("change",d),s()}}),v=$(()=>_e(ne(n.value.base,n.value.size[e.size],n.value.rounded,o.value&&n.value.ring.replaceAll("{color}",o.value),o.value&&(u.value?n.value.active:n.value.inactive).replaceAll("{color}",o.value)),e.class)),y=$(()=>ne(n.value.container.base,n.value.container.size[e.size],u.value?n.value.container.active[e.size]:n.value.container.inactive)),k=$(()=>ne(n.value.icon.size[e.size],o.value&&n.value.icon.on.replaceAll("{color}",o.value))),f=$(()=>ne(n.value.icon.size[e.size],o.value&&n.value.icon.off.replaceAll("{color}",o.value))),p=$(()=>ne(n.value.icon.size[e.size],o.value&&n.value.icon.loading.replaceAll("{color}",o.value)));return Pt(()=>_t("$mRW6KdlcYH")),{ui:n,attrs:a,name:i,inputId:l,active:u,switchClass:v,containerClass:y,onIconClass:k,offIconClass:f,loadingIconClass:p}}});function Mo(e,t,n,a,s,o){const l=me,i=ke("HSwitch");return g(),T(i,te({id:e.inputId,modelValue:e.active,"onUpdate:modelValue":t[0]||(t[0]=u=>e.active=u),name:e.name,disabled:e.disabled||e.loading,class:e.switchClass},e.attrs),{default:z(()=>[P("span",{class:j(e.containerClass)},[e.loading?(g(),_("span",{key:0,class:j([e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[I(l,{name:e.loadingIcon,class:j(e.loadingIconClass)},null,8,["name","class"])],2)):x("",!0),!e.loading&&e.onIcon?(g(),_("span",{key:1,class:j([e.active?e.ui.icon.active:e.ui.icon.inactive,e.ui.icon.base]),"aria-hidden":"true"},[I(l,{name:e.onIcon,class:j(e.onIconClass)},null,8,["name","class"])],2)):x("",!0),!e.loading&&e.offIcon?(g(),_("span",{key:2,class:j([e.active?e.ui.icon.inactive:e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[I(l,{name:e.offIcon,class:j(e.offIconClass)},null,8,["name","class"])],2)):x("",!0)],2)]),_:1},16,["id","modelValue","name","disabled","class"])}const To=xe(Fo,[["render",Mo]]),zo={class:"flex flex-col items-center mb-2 max-w-fit mx-auto z-0"},Ao={class:"text-slate-500 text-center text-sm w-full mx-auto flex flex-wrap items-center justify-center md:justify-between"},Bo={class:"toggles py-2"},Oo={class:"mr-2 inline-flex items-center text-sm"},jo=["for"],Uo={class:"mr-2 inline-flex items-center text-sm"},Eo=["for"],Lo={key:0,class:"flex items-center"},No=V({__name:"ChildOutput",props:{flowResult:{type:Object,required:!0},outputsIndex:{type:Number,required:!1,default:()=>0},openImageModal:{type:Function,required:!0}},setup(e){const t=e,n=Ne(),a=c=>c.child_tasks.length===0?c:(c.child_tasks.length===1&&(o.value=c),a(c.child_tasks[0]));function s(c,m){return Number(c.task_id)===m?c:c.child_tasks.length===0?null:s(c.child_tasks[0],m)}const o=C(t.flowResult),l=C(a(t.flowResult));function i(c){var m;return[[{label:`${(m=n.flowByName((c==null?void 0:c.flow_name)??(c==null?void 0:c.name)))==null?void 0:m.display_name}#${c.task_id}`,disabled:!0}],[{label:"View image",icon:"i-heroicons-eye",click:()=>{t.openImageModal(ve({task_id:c.task_id,node_id:c.outputs[t.outputsIndex].comfy_node_id}))}}]]}function u(c){var m;return[[{label:`${(m=n.flowByName((c==null?void 0:c.flow_name)??(c==null?void 0:c.name)))==null?void 0:m.display_name}#${c.task_id}`,disabled:!0}],[{label:"View image",icon:"i-heroicons-eye",click:()=>{t.openImageModal(ve({task_id:c.task_id,node_id:c.outputs[t.outputsIndex].comfy_node_id}))}},{label:`Delete #${c.task_id} task`,icon:"i-heroicons-trash",click:()=>{n.deleteFlowHistory(c.task_id).then(()=>{const b=s(t.flowResult,c.parent_task_id);b&&(b.child_tasks=b.child_tasks.filter(w=>w.task_id!==c.task_id)),p()})}}]]}function v(){const c=o.value.parent_task_id;if(!c)return;const m=s(t.flowResult,c);m&&(o.value=m)}function y(){o.value.child_tasks.length!==0&&(o.value=o.value.child_tasks[0])}function k(){const c=l.value.parent_task_id;if(!c)return;const m=s(t.flowResult,c);m&&(l.value=m)}function f(){l.value.child_tasks.length!==0&&(l.value=l.value.child_tasks[0])}function p(){o.value=t.flowResult,l.value=a(t.flowResult),d.value=!1}de(t.flowResult,c=>{console.debug("[ChildOutput] flowResult changed",c),p()});const d=C(!1),h=C(!0);return de(d,c=>{c&&(o.value=t.flowResult)}),(c,m)=>{const b=Xe,w=ke("ImgComparisonSlider"),B=To,S=pe,U=mt,G=me,J=rn;return g(),_("div",zo,[it(I(b,{class:"mb-2 h-100 mx-auto rounded-lg cursor-pointer",draggable:"false",fit:"outside",loading:"lazy",src:("outputImgSrc"in c?c.outputImgSrc:r(ve))({task_id:e.flowResult.task_id,node_id:e.flowResult.outputs[e.outputsIndex].comfy_node_id}),onClick:m[0]||(m[0]=H=>e.openImageModal(("outputImgSrc"in c?c.outputImgSrc:r(ve))({task_id:e.flowResult.task_id,node_id:e.flowResult.outputs[e.outputsIndex].comfy_node_id})))},null,8,["src"]),[[xt,!r(h)]]),r(h)?(g(),T(w,{key:0,class:"mb-2 mx-auto outline-none w-fit rounded-lg"},{default:z(()=>{var H;return[I(b,{slot:"first",src:("outputImgSrc"in c?c.outputImgSrc:r(ve))({task_id:r(d)?e.flowResult.task_id:r(o).task_id,node_id:r(d)?e.flowResult.outputs[e.outputsIndex].comfy_node_id:(H=r(o))==null?void 0:H.outputs[e.outputsIndex].comfy_node_id})},null,8,["src"]),r(l)&&r(l).progress===100?(g(),T(b,{key:0,slot:"second",src:("outputImgSrc"in c?c.outputImgSrc:r(ve))({task_id:r(l).task_id,node_id:r(l).outputs[e.outputsIndex].comfy_node_id})},null,8,["src"])):x("",!0)]}),_:1})):x("",!0),P("div",Ao,[P("div",Bo,[P("div",Oo,[I(B,{id:`toggle-compare-${e.flowResult.task_id}`,modelValue:r(h),"onUpdate:modelValue":m[1]||(m[1]=H=>he(h)?h.value=H:null),size:"xs",class:"mr-2"},null,8,["id","modelValue"]),P("label",{class:"cursor-pointer select-none",for:`toggle-compare-${e.flowResult.task_id}`}," Comparison ",8,jo)]),P("div",Uo,[I(B,{id:`toggle-original-${e.flowResult.task_id}`,modelValue:r(d),"onUpdate:modelValue":m[2]||(m[2]=H=>he(d)?d.value=H:null),disabled:!r(h),size:"xs",class:"mr-2"},null,8,["id","modelValue","disabled"]),P("label",{class:"cursor-pointer select-none",for:`toggle-original-${e.flowResult.task_id}`}," Original ",8,Eo)])]),r(h)?(g(),_("div",Lo,[I(S,{icon:"i-heroicons-arrow-small-left-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:r(d)||r(o).parent_task_id===null,onClick:v},null,8,["disabled"]),I(U,{items:i(r(o)),mode:"click",popper:{placement:"top"}},{default:z(()=>[I(S,{variant:"link",color:"white",size:"xs"},{default:z(()=>[E(" #"+D(r(d)?e.flowResult.task_id:r(o).task_id),1)]),_:1})]),_:1},8,["items"]),I(S,{icon:"i-heroicons-arrow-small-right-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:r(d)||Number(r(o).child_tasks[0].task_id)===Number(r(l).task_id),onClick:y},null,8,["disabled"]),I(G,{class:"mx-3",name:"i-heroicons-arrows-right-left-16-solid"}),I(S,{icon:"i-heroicons-arrow-small-left-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:r(l).parent_task_id===Number(r(o).task_id)||r(l).parent_task_id===null,onClick:k},null,8,["disabled"]),I(U,{items:u(r(l)),mode:"click",popper:{placement:"top"}},{default:z(()=>[I(S,{variant:"link",color:"white",size:"xs"},{default:z(()=>[E(" #"+D(r(l).task_id),1)]),_:1})]),_:1},8,["items"]),I(S,{icon:"i-heroicons-arrow-small-right-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:r(l).child_tasks.length===0,onClick:f},null,8,["disabled"]),I(J,{class:"ml-3",text:"Reset comparison",popper:{placement:"top"}},{default:z(()=>[I(S,{icon:"i-heroicons-arrow-path-rounded-square-solid",size:"2xs",variant:"outline",color:"white",onClick:p})]),_:1})])):x("",!0)])])}}}),Do={class:"p-4"},Vo=P("h2",{class:"text-lg text-center mb-4"},"Send to flow",-1),Ro={class:"flex justify-center mb-4"},Ho={key:0,class:"text-sm text-slate-500 text-center mb-4"},Wo={class:"text-md text-center text-red-500 mb-4"},qo={key:1},Ko={class:"flex items-center justify-between"},Go=V({__name:"SendToFlowModal",props:{show:{type:Boolean,required:!1},flowResult:{type:Object,required:!1,default:()=>null},outputImgSrc:{type:String,required:!0},outputParamIndex:{type:Number,required:!0},inputParamsMapped:{type:Object,required:!0},isChildTask:{type:Boolean,required:!1,default:!1}},emits:["update:show"],setup(e,{emit:t}){const n=e,a=Ne(),s=$(()=>a.sub_flows.map(y=>({value:y.name,label:`${y.display_name} - ${y.description}`}))),o=C(s.value[0]||""),l=C(!1),i=t;function u(){console.debug("[Send to flow]: ",o.value);const y=a.sub_flows.find(f=>f.name===o.value.value&&f.display_name===o.value.label.split(" - ")[0]);if(console.debug("[Send to flow]: targetFlow",y),!y){Ft().add({title:`Target sub-flow "${o.value.value}" not found`,description:"Please, verify the target sub-flow is installed and available and try again",timeout:5e3});return}const k=y.input_params.reduce((f,p)=>{const d={};return p.type==="text"?d[p.name]={value:p.default||"",type:p.type}:p.type==="number"?d[p.name]={value:p.default||0,type:p.type}:p.type==="image"?d[p.name]={value:JSON.stringify({task_id:n.flowResult.task_id,node_id:n.flowResult.outputs[n.outputParamIndex].comfy_node_id})||"",type:p.type}:p.type==="list"?d[p.name]={value:p.default||Object.keys(p.options)[0]||"",type:p.type,options:p.options}:p.type==="bool"?d[p.name]={value:p.default||!1,type:p.type}:["range","range_scale"].includes(p.type)&&(d[p.name]={value:p.default||0,type:p.type}),f.push(d),f},[]);console.debug("[Send to flow]: input_params_map",k),l.value=!0,a.runFlow(y,k,1,v.value).finally(()=>{l.value=!1,i("update:show",!1)})}const v=C(!1);return la(()=>{a.fetchSubFlows("image").then(()=>{o.value=s.value[0]||""}),v.value=!1}),(y,k)=>{const f=Xe,p=on,d=Sn,h=un,c=pe,m=Ze;return g(),T(m,{modelValue:y.$props.show,"onUpdate:modelValue":k[2]||(k[2]=b=>y.$props.show=b),class:"z-[90]",transition:!1},{default:z(()=>[P("div",Do,[Vo,P("div",Ro,[I(f,{src:e.outputImgSrc,class:"w-1/2 rounded-lg",draggable:!1},null,8,["src"])]),e.inputParamsMapped?(g(),_("p",Ho,D(["#"+e.flowResult.task_id,...Object.keys(e.inputParamsMapped).filter(b=>e.inputParamsMapped[b].value!=="").map(b=>`${e.inputParamsMapped[b].display_name}: ${e.inputParamsMapped[b].value}`)].join(" | ")),1)):x("",!0),P("p",Wo,[r(s).length>0?(g(),T(p,{key:0,modelValue:r(o),"onUpdate:modelValue":k[0]||(k[0]=b=>he(o)?o.value=b:null),class:"w-full",size:"lg",options:r(s)},null,8,["modelValue","options"])):(g(),_("span",qo,"No sub-flows available"))]),e.isChildTask?(g(),T(d,{key:1,class:"mb-4",icon:"i-heroicons-exclamation-circle-solid",title:"Child task",description:"For tasks with child tasks, the latest child task is always sent to the sub-flow"})):x("",!0),P("div",Ko,[I(h,{modelValue:r(v),"onUpdate:modelValue":k[1]||(k[1]=b=>he(v)?v.value=b:null),label:"Bind as child task"},null,8,["modelValue"]),I(c,{icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",loading:r(l),disabled:r(s).length===0,onClick:u},{default:z(()=>[E(" Send ")]),_:1},8,["loading","disabled"])])])]),_:1},8,["modelValue"])}}});function Qo(e={}){const{copy:t,isSupported:n}=oa(),a=Ft();function s(o,l={},i={}){n&&t(o).then(()=>{!l.title&&!l.description||a.add({...l,...e})},function(u){a.add({...i,description:i.description||u.message,...e})})}return{copy:s}}const Yo={class:"flex flex-col md:flex-row items-center justify-center mb-5 sticky top-1 z-[10]"},Jo={class:"flex items-center justify-center"},Xo={class:"p-4"},Zo=P("p",{class:"text-lg text-center mb-4"},"Are you sure you want to delete all results?",-1),es={class:"text-md text-center text-red-500 mb-4"},ts={class:"flex justify-center"},ns={key:0,class:"results overflow-auto"},as=["id"],ls={class:"flex flex-col basis-full"},os={class:"text-sm text-slate-500 text-center mb-1"},ss={class:"w-5/6 mx-auto"},is={class:"w-full flex justify-center items-center"},rs={key:1,class:"text-center text-slate-500"},us=V({__name:"Output",emits:["copy-prompt-inputs"],setup(e,{emit:t}){const n=Ne(),a=$(()=>{var F;return n.flowResultsByName((F=n.currentFlow)==null?void 0:F.name).length>0||!1}),s=$(()=>{var F;return n.flowResultsByName((F=n.currentFlow)==null?void 0:F.name).reverse()||[]}),o=$(()=>n.$state.resultsPageSize);de(s,()=>{s.value.length<=n.$state.resultsPageSize?n.$state.resultsPage=1:n.$state.resultsPage>Math.ceil(s.value.length/n.$state.resultsPageSize)&&(n.$state.resultsPage=Math.ceil(s.value.length/n.$state.resultsPageSize))}),de(o,()=>{s.value.length<=n.$state.resultsPageSize?n.$state.resultsPage=1:n.$state.resultsPage>Math.ceil(s.value.length/n.$state.resultsPageSize)&&(n.$state.resultsPage=Math.ceil(s.value.length/n.$state.resultsPageSize)),n.saveUserOptions()}),Ie(()=>{n.$state.flow_results_filter="",n.$state.resultsPage=1});const l=t;function i(F){l("copy-prompt-inputs",F.input_params_mapped)}function u(F){d.value=F,p.value=!0}const v=C(null),y=C(!1);window.addEventListener("scroll",()=>{var F;y.value=window.scrollY>(((F=v.value)==null?void 0:F.offsetTop)+window.screen.height||0)});const k=$(()=>n.$state.resultsPage);de(k,()=>{const F=document.getElementById("output-container");F&&F.scrollIntoView({behavior:"smooth"})});const f=C(!1),p=C(!1),d=C(""),h=C(!1),c=C(!1),m=C(!1),b=C(""),w=C(null),B=C({}),S=C(0),U=C(!1);function G(F){if(m.value=!0,F.child_tasks.length===0)w.value=F,b.value=ve({task_id:F.task_id,node_id:F.outputs[0].comfy_node_id}),B.value=F.input_params_mapped,U.value=!1;else{const M=sa(F);w.value=M,B.value=F.input_params_mapped,b.value=ve({task_id:M.task_id,node_id:M.outputs[0].comfy_node_id}),U.value=!0}S.value=0}function J(F){return["#"+F.task_id,...Object.keys(F.input_params_mapped).filter(M=>F.input_params_mapped[M].value&&F.input_params_mapped[M].value!=="").map(M=>`${F.input_params_mapped[M].display_name}: ${F.input_params_mapped[M].value}`)].join(" | ")+`${F.execution_time?" | execution_time: "+F.execution_time.toFixed(2)+"s":""}`}function H(F){return[[{label:"Use params",labelClass:"text-cyan-500",icon:"i-heroicons-document-duplicate-16-solid",iconClass:"bg-cyan-500",click:()=>i(F)}],[{label:"Send to flow",labelClass:"text-violet-500",icon:"i-heroicons-arrow-uturn-up-solid",iconClass:"bg-violet-500",click:()=>{G(F)},disabled:F.outputs.length!==1}],[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var W;return n.downloadFlowComfy((W=n.currentFlow)==null?void 0:W.name,F.task_id)}}]]}return(F,M)=>{var Ce;const W=ko,Z=me,O=Mt,K=ba,Y=xo,ae=pe,Fe=mt,Me=nn,Te=Ze,L=No,R=Xe,le=In,oe=Go;return g(),_("div",{id:"output-container",ref_key:"outputContainer",ref:v,class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md my-10"},[I(W,{show:r(y),class:"fixed bottom-5 right-5",target:"output-container"},null,8,["show"]),P("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:M[0]||(M[0]=()=>{f.value=!r(f)})},[I(Z,{name:r(f)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),E(" Output ("+D(r(s).length)+") ",1)]),r(f)?x("",!0):(g(),_(q,{key:0},[P("div",Yo,[I(O,{modelValue:r(n).$state.flow_results_filter,"onUpdate:modelValue":M[1]||(M[1]=A=>r(n).$state.flow_results_filter=A),icon:"i-heroicons-magnifying-glass-20-solid",color:"white",class:"md:mr-3",label:"Filter by prompt",trailing:!0,placeholder:"Filter results by prompt"},null,8,["modelValue"]),r(s).length>r(n).$state.resultsPageSize?(g(),T(K,{key:0,modelValue:r(n).$state.resultsPage,"onUpdate:modelValue":M[2]||(M[2]=A=>r(n).$state.resultsPage=A),class:"my-1 md:my-0","page-count":r(n).$state.resultsPageSize,total:r(s).length,"show-first":"","show-last":""},null,8,["modelValue","page-count","total"])):x("",!0),P("div",Jo,[I(Y,{modelValue:r(n).resultsPageSize,"onUpdate:modelValue":M[3]||(M[3]=A=>r(n).resultsPageSize=A),class:"md:mx-3 w-fit mr-3",options:[5,10,20,50,100],label:"Results per page"},null,8,["modelValue"]),I(Fe,{items:[[{label:"Delete all results",labelClass:"text-red-500",icon:"i-heroicons-trash",iconClass:"dark:text-red-500 text-red-500",click:()=>h.value=!0}]],mode:"click",label:"Options",popper:{placement:"bottom-end"}},{default:z(()=>[I(ae,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:1},8,["items"])]),I(Te,{modelValue:r(h),"onUpdate:modelValue":M[6]||(M[6]=A=>he(h)?h.value=A:null),class:"z-[90]",transition:!1},{default:z(()=>[P("div",Xo,[Zo,P("p",es,[E(" All history and images of "),I(Me,{class:"mx-1",color:"orange",variant:"outline"},{default:z(()=>[E(D(r(n).currentFlow.display_name),1)]),_:1}),E(" will be deleted. ")]),P("div",ts,[I(ae,{class:"mr-2",color:"red",variant:"outline",loading:r(c),onClick:M[4]||(M[4]=()=>{var A;c.value=!0,r(n).deleteFlowResults((A=r(n).currentFlow)==null?void 0:A.name).then(()=>{c.value=!1,h.value=!1})})},{default:z(()=>[E(" Yes ")]),_:1},8,["loading"]),I(ae,{variant:"outline",onClick:M[5]||(M[5]=()=>h.value=!1)},{default:z(()=>[E("No")]),_:1})])])]),_:1},8,["modelValue"])]),r(a)?(g(),_("div",ns,[(g(!0),_(q,null,ie(r(n).flowResultsByNamePaginated((Ce=r(n).currentFlow)==null?void 0:Ce.name),A=>(g(),_("div",{id:"task_id_"+A.task_id,key:A.task_id,class:"flex flex-col justify-center mx-auto mb-5"},[A.outputs.length===1?(g(),_(q,{key:0},[A!=null&&A.child_tasks&&(A==null?void 0:A.child_tasks.length)>0&&(A!=null&&A.child_tasks.some(se=>se.progress===100))?(g(),T(L,{key:0,"flow-result":A,"open-image-modal":u},null,8,["flow-result"])):A.outputs.length===1?(g(),T(R,{key:1,class:"mb-2 h-100 mx-auto rounded-lg cursor-pointer",draggable:"false",fit:"outside",loading:"lazy",src:("outputImgSrc"in F?F.outputImgSrc:r(ve))({task_id:A.task_id,node_id:A.outputs[0].comfy_node_id}),onClick:se=>u(("outputImgSrc"in F?F.outputImgSrc:r(ve))({task_id:A.task_id,node_id:A.outputs[0].comfy_node_id}))},null,8,["src","onClick"])):x("",!0)],64)):A.outputs.length>1?(g(),T(le,{key:1,class:"mb-3 rounded-lg overflow-hidden",items:A.outputs.map((se,be)=>({task_id:A.task_id,node_id:se.comfy_node_id,index:be})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:z(({item:se})=>[P("div",ls,[A!=null&&A.child_tasks&&(A==null?void 0:A.child_tasks.length)>0&&(A!=null&&A.child_tasks.filter(be=>be.parent_task_node_id===se.node_id).some(be=>be.progress===100))?(g(),T(L,{key:0,"flow-result":A,"outputs-index":se.index,"open-image-modal":u},null,8,["flow-result","outputs-index"])):(g(),T(R,{key:1,class:"mb-2 h-100 mx-auto rounded-lg cursor-pointer",draggable:"false",fit:"outside",loading:"lazy",src:("outputImgSrc"in F?F.outputImgSrc:r(ve))(se),onClick:be=>u(("outputImgSrc"in F?F.outputImgSrc:r(ve))(se))},null,8,["src","onClick"])),I(ae,{class:"mt-2 w-fit mx-auto",icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",onClick:()=>{G(A)}},{default:z(()=>[E(" Send to flow ")]),_:2},1032,["onClick"])])]),_:2},1032,["items"])):x("",!0),P("div",os,[P("div",ss,[(g(!0),_(q,null,ie(J(A).split("|"),se=>(g(),T(Me,{key:se,class:"mr-2 mb-2 last:mr-0 hover:cursor-pointer",variant:"soft",color:"gray",onClick:()=>{("useCopyToClipboard"in F?F.useCopyToClipboard:r(Qo))().copy(se),("useToast"in F?F.useToast:r(Ft))().add({title:"Clipboard",description:`${se.split(":")[0].trim()} copied to clipboard`,timeout:2e3})}},{default:z(()=>[E(D(se),1)]),_:2},1032,["onClick"]))),128))])]),P("div",is,[I(ae,{class:"mr-3",color:"red",icon:"i-heroicons-trash",variant:"outline",onClick:()=>r(n).deleteFlowHistory(A.task_id)},{default:z(()=>[E(" Delete ")]),_:2},1032,["onClick"]),I(Fe,{items:H(A),mode:"click",popper:{placement:"bottom-start"}},{default:z(()=>[I(ae,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])],8,as))),128)),I(oe,{modelValue:r(m),"onUpdate:modelValue":M[7]||(M[7]=A=>he(m)?m.value=A:null),"flow-result":r(w),"output-img-src":r(b),"output-param-index":r(S),"input-params-mapped":r(B),"is-child-task":r(U),"onUpdate:show":M[8]||(M[8]=A=>m.value=A)},null,8,["modelValue","flow-result","output-img-src","output-param-index","input-params-mapped","is-child-task"])])):(g(),_("p",rs," No output results available "))],64)),I(Te,{modelValue:r(p),"onUpdate:modelValue":M[11]||(M[11]=A=>he(p)?p.value=A:null),class:"z-[90]",transition:!1,fullscreen:""},{default:z(()=>[I(ae,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:M[9]||(M[9]=()=>p.value=!1)}),P("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:M[10]||(M[10]=Ge(()=>p.value=!1,["left"]))},[r(d)?(g(),T(R,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",src:r(d)},null,8,["src"])):x("",!0)])]),_:1},8,["modelValue"])],512)}}}),ds={class:"flex flex-col lg:flex-row flex-grow items-start w-full"},cs={class:"card-wrapper w-full lg:pr-5"},ms={key:0,class:"p-0 text-sm"},fs={class:"flex flex-row items-center text-slate-400 mb-2"},ps={class:"flex flex-row flex-wrap items-center text-md mb-2"},vs=P("b",null,"Author:",-1),gs=["href"],hs={class:"flex flex-row items-center text-md mb-2"},bs=["href"],ys={key:1},ws={class:"flex flex-row items-center text-md mb-2"},ks=P("b",null,"Version:",-1),$s={key:0},Is={class:"flex flex-row items-center text-md mb-2"},Ss=P("b",null,"Tags:",-1),Cs={key:0,class:"flex flex-row flex-wrap items-center text-md mb-2"},Ps=["href"],_s={key:1,class:"flex flex-row flex-wrap items-center text-md"},xs=P("b",null,"Requires:",-1),Fs={key:0,class:"flex justify-end"},Ms={class:"flex flex-row items-center justify-center text-sm mr-2"},Ts={key:1},zs={class:"text-sm flex justify-end"},As={class:"flex flex-row items-center justify-center text-sm mr-3"},Bs={key:0,class:"text-right"},Os=P("p",{class:"text-orange-500"},"Only admin can manage workflows.",-1),js=P("span",{class:"text-slate-500"},"Ask your admin to setup this workflow",-1),Us=[Os,js],Es={class:"prompt-wrapper w-full"},Ls={class:"flex items-center justify-between"},Ns=P("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Confirm workflow deletion ",-1),Ds={class:"pb-2"},Vs=P("b",null,"private",-1),Rs={class:"flex justify-end items-center"},Js=V({__name:"[name]",setup(e){const t=ia(),n=Ne();n.setCurrentFlow(t.params.name);const a=$(()=>n.flowInstallingByName(t.params.name)),s=$(()=>{var c;return a.value&&((c=a.value)==null?void 0:c.progress)<100||!1}),o=C(!1),l=$(()=>{var c;return a.value?"error"in a.value&&((c=a.value)==null?void 0:c.error)!==""?`${a.value.progress.toFixed(0)}% Error setting up`:`${a.value.progress.toFixed(0)}% Setting up`:"Setup flow"}),i=C(!1),u=C(!1),v=$(()=>{var m;const c=[[{label:"Delete flow",icon:"i-heroicons-trash",click:k}]];return((m=n==null?void 0:n.currentFlow)==null?void 0:m.new_version_available)!==""&&c[0].unshift({label:`Update to ${n.currentFlow.new_version_available}`,icon:"i-heroicons-arrow-path",click:()=>{n.updateFlow(n.currentFlow)}}),c});function y(c,m=!1){i.value=!0,n.deleteFlow(c).then(()=>{m&&ca().push("/")}).finally(()=>{i.value=!1,u.value=!1})}function k(){var m;const c=((m=n.currentFlow)==null?void 0:m.private)||!1;if(c){u.value=!0;return}y(n.currentFlow,c)}const f=C(!1),p=C(null),d=function(c){var m;(m=p.value)==null||m.copyPromptInputs(c)},h=ra();return(c,m)=>{const b=me,w=rn,B=nn,S=pe,U=mt,G=ya,J=to,H=wo,F=us,M=sn,W=Ze,Z=ua;return g(),T(Z,null,{default:z(()=>[!r(n).loading.flows_available&&!r(n).loading.flows_installed&&r(n).currentFlow&&!r(n).$state.loading.tasks_history?(g(),_(q,{key:0},[P("div",ds,[P("div",cs,[I(G,{as:"div",class:"w-full mb-5"},da({header:z(()=>{var O,K;return[P("h2",{class:"text-xl font-bold cursor-pointer select-none flex items-center",onClick:m[0]||(m[0]=()=>{f.value=!r(f)})},[(O=r(n).currentFlow)!=null&&O.private?(g(),T(w,{key:0,text:"This flow is local, manually added"},{default:z(()=>[I(b,{name:"i-heroicons-lock-closed",class:"mr-2"})]),_:1})):x("",!0),I(b,{name:r(f)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),E(" "+D((K=r(n).currentFlow)==null?void 0:K.display_name),1)])]}),default:z(()=>{var O,K,Y,ae,Fe,Me,Te,L,R,le,oe,Ce,A,se,be,ft,Bt;return[r(f)?x("",!0):(g(),_("div",ms,[P("p",fs,D((O=r(n).currentFlow)==null?void 0:O.description),1),P("p",ps,[I(b,{name:"i-heroicons-user-16-solid",class:"mr-1"}),vs,E("  "),P("a",{class:"hover:underline text-md",href:(K=r(n).currentFlow)==null?void 0:K.homepage,rel:"noopener",target:"_blank"},D((Y=r(n).currentFlow)==null?void 0:Y.author),9,gs)]),P("p",hs,[I(b,{name:"i-heroicons-document-text",class:"mr-1"}),(ae=r(n).currentFlow)!=null&&ae.documentation?(g(),_("a",{key:0,class:"hover:underline",href:(Fe=r(n).currentFlow)==null?void 0:Fe.documentation,rel:"noopener",target:"_blank"}," Documentation ",8,bs)):(g(),_("span",ys,"No documentation"))]),P("p",ws,[I(b,{name:"i-heroicons-clock",class:"mr-1"}),ks,E("  "),P("span",null,D((Me=r(n).currentFlow)==null?void 0:Me.version),1),((Te=r(n).currentFlow)==null?void 0:Te.new_version_available)!==""?(g(),_("span",$s,"  (new version available: "+D((L=r(n).currentFlow)==null?void 0:L.new_version_available)+") ",1)):x("",!0)]),P("p",Is,[I(b,{name:"i-heroicons-tag",class:"mr-1"}),Ss,E("  "),((R=r(n).currentFlow)==null?void 0:R.tags.length)>0?(g(!0),_(q,{key:0},ie((le=r(n).currentFlow)==null?void 0:le.tags,ye=>(g(),T(B,{key:ye,label:ye,color:"white",variant:"solid",class:"m-1"},null,8,["label"]))),128)):(g(),T(B,{key:1,label:"No tags",color:"white",variant:"solid",class:"m-1"}))]),((Ce=(oe=r(n).currentFlow)==null?void 0:oe.models)==null?void 0:Ce.length)>0?(g(),_("p",Cs,[I(b,{name:"i-heroicons-arrow-down-on-square-stack",class:"mr-1"}),P("b",null,"Models ("+D((A=r(n).currentFlow)==null?void 0:A.models.length)+"):",1),E("  "),(g(!0),_(q,null,ie((se=r(n).currentFlow)==null?void 0:se.models,ye=>(g(),T(B,{key:ye.name,class:"m-1",color:"white",variant:"solid"},{default:z(()=>[ye.gated?(g(),T(w,{key:0,text:"Gated model, requires auth token for download",popper:{placement:"top"}},{default:z(()=>[I(b,{name:"i-heroicons-key",class:"mr-1"})]),_:1})):x("",!0),P("a",{class:"hover:underline underline-offset-4",href:ye.homepage,rel:"noopener",target:"_blank"},D(ye.name),9,Ps)]),_:2},1024))),128))])):x("",!0),((ft=(be=r(n).currentFlow)==null?void 0:be.requires)==null?void 0:ft.length)>0?(g(),_("p",_s,[xs,E("  "),(g(!0),_(q,null,ie((Bt=r(n).currentFlow)==null?void 0:Bt.requires,ye=>(g(),T(B,{key:ye,class:"m-1",color:"yellow",variant:"outline"},{default:z(()=>[E(D(ye),1)]),_:2},1024))),128))])):x("",!0)]))]}),_:2},[r(f)?void 0:{name:"footer",fn:z(()=>[r(h).isAdmin?(g(),_("div",Fs,[P("div",Ms,[I(b,{name:r(n).isFlowInstalled(r(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),P("span",{class:j({"text-green-500":r(n).isFlowInstalled(r(t).params.name),"text-red-500":!r(n).isFlowInstalled(r(t).params.name)})},D(r(n).isFlowInstalled(r(t).params.name)?"Installed":"Not installed"),3)]),r(n).isFlowInstalled(r(t).params.name)?x("",!0):(g(),T(w,{key:0,text:"Setup flow dependencies and configure it in ComfyUI",popper:{placement:"top"},"open-delay":500},{default:z(()=>[I(S,{icon:"i-heroicons-arrow-down-tray",class:"mx-3",color:"primary",variant:"outline",loading:r(s),onClick:m[1]||(m[1]=()=>r(n).setupFlow(r(n).currentFlow))},{default:z(()=>[E(D(r(l)),1)]),_:1},8,["loading"])]),_:1})),!r(n).isFlowInstalled(r(t).params.name)&&r(s)?(g(),T(w,{key:1,text:"Cancel flow installation",popper:{placement:"top"},"open-delay":500},{default:z(()=>[I(S,{icon:"i-heroicons-stop",variant:"outline",color:"orange",loading:r(o),onClick:m[2]||(m[2]=()=>{o.value=!0,r(n).cancelFlowSetup(r(n).currentFlow).then(()=>{o.value=!1})})},{default:z(()=>[E(" Cancel ")]),_:1},8,["loading"])]),_:1})):x("",!0),r(n).isFlowInstalled(r(t).params.name)?(g(),T(U,{key:2,items:r(v),mode:"click",label:"Actions",popper:{placement:"bottom-end"}},{default:z(()=>[I(S,{color:"white",label:"Actions","trailing-icon":"i-heroicons-chevron-down-20-solid"})]),_:1},8,["items"])):x("",!0)])):(g(),_("div",Ts,[P("div",zs,[P("div",As,[I(b,{name:r(n).isFlowInstalled(r(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),P("span",{class:j({"text-green-500":r(n).isFlowInstalled(r(t).params.name),"text-red-500":!r(n).isFlowInstalled(r(t).params.name)})},D(r(n).isFlowInstalled(r(t).params.name)?"Installed":"Not installed"),3)]),r(n).isFlowInstalled(r(t).params.name)?x("",!0):(g(),_("div",Bs,Us))])]))]),key:"0"}]),1024)]),P("div",Es,[!r(i)&&r(n).isFlowInstalled(r(t).params.name)?(g(),T(J,{key:0,ref_key:"workflowPrompt",ref:p},null,512)):x("",!0)])]),!r(i)&&r(n).isFlowInstalled(r(t).params.name)?(g(),T(H,{key:0})):x("",!0),!r(i)&&r(n).isFlowInstalled(r(t).params.name)||r(n).flowResultsByName(r(t).params.name).length>0?(g(),T(F,{key:1,onCopyPromptInputs:m[3]||(m[3]=O=>d(O))})):x("",!0)],64)):(g(),T(M,{key:1,class:"mb-3"})),I(W,{modelValue:r(u),"onUpdate:modelValue":m[7]||(m[7]=O=>he(u)?u.value=O:null),"prevent-close":""},{default:z(()=>[I(G,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:z(()=>[P("div",Ls,[Ns,I(S,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:m[4]||(m[4]=O=>u.value=!1)})])]),default:z(()=>{var O;return[P("p",Ds,[E(" Are you sure you want to delete the "),Vs,E(" workflow "),P("b",null,D((O=r(n).currentFlow)==null?void 0:O.display_name),1),E("? ")]),P("div",Rs,[I(S,{icon:"i-heroicons-x-mark-16-solid",variant:"outline",color:"green",class:"mr-2",onClick:m[5]||(m[5]=K=>u.value=!1)},{default:z(()=>[E(" Cancel ")]),_:1}),I(S,{icon:"i-heroicons-trash",variant:"outline",color:"red",onClick:m[6]||(m[6]=K=>{var Y;return y(r(n).currentFlow,((Y=r(n).currentFlow)==null?void 0:Y.private)||!1)})},{default:z(()=>[E(" Delete ")]),_:1})])]}),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{Js as default};
