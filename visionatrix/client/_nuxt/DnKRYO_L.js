import{g as K,z as I,E as $,a0 as Kt,P as ee,a1 as _e,a2 as Ma,a3 as fe,a4 as wt,a5 as kt,a6 as Ce,F as Y,a7 as Oe,a8 as He,q as ce,a9 as G,aa as Qt,ab as je,ac as et,ad as lt,ae as Pe,af as Fa,ag as za,ah as Ta,ai as We,aj as Ue,ak as qe,al as Ct,am as ue,an as Ba,ao as Aa,ap as Yt,aq as Oa,ar as ja,as as jt,at as Xe,au as Ae,av as ne,aw as Ua,ax as Ea,ay as Jt,az as Xt,aA as Na,aB as Zt,aC as Ra,aD as Da,aE as ea,aF as La,aG as Le,aH as Va,K as N,A as Ee,aI as Ha,B as X,_ as Fe,l as pe,W as ot,C as Ne,D as be,H as st,aJ as Wa,aK as xt,aL as qa,X as Me,Y as oe,aM as ge,o as v,i as T,w as B,b as _,J as de,a as C,c as x,aN as ta,aO as Ga,L as le,j as F,r as se,aP as Ka,t as q,d as R,e as aa,aQ as Pt,aR as Qa,aS as Ya,aT as Ut,aU as Ja,aV as $t,aW as Xa,aX as Za,aY as Et,aZ as na,a_ as en,u as tn,a$ as it,b0 as an,h as ze,R as la,k as s,S as ke,m as he,Q as Nt,M as Ke,b1 as Mt,b2 as nn,b3 as ln,b4 as on,b5 as vt,b6 as sn,b7 as rn,I as Rt,b8 as un,y as rt,b9 as oa,ba as ye,bb as dn,bc as Dt,n as sa,bd as cn,v as mn,s as fn,be as pn,bf as vn}from"./ybowuZmh.js";import{b as ia,a as ra,_ as ua}from"./Dg31rq5r.js";import{t as da,a as Lt,o as ut,i as gn,p as hn,u as bn,f as yn,c as we,d as wn,b as kn,e as dt,_ as ca}from"./BG0IHjjK.js";import{a as $n,_ as In}from"./DL0AUbuQ.js";import{_ as Ft}from"./DqfCJG2e.js";import{_ as zt}from"./DvnRHWpx.js";import{_ as ma}from"./4fPJGMhS.js";const Sn={wrapper:"w-full relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium",description:"mt-1 text-sm leading-4 opacity-90",actions:"flex items-center gap-2 mt-3 flex-shrink-0",shadow:"",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0 self-center",size:"md"},color:{white:{solid:"text-gray-900 dark:text-white bg-white dark:bg-gray-900 ring-1 ring-gray-200 dark:ring-gray-800"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{color:"white",variant:"solid",icon:null,closeButton:null,actionButton:{size:"xs",color:"primary",variant:"link"}}},_n={wrapper:"relative",container:"relative w-full flex overflow-x-auto snap-x snap-mandatory scroll-smooth",item:"flex flex-none snap-center",arrows:{wrapper:"flex items-center justify-between"},indicators:{wrapper:"absolute flex items-center justify-center gap-3 bottom-4 inset-x-0",base:"rounded-full h-3 w-3",active:"bg-primary-500 dark:bg-primary-400",inactive:"bg-gray-100 dark:bg-gray-800"},default:{prevButton:{color:"black",class:"rtl:[&_span:first-child]:rotate-180 absolute left-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"black",class:"rtl:[&_span:last-child]:rotate-180 absolute right-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-right-20-solid "}}},Cn={base:"relative inline-flex flex-shrink-0 border-2 border-transparent disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none",rounded:"rounded-full",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",active:"bg-{color}-500 dark:bg-{color}-400",inactive:"bg-gray-200 dark:bg-gray-700",size:{"2xs":"h-3 w-5",xs:"h-3.5 w-6",sm:"h-4 w-7",md:"h-5 w-9",lg:"h-6 w-11",xl:"h-7 w-[3.25rem]","2xl":"h-8 w-[3.75rem]"},container:{base:"pointer-events-none relative inline-block rounded-full bg-white dark:bg-gray-900 shadow transform ring-0 transition ease-in-out duration-200",active:{"2xs":"translate-x-2 rtl:-translate-x-2",xs:"translate-x-2.5 rtl:-translate-x-2.5",sm:"translate-x-3 rtl:-translate-x-3",md:"translate-x-4 rtl:-translate-x-4",lg:"translate-x-5 rtl:-translate-x-5",xl:"translate-x-6 rtl:-translate-x-6","2xl":"translate-x-7 rtl:-translate-x-7"},inactive:"translate-x-0 rtl:-translate-x-0",size:{"2xs":"h-2 w-2",xs:"h-2.5 w-2.5",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5",xl:"h-6 w-6","2xl":"h-7 w-7"}},icon:{base:"absolute inset-0 h-full w-full flex items-center justify-center transition-opacity",active:"opacity-100 ease-in duration-200",inactive:"opacity-0 ease-out duration-100",size:{"2xs":"h-2 w-2",xs:"h-2 w-2",sm:"h-2 w-2",md:"h-3 w-3",lg:"h-4 w-4",xl:"h-5 w-5","2xl":"h-6 w-6"},on:"text-{color}-500 dark:text-{color}-400",off:"text-gray-400 dark:text-gray-500",loading:"animate-spin text-{color}-500 dark:text-{color}-400"},default:{onIcon:null,offIcon:null,loadingIcon:"i-heroicons-arrow-path-20-solid",color:"primary",size:"md"}},xn={wrapper:"relative w-full flex items-center",base:"w-full absolute appearance-none cursor-pointer disabled:cursor-not-allowed disabled:bg-opacity-50 focus:outline-none peer group",rounded:"rounded-lg",background:"bg-transparent",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",progress:{base:"absolute pointer-events-none peer-disabled:bg-opacity-50",rounded:"rounded-s-lg",background:"bg-{color}-500 dark:bg-{color}-400",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"}},thumb:{base:"[&::-webkit-slider-thumb]:relative [&::-moz-range-thumb]:relative [&::-webkit-slider-thumb]:z-[1] [&::-moz-range-thumb]:z-[1] [&::-webkit-slider-thumb]:appearance-none [&::-moz-range-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:border-0",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:dark:bg-gray-900 [&::-moz-range-thumb]:bg-current",ring:"[&::-webkit-slider-thumb]:ring-2 [&::-webkit-slider-thumb]:ring-current",size:{"2xs":"[&::-webkit-slider-thumb]:h-1.5 [&::-moz-range-thumb]:h-1.5 [&::-webkit-slider-thumb]:w-1.5 [&::-moz-range-thumb]:w-1.5 [&::-webkit-slider-thumb]:mt-[-2.5px] [&::-moz-range-thumb]:mt-[-2.5px]",xs:"[&::-webkit-slider-thumb]:h-2 [&::-moz-range-thumb]:h-2 [&::-webkit-slider-thumb]:w-2 [&::-moz-range-thumb]:w-2 [&::-webkit-slider-thumb]:mt-[-3px] [&::-moz-range-thumb]:mt-[-3px]",sm:"[&::-webkit-slider-thumb]:h-3 [&::-moz-range-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-moz-range-thumb]:w-3 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",md:"[&::-webkit-slider-thumb]:h-4 [&::-moz-range-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-moz-range-thumb]:w-4 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",lg:"[&::-webkit-slider-thumb]:h-5 [&::-moz-range-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-moz-range-thumb]:w-5 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",xl:"[&::-webkit-slider-thumb]:h-6 [&::-moz-range-thumb]:h-6 [&::-webkit-slider-thumb]:w-6 [&::-moz-range-thumb]:w-6 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1","2xl":"[&::-webkit-slider-thumb]:h-7 [&::-moz-range-thumb]:h-7 [&::-webkit-slider-thumb]:w-7 [&::-moz-range-thumb]:w-7 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1"}},track:{base:"[&::-webkit-slider-runnable-track]:group-disabled:bg-opacity-50 [&::-moz-range-track]:group-disabled:bg-opacity-50",background:"[&::-webkit-slider-runnable-track]:bg-gray-200 [&::-moz-range-track]:bg-gray-200 [&::-webkit-slider-runnable-track]:dark:bg-gray-700 [&::-moz-range-track]:dark:bg-gray-700",rounded:"[&::-webkit-slider-runnable-track]:rounded-lg [&::-moz-range-track]:rounded-lg",size:{"2xs":"[&::-webkit-slider-runnable-track]:h-px [&::-moz-range-track]:h-px",xs:"[&::-webkit-slider-runnable-track]:h-0.5 [&::-moz-range-track]:h-0.5",sm:"[&::-webkit-slider-runnable-track]:h-1 [&::-moz-range-track]:h-1",md:"[&::-webkit-slider-runnable-track]:h-2 [&::-moz-range-track]:h-2",lg:"[&::-webkit-slider-runnable-track]:h-3 [&::-moz-range-track]:h-3",xl:"[&::-webkit-slider-runnable-track]:h-4 [&::-moz-range-track]:h-4","2xl":"[&::-webkit-slider-runnable-track]:h-5 [&::-moz-range-track]:h-5"}},size:{"2xs":"h-1.5",xs:"h-2",sm:"h-3",md:"h-4",lg:"h-5",xl:"h-6","2xl":"h-7"},default:{size:"md",color:"primary"}},Pn={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function fa(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let a of e.value){let n=G(a);n instanceof HTMLElement&&t.add(n)}return t}var pa=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(pa||{});let Ye=Object.assign(K({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:I(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:a,expose:n}){let i=I(null);n({el:i,$el:i});let o=$(()=>Kt(i)),l=I(!1);ee(()=>l.value=!0),_e(()=>l.value=!1),Fn({ownerDocument:o},$(()=>l.value&&!!(e.features&16)));let r=zn({ownerDocument:o,container:i,initialFocus:$(()=>e.initialFocus)},$(()=>l.value&&!!(e.features&2)));Tn({ownerDocument:o,container:i,containers:e.containers,previousActiveElement:r},$(()=>l.value&&!!(e.features&8)));let d=Ma();function g(y){let u=G(i);u&&(h=>h())(()=>{je(d.value,{[et.Forwards]:()=>{lt(u,Pe.First,{skipElements:[y.relatedTarget]})},[et.Backwards]:()=>{lt(u,Pe.Last,{skipElements:[y.relatedTarget]})}})})}let k=I(!1);function w(y){y.key==="Tab"&&(k.value=!0,requestAnimationFrame(()=>{k.value=!1}))}function m(y){if(!l.value)return;let u=fa(e.containers);G(i)instanceof HTMLElement&&u.add(G(i));let h=y.relatedTarget;h instanceof HTMLElement&&h.dataset.headlessuiFocusGuard!=="true"&&(va(u,h)||(k.value?lt(G(i),je(d.value,{[et.Forwards]:()=>Pe.Next,[et.Backwards]:()=>Pe.Previous})|Pe.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&He(y.target)))}return()=>{let y={},u={ref:i,onKeydown:w,onFocusout:m},{features:h,initialFocus:b,containers:p,...c}=e;return fe(Y,[!!(h&4)&&fe(wt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:kt.Focusable}),Ce({ourProps:u,theirProps:{...t,...c},slot:y,attrs:t,slots:a,name:"FocusTrap"}),!!(h&4)&&fe(wt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:kt.Focusable})])}}}),{features:pa});function Mn(e){let t=I(Lt.slice());return ce([e],([a],[n])=>{n===!0&&a===!1?da(()=>{t.value.splice(0)}):n===!1&&a===!0&&(t.value=Lt.slice())},{flush:"post"}),()=>{var a;return(a=t.value.find(n=>n!=null&&n.isConnected))!=null?a:null}}function Fn({ownerDocument:e},t){let a=Mn(t);ee(()=>{Oe(()=>{var n,i;t.value||((n=e.value)==null?void 0:n.activeElement)===((i=e.value)==null?void 0:i.body)&&He(a())},{flush:"post"})}),_e(()=>{t.value&&He(a())})}function zn({ownerDocument:e,container:t,initialFocus:a},n){let i=I(null),o=I(!1);return ee(()=>o.value=!0),_e(()=>o.value=!1),ee(()=>{ce([t,a,n],(l,r)=>{if(l.every((g,k)=>(r==null?void 0:r[k])===g)||!n.value)return;let d=G(t);d&&da(()=>{var g,k;if(!o.value)return;let w=G(a),m=(g=e.value)==null?void 0:g.activeElement;if(w){if(w===m){i.value=m;return}}else if(d.contains(m)){i.value=m;return}w?He(w):lt(d,Pe.First|Pe.NoScroll)===Fa.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.value=(k=e.value)==null?void 0:k.activeElement})},{immediate:!0,flush:"post"})}),i}function Tn({ownerDocument:e,container:t,containers:a,previousActiveElement:n},i){var o;Qt((o=e.value)==null?void 0:o.defaultView,"focus",l=>{if(!i.value)return;let r=fa(a);G(t)instanceof HTMLElement&&r.add(G(t));let d=n.value;if(!d)return;let g=l.target;g&&g instanceof HTMLElement?va(r,g)?(n.value=g,He(g)):(l.preventDefault(),l.stopPropagation(),He(d)):He(n.value)},!0)}function va(e,t){for(let a of e)if(a.contains(t))return!0;return!1}function Bn(e){let t=za(e.getSnapshot());return _e(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function An(e,t){let a=e(),n=new Set;return{getSnapshot(){return a},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...o){let l=t[i].call(a,...o);l&&(a=l,n.forEach(r=>r()))}}}function On(){let e;return{before({doc:t}){var a;let n=t.documentElement;e=((a=t.defaultView)!=null?a:window).innerWidth-n.clientWidth},after({doc:t,d:a}){let n=t.documentElement,i=n.clientWidth-n.offsetWidth,o=e-i;a.style(n,"paddingRight",`${o}px`)}}}function jn(){return Ta()?{before({doc:e,d:t,meta:a}){function n(i){return a.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let r=ut();r.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>r.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,l=null;t.addEventListener(e,"click",r=>{if(r.target instanceof HTMLElement)try{let d=r.target.closest("a");if(!d)return;let{hash:g}=new URL(d.href),k=e.querySelector(g);k&&!n(k)&&(l=k)}catch{}},!0),t.addEventListener(e,"touchstart",r=>{if(r.target instanceof HTMLElement)if(n(r.target)){let d=r.target;for(;d.parentElement&&n(d.parentElement);)d=d.parentElement;t.style(d,"overscrollBehavior","contain")}else t.style(r.target,"touchAction","none")}),t.addEventListener(e,"touchmove",r=>{if(r.target instanceof HTMLElement){if(r.target.tagName==="INPUT")return;if(n(r.target)){let d=r.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&r.preventDefault()}else r.preventDefault()}},{passive:!1}),t.add(()=>{var r;let d=(r=window.scrollY)!=null?r:window.pageYOffset;o!==d&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function Un(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function En(e){let t={};for(let a of e)Object.assign(t,a(t));return t}let Ve=An(()=>new Map,{PUSH(e,t){var a;let n=(a=this.get(e))!=null?a:{doc:e,count:0,d:ut(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let a=this.get(e);return a&&(a.count--,a.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:a}){let n={doc:e,d:t,meta:En(a)},i=[jn(),On(),Un()];i.forEach(({before:o})=>o==null?void 0:o(n)),i.forEach(({after:o})=>o==null?void 0:o(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ve.subscribe(()=>{let e=Ve.getSnapshot(),t=new Map;for(let[a]of e)t.set(a,a.documentElement.style.overflow);for(let a of e.values()){let n=t.get(a.doc)==="hidden",i=a.count!==0;(i&&!n||!i&&n)&&Ve.dispatch(a.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",a),a.count===0&&Ve.dispatch("TEARDOWN",a)}});function Nn(e,t,a){let n=Bn(Ve),i=$(()=>{let o=e.value?n.value.get(e.value):void 0;return o?o.count>0:!1});return ce([e,t],([o,l],[r],d)=>{if(!o||!l)return;Ve.dispatch("PUSH",o,a);let g=!1;d(()=>{g||(Ve.dispatch("POP",r??o,a),g=!0)})},{immediate:!0}),i}let gt=new Map,Je=new Map;function Vt(e,t=I(!0)){Oe(a=>{var n;if(!t.value)return;let i=G(e);if(!i)return;a(function(){var l;if(!i)return;let r=(l=Je.get(i))!=null?l:1;if(r===1?Je.delete(i):Je.set(i,r-1),r!==1)return;let d=gt.get(i);d&&(d["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",d["aria-hidden"]),i.inert=d.inert,gt.delete(i))});let o=(n=Je.get(i))!=null?n:0;Je.set(i,o+1),o===0&&(gt.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0)})}let ga=Symbol("StackContext");var It=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(It||{});function Rn(){return Ue(ga,()=>{})}function Dn({type:e,enabled:t,element:a,onUpdate:n}){let i=Rn();function o(...l){n==null||n(...l),i(...l)}ee(()=>{ce(t,(l,r)=>{l?o(0,e,a):r===!0&&o(1,e,a)},{immediate:!0,flush:"sync"})}),_e(()=>{t.value&&o(1,e,a)}),We(ga,o)}let Ln=Symbol("DescriptionContext");function Vn({slot:e=I({}),name:t="Description",props:a={}}={}){let n=I([]);function i(o){return n.value.push(o),()=>{let l=n.value.indexOf(o);l!==-1&&n.value.splice(l,1)}}return We(Ln,{register:i,slot:e,name:t,props:a}),$(()=>n.value.length>0?n.value.join(" "):void 0)}var Hn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Hn||{});let St=Symbol("DialogContext");function ha(e){let t=Ue(St,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,ha),a}return t}let tt="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Wn=K({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:tt},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:a,slots:n,expose:i}){var o,l;let r=(o=e.id)!=null?o:`headlessui-dialog-${qe()}`,d=I(!1);ee(()=>{d.value=!0});let g=!1,k=$(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(g||(g=!0,console.warn(`Invalid role [${k}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),w=I(0),m=Ct(),y=$(()=>e.open===tt&&m!==null?(m.value&ue.Open)===ue.Open:e.open),u=I(null),h=$(()=>Kt(u));if(i({el:u,$el:u}),!(e.open!==tt||m!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof y.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${y.value===tt?void 0:e.open}`);let b=$(()=>d.value&&y.value?0:1),p=$(()=>b.value===0),c=$(()=>w.value>1),f=Ue(St,null)!==null,[P,S]=Ba(),{resolveContainers:U,mainTreeNodeRef:V,MainTreeNode:J}=Aa({portals:P,defaultContainers:[$(()=>{var L;return(L=Q.panelRef.value)!=null?L:u.value})]}),Z=$(()=>c.value?"parent":"leaf"),M=$(()=>m!==null?(m.value&ue.Closing)===ue.Closing:!1),A=$(()=>f||M.value?!1:p.value),z=$(()=>{var L,W,ae;return(ae=Array.from((W=(L=h.value)==null?void 0:L.querySelectorAll("body > *"))!=null?W:[]).find(ie=>ie.id==="headlessui-portal-root"?!1:ie.contains(G(V))&&ie instanceof HTMLElement))!=null?ae:null});Vt(z,A);let E=$(()=>c.value?!0:p.value),O=$(()=>{var L,W,ae;return(ae=Array.from((W=(L=h.value)==null?void 0:L.querySelectorAll("[data-headlessui-portal]"))!=null?W:[]).find(ie=>ie.contains(G(V))&&ie instanceof HTMLElement))!=null?ae:null});Vt(O,E),Dn({type:"Dialog",enabled:$(()=>b.value===0),element:u,onUpdate:(L,W)=>{if(W==="Dialog")return je(L,{[It.Add]:()=>w.value+=1,[It.Remove]:()=>w.value-=1})}});let D=Vn({name:"DialogDescription",slot:$(()=>({open:y.value}))}),H=I(null),Q={titleId:H,panelRef:I(null),dialogState:b,setTitleId(L){H.value!==L&&(H.value=L)},close(){t("close",!1)}};We(St,Q);let me=$(()=>!(!p.value||c.value));Yt(U,(L,W)=>{L.preventDefault(),Q.close(),Ae(()=>W==null?void 0:W.focus())},me);let ve=$(()=>!(c.value||b.value!==0));Qt((l=h.value)==null?void 0:l.defaultView,"keydown",L=>{ve.value&&(L.defaultPrevented||L.key===ne.Escape&&(L.preventDefault(),L.stopPropagation(),Q.close()))});let te=$(()=>!(M.value||b.value!==0||f));return Nn(h,te,L=>{var W;return{containers:[...(W=L.containers)!=null?W:[],U]}}),Oe(L=>{if(b.value!==0)return;let W=G(u);if(!W)return;let ae=new ResizeObserver(ie=>{for(let xe of ie){let j=xe.target.getBoundingClientRect();j.x===0&&j.y===0&&j.width===0&&j.height===0&&Q.close()}});ae.observe(W),L(()=>ae.disconnect())}),()=>{let{open:L,initialFocus:W,...ae}=e,ie={...a,ref:u,id:r,role:k.value,"aria-modal":b.value===0?!0:void 0,"aria-labelledby":H.value,"aria-describedby":D.value},xe={open:b.value===0};return fe(jt,{force:!0},()=>[fe(Oa,()=>fe(ja,{target:u.value},()=>fe(jt,{force:!1},()=>fe(Ye,{initialFocus:W,containers:U,features:p.value?je(Z.value,{parent:Ye.features.RestoreFocus,leaf:Ye.features.All&~Ye.features.FocusLock}):Ye.features.None},()=>fe(S,{},()=>Ce({ourProps:ie,theirProps:{...ae,...a},slot:xe,attrs:a,slots:n,visible:b.value===0,features:Xe.RenderStrategy|Xe.Static,name:"Dialog"})))))),fe(J)])}}}),qn=K({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:n}){var i;let o=(i=e.id)!=null?i:`headlessui-dialog-panel-${qe()}`,l=ha("DialogPanel");n({el:l.panelRef,$el:l.panelRef});function r(d){d.stopPropagation()}return()=>{let{...d}=e,g={id:o,ref:l.panelRef,onClick:r};return Ce({ourProps:g,theirProps:d,slot:{open:l.dialogState.value===0},attrs:t,slots:a,name:"DialogPanel"})}}});var Gn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Gn||{}),Kn=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Kn||{});function Qn(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let ba=Symbol("MenuContext");function ct(e){let t=Ue(ba,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,ct),a}return t}let Yn=K({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:a}){let n=I(1),i=I(null),o=I(null),l=I([]),r=I(""),d=I(null),g=I(1);function k(m=y=>y){let y=d.value!==null?l.value[d.value]:null,u=Ra(m(l.value.slice()),b=>G(b.dataRef.domRef)),h=y?u.indexOf(y):null;return h===-1&&(h=null),{items:u,activeItemIndex:h}}let w={menuState:n,buttonRef:i,itemsRef:o,items:l,searchQuery:r,activeItemIndex:d,activationTrigger:g,closeMenu:()=>{n.value=1,d.value=null},openMenu:()=>n.value=0,goToItem(m,y,u){let h=k(),b=yn(m===we.Specific?{focus:we.Specific,id:y}:{focus:m},{resolveItems:()=>h.items,resolveActiveIndex:()=>h.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.disabled});r.value="",d.value=b,g.value=u??1,l.value=h.items},search(m){let y=r.value!==""?0:1;r.value+=m.toLowerCase();let u=(d.value!==null?l.value.slice(d.value+y).concat(l.value.slice(0,d.value+y)):l.value).find(b=>b.dataRef.textValue.startsWith(r.value)&&!b.dataRef.disabled),h=u?l.value.indexOf(u):-1;h===-1||h===d.value||(d.value=h,g.value=1)},clearSearch(){r.value=""},registerItem(m,y){let u=k(h=>[...h,{id:m,dataRef:y}]);l.value=u.items,d.value=u.activeItemIndex,g.value=1},unregisterItem(m){let y=k(u=>{let h=u.findIndex(b=>b.id===m);return h!==-1&&u.splice(h,1),u});l.value=y.items,d.value=y.activeItemIndex,g.value=1}};return Yt([i,o],(m,y)=>{var u;w.closeMenu(),Ua(y,Ea.Loose)||(m.preventDefault(),(u=G(i))==null||u.focus())},$(()=>n.value===0)),We(ba,w),Jt($(()=>je(n.value,{0:ue.Open,1:ue.Closed}))),()=>{let m={open:n.value===0,close:w.closeMenu};return Ce({ourProps:{},theirProps:e,slot:m,slots:t,attrs:a,name:"Menu"})}}}),Jn=K({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:n}){var i;let o=(i=e.id)!=null?i:`headlessui-menu-button-${qe()}`,l=ct("MenuButton");n({el:l.buttonRef,$el:l.buttonRef});function r(w){switch(w.key){case ne.Space:case ne.Enter:case ne.ArrowDown:w.preventDefault(),w.stopPropagation(),l.openMenu(),Ae(()=>{var m;(m=G(l.itemsRef))==null||m.focus({preventScroll:!0}),l.goToItem(we.First)});break;case ne.ArrowUp:w.preventDefault(),w.stopPropagation(),l.openMenu(),Ae(()=>{var m;(m=G(l.itemsRef))==null||m.focus({preventScroll:!0}),l.goToItem(we.Last)});break}}function d(w){switch(w.key){case ne.Space:w.preventDefault();break}}function g(w){e.disabled||(l.menuState.value===0?(l.closeMenu(),Ae(()=>{var m;return(m=G(l.buttonRef))==null?void 0:m.focus({preventScroll:!0})})):(w.preventDefault(),l.openMenu(),Qn(()=>{var m;return(m=G(l.itemsRef))==null?void 0:m.focus({preventScroll:!0})})))}let k=Xt($(()=>({as:e.as,type:t.type})),l.buttonRef);return()=>{var w;let m={open:l.menuState.value===0},{...y}=e,u={ref:l.buttonRef,id:o,type:k.value,"aria-haspopup":"menu","aria-controls":(w=G(l.itemsRef))==null?void 0:w.id,"aria-expanded":l.menuState.value===0,onKeydown:r,onKeyup:d,onClick:g};return Ce({ourProps:u,theirProps:y,slot:m,attrs:t,slots:a,name:"MenuButton"})}}}),Xn=K({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:n}){var i;let o=(i=e.id)!=null?i:`headlessui-menu-items-${qe()}`,l=ct("MenuItems"),r=I(null);n({el:l.itemsRef,$el:l.itemsRef}),gn({container:$(()=>G(l.itemsRef)),enabled:$(()=>l.menuState.value===0),accept(m){return m.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:m.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(m){m.setAttribute("role","none")}});function d(m){var y;switch(r.value&&clearTimeout(r.value),m.key){case ne.Space:if(l.searchQuery.value!=="")return m.preventDefault(),m.stopPropagation(),l.search(m.key);case ne.Enter:if(m.preventDefault(),m.stopPropagation(),l.activeItemIndex.value!==null){let u=l.items.value[l.activeItemIndex.value];(y=G(u.dataRef.domRef))==null||y.click()}l.closeMenu(),Zt(G(l.buttonRef));break;case ne.ArrowDown:return m.preventDefault(),m.stopPropagation(),l.goToItem(we.Next);case ne.ArrowUp:return m.preventDefault(),m.stopPropagation(),l.goToItem(we.Previous);case ne.Home:case ne.PageUp:return m.preventDefault(),m.stopPropagation(),l.goToItem(we.First);case ne.End:case ne.PageDown:return m.preventDefault(),m.stopPropagation(),l.goToItem(we.Last);case ne.Escape:m.preventDefault(),m.stopPropagation(),l.closeMenu(),Ae(()=>{var u;return(u=G(l.buttonRef))==null?void 0:u.focus({preventScroll:!0})});break;case ne.Tab:m.preventDefault(),m.stopPropagation(),l.closeMenu(),Ae(()=>Na(G(l.buttonRef),m.shiftKey?Pe.Previous:Pe.Next));break;default:m.key.length===1&&(l.search(m.key),r.value=setTimeout(()=>l.clearSearch(),350));break}}function g(m){switch(m.key){case ne.Space:m.preventDefault();break}}let k=Ct(),w=$(()=>k!==null?(k.value&ue.Open)===ue.Open:l.menuState.value===0);return()=>{var m,y;let u={open:l.menuState.value===0},{...h}=e,b={"aria-activedescendant":l.activeItemIndex.value===null||(m=l.items.value[l.activeItemIndex.value])==null?void 0:m.id,"aria-labelledby":(y=G(l.buttonRef))==null?void 0:y.id,id:o,onKeydown:d,onKeyup:g,role:"menu",tabIndex:0,ref:l.itemsRef};return Ce({ourProps:b,theirProps:h,slot:u,attrs:t,slots:a,features:Xe.RenderStrategy|Xe.Static,visible:w.value,name:"MenuItems"})}}}),Zn=K({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:a,expose:n}){var i;let o=(i=e.id)!=null?i:`headlessui-menu-item-${qe()}`,l=ct("MenuItem"),r=I(null);n({el:r,$el:r});let d=$(()=>l.activeItemIndex.value!==null?l.items.value[l.activeItemIndex.value].id===o:!1),g=hn(r),k=$(()=>({disabled:e.disabled,get textValue(){return g()},domRef:r}));ee(()=>l.registerItem(o,k)),_e(()=>l.unregisterItem(o)),Oe(()=>{l.menuState.value===0&&d.value&&l.activationTrigger.value!==0&&Ae(()=>{var p,c;return(c=(p=G(r))==null?void 0:p.scrollIntoView)==null?void 0:c.call(p,{block:"nearest"})})});function w(p){if(e.disabled)return p.preventDefault();l.closeMenu(),Zt(G(l.buttonRef))}function m(){if(e.disabled)return l.goToItem(we.Nothing);l.goToItem(we.Specific,o)}let y=bn();function u(p){y.update(p)}function h(p){y.wasMoved(p)&&(e.disabled||d.value||l.goToItem(we.Specific,o,0))}function b(p){y.wasMoved(p)&&(e.disabled||d.value&&l.goToItem(we.Nothing))}return()=>{let{disabled:p,...c}=e,f={active:d.value,disabled:p,close:l.closeMenu};return Ce({ourProps:{id:o,ref:r,role:"menuitem",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,onClick:w,onFocus:m,onPointerenter:u,onMouseenter:u,onPointermove:h,onMousemove:h,onPointerleave:b,onMouseleave:b},theirProps:{...a,...c},slot:f,attrs:a,slots:t,name:"MenuItem"})}}}),el=Symbol("GroupContext"),tl=K({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(e,{emit:t,attrs:a,slots:n,expose:i}){var o;let l=(o=e.id)!=null?o:`headlessui-switch-${qe()}`,r=Ue(el,null),[d,g]=wn($(()=>e.modelValue),c=>t("update:modelValue",c),$(()=>e.defaultChecked));function k(){g(!d.value)}let w=I(null),m=r===null?w:r.switchRef,y=Xt($(()=>({as:e.as,type:a.type})),m);i({el:m,$el:m});function u(c){c.preventDefault(),k()}function h(c){c.key===ne.Space?(c.preventDefault(),k()):c.key===ne.Enter&&kn(c.currentTarget)}function b(c){c.preventDefault()}let p=$(()=>{var c,f;return(f=(c=G(m))==null?void 0:c.closest)==null?void 0:f.call(c,"form")});return ee(()=>{ce([p],()=>{if(!p.value||e.defaultChecked===void 0)return;function c(){g(e.defaultChecked)}return p.value.addEventListener("reset",c),()=>{var f;(f=p.value)==null||f.removeEventListener("reset",c)}},{immediate:!0})}),()=>{let{name:c,value:f,form:P,tabIndex:S,...U}=e,V={checked:d.value},J={id:l,ref:m,role:"switch",type:y.value,tabIndex:S===-1?0:S,"aria-checked":d.value,"aria-labelledby":r==null?void 0:r.labelledby.value,"aria-describedby":r==null?void 0:r.describedby.value,onClick:u,onKeyup:h,onKeypress:b};return fe(Y,[c!=null&&d.value!=null?fe(wt,Da({features:kt.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:d.value,form:P,disabled:U.disabled,name:c,value:f})):null,Ce({ourProps:J,theirProps:{...a,...ea(U,["modelValue","defaultChecked"])},slot:V,attrs:a,slots:n,name:"Switch"})])}}});function al(e){let t={called:!1};return(...a)=>{if(!t.called)return t.called=!0,e(...a)}}function ht(e,...t){e&&t.length>0&&e.classList.add(...t)}function at(e,...t){e&&t.length>0&&e.classList.remove(...t)}var _t=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(_t||{});function nl(e,t){let a=ut();if(!e)return a.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(e),[o,l]=[n,i].map(r=>{let[d=0]=r.split(",").filter(Boolean).map(g=>g.includes("ms")?parseFloat(g):parseFloat(g)*1e3).sort((g,k)=>k-g);return d});return o!==0?a.setTimeout(()=>t("finished"),o+l):t("finished"),a.add(()=>t("cancelled")),a.dispose}function Ht(e,t,a,n,i,o){let l=ut(),r=o!==void 0?al(o):()=>{};return at(e,...i),ht(e,...t,...a),l.nextFrame(()=>{at(e,...a),ht(e,...n),l.add(nl(e,d=>(at(e,...n,...t),ht(e,...i),r(d))))}),l.add(()=>at(e,...t,...a,...n,...i)),l.add(()=>r("cancelled")),l.dispose}function Re(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Tt=Symbol("TransitionContext");var ll=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ll||{});function ol(){return Ue(Tt,null)!==null}function sl(){let e=Ue(Tt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function il(){let e=Ue(Bt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let Bt=Symbol("NestingContext");function mt(e){return"children"in e?mt(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function ya(e){let t=I([]),a=I(!1);ee(()=>a.value=!0),_e(()=>a.value=!1);function n(o,l=Le.Hidden){let r=t.value.findIndex(({id:d})=>d===o);r!==-1&&(je(l,{[Le.Unmount](){t.value.splice(r,1)},[Le.Hidden](){t.value[r].state="hidden"}}),!mt(t)&&a.value&&(e==null||e()))}function i(o){let l=t.value.find(({id:r})=>r===o);return l?l.state!=="visible"&&(l.state="visible"):t.value.push({id:o,state:"visible"}),()=>n(o,Le.Unmount)}return{children:t,register:i,unregister:n}}let wa=Xe.RenderStrategy,ka=K({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:n,expose:i}){let o=I(0);function l(){o.value|=ue.Opening,t("beforeEnter")}function r(){o.value&=~ue.Opening,t("afterEnter")}function d(){o.value|=ue.Closing,t("beforeLeave")}function g(){o.value&=~ue.Closing,t("afterLeave")}if(!ol()&&La())return()=>fe($a,{...e,onBeforeEnter:l,onAfterEnter:r,onBeforeLeave:d,onAfterLeave:g},n);let k=I(null),w=$(()=>e.unmount?Le.Unmount:Le.Hidden);i({el:k,$el:k});let{show:m,appear:y}=sl(),{register:u,unregister:h}=il(),b=I(m.value?"visible":"hidden"),p={value:!0},c=qe(),f={value:!1},P=ya(()=>{!f.value&&b.value!=="hidden"&&(b.value="hidden",h(c),g())});ee(()=>{let E=u(c);_e(E)}),Oe(()=>{if(w.value===Le.Hidden&&c){if(m.value&&b.value!=="visible"){b.value="visible";return}je(b.value,{hidden:()=>h(c),visible:()=>u(c)})}});let S=Re(e.enter),U=Re(e.enterFrom),V=Re(e.enterTo),J=Re(e.entered),Z=Re(e.leave),M=Re(e.leaveFrom),A=Re(e.leaveTo);ee(()=>{Oe(()=>{if(b.value==="visible"){let E=G(k);if(E instanceof Comment&&E.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function z(E){let O=p.value&&!y.value,D=G(k);!D||!(D instanceof HTMLElement)||O||(f.value=!0,m.value&&l(),m.value||d(),E(m.value?Ht(D,S,U,V,J,H=>{f.value=!1,H===_t.Finished&&r()}):Ht(D,Z,M,A,J,H=>{f.value=!1,H===_t.Finished&&(mt(P)||(b.value="hidden",h(c),g()))})))}return ee(()=>{ce([m],(E,O,D)=>{z(D),p.value=!1},{immediate:!0})}),We(Bt,P),Jt($(()=>je(b.value,{visible:ue.Open,hidden:ue.Closed})|o.value)),()=>{let{appear:E,show:O,enter:D,enterFrom:H,enterTo:Q,entered:me,leave:ve,leaveFrom:te,leaveTo:L,...W}=e,ae={ref:k},ie={...W,...y.value&&m.value&&Va.isServer?{class:N([a.class,W.class,...S,...U])}:{}};return Ce({theirProps:ie,ourProps:ae,slot:{},slots:n,attrs:a,features:wa,visible:b.value==="visible",name:"TransitionChild"})}}}),rl=ka,$a=K({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:n}){let i=Ct(),o=$(()=>e.show===null&&i!==null?(i.value&ue.Open)===ue.Open:e.show);Oe(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=I(o.value?"visible":"hidden"),r=ya(()=>{l.value="hidden"}),d=I(!0),g={show:o,appear:$(()=>e.appear||!d.value)};return ee(()=>{Oe(()=>{d.value=!1,o.value?l.value="visible":mt(r)||(l.value="hidden")})}),We(Bt,r),We(Tt,g),()=>{let k=ea(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),w={unmount:e.unmount};return Ce({ourProps:{...w,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[fe(rl,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...a,...w,...k},n.default)]},attrs:{},features:wa,visible:l.value==="visible",name:"Transition"})}}});const bt=Ee(X.ui.strategy,X.ui.dropdown,Ha),ul=K({components:{HMenu:Yn,HMenuButton:Jn,HMenuItems:Xn,HMenuItem:Zn,UIcon:pe,UAvatar:ot,UKbd:ia},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>bt.default.openDelay},closeDelay:{type:Number,default:()=>bt.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:t}){const{ui:a,attrs:n}=Ne("dropdown",be(e,"ui"),bt,be(e,"class")),i=$(()=>st(e.mode==="hover"?{offsetDistance:0}:{},e.popper,a.value.popper)),[o,l]=Wa(i.value),r=I(null);let d=null,g=null;ee(()=>{var c,f;const b=(c=o.value)==null?void 0:c.$.provides;if(!b)return;const p=Object.getOwnPropertySymbols(b);r.value=p.length&&b[p[0]],e.open&&((f=r.value)==null||f.openMenu())});const k=$(()=>{var f,P,S;if(e.mode!=="hover")return{};const b=((f=e.popper)==null?void 0:f.offsetDistance)||((P=a.value.popper)==null?void 0:P.offsetDistance)||8,p=(S=i.value.placement)==null?void 0:S.split("-")[0],c=`${b}px`;return p==="top"||p==="bottom"?{paddingTop:c,paddingBottom:c}:p==="left"||p==="right"?{paddingLeft:c,paddingRight:c}:{paddingTop:c,paddingBottom:c,paddingLeft:c,paddingRight:c}});function w(b){!b.cancelable||!r.value||(r.value.menuState===0?r.value.closeMenu():r.value.openMenu())}function m(){e.mode!=="hover"||!r.value||(g&&(clearTimeout(g),g=null),r.value.menuState!==0&&(d=d||setTimeout(()=>{r.value.openMenu&&r.value.openMenu(),d=null},e.openDelay)))}function y(){e.mode!=="hover"||!r.value||(d&&(clearTimeout(d),d=null),r.value.menuState!==1&&(g=g||setTimeout(()=>{r.value.closeMenu&&r.value.closeMenu(),g=null},e.closeDelay)))}function u(b,p,{href:c,navigate:f,close:P,isExternal:S}){p.click&&p.click(b),c&&!S&&(f(b),P())}ce(()=>e.open,(b,p)=>{r.value&&(p===void 0||b===p||(b?r.value.openMenu():r.value.closeMenu()))}),ce(()=>{var b;return(b=r.value)==null?void 0:b.menuState},(b,p)=>{p===void 0||b===p||t("update:open",b===0)});const h=aa;return xt(()=>Pt("$ctlRmIk4j0")),{ui:a,attrs:n,popper:i,trigger:o,container:l,containerStyle:k,onTouchStart:w,onMouseEnter:m,onMouseLeave:y,onClick:u,getNuxtLinkProps:qa,twMerge:Me,twJoin:oe,NuxtLink:h}}}),dl=["disabled"];function cl(e,t,a,n,i,o){const l=ge("HMenuButton"),r=pe,d=ot,g=ia,k=ge("HMenuItem"),w=aa,m=ge("HMenuItems"),y=ge("HMenu");return v(),T(y,le({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:B(({open:u})=>[_(l,{ref:"trigger",as:"div",disabled:e.disabled,class:N(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:B(()=>[de(e.$slots,"default",{open:u,disabled:e.disabled},()=>[C("button",{disabled:e.disabled}," Open ",8,dl)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),u&&e.items.length?(v(),x("div",{key:0,ref:"container",class:N([e.ui.container,e.ui.width]),style:ta(e.containerStyle),onMouseenter:t[0]||(t[0]=(...h)=>e.onMouseEnter&&e.onMouseEnter(...h))},[_(Ga,le({appear:""},e.ui.transition),{default:B(()=>[C("div",null,[e.popper.arrow?(v(),x("div",{key:0,"data-popper-arrow":"",class:N(Object.values(e.ui.arrow))},null,2)):F("",!0),_(m,{class:N([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:B(()=>[(v(!0),x(Y,null,se(e.items,(h,b)=>(v(),x("div",{key:b,class:N(e.ui.padding)},[(v(!0),x(Y,null,se(h,(p,c)=>(v(),T(w,le({key:c,ref_for:!0},e.getNuxtLinkProps(p),{custom:""}),{default:B(({href:f,target:P,rel:S,navigate:U,isExternal:V,isActive:J})=>[_(k,{disabled:p.disabled},{default:B(({active:Z,disabled:M,close:A})=>[(v(),T(Ka(f?"a":"button"),{href:M?void 0:f,rel:S,target:P,class:N(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,Z||J?e.ui.item.active:e.ui.item.inactive,M&&e.ui.item.disabled),p.class)),onClick:z=>e.onClick(z,p,{href:f,navigate:U,close:A,isExternal:V})},{default:B(()=>[de(e.$slots,p.slot||"item",{item:p},()=>{var z;return[p.icon?(v(),T(r,{key:0,name:p.icon,class:N(e.twMerge(e.twJoin(e.ui.item.icon.base,Z||J?e.ui.item.icon.active:e.ui.item.icon.inactive),p.iconClass))},null,8,["name","class"])):p.avatar?(v(),T(d,le({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...p.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):F("",!0),C("span",{class:N(e.twMerge(e.ui.item.label,p.labelClass))},q(p.label),3),(z=p.shortcuts)!=null&&z.length?(v(),x("span",{key:2,class:N(e.ui.item.shortcuts)},[(v(!0),x(Y,null,se(p.shortcuts,E=>(v(),T(g,{key:E},{default:B(()=>[R(q(E),1)]),_:2},1024))),128))],2)):F("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):F("",!0)]),_:3},16,["class","onMouseleave"])}const ft=Fe(ul,[["render",cl]]),Te=Ee(X.ui.strategy,X.ui.textarea,Qa),ml=K({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(Te.size).includes(e)}},color:{type:String,default:()=>Te.default.color,validator(e){return[...X.ui.colors,...Object.keys(Te.color)].includes(e)}},variant:{type:String,default:()=>Te.default.variant,validator(e){return[...Object.keys(Te.variant),...Object.values(Te.color).flatMap(t=>Object.keys(t))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t}){const{ui:a,attrs:n}=Ne("textarea",be(e,"ui"),Te,be(e,"class")),{emitFormBlur:i,emitFormInput:o,inputId:l,color:r,size:d,name:g}=dt(e,Te),k=I(st({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),w=I(null),m=()=>{var f;e.autofocus&&((f=w.value)==null||f.focus())},y=()=>{if(e.autoresize){if(!w.value)return;w.value.rows=e.rows;const f=window.getComputedStyle(w.value),P=parseInt(f.paddingTop),S=parseInt(f.paddingBottom),U=P+S,V=parseInt(f.lineHeight),{scrollHeight:J}=w.value,Z=(J-U)/V;Z>e.rows&&(w.value.rows=e.maxrows?Math.min(Z,e.maxrows):Z)}},u=f=>{k.value.trim&&(f=f.trim()),k.value.number&&(f=Ya(f)),t("update:modelValue",f),o()},h=f=>{y(),k.value.lazy||u(f.target.value)},b=f=>{const P=f.target.value;t("change",P),k.value.lazy&&u(P),k.value.trim&&(f.target.value=P.trim())},p=f=>{t("blur",f),i()};ee(()=>{setTimeout(()=>{m()},e.autofocusDelay)}),ce(()=>e.modelValue,()=>{Ae(y)}),ee(()=>{setTimeout(()=>{m(),y()},100)});const c=$(()=>{var P,S;const f=((S=(P=a.value.color)==null?void 0:P[r.value])==null?void 0:S[e.variant])||a.value.variant[e.variant];return Me(oe(a.value.base,a.value.form,a.value.rounded,a.value.placeholder,a.value.size[d.value],e.padded?a.value.padding[d.value]:"p-0",f==null?void 0:f.replaceAll("{color}",r.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:a,attrs:n,name:g,inputId:l,textarea:w,textareaClass:c,onInput:h,onChange:b,onBlur:p}}}),fl=["id","value","name","rows","required","disabled","placeholder"];function pl(e,t,a,n,i,o){return v(),x("div",{class:N(e.ui.wrapper)},[C("textarea",le({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:t[0]||(t[0]=(...l)=>e.onInput&&e.onInput(...l)),onBlur:t[1]||(t[1]=(...l)=>e.onBlur&&e.onBlur(...l)),onChange:t[2]||(t[2]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,fl),de(e.$slots,"default")],2)}const vl=Fe(ml,[["render",pl]]);async function gl(e,t){return await hl(t).catch(n=>(console.error("Failed to get image meta for "+t,n+""),{width:0,height:0,ratio:0}))}async function hl(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,a)=>{const n=new Image;n.onload=()=>{const i={width:n.width,height:n.height,ratio:n.width/n.height};t(i)},n.onerror=i=>a(i),n.src=e})}function Wt(e){return t=>t?e[t]||t:e.missingValue}function bl({formatter:e,keyMap:t,joinWith:a="/",valueMap:n}={}){e||(e=(o,l)=>`${o}=${l}`),t&&typeof t!="function"&&(t=Wt(t));const i=n||{};return Object.keys(i).forEach(o=>{typeof i[o]!="function"&&(i[o]=Wt(i[o]))}),(o={})=>Object.entries(o).filter(([r,d])=>typeof d<"u").map(([r,d])=>{const g=i[r];return typeof g=="function"&&(d=g(o[r])),r=typeof t=="function"?t(r):r,e(r,d)}).join(a)}function Se(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function yl(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const a of e.split(" ")){const n=Number.parseInt(a.replace("x",""));n&&t.add(n)}return Array.from(t)}function wl(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function kl(e){const t={};if(typeof e=="string")for(const a of e.split(/[\s,]+/).filter(n=>n)){const n=a.split(":");n.length!==2?t["1px"]=n[0].trim():t[n[0].trim()]=n[1].trim()}else Object.assign(t,e);return t}function $l(e){const t={options:e},a=(i,o={})=>Ia(t,i,o),n=(i,o={},l={})=>a(i,{...l,modifiers:st(o,l.modifiers||{})}).url;for(const i in e.presets)n[i]=(o,l,r)=>n(o,l,{...e.presets[i],...r});return n.options=e,n.getImage=a,n.getMeta=(i,o)=>Il(t,i,o),n.getSizes=(i,o)=>Cl(t,i,o),t.$img=n,n}async function Il(e,t,a){const n=Ia(e,t,{...a});return typeof n.getMeta=="function"?await n.getMeta():await gl(e,n.url)}function Ia(e,t,a){var g,k;if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{provider:n,defaults:i}=Sl(e,a.provider||e.options.provider),o=_l(e,a.preset);if(t=Ut(t)?t:Ja(t),!n.supportsAlias)for(const w in e.options.alias)t.startsWith(w)&&(t=$t(e.options.alias[w],t.substr(w.length)));if(n.validateDomains&&Ut(t)){const w=Xa(t).host;if(!e.options.domains.find(m=>m===w))return{url:t}}const l=st(a,o,i);l.modifiers={...l.modifiers};const r=l.modifiers.format;(g=l.modifiers)!=null&&g.width&&(l.modifiers.width=Se(l.modifiers.width)),(k=l.modifiers)!=null&&k.height&&(l.modifiers.height=Se(l.modifiers.height));const d=n.getImage(t,l,e);return d.format=d.format||r||"",d}function Sl(e,t){const a=e.options.providers[t];if(!a)throw new Error("Unknown provider: "+t);return a}function _l(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function Cl(e,t,a){var u,h,b,p,c;const n=Se((u=a.modifiers)==null?void 0:u.width),i=Se((h=a.modifiers)==null?void 0:h.height),o=kl(a.sizes),l=(b=a.densities)!=null&&b.trim()?yl(a.densities.trim()):e.options.densities;wl(l);const r=n&&i?i/n:0,d=[],g=[];if(Object.keys(o).length>=1){for(const f in o){const P=qt(f,String(o[f]),i,r,e);if(P!==void 0){d.push({size:P.size,screenMaxWidth:P.screenMaxWidth,media:`(max-width: ${P.screenMaxWidth}px)`});for(const S of l)g.push({width:P._cWidth*S,src:Gt(e,t,a,P,S)})}}xl(d)}else for(const f of l){const P=Object.keys(o)[0];let S=qt(P,String(o[P]),i,r,e);S===void 0&&(S={size:"",screenMaxWidth:0,_cWidth:(p=a.modifiers)==null?void 0:p.width,_cHeight:(c=a.modifiers)==null?void 0:c.height}),g.push({width:f,src:Gt(e,t,a,S,f)})}Pl(g);const k=g[g.length-1],w=d.length?d.map(f=>`${f.media?f.media+" ":""}${f.size}`).join(", "):void 0,m=w?"w":"x",y=g.map(f=>`${f.src} ${f.width}${m}`).join(", ");return{sizes:w,srcset:y,src:k==null?void 0:k.src}}function qt(e,t,a,n,i){const o=i.options.screens&&i.options.screens[e]||Number.parseInt(e),l=t.endsWith("vw");if(!l&&/^\d+$/.test(t)&&(t=t+"px"),!l&&!t.endsWith("px"))return;let r=Number.parseInt(t);if(!o||!r)return;l&&(r=Math.round(r/100*o));const d=n?Math.round(r*n):a;return{size:t,screenMaxWidth:o,_cWidth:r,_cHeight:d}}function Gt(e,t,a,n,i){return e.$img(t,{...a.modifiers,width:n._cWidth?n._cWidth*i:void 0,height:n._cHeight?n._cHeight*i:void 0},a)}function xl(e){var a;e.sort((n,i)=>n.screenMaxWidth-i.screenMaxWidth);let t=null;for(let n=e.length-1;n>=0;n--){const i=e[n];i.media===t&&e.splice(n,1),t=i.media}for(let n=0;n<e.length;n++)e[n].media=((a=e[n+1])==null?void 0:a.media)||""}function Pl(e){e.sort((a,n)=>a.width-n.width);let t=null;for(let a=e.length-1;a>=0;a--){const n=e[a];n.width===t&&e.splice(a,1),t=n.width}}const Ml=bl({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>Et(e)+"_"+Et(t)}),Fl=(e,{modifiers:t={},baseURL:a}={},n)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const i=Ml(t)||"_";return a||(a=$t(n.options.nuxt.baseURL,"/_ipx")),{url:$t(a,i,Za(e))}},zl=!0,Tl=!0,Bl=Object.freeze(Object.defineProperty({__proto__:null,getImage:Fl,supportsAlias:Tl,validateDomains:zl},Symbol.toStringTag,{value:"Module"})),Sa={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};Sa.providers={ipxStatic:{provider:Bl,defaults:{}}};const At=()=>{const e=en(),t=na();return t.$img||t._img||(t._img=$l({...Sa,nuxt:{baseURL:e.app.baseURL}}))};function Al(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const Ol={src:{type:String,default:void 0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:[Boolean,Object],default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},jl=e=>{const t=$(()=>({provider:e.provider,preset:e.preset})),a=$(()=>({width:Se(e.width),height:Se(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),n=At(),i=$(()=>({...e.modifiers,width:Se(e.width),height:Se(e.height),format:e.format,quality:e.quality||n.options.quality,background:e.background,fit:e.fit}));return{options:t,attrs:a,modifiers:i}},Ul={...Ol,placeholder:{type:[Boolean,String,Number,Array],default:void 0},placeholderClass:{type:String,default:void 0}},Qe=K({name:"NuxtImg",props:Ul,emits:["load","error"],setup:(e,t)=>{const a=At(),n=jl(e),i=I(!1),o=I(),l=$(()=>a.getSizes(e.src,{...n.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...n.modifiers.value,width:Se(e.width),height:Se(e.height)}})),r=$(()=>{const y={...n.attrs.value,"data-nuxt-img":""};return(!e.placeholder||i.value)&&(y.sizes=l.value.sizes,y.srcset=l.value.srcset),y}),d=$(()=>{let y=e.placeholder;if(y===""&&(y=!0),!y||i.value)return!1;if(typeof y=="string")return y;const u=Array.isArray(y)?y:typeof y=="number"?[y,y]:[10,10];return a(e.src,{...n.modifiers.value,width:u[0],height:u[1],quality:u[2]||50,blur:u[3]||3},n.options.value)}),g=$(()=>e.sizes?l.value.src:a(e.src,n.modifiers.value,n.options.value)),k=$(()=>d.value?d.value:g.value);if(e.preload){const y=Object.values(l.value).every(u=>u);tn({link:[{rel:"preload",as:"image",nonce:e.nonce,...y?{href:l.value.src,imagesizes:l.value.sizes,imagesrcset:l.value.srcset}:{href:k.value},...typeof e.preload!="boolean"&&e.preload.fetchPriority?{fetchpriority:e.preload.fetchPriority}:{}}]})}const m=na().isHydrating;return ee(()=>{if(d.value){const y=new Image;y.src=g.value,e.sizes&&(y.sizes=l.value.sizes||"",y.srcset=l.value.srcset),y.onload=u=>{i.value=!0,t.emit("load",u)},Al("nuxt-image");return}o.value&&(o.value.complete&&m&&(o.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),o.value.onload=y=>{t.emit("load",y)},o.value.onerror=y=>{t.emit("error",y)})}),()=>fe("img",{ref:o,...r.value,...t.attrs,class:e.placeholder&&!i.value?[e.placeholderClass]:void 0,src:k.value})}}),nt=Ee(X.ui.strategy,X.ui.range,xn),El=K({inheritAttrs:!1,props:{modelValue:{type:Number,default:0},id:{type:String,default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},size:{type:String,default:null,validator(e){return Object.keys(nt.size).includes(e)}},color:{type:String,default:()=>nt.default.color,validator(e){return X.ui.colors.includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:a,attrs:n}=Ne("range",be(e,"ui"),nt),{emitFormChange:i,inputId:o,color:l,size:r,name:d}=dt(e,nt),g=$({get(){return e.modelValue},set(p){t("update:modelValue",p)}}),k=p=>{t("change",p.target.value),i()},w=$(()=>Me(oe(a.value.wrapper,a.value.size[r.value]),e.class)),m=$(()=>Me(oe(a.value.base,a.value.background,a.value.rounded,l.value&&a.value.ring.replaceAll("{color}",l.value),a.value.size[r.value]),e.inputClass)),y=$(()=>oe(a.value.thumb.base,l.value&&a.value.thumb.color.replaceAll("{color}",l.value),a.value.thumb.ring,a.value.thumb.background,a.value.thumb.size[r.value])),u=$(()=>oe(a.value.track.base,a.value.track.background,a.value.track.rounded,a.value.track.size[r.value])),h=$(()=>oe(a.value.progress.base,a.value.progress.rounded,l.value&&a.value.progress.background.replaceAll("{color}",l.value),a.value.progress.size[r.value])),b=$(()=>{const{modelValue:p,min:c,max:f}=e;return{width:`${(Math.max(c,Math.min(p,f))-c)/(f-c)*100}%`}});return{ui:a,attrs:n,name:d,inputId:o,value:g,wrapperClass:w,inputClass:m,thumbClass:y,trackClass:u,progressClass:h,progressStyle:b,onChange:k}}}),Nl=["id","name","min","max","disabled","step"];function Rl(e,t,a,n,i,o){return v(),x("div",{class:N(e.wrapperClass)},[it(C("input",le({id:e.inputId,ref:"input","onUpdate:modelValue":t[0]||(t[0]=l=>e.value=l),name:e.name,min:e.min,max:e.max,disabled:e.disabled,step:e.step,type:"range",class:[e.inputClass,e.thumbClass,e.trackClass]},e.attrs,{onChange:t[1]||(t[1]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,Nl),[[an,e.value,void 0,{number:!0}]]),C("span",{class:N(e.progressClass),style:ta(e.progressStyle)},null,6)],2)}const _a=Fe(El,[["render",Rl]]),Dl={class:"image-inpaint flex flex-col w-full"},Ll={class:"canvas flex flex-col items-center justify-center mb-3 relative w-full"},Vl=C("p",{class:"text-sm my-2 text-slate-500"},"Select the target area for image inpaint",-1),Hl={class:"actions mb-3 w-full max-w-[320px]"},Wl={class:"options w-full max-w-[320px]"},ql=K({__name:"ImageInpaint",props:{imageSrc:{type:String,required:!0}},setup(e){const t=e,a=ze(),n=I(null),i=I(null),o=I(null),l=I(null),r=I(30),d=I([]),g=I({width:a.$state.outputMaxSize,height:a.$state.outputMaxSize}),k=I(null),w=I({x:0,y:0}),m=I({x:0,y:0,radius:r.value,fill:"rgba(255, 255, 255, 0.5)",stroke:null,visible:!1}),y=I(5),u=I(!1),h=I(null);function b(){if(!n.value||!i.value||!o.value){console.error("Could not get stage, image layer or mask layer");return}const z=n.value.getNode(),O=i.value.getNode().canvas._canvas.getContext("2d");O.clearRect(0,0,z.width(),z.height());const D=O.getImageData(0,0,z.width(),z.height()),H=document.createElement("canvas");H.width=z.width(),H.height=z.height();const Q=H.getContext("2d");if(!Q){console.error("Could not get 2d context for mask canvas");return}d.value.forEach(te=>{Q.beginPath(),Q.arc(te.x,te.y,te.radius,0,Math.PI*2,!0),Q.closePath(),Q.fillStyle="rgba(0, 0, 0, 0)",Q.fill()});const me=Q.getImageData(0,0,H.width,H.height);for(let te=0;te<D.data.length;te+=4)me.data[te+3]>0&&(D.data[te+3]=0);O.putImageData(D,0,0);const ve=z.toDataURL();h.value=ve,console.log(ve)}function p(z){z.evt.button===0&&(u.value=!0,w.value=z.target.getStage().getPointerPosition(),c(w.value))}function c(z){const E={x:z.x,y:z.y,radius:r.value,fill:"rgba(255, 255, 255, 1)"};d.value=d.value.filter(O=>!(f({x:O.x,y:O.y},z)+O.radius<=E.radius)),d.value.push(E)}function f(z,E){return Math.sqrt(Math.pow(E.x-z.x,2)+Math.pow(E.y-z.y,2))}function P(z){if(V(z),!u.value)return;const E=z.target.getStage().getPointerPosition();f(w.value,E)>=y.value&&(c(E),w.value=E)}function S(){u.value=!1}function U(){d.value=[],h.value=null}function V(z){const E=z.target.getStage().getPointerPosition();m.value.x=E.x,m.value.y=E.y}function J(){m.value.visible=!1}function Z(){m.value.visible=!0,m.value.radius=r.value}function M(){const z=new Image;z.src=t.imageSrc,z.onload=()=>{l.value=z,A()}}function A(){const z=g.value.width,E=g.value.height,O=l.value.width,D=l.value.height,H=z/O,Q=E/D,me=Math.min(H,Q);k.value={x:0,y:0,width:O*me,height:D*me}}return la(()=>{M()}),(z,E)=>{const O=Qe,D=ge("v-image"),H=ge("v-layer"),Q=ge("v-circle"),me=ge("v-stage"),ve=he,te=_a,L=zt;return v(),x("div",Dl,[C("div",Ll,[Vl,s(h)?(v(),T(O,{key:0,class:"lg:h-full",fit:"inside",width:s(a).$state.outputMaxSize,height:s(a).$state.outputMaxSize,draggable:"false",src:s(h)},null,8,["width","height","src"])):F("",!0),s(h)===null?(v(),T(me,{key:1,ref_key:"stageRef",ref:n,config:s(g),onMousedown:p,onMousemove:P,onMouseup:S,onMouseleave:J,onMouseenter:Z},{default:B(()=>[_(H,{ref_key:"imageLayerRef",ref:i},{default:B(()=>[_(D,{image:s(l),config:s(g)},null,8,["image","config"])]),_:1},512),_(H,{ref_key:"maskLayerRef",ref:o},{default:B(()=>[(v(!0),x(Y,null,se(s(d),(W,ae)=>(v(),T(Q,{key:ae,config:W},null,8,["config"]))),128)),s(m).visible?(v(),T(Q,{key:0,config:s(m)},null,8,["config"])):F("",!0)]),_:1},512)]),_:1},8,["config"])):F("",!0)]),C("div",Hl,[_(ve,{class:"mr-3",size:"sm",icon:"i-heroicons-clipboard-document-check-16-solid",variant:"soft",onClick:b},{default:B(()=>[R(" Apply mask to image ")]),_:1}),_(ve,{size:"sm",icon:"i-heroicons-arrow-turn-up-left-20-solid",variant:"soft",color:"orange",onClick:U},{default:B(()=>[R(" Reset mask ")]),_:1})]),C("div",Wl,[_(L,{label:"Brush radius",class:"mb-3 text-sm"},{default:B(()=>[_(te,{modelValue:s(r),"onUpdate:modelValue":E[0]||(E[0]=W=>ke(r)?r.value=W:null),min:1,max:100,size:"sm",class:"my-2"},null,8,["modelValue"]),C("span",null,"value: "+q(s(r)),1)]),_:1})])])}}}),Gl=Ee(X.ui.strategy,X.ui.modal,Pn),Kl=K({components:{HDialog:Wn,HDialogPanel:qn,TransitionRoot:$a,TransitionChild:ka},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:t}){const{ui:a,attrs:n}=Ne("modal",be(e,"ui"),Gl,be(e,"class")),i=$({get(){return e.modelValue},set(d){t("update:modelValue",d)}}),o=$(()=>e.transition?{...a.value.transition}:{});function l(d){if(e.preventClose){t("close-prevented");return}i.value=d,t("close")}const r=()=>{t("after-leave")};return xt(()=>Pt("$HAJMhYDoe7")),{ui:a,attrs:n,isOpen:i,transitionClass:o,onAfterLeave:r,close:l}}});function Ql(e,t,a,n,i,o){const l=ge("TransitionChild"),r=ge("HDialogPanel"),d=ge("HDialog"),g=ge("TransitionRoot");return v(),T(g,{appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},{default:B(()=>[_(d,le({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:B(()=>[e.overlay?(v(),T(l,le({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:B(()=>[C("div",{class:N([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):F("",!0),C("div",{class:N(e.ui.inner)},[C("div",{class:N([e.ui.container,!e.fullscreen&&e.ui.padding])},[_(l,le({as:"template",appear:e.appear},e.transitionClass),{default:B(()=>[_(r,{class:N([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:B(()=>[de(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const Ze=Fe(Kl,[["render",Ql]]),Yl="0.05";function Jl(e,t){const a=parseFloat(e);if(isNaN(a))return e;const n=a+t;return n<0?"0":String(Number(n.toFixed(10)))}function Xl(e,t){let a=t,n=t,i=0,o=0;for(;a>=0&&(a--,!(e[a]==="("&&i===o));)e[a]==="("&&i++,e[a]===")"&&o++;if(a<0)return!1;for(i=0,o=0;n<e.length&&!(e[n]===")"&&i===o);)e[n]==="("&&i++,e[n]===")"&&o++,n++;return n===e.length?!1:{start:a+1,end:n}}function Zl(e){const t=/^\((.*)\)$/,a=e.match(t),n=/:([+-]?(\d*\.)?\d+([eE][+-]?\d+)?)/,i=e.match(n);return a&&!i?`(${a[1]}:1.0)`:e}function eo(e){const t=e.composedPath()[0],a=parseFloat(Yl);if(t.tagName!=="TEXTAREA"||!(e.key==="ArrowUp"||e.key==="ArrowDown")||!e.ctrlKey&&!e.metaKey)return;e.preventDefault();let n=t.selectionStart,i=t.selectionEnd,o=t.value.substring(n,i);if(!o){const d=Xl(t.value,n);if(d)n=d.start,i=d.end,o=t.value.substring(n,i);else{const g=" .,\\/!?%^*;:{}=-_`~()\r\n	";for(;!g.includes(t.value[n-1])&&n>0;)n--;for(;!g.includes(t.value[i])&&i<t.value.length;)i++;if(o=t.value.substring(n,i),!o)return}}o[o.length-1]===" "&&(o=o.substring(0,o.length-1),i-=1),t.value[n-1]==="("&&t.value[i]===")"&&(n-=1,i+=1,o=t.value.substring(n,i)),(o[0]!=="("||o[o.length-1]!==")")&&(o=`(${o})`),o=Zl(o);const l=e.key==="ArrowUp"?a:-a,r=o.replace(/\((.*):(\d+(?:\.\d+)?)\)/,(d,g,k)=>(k=Jl(k,l),Number(k)==1?g:`(${g}:${k})`));return t.setRangeText(r,n,i,"select"),t.value}const to={key:0,class:"text-red-300"},ao={key:0,class:"flex items-center"},no={key:2,class:"flex flex-row flex-grow items-center justify-between"},lo=K({__name:"InputParam",props:{inputParam:{type:Object,required:!0},index:{type:Number,required:!0},inputParamsMap:{type:Array,required:!0},advanced:{type:Boolean,default:!1}},setup(e){const t=e;function a(u){return u?URL.createObjectURL(u):""}const n=I(null),i=I(""),o=I(!1),l=I({width:0,height:0});function r(){try{const u=t.inputParamsMap[t.index][t.inputParam.name].source_input_name,h=t.inputParamsMap.find(b=>{const p=Object.keys(b)[0];if(p===u)return b[p]});k(h[u].value)}catch{l.value.width=0,l.value.height=0}}ee(()=>{t.inputParam.type==="range_scale"&&r()}),t.inputParam.type==="range_scale"&&ce(t.inputParamsMap,()=>{r()});function d(){URL.revokeObjectURL(i.value),i.value="",n&&(n.value.$refs.input.value=""),t.inputParamsMap[t.index][t.inputParam.name].value=null}const g=$(()=>t.inputParam.type!=="bool"?t.inputParam.display_name:"");function k(u){if(!(u instanceof File)){l.value.width=0,l.value.height=0;return}const h=URL.createObjectURL(u),b=new Image;b.onload=function(){l.value.width=b.naturalWidth,l.value.height=b.naturalHeight,URL.revokeObjectURL(b.src)},b.src=h}const w=$(()=>{if(t.inputParam.type==="range_scale"){const u=t.inputParamsMap[t.index][t.inputParam.name].value;return`value: ${u}x (${l.value.width}x${l.value.height} -> ${(l.value.width*u).toFixed(0)}x${(l.value.height*u).toFixed(0)})`}return["range","range_scale"].includes(t.inputParam.type)?`value: ${t.inputParamsMap[t.index][t.inputParam.name].value}`:""});Nt(()=>{URL.revokeObjectURL(i.value)});const m=I(null);function y(u){const h=eo(u);h&&(t.inputParamsMap[t.index][t.inputParam.name].value=h)}return ee(()=>{t.inputParam.type==="text"&&m.value&&m.value.$refs.textarea.addEventListener("keydown",y)}),Nt(()=>{t.inputParam.type==="text"&&m.value&&m.value.$refs.textarea.removeEventListener("keydown",y)}),(u,h)=>{var M;const b=vl,p=Ft,c=he,f=Qe,P=ql,S=Ze,U=ca,V=ma,J=_a,Z=zt;return(((M=e.inputParam)==null?void 0:M.advanced)||!1)===e.advanced?(v(),T(Z,{key:0,label:s(g),class:"mb-3",help:s(w)},{hint:B(()=>[e.inputParam.optional?F("",!0):(v(),x("span",to,"required"))]),default:B(()=>{var A;return[e.inputParam.type==="text"?(v(),T(b,{key:0,ref_key:"textareaInput",ref:m,size:"md",placeholder:e.inputParam.display_name,required:!e.inputParam.optional,resize:!0,label:e.inputParam.display_name,value:e.inputParamsMap[e.index][e.inputParam.name].value,variant:"outline",onInput:h[0]||(h[0]=z=>{const E=z.target;e.inputParamsMap[e.index][e.inputParam.name].value=E.value})},null,8,["placeholder","required","label","value"])):F("",!0),e.inputParam.type==="number"?(v(),x(Y,{key:1},[e.inputParam.name==="seed"?(v(),x("div",ao,[e.inputParam.type==="number"?(v(),T(p,{key:0,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:h[1]||(h[1]=z=>{const E=z.target;e.inputParamsMap[e.index][e.inputParam.name].value=E.value})},null,8,["label","required","value","max","min"])):F("",!0),_(c,{icon:"i-heroicons-arrow-path",color:"violet",variant:"outline",size:"xs",class:"ml-2",onClick:h[2]||(h[2]=()=>{e.inputParamsMap[e.index][e.inputParam.name].value=Math.floor(Math.random()*1e7)})})])):(v(),T(p,{key:1,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:h[3]||(h[3]=z=>{const E=z.target;e.inputParamsMap[e.index][e.inputParam.name].value=E.value})},null,8,["label","required","value","max","min"]))],64)):F("",!0),e.inputParam.type==="image"||e.inputParam.type==="image-inpaint"?(v(),x("div",no,[_(p,{ref_key:"imageInput",ref:n,type:"file",accept:"image/*",class:"w-full",label:e.inputParam.display_name,onChange:h[4]||(h[4]=z=>{console.debug("files",z);const E=z==null?void 0:z[0];e.inputParamsMap[e.index][e.inputParam.name].value=E,i.value=a(E),console.debug("inputParamsMap",e.inputParamsMap),e.inputParam.type==="image-inpaint"&&(o.value=!0)})},null,8,["label"]),s(i)!==""?(v(),T(f,{key:0,src:s(i),class:"w-10 h-10 rounded-lg cursor-pointer ml-2",onClick:h[5]||(h[5]=()=>{o.value=!0})},null,8,["src"])):F("",!0),s(i)!==""?(v(),T(c,{key:1,icon:"i-heroicons-x-mark",variant:"outline",class:"ml-2",onClick:d})):F("",!0)])):F("",!0),e.inputParam.type==="image"||e.inputParam.type==="image-inpaint"?(v(),T(S,{key:3,modelValue:s(o),"onUpdate:modelValue":h[8]||(h[8]=z=>ke(o)?o.value=z:null),class:"z-[90] overflow-y-auto",transition:!1,fullscreen:""},{default:B(()=>[_(c,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:h[6]||(h[6]=()=>o.value=!1)}),e.inputParam.type==="image"?(v(),x("div",{key:0,class:"flex items-center justify-center w-full h-full p-4",onClick:h[7]||(h[7]=Ke(()=>o.value=!1,["left"]))},[_(f,{class:"lg:h-full",fit:"inside",src:s(i)},null,8,["src"])])):(v(),T(P,{key:1,"image-src":s(i),class:"flex items-center justify-center w-full h-full p-4"},null,8,["image-src"]))]),_:1},8,["modelValue"])):F("",!0),e.inputParam.type==="list"?(v(),T(U,{key:4,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":h[9]||(h[9]=z=>e.inputParamsMap[e.index][e.inputParam.name].value=z),placeholder:e.inputParam.display_name,options:Object.keys(e.inputParam.options)},null,8,["modelValue","placeholder","options"])):F("",!0),e.inputParam.type==="bool"?(v(),T(V,{key:5,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":h[10]||(h[10]=z=>e.inputParamsMap[e.index][e.inputParam.name].value=z),label:(A=e.inputParam)==null?void 0:A.display_name},null,8,["modelValue","label"])):F("",!0),["range","range_scale"].includes(e.inputParam.type)?(v(),T(J,{key:6,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":h[11]||(h[11]=z=>e.inputParamsMap[e.index][e.inputParam.name].value=z),label:e.inputParam.display_name,size:"sm",min:e.inputParam.min,max:e.inputParam.max,step:e.inputParam.step},null,8,["modelValue","label","min","max","step"])):F("",!0)]}),_:1},8,["label","help"])):F("",!0)}}}),oo={key:0,class:"heading"},so={key:1},io=K({__name:"InputParams",props:{inputParamsMap:{type:Array,required:!0},additionalInputParamsMap:{type:Array,required:!1,default:[]},advanced:{type:Boolean,default:!1}},setup(e){const t=e,a=ze(),n=I(!t.advanced);return(i,o)=>{const l=pe,r=lo;return v(),x(Y,null,[e.advanced?(v(),x("div",oo,[C("h4",{class:"text-md font-bold cursor-pointer select-none flex items-center mb-3",onClick:o[0]||(o[0]=()=>{n.value=!s(n)})},[_(l,{name:s(n)?"i-heroicons-chevron-up":"i-heroicons-chevron-down",class:"mr-2"},null,8,["name"]),R(" Advanced options ")])])):F("",!0),s(n)?(v(),x("div",so,[(v(!0),x(Y,null,se(s(a).currentFlow.input_params,(d,g)=>(v(),T(r,{key:g,"input-params-map":e.inputParamsMap,index:g,"input-param":d,advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128)),(v(!0),x(Y,null,se(e.additionalInputParamsMap,(d,g)=>(v(),T(r,{key:Object.keys(d)[0],"input-params-map":e.additionalInputParamsMap,index:g,"input-param":d[Object.keys(d)[0]],advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128))])):F("",!0)],64)}}}),ro={key:0,id:"prompt",class:"w-full my-10 lg:my-0 p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg"},uo={class:"flex justify-end px-2"},co=K({__name:"Prompt",setup(e,{expose:t}){var k,w,m,y;const a=ze();let n=localStorage.getItem(`input_params_map_${(k=a.currentFlow)==null?void 0:k.name}`);if(n){const u=JSON.parse(n);"flow_version"in u&&u.flow_version.split(".")[0]===((w=a.currentFlow)==null?void 0:w.version.split(".")[0])?n=u:(n=null,localStorage.removeItem(`input_params_map_${(m=a.currentFlow)==null?void 0:m.name}`))}const i=I(((y=a.currentFlow)==null?void 0:y.input_params.map(u=>{var h;if(u.type==="text")return{[u.name]:{value:n!==null?n[u.name]:u.default||"",type:u.type,optional:u.optional,advanced:u.advanced||!1}};if(u.type==="number")return{[u.name]:{value:n!==null?n[u.name]:u.default||0,type:u.type,optional:u.optional,advanced:u.advanced||!1}};if(u.type==="image")return{[u.name]:{value:n!==null?n[u.name]:u.default||{},type:u.type,optional:u.optional,advanced:u.advanced||!1}};if(u.type==="image-inpaint")return{[u.name]:{value:n!==null?n[u.name]:u.default||{},type:u.type,optional:u.optional,advanced:u.advanced||!1}};if(u.type==="list")return{[u.name]:{value:n!==null?n[u.name]:u.default||Object.keys(u.options)[0]||"",type:u.type,optional:u.optional,options:u.options,advanced:u.advanced||!1}};if(u.type==="bool")return{[u.name]:{value:n!==null?n[u.name]:u.default||!1,type:u.type,optional:u.optional,advanced:u.advanced||!1}};if(["range","range_scale"].includes(u.type)){const b={value:n!==null?n[u.name]:u.default||0,type:u.type,optional:u.optional,advanced:u.advanced||!1,min:u.min||0,max:u.max||100,step:u.step||1};if(u.type==="range_scale"&&(b.source_input_name=u.source_input_name||null,b.source_input_name===null||b.source_input_name==="")){const p=(h=a.currentFlow)==null?void 0:h.input_params.find(c=>c.type==="image"&&!c.optional);p&&(b.source_input_name=p.name)}return{[u.name]:b}}}))||[]),o=I(a.currentFlow.is_seed_supported?[{seed:{name:"seed",display_name:"Random seed",value:Math.floor(Math.random()*1e7),type:"number",optional:!0,advanced:!0,min:0,max:1e7}}]:[]);function l(u){console.debug("Copy prompt inputs",u),Object.keys(u).forEach(b=>{const p=i.value.findIndex(c=>Object.keys(c)[0]===b);p!==-1&&(i.value[p][b].value=u[b].value)});const h=document.getElementById("prompt");h&&h.scrollIntoView({behavior:"smooth"})}t({copyPromptInputs:l}),i.value.forEach(u=>{const h=Object.keys(u)[0];["image","image-inpaint"].includes(u[h].type)||ce(()=>u[h].value,()=>{var p,c;const b={};i.value.forEach(f=>{const P=Object.keys(f)[0];b[P]=f[P].value}),localStorage.setItem(`input_params_map_${(p=a.currentFlow)==null?void 0:p.name}`,JSON.stringify({...b,flow_version:(c=a.currentFlow)==null?void 0:c.version}))})});const r=I(!1),d=I(1),g=I(!1);return(u,h)=>{const b=pe,p=io,c=Ft,f=zt,P=he;return s(a).currentFlow?(v(),x("div",ro,[C("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:h[0]||(h[0]=()=>{g.value=!s(g)})},[_(b,{name:s(g)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),R(" Prompt ")]),it(C("div",null,[_(p,{"input-params-map":s(i),"additional-input-params-map":s(o),advanced:!1},null,8,["input-params-map","additional-input-params-map"]),s(o).length>0?(v(),T(p,{key:0,"input-params-map":s(i),"additional-input-params-map":s(o),advanced:!0},null,8,["input-params-map","additional-input-params-map"])):F("",!0),s(a).currentFlow.is_count_supported?(v(),T(f,{key:1,label:"Number of images"},{default:B(()=>[_(c,{modelValue:s(d),"onUpdate:modelValue":h[1]||(h[1]=S=>ke(d)?d.value=S:null),type:"number",min:"1",max:"50",label:"Batch size",class:"mb-3 max-w-fit flex justify-end"},null,8,["modelValue"])]),_:1})):F("",!0),C("div",uo,[_(P,{icon:"i-heroicons-sparkles-16-solid",variant:"outline",loading:s(r),onClick:h[2]||(h[2]=()=>{r.value=!0,s(a).runFlow(s(a).currentFlow,[...s(i),...s(o)],s(d)).finally(()=>{r.value=!1;const S=s(o).find(U=>Object.keys(U)[0]==="seed");S.seed.value=Number(S.seed.value)+s(d)+1})})},{default:B(()=>[R(" Run prompt ")]),_:1},8,["loading"])])],512),[[Mt,!s(g)]])])):F("",!0)}}}),mo=e=>{const t=I(0);function a(o){e.value.style.scrollSnapType="none",e.value.style.scrollBehavior="auto",t.value=o.pageX,window.addEventListener("mousemove",i),window.addEventListener("mouseup",n)}function n(){e.value.style.removeProperty("scroll-behavior"),e.value.style.removeProperty("scroll-snap-type"),e.value.style.removeProperty("pointer-events"),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",n)}function i(o){o.preventDefault(),e.value.style.pointerEvents="none";const l=o.pageX-t.value;t.value=o.pageX,e.value.scrollBy(-l,0)}ee(()=>{e.value&&e.value.addEventListener("mousedown",a)}),_e(()=>{e.value&&e.value.removeEventListener("mousedown",a)})},yt=Ee(X.ui.strategy,X.ui.carousel,_n),fo=K({components:{UButton:he},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},arrows:{type:Boolean,default:!1},indicators:{type:Boolean,default:!1},prevButton:{type:Object,default:()=>yt.default.prevButton},nextButton:{type:Object,default:()=>yt.default.nextButton},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:void 0}},setup(e,{expose:t}){const{ui:a,attrs:n}=Ne("carousel",be(e,"ui"),yt,be(e,"class")),i=I(),o=I(0),{x:l}=nn(i,{behavior:"smooth"}),{width:r}=ln(i);mo(i),on(i,h=>{var p,c;const[b]=h;o.value=((c=(p=b==null?void 0:b.target)==null?void 0:p.firstElementChild)==null?void 0:c.clientWidth)||0});const d=$(()=>o.value?Math.round(l.value/o.value)+1:0),g=$(()=>o.value?e.items.length-Math.round(r.value/o.value)+1:0),k=$(()=>d.value<=1),w=$(()=>d.value===g.value);function m(){l.value+=o.value}function y(){l.value-=o.value}function u(h){l.value=(h-1)*o.value}return t({pages:g,page:d,prev:y,next:m,select:u}),{ui:a,attrs:n,isFirst:k,isLast:w,carouselRef:i,pages:g,currentPage:d,onClickNext:m,onClickPrev:y,onClick:u,twMerge:Me}}}),po=["role"],vo=["aria-selected","aria-label","onClick"];function go(e,t,a,n,i,o){const l=he;return v(),x("div",le({class:e.ui.wrapper},e.attrs),[C("div",{ref:"carouselRef",class:N([e.ui.container,"no-scrollbar"])},[(v(!0),x(Y,null,se(e.items,(r,d)=>(v(),x("div",{key:d,class:N(e.ui.item),role:e.indicators?"tabpanel":null},[de(e.$slots,"default",{item:r,index:d},void 0,!0)],10,po))),128))],2),e.arrows?(v(),x("div",{key:0,class:N(e.ui.arrows.wrapper)},[de(e.$slots,"prev",{onClick:e.onClickPrev,disabled:e.isFirst},()=>{var r;return[e.prevButton?(v(),T(l,le({key:0,disabled:e.isFirst},{...e.ui.default.prevButton,...e.prevButton},{class:e.twMerge(e.ui.default.prevButton.class,(r=e.prevButton)==null?void 0:r.class),"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["disabled","class","onClick"])):F("",!0)]},!0),de(e.$slots,"next",{onClick:e.onClickNext,disabled:e.isLast},()=>{var r;return[e.nextButton?(v(),T(l,le({key:0,disabled:e.isLast},{...e.ui.default.nextButton,...e.nextButton},{class:e.twMerge(e.ui.default.nextButton.class,(r=e.nextButton)==null?void 0:r.class),"aria-label":"Next",onClick:e.onClickNext}),null,16,["disabled","class","onClick"])):F("",!0)]},!0)],2)):F("",!0),e.indicators?(v(),x("div",{key:1,role:"tablist",class:N(e.ui.indicators.wrapper)},[(v(!0),x(Y,null,se(e.pages,r=>de(e.$slots,"indicator",{key:r,onClick:e.onClick,active:r===e.currentPage,page:r},()=>[C("button",{type:"button",role:"tab","aria-selected":r===e.currentPage,class:N([e.ui.indicators.base,r===e.currentPage?e.ui.indicators.active:e.ui.indicators.inactive]),"aria-label":`set slide ${r}`,onClick:d=>e.onClick(r)},null,10,vo)],!0)),128))],2)):F("",!0)],16)}const Ca=Fe(fo,[["render",go],["__scopeId","data-v-ea54307d"]]),ho={class:"flex flex-col basis-full"},bo=K({__name:"QueueInputFiles",props:{running:{type:Object,required:!0}},setup(e){const t=At(),a=function(r,d){return`${vt()}/tasks/inputs?task_id=${r}&input_index=${d}`},n=I(!1),i=I(""),o=I(0),l=I(!0);return(r,d)=>{var u,h,b,p,c;const g=pe,k=Qe,w=Ca,m=he,y=Ze;return r.$props.running&&r.$props.running.input_files&&((u=Object.keys(r.$props.running.input_files))==null?void 0:u.length)>0?(v(),x("div",{key:0,class:N(["ml-2 mt-2 mb-5",{"mb-10":((h=Object.keys(r.$props.running.input_files))==null?void 0:h.length)>1&&!s(l)}])},[C("h4",{class:"mb-3 font-bold cursor-pointer select-none flex items-center text-sm",onClick:d[0]||(d[0]=()=>l.value=!s(l))},[_(g,{name:s(l)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),C("span",null," Input files ("+q((b=Object.keys(r.$props.running.input_files))==null?void 0:b.length)+") ",1)]),s(l)?F("",!0):(v(),x(Y,{key:0},[((p=Object.keys(r.$props.running.input_files))==null?void 0:p.length)===1?(v(),T(k,{key:0,class:"mb-5 rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:s(t)(`${("buildBackendApiUrl"in r?r.buildBackendApiUrl:s(vt))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:a(r.$props.running.task_id,0),onClick:d[1]||(d[1]=()=>{i.value=a(r.$props.running.task_id,0),o.value=0,n.value=!0})},null,8,["placeholder","src"])):F("",!0),((c=Object.keys(r.$props.running.input_files))==null?void 0:c.length)>1?(v(),T(w,{key:1,items:Object.keys(r.$props.running.input_files).map(f=>({task_id:e.running.task_id,index:f})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:B(({item:f})=>[C("div",ho,[_(k,{class:"rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:s(t)(`${("buildBackendApiUrl"in r?r.buildBackendApiUrl:s(vt))()}/vix_logo.png`,{f:"png",blur:3,q:50}),src:a(f.task_id,f.index),onClick:()=>{i.value=a(r.$props.running.task_id,f.index),o.value=f.index,n.value=!0}},null,8,["placeholder","src","onClick"])])]),_:1},8,["items"])):F("",!0),_(y,{modelValue:s(n),"onUpdate:modelValue":d[4]||(d[4]=f=>ke(n)?n.value=f:null),class:"z-[90]",transition:!1,fullscreen:""},{default:B(()=>[_(m,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:d[2]||(d[2]=()=>n.value=!1)}),C("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:d[3]||(d[3]=Ke(()=>n.value=!1,["left"]))},[s(i)?(v(),T(k,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",placeholder:"/vix_logo.png",src:s(i)},null,8,["src"])):F("",!0)])]),_:1},8,["modelValue"])],64))],2)):F("",!0)}}}),Be=Ee(X.ui.strategy,X.ui.alert,Sn),yo=K({components:{UIcon:pe,UAvatar:ot,UButton:he},inheritAttrs:!1,props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>Be.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>Be.default.closeButton},actions:{type:Array,default:()=>[]},color:{type:String,default:()=>Be.default.color,validator(e){return[...X.ui.colors,...Object.keys(Be.color)].includes(e)}},variant:{type:String,default:()=>Be.default.variant,validator(e){return[...Object.keys(Be.variant),...Object.values(Be.color).flatMap(t=>Object.keys(t))].includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["close"],setup(e){const{ui:t,attrs:a}=Ne("alert",be(e,"ui"),Be),n=$(()=>{var l,r;const o=((r=(l=t.value.color)==null?void 0:l[e.color])==null?void 0:r[e.variant])||t.value.variant[e.variant];return Me(oe(t.value.wrapper,t.value.rounded,t.value.shadow,t.value.padding,o==null?void 0:o.replaceAll("{color}",e.color)),e.class)});function i(o){o.click&&o.click()}return{ui:t,attrs:a,alertClass:n,onAction:i,twMerge:Me}}});function wo(e,t,a,n,i,o){const l=pe,r=ot,d=he;return v(),x("div",le({class:e.alertClass},e.attrs),[C("div",{class:N(["flex",[e.ui.gap,{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}]])},[de(e.$slots,"icon",{icon:e.icon},()=>[e.icon?(v(),T(l,{key:0,name:e.icon,class:N(e.ui.icon.base)},null,8,["name","class"])):F("",!0)]),de(e.$slots,"avatar",{avatar:e.avatar},()=>[e.avatar?(v(),T(r,le({key:0},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):F("",!0)]),C("div",{class:N(e.ui.inner)},[e.title||e.$slots.title?(v(),x("p",{key:0,class:N(e.ui.title)},[de(e.$slots,"title",{title:e.title},()=>[R(q(e.title),1)])],2)):F("",!0),e.description||e.$slots.description?(v(),x("div",{key:1,class:N(e.twMerge(e.ui.description,!e.title&&!e.$slots.title&&"mt-0 leading-5"))},[de(e.$slots,"description",{description:e.description},()=>[R(q(e.description),1)])],2)):F("",!0),(e.description||e.$slots.description)&&(e.actions.length||e.$slots.actions)?(v(),x("div",{key:2,class:N(e.ui.actions)},[de(e.$slots,"actions",{},()=>[(v(!0),x(Y,null,se(e.actions,(g,k)=>(v(),T(d,le({key:k,ref_for:!0},{...e.ui.default.actionButton||{},...g},{onClick:Ke(w=>e.onAction(g),["stop"])}),null,16,["onClick"]))),128))])],2)):F("",!0)],2),e.closeButton||!e.description&&!e.$slots.description&&e.actions.length?(v(),x("div",{key:0,class:N(e.twMerge(e.ui.actions,"mt-0"))},[!e.description&&!e.$slots.description&&(e.actions.length||e.$slots.actions)?de(e.$slots,"actions",{key:0},()=>[(v(!0),x(Y,null,se(e.actions,(g,k)=>(v(),T(d,le({key:k,ref_for:!0},{...e.ui.default.actionButton||{},...g},{onClick:Ke(w=>e.onAction(g),["stop"])}),null,16,["onClick"]))),128))]):F("",!0),e.closeButton?(v(),T(d,le({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{onClick:t[0]||(t[0]=Ke(g=>e.$emit("close"),["stop"]))}),null,16)):F("",!0)],2)):F("",!0)],2)],16)}const xa=Fe(yo,[["render",wo]]),ko=K({__name:"QueueErrorAlert",props:{running:{type:Object,required:!0}},setup(e){const t=ze(),a=I(!1);return(n,i)=>{const o=xa;return v(),T(o,{class:"mb-5",icon:"i-heroicons-exclamation-circle-16-solid",color:"red",variant:"soft",title:"Task failed",description:e.running.error,actions:[{variant:"outline",color:"yellow",label:"Restart",loading:s(a),icon:"i-heroicons-arrow-path",click:()=>{a.value=!0,s(t).restartFlow(n.$props.running).finally(()=>{a.value=!1})}}]},null,8,["description","actions"])}}}),$o={class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md mt-5 mb-10"},Io={class:"flex items-center justify-between mb-2"},So={key:0},_o={key:1,class:"text-red-400"},Co={class:"text-sm mb-5 text-slate-500"},xo={class:"flex justify-between"},Po=K({__name:"Queue",setup(e){const t=ze(),a=I(!1),n=I(!0);return(i,o)=>{var m,y,u,h,b,p,c,f,P;const l=pe,r=he,d=ra,g=bo,k=ko,w=ft;return v(),x("div",$o,[C("div",Io,[C("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center",onClick:o[0]||(o[0]=()=>{n.value=!s(n)})},[_(l,{name:s(n)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),C("span",null," Queue ("+q(s(t).flowsRunningByName((m=s(t).currentFlow)==null?void 0:m.name).length)+") ",1),s(t).flowsRunningByName((y=s(t).currentFlow)==null?void 0:y.name).length>0?(v(),x("span",So," - "+q(`${((h=s(t).flowsRunningByName((u=s(t).currentFlow)==null?void 0:u.name).filter(S=>S.progress>0)[0])==null?void 0:h.progress.toFixed(0))??0}%`),1)):F("",!0),s(t).flowsRunningByNameWithErrors((b=s(t))==null?void 0:b.currentFlow.name).length>0?(v(),x("span",_o," ("+q(s(t).flowsRunningByNameWithErrors((p=s(t).currentFlow)==null?void 0:p.name).length)+") ",1)):F("",!0)]),(c=s(t).currentFlow)!=null&&c.name&&s(t).flowsRunningByName((f=s(t).currentFlow)==null?void 0:f.name).length>0?(v(),T(r,{key:0,icon:"i-heroicons-stop",color:"orange",variant:"outline",loading:s(a),onClick:o[1]||(o[1]=()=>{var S;a.value=!0,s(t).cancelRunningFlows((S=s(t).currentFlow)==null?void 0:S.name).finally(()=>{a.value=!1})})},{default:B(()=>[R(" Cancel all ")]),_:1},8,["loading"])):F("",!0)]),s(n)?F("",!0):(v(!0),x(Y,{key:0},se(s(t).flowsRunningByName((P=s(t).currentFlow)==null?void 0:P.name).filter(S=>S.parent_task_id===null),S=>(v(),x("div",{key:S.task_id,class:"mb-5"},[_(d,{class:"mb-3",value:S==null?void 0:S.progress,indicator:"",color:S.error?"red":"green"},null,8,["value","color"]),C("p",Co,q(["#"+S.task_id,...Object.keys(S.input_params_mapped).filter(U=>S.input_params_mapped[U].value&&S.input_params_mapped[U].value!=="").map(U=>`${S.input_params_mapped[U].display_name}: ${S.input_params_mapped[U].value}`)].join(" | ")+`${S.execution_time?" | execution_time: "+S.execution_time.toFixed(2)+"s":""}`),1),_(g,{running:S},null,8,["running"]),S.error?(v(),T(k,{key:0,running:S},null,8,["running"])):F("",!0),C("div",xo,[_(r,{icon:S.progress>=0&&S.progress<100?"i-heroicons-stop":"i-heroicons-minus-circle",color:S.error?"red":"orange",variant:"outline",loading:s(a),onClick:()=>{a.value=!0,s(t).cancelRunningFlow(S).finally(()=>{a.value=!1})}},{default:B(()=>[R(q(S.progress>=0&&S.progress<100?"Cancel":"Remove"),1)]),_:2},1032,["icon","color","loading","onClick"]),_(w,{items:[[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var U;return s(t).downloadFlowComfy((U=s(t).currentFlow)==null?void 0:U.name,S.task_id)}}]],mode:"click",popper:{placement:"bottom-end"}},{default:B(()=>[_(r,{color:"blue",variant:"outline",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])]))),128))])}}}),Mo=Fe(Po,[["__scopeId","data-v-ffb4d5c5"]]),Fo=K({__name:"ScrollToTop",props:{show:{type:Boolean,required:!0},target:{type:String,required:!0}},setup(e){const t=e;function a(){const n=document.getElementById(t.target);n&&n.scrollIntoView({behavior:"smooth"})}return(n,i)=>{const o=he;return it((v(),T(o,{icon:"i-heroicons-arrow-small-up",color:"black",variant:"outline",onClick:a},null,512)),[[Mt,e.show]])}}}),Ie=Ee(X.ui.strategy,X.ui.select,sn),zo=K({components:{UIcon:pe},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>Ie.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>Ie.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(Ie.size).includes(e)}},color:{type:String,default:()=>Ie.default.color,validator(e){return[...X.ui.colors,...Object.keys(Ie.color)].includes(e)}},variant:{type:String,default:()=>Ie.default.variant,validator(e){return[...Object.keys(Ie.variant),...Object.values(Ie.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t,slots:a}){const{ui:n,attrs:i}=Ne("select",be(e,"ui"),Ie,be(e,"class")),{size:o,rounded:l}=rn({ui:n,props:e}),{emitFormChange:r,inputId:d,color:g,size:k,name:w}=dt(e,Ie),m=$(()=>o.value??k.value),y=O=>{t("update:modelValue",O.target.value)},u=O=>{t("change",O.target.value),r()},h=O=>Rt(O,e.valueAttribute,""),b=O=>Rt(O,e.optionAttribute,""),p=O=>["string","number","boolean"].includes(typeof O)?{[e.valueAttribute]:O,[e.optionAttribute]:O}:{...O,[e.valueAttribute]:h(O),[e.optionAttribute]:b(O)},c=$(()=>e.options.map(O=>p(O))),f=$(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...c.value]:c.value),P=$(()=>{const O=p(e.modelValue),D=f.value.find(H=>H[e.valueAttribute]===O[e.valueAttribute]);return D?D[e.valueAttribute]:""}),S=$(()=>{var D,H;const O=((H=(D=n.value.color)==null?void 0:D[g.value])==null?void 0:H[e.variant])||n.value.variant[e.variant];return Me(oe(n.value.base,n.value.form,l.value,n.value.size[m.value],e.padded?n.value.padding[m.value]:"p-0",O==null?void 0:O.replaceAll("{color}",g.value),(U.value||a.leading)&&n.value.leading.padding[m.value],(V.value||a.trailing)&&n.value.trailing.padding[m.value]),e.placeholder&&!e.modelValue&&n.value.placeholder,e.selectClass)}),U=$(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),V=$(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),J=$(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),Z=$(()=>e.loading&&!U.value?e.loadingIcon:e.trailingIcon||e.icon),M=$(()=>oe(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[m.value])),A=$(()=>oe(n.value.icon.base,g.value&&X.ui.colors.includes(g.value)&&n.value.icon.color.replaceAll("{color}",g.value),n.value.icon.size[m.value],e.loading&&n.value.icon.loading)),z=$(()=>oe(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[m.value])),E=$(()=>oe(n.value.icon.base,g.value&&X.ui.colors.includes(g.value)&&n.value.icon.color.replaceAll("{color}",g.value),n.value.icon.size[m.value],e.loading&&!U.value&&n.value.icon.loading));return{ui:n,attrs:i,name:w,inputId:d,normalizedOptionsWithPlaceholder:f,normalizedValue:P,isLeading:U,isTrailing:V,selectClass:S,leadingIconName:J,leadingIconClass:A,leadingWrapperIconClass:M,trailingIconName:Z,trailingIconClass:E,trailingWrapperIconClass:z,onInput:y,onChange:u}}}),To=["id","name","value","required","disabled"],Bo=["value","label"],Ao=["value","selected","disabled","textContent"],Oo=["value","selected","disabled","textContent"];function jo(e,t,a,n,i,o){const l=pe;return v(),x("div",{class:N(e.ui.wrapper)},[C("select",le({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:t[0]||(t[0]=(...r)=>e.onInput&&e.onInput(...r)),onChange:t[1]||(t[1]=(...r)=>e.onChange&&e.onChange(...r))}),[(v(!0),x(Y,null,se(e.normalizedOptionsWithPlaceholder,(r,d)=>(v(),x(Y,null,[r.children?(v(),x("optgroup",{key:`${r[e.valueAttribute]}-optgroup-${d}`,value:r[e.valueAttribute],label:r[e.optionAttribute]},[(v(!0),x(Y,null,se(r.children,(g,k)=>(v(),x("option",{key:`${g[e.valueAttribute]}-${d}-${k}`,value:g[e.valueAttribute],selected:g[e.valueAttribute]===e.normalizedValue,disabled:g.disabled,textContent:q(g[e.optionAttribute])},null,8,Ao))),128))],8,Bo)):(v(),x("option",{key:`${r[e.valueAttribute]}-${d}`,value:r[e.valueAttribute],selected:r[e.valueAttribute]===e.normalizedValue,disabled:r.disabled,textContent:q(r[e.optionAttribute])},null,8,Oo))],64))),256))],16,To),e.isLeading&&e.leadingIconName||e.$slots.leading?(v(),x("span",{key:0,class:N(e.leadingWrapperIconClass)},[de(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[_(l,{name:e.leadingIconName,class:N(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):F("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(v(),x("span",{key:1,class:N(e.trailingWrapperIconClass)},[de(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[_(l,{name:e.trailingIconName,class:N(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):F("",!0)],2)}const Uo=Fe(zo,[["render",jo],["__scopeId","data-v-9f80dc9e"]]),De=Ee(X.ui.strategy,X.ui.toggle,Cn),Eo=K({components:{HSwitch:tl,UIcon:pe},inheritAttrs:!1,props:{id:{type:String,default:null},name:{type:String,default:null},modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onIcon:{type:String,default:()=>De.default.onIcon},offIcon:{type:String,default:()=>De.default.offIcon},loadingIcon:{type:String,default:()=>De.default.loadingIcon},color:{type:String,default:()=>De.default.color,validator(e){return X.ui.colors.includes(e)}},size:{type:String,default:()=>De.default.size,validator(e){return Object.keys(De.size).includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:a,attrs:n}=Ne("toggle",be(e,"ui"),De),{emitFormChange:i,color:o,inputId:l,name:r}=dt(e),d=$({get(){return e.modelValue},set(u){t("update:modelValue",u),t("change",u),i()}}),g=$(()=>Me(oe(a.value.base,a.value.size[e.size],a.value.rounded,o.value&&a.value.ring.replaceAll("{color}",o.value),o.value&&(d.value?a.value.active:a.value.inactive).replaceAll("{color}",o.value)),e.class)),k=$(()=>oe(a.value.container.base,a.value.container.size[e.size],d.value?a.value.container.active[e.size]:a.value.container.inactive)),w=$(()=>oe(a.value.icon.size[e.size],o.value&&a.value.icon.on.replaceAll("{color}",o.value))),m=$(()=>oe(a.value.icon.size[e.size],o.value&&a.value.icon.off.replaceAll("{color}",o.value))),y=$(()=>oe(a.value.icon.size[e.size],o.value&&a.value.icon.loading.replaceAll("{color}",o.value)));return xt(()=>Pt("$mRW6KdlcYH")),{ui:a,attrs:n,name:r,inputId:l,active:d,switchClass:g,containerClass:k,onIconClass:w,offIconClass:m,loadingIconClass:y}}});function No(e,t,a,n,i,o){const l=pe,r=ge("HSwitch");return v(),T(r,le({id:e.inputId,modelValue:e.active,"onUpdate:modelValue":t[0]||(t[0]=d=>e.active=d),name:e.name,disabled:e.disabled||e.loading,class:e.switchClass},e.attrs),{default:B(()=>[C("span",{class:N(e.containerClass)},[e.loading?(v(),x("span",{key:0,class:N([e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[_(l,{name:e.loadingIcon,class:N(e.loadingIconClass)},null,8,["name","class"])],2)):F("",!0),!e.loading&&e.onIcon?(v(),x("span",{key:1,class:N([e.active?e.ui.icon.active:e.ui.icon.inactive,e.ui.icon.base]),"aria-hidden":"true"},[_(l,{name:e.onIcon,class:N(e.onIconClass)},null,8,["name","class"])],2)):F("",!0),!e.loading&&e.offIcon?(v(),x("span",{key:2,class:N([e.active?e.ui.icon.inactive:e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[_(l,{name:e.offIcon,class:N(e.offIconClass)},null,8,["name","class"])],2)):F("",!0)],2)]),_:1},16,["id","modelValue","name","disabled","class"])}const Ro=Fe(Eo,[["render",No]]);function Pa(e={}){const{copy:t,isSupported:a}=un(),n=rt();function i(o,l={},r={}){a&&t(o).then(()=>{!l.title&&!l.description||n.add({...l,...e})},function(d){n.add({...r,description:r.description||d.message,...e})})}return{copy:i}}const Do={class:"flex flex-col items-center mb-2 max-w-fit mx-auto z-0"},Lo={class:"text-slate-500 text-center text-sm w-full mx-auto flex flex-wrap items-center justify-center md:justify-between"},Vo={class:"toggles py-2"},Ho={class:"mr-2 inline-flex items-center text-sm"},Wo=["for"],qo={class:"mr-2 inline-flex items-center text-sm"},Go=["for"],Ko={key:0,class:"flex items-center"},Qo=["title"],Yo=K({__name:"ChildOutput",props:{flowResult:{type:Object,required:!0},outputsIndex:{type:Number,required:!1,default:()=>0},openImageModal:{type:Function,required:!0}},setup(e){const t=e,a=ze(),n=(c,f=null,P=!1)=>{if(c.child_tasks.length===0)return c;const S=c.child_tasks.findIndex(U=>U.parent_task_node_id===f);return S!==-1?(P||(o.value=c),n(c.child_tasks[S],c.child_tasks[S].outputs[0].comfy_node_id,P)):c};function i(c,f,P=null){if(P!==null&&c.parent_task_node_id===P||Number(c.task_id)===f)return c;for(let S=0;S<c.child_tasks.length;S++)for(let U=0;U<c.child_tasks[S].outputs.length;U++){const V=i(c.child_tasks[S],f,c.child_tasks[S].outputs[U].comfy_node_id);if(V!==null)return V}return null}const o=I(t.flowResult),l=I(n(t.flowResult,t.flowResult.outputs[t.outputsIndex].comfy_node_id,!1));function r(c){var f;return[[{label:`${(f=a.flowByName((c==null?void 0:c.flow_name)??(c==null?void 0:c.name)))==null?void 0:f.display_name}#${c.task_id}`,disabled:!0}],[{label:"View image",icon:"i-heroicons-eye",click:()=>{t.openImageModal(ye({task_id:c.task_id,node_id:c.outputs.length>1?c.outputs[t.outputsIndex].comfy_node_id:c.outputs[0].comfy_node_id}))}}]]}function d(c){var P;const f=[[{label:`${(P=a.flowByName((c==null?void 0:c.flow_name)??(c==null?void 0:c.name)))==null?void 0:P.display_name}#${c.task_id}`,disabled:!0}],[{label:"View image",icon:"i-heroicons-eye",disabled:c.progress<100||c.error!=="",click:()=>{t.openImageModal(ye({task_id:c.task_id,node_id:c.outputs.length>1?c.outputs[t.outputsIndex].comfy_node_id:c.outputs[0].comfy_node_id}))}},{label:c.progress<100?"Cancel":"Delete",labelClass:c.progress<100?"text-orange-500":"text-red-500",icon:c.progress<100?"i-heroicons-stop":"i-heroicons-trash",iconClass:c.progress<100?"bg-orange-500":"bg-red-500",click:()=>{a.deleteFlowHistory(c.task_id).then(()=>{const S=i(t.flowResult,c.parent_task_id,c.parent_task_node_id);S&&(S.child_tasks=S.child_tasks.filter(U=>Number(U.task_id)!==Number(c.task_id))),u(!1,t.flowResult)})}}]];return c.progress<100&&(f[0][1]={label:`Progress: ${Math.ceil(c.progress)}% (${c.execution_time.toFixed(2)}s)`,labelClass:"text-blue-500",disabled:!0}),c.error!==""&&f[0].push({label:`Error: ${c.error}`,labelClass:"text-red-500",slot:"error",click:()=>{Pa().copy(c.error),rt().add({title:"Clipboard",description:`Task #${c.task_id} error copied to clipboard`,timeout:2e3})}}),f}function g(){const c=o.value.parent_task_id;if(!c)return;const f=i(t.flowResult,c,o.value.parent_task_node_id);f&&(o.value=f)}function k(){if(o.value.child_tasks.length===0)return;const c=o.value.outputs.length>1?o.value.outputs[t.outputsIndex].comfy_node_id:o.value.outputs[0].comfy_node_id,f=o.value.child_tasks.find(P=>P.parent_task_node_id===c);f&&(o.value=f)}const w=$(()=>{if(o.value.child_tasks.length===0)return;const c=o.value.outputs.length>1?o.value.outputs[t.outputsIndex].comfy_node_id:o.value.outputs[0].comfy_node_id;return o.value.child_tasks.find(P=>P.parent_task_node_id===c).task_id!==l.value.task_id});function m(){const c=l.value.parent_task_id;if(!c)return;const f=i(t.flowResult,c,l.value.parent_task_node_id);f&&(l.value=f)}function y(){if(l.value.child_tasks.length===0)return;const c=Number(l.value.outputs[0].comfy_node_id),f=l.value.child_tasks.find(P=>Number(P.parent_task_node_id)===c);f&&(l.value=f)}function u(c=!1,f=null){c||(o.value=f),l.value=n(f,f==null?void 0:f.outputs[t.outputsIndex].comfy_node_id,c),h.value=!1}ce(t.flowResult,c=>{u(!0,c)});const h=I(!1),b=I(!0),p=I(null);return ce(h,c=>{c?(p.value=o.value,o.value=t.flowResult):p.value&&(o.value=p.value,l.value=oa(p.value,t.outputsIndex,o.value.outputs.length>1?o.value.outputs[t.outputsIndex].comfy_node_id:o.value.outputs[0].comfy_node_id))}),(c,f)=>{const P=Qe,S=ge("ImgComparisonSlider"),U=Ro,V=he,J=ft,Z=pe,M=ua;return v(),x("div",Do,[it(_(P,{class:"mb-2 rounded-lg cursor-pointer",height:s(a).outputMaxSize,width:s(a).outputMaxSize,draggable:"false",fit:"cover",loading:"lazy",src:("outputImgSrc"in c?c.outputImgSrc:s(ye))({task_id:s(l).progress===100?s(l).task_id:e.flowResult.task_id,node_id:s(l).progress===100?s(l).outputs[0].comfy_node_id:e.flowResult.outputs[e.outputsIndex].comfy_node_id}),onClick:f[0]||(f[0]=A=>e.openImageModal(("outputImgSrc"in c?c.outputImgSrc:s(ye))({task_id:s(l).task_id??e.flowResult.task_id,node_id:s(l).outputs[0].comfy_node_id??e.flowResult.outputs[e.outputsIndex].comfy_node_id})))},null,8,["height","width","src"]),[[Mt,!s(b)]]),s(b)?(v(),T(S,{key:0,class:"mb-2 mx-auto outline-none w-fit rounded-lg"},{default:B(()=>{var A,z,E;return[_(P,{slot:"first",height:s(a).outputMaxSize,width:s(a).outputMaxSize,fit:"cover",draggable:"false",src:("outputImgSrc"in c?c.outputImgSrc:s(ye))({task_id:s(h)?e.flowResult.task_id:s(o).task_id,node_id:s(h)?e.flowResult.outputs[e.outputsIndex].comfy_node_id:s(o).parent_task_node_id!==null?(A=s(o))==null?void 0:A.outputs[0].comfy_node_id:((z=s(o))==null?void 0:z.outputs[e.outputsIndex].comfy_node_id)??((E=s(o))==null?void 0:E.outputs[0].comfy_node_id)})},null,8,["height","width","src"]),s(l)&&s(l).progress===100?(v(),T(P,{key:0,slot:"second",height:s(a).outputMaxSize,width:s(a).outputMaxSize,fit:"cover",draggable:"false",src:("outputImgSrc"in c?c.outputImgSrc:s(ye))({task_id:s(l).task_id,node_id:s(l).outputs[0].comfy_node_id})},null,8,["height","width","src"])):(v(),T(P,{key:1,slot:"second",height:s(a).outputMaxSize,width:s(a).outputMaxSize,fit:"cover",draggable:"false",src:`${("buildBackendUrl"in c?c.buildBackendUrl:s(dn))()}/vix_logo.png`},null,8,["height","width","src"]))]}),_:1})):F("",!0),C("div",Lo,[C("div",Vo,[C("div",Ho,[_(U,{id:`toggle-compare-${e.flowResult.task_id}-${e.outputsIndex}`,modelValue:s(b),"onUpdate:modelValue":f[1]||(f[1]=A=>ke(b)?b.value=A:null),size:"xs",class:"mr-2"},null,8,["id","modelValue"]),C("label",{class:"cursor-pointer select-none",for:`toggle-compare-${e.flowResult.task_id}-${e.outputsIndex}`}," Comparison ",8,Wo)]),C("div",qo,[_(U,{id:`toggle-original-${e.flowResult.task_id}-${e.outputsIndex}`,modelValue:s(h),"onUpdate:modelValue":f[2]||(f[2]=A=>ke(h)?h.value=A:null),disabled:!s(b),size:"xs",class:"mr-2"},null,8,["id","modelValue","disabled"]),C("label",{class:"cursor-pointer select-none",for:`toggle-original-${e.flowResult.task_id}-${e.outputsIndex}`}," Original ",8,Go)])]),s(b)?(v(),x("div",Ko,[_(V,{icon:"i-heroicons-arrow-small-left-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:s(h)||s(o).parent_task_id===null,onClick:g},null,8,["disabled"]),_(J,{items:r(s(o)),mode:"click",popper:{placement:"top"}},{default:B(()=>[_(V,{variant:"link",color:"white",size:"xs"},{default:B(()=>[R(" #"+q(s(h)?e.flowResult.task_id:s(o).task_id),1)]),_:1})]),_:1},8,["items"]),_(V,{icon:"i-heroicons-arrow-small-right-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:s(h)||!s(w),onClick:k},null,8,["disabled"]),_(Z,{class:"mx-3",name:"i-heroicons-arrows-right-left-16-solid"}),_(V,{icon:"i-heroicons-arrow-small-left-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:!i(t.flowResult,s(l).parent_task_id,s(l).parent_task_node_id)||s(l).parent_task_id===Number(s(o).task_id)||s(l).parent_task_id===null,onClick:m},null,8,["disabled"]),_(J,{items:d(s(l)),mode:"click",popper:{placement:"top"}},{error:B(({item:A})=>[C("div",{class:"text-red-500 truncate",title:A.label},q(A.label),9,Qo)]),default:B(()=>[_(V,{class:N({"text-blue-500":s(l).progress!==100&&s(l).error==="","text-red-500":s(l).error!==""}),variant:"link",color:"white",size:"xs"},{default:B(()=>[R(q(s(l).progress===100?"#"+s(l).task_id:Math.ceil(s(l).progress)+"%"),1)]),_:1},8,["class"])]),_:1},8,["items"]),_(V,{icon:"i-heroicons-arrow-small-right-20-solid",size:"2xs",variant:"soft",color:"cyan",disabled:s(l).child_tasks.length===0,onClick:y},null,8,["disabled"]),_(M,{class:"ml-3",text:"Reset comparison",popper:{placement:"top"}},{default:B(()=>[_(V,{icon:"i-heroicons-arrow-path-rounded-square-solid",size:"2xs",variant:"outline",color:"white",onClick:f[3]||(f[3]=()=>u(!1,e.flowResult))})]),_:1})])):F("",!0)])])}}}),Jo={class:"p-4"},Xo=C("h2",{class:"text-lg text-center mb-4"},"Send to flow",-1),Zo={class:"flex justify-center mb-4"},es={key:0,class:"text-sm text-slate-500 text-center mb-4"},ts={class:"text-md text-center text-red-500 mb-4"},as={key:1},ns={class:"flex items-center justify-between"},ls=K({__name:"SendToFlowModal",props:{show:{type:Boolean,required:!1},flowResult:{type:Object,required:!1,default:()=>null},outputImgSrc:{type:String,required:!0},outputParamIndex:{type:Number,required:!0},inputParamsMapped:{type:Object,required:!0},isChildTask:{type:Boolean,required:!1,default:!1}},emits:["update:show"],setup(e,{emit:t}){const a=e,n=ze(),i=$(()=>n.sub_flows.map(w=>({value:w.name,label:`${w.display_name} - ${w.description}`}))),o=I(i.value[0]||""),l=I(!1),r=t;function d(){console.debug("[Send to flow]: ",o.value);const w=n.sub_flows.find(y=>y.name===o.value.value&&y.display_name===o.value.label.split(" - ")[0]);if(console.debug("[Send to flow]: targetFlow",w),!w){rt().add({title:`Target sub-flow "${o.value.value}" not found`,description:"Please, verify the target sub-flow is installed and available and try again",timeout:5e3});return}const m=w.input_params.reduce((y,u)=>{const h={};return u.type==="text"?h[u.name]={value:u.default||"",type:u.type}:u.type==="number"?h[u.name]={value:u.default||0,type:u.type}:u.type==="image"?h[u.name]={value:JSON.stringify({task_id:a.flowResult.task_id,node_id:a.flowResult.outputs.length>1?a.flowResult.outputs[a.outputParamIndex].comfy_node_id:a.flowResult.outputs[0].comfy_node_id})||"",type:u.type}:u.type==="list"?h[u.name]={value:u.default||Object.keys(u.options)[0]||"",type:u.type,options:u.options}:u.type==="bool"?h[u.name]={value:u.default||!1,type:u.type}:["range","range_scale"].includes(u.type)&&(h[u.name]={value:u.default||0,type:u.type}),y.push(h),y},[]);console.debug("[Send to flow]: input_params_map",m),l.value=!0,n.runFlow(w,m,1,g.value,g.value?Number(a.flowResult.task_id):null).finally(()=>{l.value=!1,r("update:show",!1)})}const g=I(!1),k=$(()=>{var w;return a.flowResult.progress===100&&((w=a.flowResult)==null?void 0:w.error)===""});return la(()=>{n.fetchSubFlows("image").then(()=>{o.value=i.value[0]||""}),g.value=!1}),(w,m)=>{const y=Qe,u=xa,h=ca,b=ma,p=he,c=Ze;return v(),T(c,{modelValue:w.$props.show,"onUpdate:modelValue":m[2]||(m[2]=f=>w.$props.show=f),class:"z-[90]",transition:!1},{default:B(()=>[C("div",Jo,[Xo,C("div",Zo,[s(k)?(v(),T(y,{key:0,src:e.outputImgSrc,class:"w-1/2 rounded-lg",draggable:!1},null,8,["src"])):(v(),T(u,{key:1,color:"orange",icon:"i-heroicons-exclamation-circle-solid",title:`Task is still running (${Math.ceil(e.flowResult.progress)}%, ${e.flowResult.execution_time.toFixed(2)}s)`,description:e.flowResult.error!==""?e.flowResult.error:""},null,8,["title","description"]))]),e.inputParamsMapped?(v(),x("p",es,q(["#"+e.flowResult.task_id,...Object.keys(e.inputParamsMapped).filter(f=>e.inputParamsMapped[f].value!=="").map(f=>`${e.inputParamsMapped[f].display_name}: ${e.inputParamsMapped[f].value}`)].join(" | ")),1)):F("",!0),C("p",ts,[s(i).length>0?(v(),T(h,{key:0,modelValue:s(o),"onUpdate:modelValue":m[0]||(m[0]=f=>ke(o)?o.value=f:null),class:"w-full",size:"lg",options:s(i)},null,8,["modelValue","options"])):(v(),x("span",as,"No sub-flows available"))]),e.isChildTask?(v(),T(u,{key:1,class:"mb-4",icon:"i-heroicons-exclamation-circle-solid",title:"Child task",description:"The latest child task is always used as input for sub-flow"})):F("",!0),C("div",ns,[_(b,{modelValue:s(g),"onUpdate:modelValue":m[1]||(m[1]=f=>ke(g)?g.value=f:null),label:"Bind as child task"},null,8,["modelValue"]),_(p,{icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",loading:s(l),disabled:s(i).length===0||e.isChildTask&&!s(k),onClick:d},{default:B(()=>[R(" Send ")]),_:1},8,["loading","disabled"])])])]),_:1},8,["modelValue"])}}}),os={class:"flex flex-col md:flex-row items-center justify-center mb-5 sticky top-1 z-[10]"},ss={class:"flex items-center justify-center"},is={class:"p-4"},rs=C("p",{class:"text-lg text-center mb-4"},"Are you sure you want to delete all results?",-1),us={class:"text-md text-center text-red-500 mb-4"},ds={class:"flex justify-center"},cs={key:0,class:"results overflow-auto"},ms=["id"],fs={class:"flex flex-col basis-full justify-between mx-2"},ps={class:"text-sm text-slate-500 text-center mb-1"},vs={class:"w-5/6 mx-auto"},gs={class:"w-full flex justify-center items-center"},hs={key:1,class:"text-center text-slate-500"},bs=K({__name:"Output",emits:["copy-prompt-inputs"],setup(e,{emit:t}){const a=ze(),n=$(()=>{var M;return a.flowResultsByName((M=a.currentFlow)==null?void 0:M.name).length>0||!1}),i=$(()=>{var M;return a.flowResultsByName((M=a.currentFlow)==null?void 0:M.name).reverse()||[]}),o=$(()=>a.$state.resultsPageSize);ce(i,()=>{i.value.length<=a.$state.resultsPageSize?a.$state.resultsPage=1:a.$state.resultsPage>Math.ceil(i.value.length/a.$state.resultsPageSize)&&(a.$state.resultsPage=Math.ceil(i.value.length/a.$state.resultsPageSize))}),ce(o,()=>{i.value.length<=a.$state.resultsPageSize?a.$state.resultsPage=1:a.$state.resultsPage>Math.ceil(i.value.length/a.$state.resultsPageSize)&&(a.$state.resultsPage=Math.ceil(i.value.length/a.$state.resultsPageSize)),a.saveUserOptions()}),_e(()=>{a.$state.flow_results_filter="",a.$state.resultsPage=1});const l=t;function r(M){l("copy-prompt-inputs",M.input_params_mapped)}function d(M){u.value=M,y.value=!0}const g=I(null),k=I(!1);window.addEventListener("scroll",()=>{var M;k.value=window.scrollY>(((M=g.value)==null?void 0:M.offsetTop)+window.screen.height||0)});const w=$(()=>a.$state.resultsPage);ce(w,()=>{const M=document.getElementById("output-container");M&&M.scrollIntoView({behavior:"smooth"})});const m=I(!1),y=I(!1),u=I(""),h=I(!1),b=I(!1),p=I(!1),c=I(""),f=I(null),P=I({}),S=I(0),U=I(!1);function V(M,A=0){if(M.child_tasks.length===0||!Dt(M,A,M.outputs[A].comfy_node_id))f.value=M,c.value=ye({task_id:M.task_id,node_id:M.outputs[A].comfy_node_id}),P.value=M.input_params_mapped,U.value=!1;else{const z=oa(M,A,M.outputs[A].comfy_node_id);f.value=z,P.value=M.input_params_mapped,c.value=ye({task_id:z.task_id,node_id:z.outputs[0].comfy_node_id}),U.value=!0}S.value=A,p.value=!0}function J(M){return["#"+M.task_id,...Object.keys(M.input_params_mapped).filter(A=>M.input_params_mapped[A].value&&M.input_params_mapped[A].value!=="").map(A=>`${M.input_params_mapped[A].display_name}: ${M.input_params_mapped[A].value}`)].join(" | ")+`${M.execution_time?" | execution_time: "+M.execution_time.toFixed(2)+"s":""}`}function Z(M){const A=[[{label:"Use params",labelClass:"text-cyan-500",icon:"i-heroicons-document-duplicate-16-solid",iconClass:"bg-cyan-500",click:()=>r(M)}],[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var z;return a.downloadFlowComfy((z=a.currentFlow)==null?void 0:z.name,M.task_id)}}]];return M.outputs.length===1&&A.splice(1,0,[{label:"Send to flow",labelClass:"text-violet-500",icon:"i-heroicons-arrow-uturn-up-solid",iconClass:"bg-violet-500",click:()=>{V(M)}}]),A}return(M,A)=>{var xe;const z=Fo,E=pe,O=Ft,D=$n,H=Uo,Q=he,me=ft,ve=sa,te=Ze,L=Yo,W=Qe,ae=Ca,ie=ls;return v(),x("div",{id:"output-container",ref_key:"outputContainer",ref:g,class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md my-10"},[_(z,{show:s(k),class:"fixed bottom-5 right-5",target:"output-container"},null,8,["show"]),C("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:A[0]||(A[0]=()=>{m.value=!s(m)})},[_(E,{name:s(m)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),R(" Output ("+q(s(i).filter(j=>j.parent_task_id===null).length)+") ",1)]),s(m)?F("",!0):(v(),x(Y,{key:0},[C("div",os,[_(O,{modelValue:s(a).$state.flow_results_filter,"onUpdate:modelValue":A[1]||(A[1]=j=>s(a).$state.flow_results_filter=j),icon:"i-heroicons-magnifying-glass-20-solid",color:"white",class:"md:mr-3",label:"Filter by prompt",trailing:!0,placeholder:"Filter results by prompt"},null,8,["modelValue"]),s(i).filter(j=>j.parent_task_id===null).length>s(a).$state.resultsPageSize?(v(),T(D,{key:0,modelValue:s(a).$state.resultsPage,"onUpdate:modelValue":A[2]||(A[2]=j=>s(a).$state.resultsPage=j),class:"my-1 md:my-0","page-count":s(a).$state.resultsPageSize,total:s(i).filter(j=>j.parent_task_id===null).length,"show-first":"","show-last":""},null,8,["modelValue","page-count","total"])):F("",!0),C("div",ss,[_(H,{modelValue:s(a).resultsPageSize,"onUpdate:modelValue":A[3]||(A[3]=j=>s(a).resultsPageSize=j),class:"md:mx-3 w-fit mr-3",options:[5,10,20,50,100],label:"Results per page"},null,8,["modelValue"]),_(me,{items:[[{label:"Delete all results",labelClass:"text-red-500",icon:"i-heroicons-trash",iconClass:"dark:text-red-500 text-red-500",click:()=>h.value=!0}]],mode:"click",label:"Options",popper:{placement:"bottom-end"}},{default:B(()=>[_(Q,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:1},8,["items"])]),_(te,{modelValue:s(h),"onUpdate:modelValue":A[6]||(A[6]=j=>ke(h)?h.value=j:null),class:"z-[90]",transition:!1},{default:B(()=>[C("div",is,[rs,C("p",us,[R(" All history and images of "),_(ve,{class:"mx-1",color:"orange",variant:"outline"},{default:B(()=>[R(q(s(a).currentFlow.display_name),1)]),_:1}),R(" will be deleted. ")]),C("div",ds,[_(Q,{class:"mr-2",color:"red",variant:"outline",loading:s(b),onClick:A[4]||(A[4]=()=>{var j;b.value=!0,s(a).deleteFlowResults((j=s(a).currentFlow)==null?void 0:j.name).then(()=>{b.value=!1,h.value=!1})})},{default:B(()=>[R(" Yes ")]),_:1},8,["loading"]),_(Q,{variant:"outline",onClick:A[5]||(A[5]=()=>h.value=!1)},{default:B(()=>[R("No")]),_:1})])])]),_:1},8,["modelValue"])]),s(n)?(v(),x("div",cs,[(v(!0),x(Y,null,se(s(a).flowResultsByNamePaginated((xe=s(a).currentFlow)==null?void 0:xe.name),j=>(v(),x("div",{id:"task_id_"+j.task_id,key:j.task_id,class:"flex flex-col justify-center mx-auto mb-5"},[j.outputs.length===1?(v(),x(Y,{key:0},[j!=null&&j.child_tasks&&(j==null?void 0:j.child_tasks.length)>0?(v(),T(L,{key:0,"flow-result":j,"open-image-modal":d},null,8,["flow-result"])):j.outputs.length===1?(v(),T(W,{key:1,class:"mb-2 mx-auto rounded-lg cursor-pointer",height:s(a).$state.outputMaxSize,width:s(a).$state.outputMaxSize,draggable:"false",fit:"cover",loading:"lazy",src:("outputImgSrc"in M?M.outputImgSrc:s(ye))({task_id:j.task_id,node_id:j.outputs[0].comfy_node_id}),onClick:re=>d(("outputImgSrc"in M?M.outputImgSrc:s(ye))({task_id:j.task_id,node_id:j.outputs[0].comfy_node_id}))},null,8,["height","width","src","onClick"])):F("",!0)],64)):j.outputs.length>1?(v(),T(ae,{key:1,class:"mb-3 rounded-lg overflow-hidden",items:j.outputs.map((re,Ge)=>({task_id:j.task_id,node_id:re.comfy_node_id,index:Ge})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4 md:hidden"}},page:1,indicators:""},{default:B(({item:re})=>[C("div",fs,[j!=null&&j.child_tasks&&("hasChildTaskByParentTaskNodeId"in M?M.hasChildTaskByParentTaskNodeId:s(Dt))(j,re.index,re.node_id)?(v(),T(L,{key:0,"flow-result":j,"outputs-index":re.index,"open-image-modal":d},null,8,["flow-result","outputs-index"])):(v(),T(W,{key:1,class:N(`mb-2 h-100 max-h-[${s(a).$state.outputMaxSize}px] mx-auto rounded-lg cursor-pointer`),draggable:"false",height:s(a).$state.outputMaxSize,width:s(a).$state.outputMaxSize,fit:"cover",loading:"lazy",src:("outputImgSrc"in M?M.outputImgSrc:s(ye))(re),onClick:Ge=>d(("outputImgSrc"in M?M.outputImgSrc:s(ye))(re))},null,8,["class","height","width","src","onClick"])),_(Q,{class:"mt-2 w-fit mx-auto",icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",size:"xs",variant:"outline",onClick:()=>{V(j,re.index)}},{default:B(()=>[R(" Send to flow ")]),_:2},1032,["onClick"])])]),_:2},1032,["items"])):F("",!0),C("div",ps,[C("div",vs,[(v(!0),x(Y,null,se(J(j).split("|"),re=>(v(),T(ve,{key:re,class:"mr-2 mb-2 last:mr-0 hover:cursor-pointer",variant:"soft",color:"gray",onClick:()=>{("useCopyToClipboard"in M?M.useCopyToClipboard:s(Pa))().copy(re),("useToast"in M?M.useToast:s(rt))().add({title:"Clipboard",description:`${re.split(":")[0].trim()} copied to clipboard`,timeout:2e3})}},{default:B(()=>[R(q(re),1)]),_:2},1032,["onClick"]))),128))])]),C("div",gs,[_(Q,{class:"mr-3",color:"red",icon:"i-heroicons-trash",variant:"outline",size:"xs",onClick:()=>s(a).deleteFlowHistory(j.task_id)},{default:B(()=>[R(" Delete ")]),_:2},1032,["onClick"]),_(me,{items:Z(j),mode:"click",popper:{placement:"bottom-start"}},{default:B(()=>[_(Q,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid",size:"xs"})]),_:2},1032,["items"])])],8,ms))),128)),_(ie,{modelValue:s(p),"onUpdate:modelValue":A[7]||(A[7]=j=>ke(p)?p.value=j:null),"flow-result":s(f),"output-img-src":s(c),"output-param-index":s(S),"input-params-mapped":s(P),"is-child-task":s(U),"onUpdate:show":A[8]||(A[8]=j=>p.value=j)},null,8,["modelValue","flow-result","output-img-src","output-param-index","input-params-mapped","is-child-task"])])):(v(),x("p",hs," No output results available "))],64)),_(te,{modelValue:s(y),"onUpdate:modelValue":A[11]||(A[11]=j=>ke(y)?y.value=j:null),class:"z-[90]",transition:!1,fullscreen:""},{default:B(()=>[_(Q,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:A[9]||(A[9]=()=>y.value=!1)}),C("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:A[10]||(A[10]=Ke(()=>y.value=!1,["left"]))},[s(u)?(v(),T(W,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",src:s(u)},null,8,["src"])):F("",!0)])]),_:1},8,["modelValue"])],512)}}}),ys={class:"flex flex-col lg:flex-row flex-grow items-start w-full"},ws={class:"card-wrapper w-full lg:pr-5"},ks={key:0,class:"p-0 text-sm"},$s={class:"flex flex-row items-center text-slate-400 mb-2"},Is={class:"flex flex-row flex-wrap items-center text-md mb-2"},Ss=C("b",null,"Author:",-1),_s=["href"],Cs={class:"flex flex-row items-center text-md mb-2"},xs=["href"],Ps={key:1},Ms={class:"flex flex-row items-center text-md mb-2"},Fs=C("b",null,"Version:",-1),zs={key:0},Ts={class:"flex flex-row items-center text-md mb-2"},Bs=C("b",null,"Tags:",-1),As={key:0,class:"flex flex-row flex-wrap items-center text-md mb-2"},Os=["href"],js={key:1,class:"flex flex-row flex-wrap items-center text-md"},Us=C("b",null,"Requires:",-1),Es={key:0,class:"flex justify-end"},Ns={class:"flex flex-row items-center justify-center text-sm mr-2"},Rs={key:1},Ds={class:"text-sm flex justify-end"},Ls={class:"flex flex-row items-center justify-center text-sm mr-3"},Vs={key:0,class:"text-right"},Hs=C("p",{class:"text-orange-500"},"Only admin can manage workflows.",-1),Ws=C("span",{class:"text-slate-500"},"Ask your admin to setup this workflow",-1),qs=[Hs,Ws],Gs={class:"prompt-wrapper w-full"},Ks={class:"flex items-center justify-between"},Qs=C("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Confirm workflow deletion ",-1),Ys={class:"pb-2"},Js=C("b",null,"private",-1),Xs={class:"flex justify-end items-center"},si=K({__name:"[name]",setup(e){const t=cn(),a=ze();a.setCurrentFlow(t.params.name);const n=$(()=>a.flowInstallingByName(t.params.name)),i=$(()=>{var b;return n.value&&((b=n.value)==null?void 0:b.progress)<100||!1}),o=I(!1),l=$(()=>{var b;return n.value?"error"in n.value&&((b=n.value)==null?void 0:b.error)!==""?`${n.value.progress.toFixed(0)}% Error setting up`:`${n.value.progress.toFixed(0)}% Setting up`:"Setup flow"}),r=I(!1),d=I(!1),g=$(()=>{var p;const b=[[{label:"Delete flow",icon:"i-heroicons-trash",click:w}]];return((p=a==null?void 0:a.currentFlow)==null?void 0:p.new_version_available)!==""&&b[0].unshift({label:`Update to ${a.currentFlow.new_version_available}`,icon:"i-heroicons-arrow-path",click:()=>{a.updateFlow(a.currentFlow)}}),b});function k(b,p=!1){r.value=!0,a.deleteFlow(b).then(()=>{p&&vn().push("/")}).finally(()=>{r.value=!1,d.value=!1})}function w(){var p;const b=((p=a.currentFlow)==null?void 0:p.private)||!1;if(b){d.value=!0;return}k(a.currentFlow,b)}const m=I(!1),y=I(null),u=function(b){var p;(p=y.value)==null||p.copyPromptInputs(b)},h=mn();return(b,p)=>{const c=pe,f=ua,P=sa,S=he,U=ft,V=In,J=co,Z=Mo,M=bs,A=ra,z=Ze,E=fn;return v(),T(E,null,{default:B(()=>[!s(a).loading.flows_available&&!s(a).loading.flows_installed&&s(a).currentFlow&&!s(a).$state.loading.tasks_history?(v(),x(Y,{key:0},[C("div",ys,[C("div",ws,[_(V,{as:"div",class:"w-full mb-5"},pn({header:B(()=>{var O,D;return[C("h2",{class:"text-xl font-bold cursor-pointer select-none flex items-center",onClick:p[0]||(p[0]=()=>{m.value=!s(m)})},[(O=s(a).currentFlow)!=null&&O.private?(v(),T(f,{key:0,text:"This flow is local, manually added"},{default:B(()=>[_(c,{name:"i-heroicons-lock-closed",class:"mr-2"})]),_:1})):F("",!0),_(c,{name:s(m)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),R(" "+q((D=s(a).currentFlow)==null?void 0:D.display_name),1)])]}),default:B(()=>{var O,D,H,Q,me,ve,te,L,W,ae,ie,xe,j,re,Ge,pt,Ot;return[s(m)?F("",!0):(v(),x("div",ks,[C("p",$s,q((O=s(a).currentFlow)==null?void 0:O.description),1),C("p",Is,[_(c,{name:"i-heroicons-user-16-solid",class:"mr-1"}),Ss,R(" "),C("a",{class:"hover:underline text-md",href:(D=s(a).currentFlow)==null?void 0:D.homepage,rel:"noopener",target:"_blank"},q((H=s(a).currentFlow)==null?void 0:H.author),9,_s)]),C("p",Cs,[_(c,{name:"i-heroicons-document-text",class:"mr-1"}),(Q=s(a).currentFlow)!=null&&Q.documentation?(v(),x("a",{key:0,class:"hover:underline",href:(me=s(a).currentFlow)==null?void 0:me.documentation,rel:"noopener",target:"_blank"}," Documentation ",8,xs)):(v(),x("span",Ps,"No documentation"))]),C("p",Ms,[_(c,{name:"i-heroicons-clock",class:"mr-1"}),Fs,R(" "),C("span",null,q((ve=s(a).currentFlow)==null?void 0:ve.version),1),((te=s(a).currentFlow)==null?void 0:te.new_version_available)!==""?(v(),x("span",zs," (new version available: "+q((L=s(a).currentFlow)==null?void 0:L.new_version_available)+") ",1)):F("",!0)]),C("p",Ts,[_(c,{name:"i-heroicons-tag",class:"mr-1"}),Bs,R(" "),((W=s(a).currentFlow)==null?void 0:W.tags.length)>0?(v(!0),x(Y,{key:0},se((ae=s(a).currentFlow)==null?void 0:ae.tags,$e=>(v(),T(P,{key:$e,label:$e,color:"white",variant:"solid",class:"m-1"},null,8,["label"]))),128)):(v(),T(P,{key:1,label:"No tags",color:"white",variant:"solid",class:"m-1"}))]),((xe=(ie=s(a).currentFlow)==null?void 0:ie.models)==null?void 0:xe.length)>0?(v(),x("p",As,[_(c,{name:"i-heroicons-arrow-down-on-square-stack",class:"mr-1"}),C("b",null,"Models ("+q((j=s(a).currentFlow)==null?void 0:j.models.length)+"):",1),R(" "),(v(!0),x(Y,null,se((re=s(a).currentFlow)==null?void 0:re.models,$e=>(v(),T(P,{key:$e.name,class:"m-1",color:"white",variant:"solid"},{default:B(()=>[$e.gated?(v(),T(f,{key:0,text:"Gated model, requires auth token for download",popper:{placement:"top"}},{default:B(()=>[_(c,{name:"i-heroicons-key",class:"mr-1"})]),_:1})):F("",!0),C("a",{class:"hover:underline underline-offset-4",href:$e.homepage,rel:"noopener",target:"_blank"},q($e.name),9,Os)]),_:2},1024))),128))])):F("",!0),((pt=(Ge=s(a).currentFlow)==null?void 0:Ge.requires)==null?void 0:pt.length)>0?(v(),x("p",js,[Us,R(" "),(v(!0),x(Y,null,se((Ot=s(a).currentFlow)==null?void 0:Ot.requires,$e=>(v(),T(P,{key:$e,class:"m-1",color:"yellow",variant:"outline"},{default:B(()=>[R(q($e),1)]),_:2},1024))),128))])):F("",!0)]))]}),_:2},[s(m)?void 0:{name:"footer",fn:B(()=>[s(h).isAdmin?(v(),x("div",Es,[C("div",Ns,[_(c,{name:s(a).isFlowInstalled(s(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),C("span",{class:N({"text-green-500":s(a).isFlowInstalled(s(t).params.name),"text-red-500":!s(a).isFlowInstalled(s(t).params.name)})},q(s(a).isFlowInstalled(s(t).params.name)?"Installed":"Not installed"),3)]),s(a).isFlowInstalled(s(t).params.name)?F("",!0):(v(),T(f,{key:0,text:"Setup flow dependencies and configure it in ComfyUI",popper:{placement:"top"},"open-delay":500},{default:B(()=>[_(S,{icon:"i-heroicons-arrow-down-tray",class:"mx-3",color:"primary",variant:"outline",loading:s(i),onClick:p[1]||(p[1]=()=>s(a).setupFlow(s(a).currentFlow))},{default:B(()=>[R(q(s(l)),1)]),_:1},8,["loading"])]),_:1})),!s(a).isFlowInstalled(s(t).params.name)&&s(i)?(v(),T(f,{key:1,text:"Cancel flow installation",popper:{placement:"top"},"open-delay":500},{default:B(()=>[_(S,{icon:"i-heroicons-stop",variant:"outline",color:"orange",loading:s(o),onClick:p[2]||(p[2]=()=>{o.value=!0,s(a).cancelFlowSetup(s(a).currentFlow).then(()=>{o.value=!1})})},{default:B(()=>[R(" Cancel ")]),_:1},8,["loading"])]),_:1})):F("",!0),s(a).isFlowInstalled(s(t).params.name)?(v(),T(U,{key:2,items:s(g),mode:"click",label:"Actions",popper:{placement:"bottom-end"}},{default:B(()=>[_(S,{color:"white",label:"Actions","trailing-icon":"i-heroicons-chevron-down-20-solid"})]),_:1},8,["items"])):F("",!0)])):(v(),x("div",Rs,[C("div",Ds,[C("div",Ls,[_(c,{name:s(a).isFlowInstalled(s(t).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),C("span",{class:N({"text-green-500":s(a).isFlowInstalled(s(t).params.name),"text-red-500":!s(a).isFlowInstalled(s(t).params.name)})},q(s(a).isFlowInstalled(s(t).params.name)?"Installed":"Not installed"),3)]),s(a).isFlowInstalled(s(t).params.name)?F("",!0):(v(),x("div",Vs,qs))])]))]),key:"0"}]),1024)]),C("div",Gs,[!s(r)&&s(a).isFlowInstalled(s(t).params.name)?(v(),T(J,{key:0,ref_key:"workflowPrompt",ref:y},null,512)):F("",!0)])]),!s(r)&&s(a).isFlowInstalled(s(t).params.name)?(v(),T(Z,{key:0})):F("",!0),!s(r)&&s(a).isFlowInstalled(s(t).params.name)||s(a).flowResultsByName(s(t).params.name).length>0?(v(),T(M,{key:1,onCopyPromptInputs:p[3]||(p[3]=O=>u(O))})):F("",!0)],64)):(v(),T(A,{key:1,class:"mb-3"})),_(z,{modelValue:s(d),"onUpdate:modelValue":p[7]||(p[7]=O=>ke(d)?d.value=O:null),"prevent-close":""},{default:B(()=>[_(V,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:B(()=>[C("div",Ks,[Qs,_(S,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:p[4]||(p[4]=O=>d.value=!1)})])]),default:B(()=>{var O;return[C("p",Ys,[R(" Are you sure you want to delete the "),Js,R(" workflow "),C("b",null,q((O=s(a).currentFlow)==null?void 0:O.display_name),1),R("? ")]),C("div",Xs,[_(S,{icon:"i-heroicons-x-mark-16-solid",variant:"outline",color:"green",class:"mr-2",onClick:p[5]||(p[5]=D=>d.value=!1)},{default:B(()=>[R(" Cancel ")]),_:1}),_(S,{icon:"i-heroicons-trash",variant:"outline",color:"red",onClick:p[6]||(p[6]=D=>{var H;return k(s(a).currentFlow,((H=s(a).currentFlow)==null?void 0:H.private)||!1)})},{default:B(()=>[R(" Delete ")]),_:1})])]}),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{si as default};
