import{v as g,i as y,x as dn,y as se,z as Jt,A as _n,r as O,B as ke,C as ht,g as Q,D as de,E as el,G as B,H as ve,I as yt,J as ze,K as wt,L as re,M as ie,N as fe,O as pt,P as cn,Q as gt,R as me,T as ot,F as te,S as Ie,U as Lt,V as Te,W as it,X as we,Y as Me,Z as ue,$ as tl,a0 as Dt,a1 as W,a2 as nl,a3 as ll,a4 as qe,a5 as vn,a6 as ut,a7 as mt,a8 as Be,a9 as al,aa as ol,ab as il,ac as rl,ad as sl,ae as ul,af as Xt,ag as fn,ah as mn,ai as dl,aj as pn,ak as cl,al as Ne,am as vl,n as A,an as $e,ao as fl,ap as J,_ as Oe,l as be,aq as Xe,ar as Se,as as ce,at as Ze,au as gn,av as Vt,aw as ml,ax as Ce,ay as oe,az as je,o as w,j as N,w as H,b as j,aA as G,a as R,c as P,aB as Nt,aC as bn,aD as ee,k as E,s as he,aE as Ye,t as Z,d as _,e as hn,aF as rt,aG as yn,aH as pl,aI as wn,aJ as gl,aK as Ut,aL as Zt,aM as bl,aN as Et,aO as hl,aP as yl,aQ as Gt,aR as wl,aS as kn,u as kl,aT as Sn,aU as Sl,aV as Il,aW as at,aX as kt,aY as $l,aZ as Ol,a_ as Qe,a$ as Cl,b0 as Ml,b1 as He,b2 as Je,m as Pe,h as Ke,b3 as In,b4 as Pl,b5 as zl,b6 as Tl,b7 as $n,b8 as Fl,b9 as Al,ba as On,bb as Rl,q as El,bc as Bl}from"./BQRvMzbg.js";import{d as Cn,b as Mn,c as xl,_ as jl,a as Ll}from"./EEZrbXrr.js";const Dl={wrapper:"w-full relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium",description:"mt-1 text-sm leading-4 opacity-90",actions:"flex items-center gap-2 mt-3 flex-shrink-0",shadow:"",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0 self-center",size:"md"},color:{white:{solid:"text-gray-900 dark:text-white bg-white dark:bg-gray-900 ring-1 ring-gray-200 dark:ring-gray-800"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{color:"white",variant:"solid",icon:null,closeButton:null,actionButton:{size:"xs",color:"primary",variant:"link"}}},Vl={wrapper:"relative",container:"relative w-full flex overflow-x-auto snap-x snap-mandatory scroll-smooth",item:"flex flex-none snap-center",arrows:{wrapper:"flex items-center justify-between"},indicators:{wrapper:"absolute flex items-center justify-center gap-3 bottom-4 inset-x-0",base:"rounded-full h-3 w-3",active:"bg-primary-500 dark:bg-primary-400",inactive:"bg-gray-100 dark:bg-gray-800 mix-blend-overlay"},default:{prevButton:{color:"black",class:"rtl:[&_span:first-child]:rotate-180 absolute left-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"black",class:"rtl:[&_span:last-child]:rotate-180 absolute right-4 top-1/2 transform -translate-y-1/2 rounded-full",icon:"i-heroicons-chevron-right-20-solid "}}},Nl={wrapper:"",inner:"",label:{wrapper:"flex content-center items-center justify-between",base:"block font-medium text-gray-700 dark:text-gray-200",required:"after:content-['*'] after:ms-0.5 after:text-red-500 dark:after:text-red-400"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},container:"mt-1 relative",description:"text-gray-500 dark:text-gray-400",hint:"text-gray-500 dark:text-gray-400",help:"mt-2 text-gray-500 dark:text-gray-400",error:"mt-2 text-red-500 dark:text-red-400",default:{size:"sm"}},Ul={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},ql={wrapper:"relative w-full flex items-center",base:"w-full absolute appearance-none cursor-pointer disabled:cursor-not-allowed disabled:bg-opacity-50 focus:outline-none peer group",rounded:"rounded-lg",background:"bg-transparent",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",progress:{base:"absolute pointer-events-none peer-disabled:bg-opacity-50",rounded:"rounded-s-lg",background:"bg-{color}-500 dark:bg-{color}-400",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"}},thumb:{base:"[&::-webkit-slider-thumb]:relative [&::-moz-range-thumb]:relative [&::-webkit-slider-thumb]:z-[1] [&::-moz-range-thumb]:z-[1] [&::-webkit-slider-thumb]:appearance-none [&::-moz-range-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:border-0",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:dark:bg-gray-900 [&::-moz-range-thumb]:bg-current",ring:"[&::-webkit-slider-thumb]:ring-2 [&::-webkit-slider-thumb]:ring-current",size:{"2xs":"[&::-webkit-slider-thumb]:h-1.5 [&::-moz-range-thumb]:h-1.5 [&::-webkit-slider-thumb]:w-1.5 [&::-moz-range-thumb]:w-1.5 [&::-webkit-slider-thumb]:mt-[-2.5px] [&::-moz-range-thumb]:mt-[-2.5px]",xs:"[&::-webkit-slider-thumb]:h-2 [&::-moz-range-thumb]:h-2 [&::-webkit-slider-thumb]:w-2 [&::-moz-range-thumb]:w-2 [&::-webkit-slider-thumb]:mt-[-3px] [&::-moz-range-thumb]:mt-[-3px]",sm:"[&::-webkit-slider-thumb]:h-3 [&::-moz-range-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-moz-range-thumb]:w-3 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",md:"[&::-webkit-slider-thumb]:h-4 [&::-moz-range-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-moz-range-thumb]:w-4 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",lg:"[&::-webkit-slider-thumb]:h-5 [&::-moz-range-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-moz-range-thumb]:w-5 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1",xl:"[&::-webkit-slider-thumb]:h-6 [&::-moz-range-thumb]:h-6 [&::-webkit-slider-thumb]:w-6 [&::-moz-range-thumb]:w-6 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1","2xl":"[&::-webkit-slider-thumb]:h-7 [&::-moz-range-thumb]:h-7 [&::-webkit-slider-thumb]:w-7 [&::-moz-range-thumb]:w-7 [&::-webkit-slider-thumb]:-mt-1 [&::-moz-range-thumb]:-mt-1"}},track:{base:"[&::-webkit-slider-runnable-track]:group-disabled:bg-opacity-50 [&::-moz-range-track]:group-disabled:bg-opacity-50",background:"[&::-webkit-slider-runnable-track]:bg-gray-200 [&::-moz-range-track]:bg-gray-200 [&::-webkit-slider-runnable-track]:dark:bg-gray-700 [&::-moz-range-track]:dark:bg-gray-700",rounded:"[&::-webkit-slider-runnable-track]:rounded-lg [&::-moz-range-track]:rounded-lg",size:{"2xs":"[&::-webkit-slider-runnable-track]:h-px [&::-moz-range-track]:h-px",xs:"[&::-webkit-slider-runnable-track]:h-0.5 [&::-moz-range-track]:h-0.5",sm:"[&::-webkit-slider-runnable-track]:h-1 [&::-moz-range-track]:h-1",md:"[&::-webkit-slider-runnable-track]:h-2 [&::-moz-range-track]:h-2",lg:"[&::-webkit-slider-runnable-track]:h-3 [&::-moz-range-track]:h-3",xl:"[&::-webkit-slider-runnable-track]:h-4 [&::-moz-range-track]:h-4","2xl":"[&::-webkit-slider-runnable-track]:h-5 [&::-moz-range-track]:h-5"}},size:{"2xs":"h-1.5",xs:"h-2",sm:"h-3",md:"h-4",lg:"h-5",xl:"h-6","2xl":"h-7"},default:{size:"md",color:"primary"}},Hl={base:"animate-pulse",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-md"},Wl={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function tt(e,l,t){let n=t.initialDeps??[],o;return()=>{var r,a,i,u;let d;t.key&&((r=t.debug)!=null&&r.call(t))&&(d=Date.now());const f=e();if(!(f.length!==n.length||f.some((c,b)=>n[b]!==c)))return o;n=f;let s;if(t.key&&((a=t.debug)!=null&&a.call(t))&&(s=Date.now()),o=l(...f),t.key&&((i=t.debug)!=null&&i.call(t))){const c=Math.round((Date.now()-d)*100)/100,b=Math.round((Date.now()-s)*100)/100,k=b/16,I=(h,$)=>{for(h=String(h);h.length<$;)h=" "+h;return h};console.info(`%câ± ${I(b,5)} /${I(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*k,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(u=t==null?void 0:t.onChange)==null||u.call(t,o),o}}function Pt(e,l){if(e===void 0)throw new Error("Unexpected undefined");return e}const Kl=(e,l)=>Math.abs(e-l)<1,Ql=(e,l)=>{let t;return function(...n){clearTimeout(t),t=setTimeout(()=>e.apply(this,n),l)}},Yl=e=>e,Jl=e=>{const l=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let o=l;o<=t;o++)n.push(o);return n},Xl=(e,l)=>{const t=e.scrollElement;if(!t)return;const n=r=>{const{width:a,height:i}=r;l({width:Math.round(a),height:Math.round(i)})};if(n(t.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const o=new ResizeObserver(r=>{const a=r[0];if(a!=null&&a.borderBoxSize){const i=a.borderBoxSize[0];if(i){n({width:i.inlineSize,height:i.blockSize});return}}n(t.getBoundingClientRect())});return o.observe(t,{box:"border-box"}),()=>{o.unobserve(t)}},_t={passive:!0},Zl=typeof window>"u"?!0:"onscrollend"in window,Gl=(e,l)=>{const t=e.scrollElement;if(!t)return;let n=0;const o=Zl?()=>{}:Ql(()=>{l(n,!1)},e.options.isScrollingResetDelay),r=u=>()=>{n=t[e.options.horizontal?"scrollLeft":"scrollTop"],o(),l(n,u)},a=r(!0),i=r(!1);return i(),t.addEventListener("scroll",a,_t),t.addEventListener("scrollend",i,_t),()=>{t.removeEventListener("scroll",a),t.removeEventListener("scrollend",i)}},_l=(e,l,t)=>{if(l!=null&&l.borderBoxSize){const n=l.borderBoxSize[0];if(n)return Math.round(n[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},ea=(e,{adjustments:l=0,behavior:t},n)=>{var o,r;const a=e+l;(r=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||r.call(o,{[n.options.horizontal?"left":"top"]:a,behavior:t})};class ta{constructor(l){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let t=null;const n=()=>t||(typeof ResizeObserver<"u"?t=new ResizeObserver(o=>{o.forEach(r=>{this._measureElement(r.target,r)})}):null);return{disconnect:()=>{var o;return(o=n())==null?void 0:o.disconnect()},observe:o=>{var r;return(r=n())==null?void 0:r.observe(o,{box:"border-box"})},unobserve:o=>{var r;return(r=n())==null?void 0:r.unobserve(o)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([n,o])=>{typeof o>"u"&&delete t[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Yl,rangeExtractor:Jl,onChange:()=>{},measureElement:_l,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...t}},this.notify=(t,n)=>{var o,r;const{startIndex:a,endIndex:i}=this.range??{startIndex:void 0,endIndex:void 0},u=this.calculateRange();(t||a!==(u==null?void 0:u.startIndex)||i!==(u==null?void 0:u.endIndex))&&((r=(o=this.options).onChange)==null||r.call(o,this,n))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const t=this.options.getScrollElement();this.scrollElement!==t&&(this.cleanup(),this.scrollElement=t,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(n,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.scrollOffset<n?"forward":"backward":null,this.scrollOffset=n;const r=this.isScrolling;this.isScrolling=o,this.notify(r!==o,o)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=tt(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(t,n,o,r)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:n,scrollMargin:o,getItemKey:r}),{key:!1}),this.getFurthestMeasurement=(t,n)=>{const o=new Map,r=new Map;for(let a=n-1;a>=0;a--){const i=t[a];if(o.has(i.lane))continue;const u=r.get(i.lane);if(u==null||i.end>u.end?r.set(i.lane,i):i.end<u.end&&o.set(i.lane,!0),o.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((a,i)=>a.end===i.end?a.index-i.index:a.end-i.end)[0]:void 0},this.getMeasurements=tt(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:n,scrollMargin:o,getItemKey:r},a)=>{const i=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,i);for(let d=i;d<t;d++){const f=r(d),v=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),s=v?v.end+this.options.gap:n+o,c=a.get(f),b=typeof c=="number"?c:this.options.estimateSize(d),k=s+b,I=v?v.lane:d%this.options.lanes;u[d]={index:d,start:s,size:b,end:k,key:f,lane:I}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=tt(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(t,n,o)=>this.range=t.length>0&&n>0?na({measurements:t,outerSize:n,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=tt(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,n,o,r)=>n===null?[]:t({startIndex:n.startIndex,endIndex:n.endIndex,overscan:o,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const n=this.options.indexAttribute,o=t.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(t,n)=>{const o=this.measurementsCache[this.indexFromElement(t)];if(!o||!t.isConnected){this.measureElementCache.forEach((i,u)=>{i===t&&(this.observer.unobserve(t),this.measureElementCache.delete(u))});return}const r=this.measureElementCache.get(o.key);r!==t&&(r&&this.observer.unobserve(r),this.observer.observe(t),this.measureElementCache.set(o.key,t));const a=this.options.measureElement(t,n,this);this.resizeItem(o,a)},this.resizeItem=(t,n)=>{const o=this.itemSizeCache.get(t.key)??t.size,r=n-o;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,r,this):t.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,n)),this.notify(!0,!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=tt(()=>[this.getIndexes(),this.getMeasurements()],(t,n)=>{const o=[];for(let r=0,a=t.length;r<a;r++){const i=t[r],u=n[i];o.push(u)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const n=this.getMeasurements();return Pt(n[Pn(0,n.length-1,o=>Pt(n[o]).start,t)])},this.getOffsetForAlignment=(t,n)=>{const o=this.getSize();n==="auto"&&(t<=this.scrollOffset?n="start":t>=this.scrollOffset+o?n="end":n="start"),n==="start"?t=t:n==="end"?t=t-o:n==="center"&&(t=t-o/2);const r=this.options.horizontal?"scrollWidth":"scrollHeight",i=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[r]:this.scrollElement[r]:0)-this.getSize();return Math.max(Math.min(i,t),0)},this.getOffsetForIndex=(t,n="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const o=Pt(this.getMeasurements()[t]);if(n==="auto")if(o.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)n="end";else if(o.start<=this.scrollOffset+this.options.scrollPaddingStart)n="start";else return[this.scrollOffset,n];const r=n==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(r,n),n]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:n="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(t,{align:n="auto",behavior:o}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[r,a]=this.getOffsetForIndex(t,n);this._scrollToOffset(r,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(t))){const[u]=this.getOffsetForIndex(t,a);Kl(u,this.scrollOffset)||this.scrollToIndex(t,{align:a,behavior:o})}else this.scrollToIndex(t,{align:a,behavior:o})}))},this.scrollBy=(t,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+t,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var t;const n=this.getMeasurements();let o;return n.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((t=n[n.length-1])==null?void 0:t.end)??0:Math.max(...n.slice(-this.options.lanes).map(r=>r.end)),o-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:n,behavior:o})=>{this.options.scrollToFn(t,{behavior:o,adjustments:n},this)},this.measure=()=>{var t,n;this.itemSizeCache=new Map,(n=(t=this.options).onChange)==null||n.call(t,this,!1)},this.setOptions(l),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(t=>{this.itemSizeCache.set(t.key,t.size)}),this.notify(!1,!1)}}const Pn=(e,l,t,n)=>{for(;e<=l;){const o=(e+l)/2|0,r=t(o);if(r<n)e=o+1;else if(r>n)l=o-1;else return o}return e>0?e-1:0};function na({measurements:e,outerSize:l,scrollOffset:t}){const n=e.length-1,r=Pn(0,n,i=>e[i].start,t);let a=r;for(;a<n&&e[a].end<t+l;)a++;return{startIndex:r,endIndex:a}}function la(e){const l=new ta(y(e)),t=dn(l),n=l._didMount();return se(()=>y(e).getScrollElement(),o=>{o&&l._willUpdate()},{immediate:!0}),se(()=>y(e),o=>{l.setOptions({...o,onChange:(r,a)=>{var i;Jt(t),(i=o.onChange)==null||i.call(o,r,a)}}),l._willUpdate(),Jt(t)},{immediate:!0}),_n(n),t}function aa(e){return la(g(()=>({observeElementRect:Xl,observeElementOffset:Gl,scrollToFn:ea,...y(e)})))}function zn(e,l,t){let n=O(t==null?void 0:t.value),o=g(()=>e.value!==void 0);return[g(()=>o.value?e.value:n.value),function(r){return o.value||(n.value=r),l==null?void 0:l(r)}]}function en(e){return[e.screenX,e.screenY]}function qt(){let e=O([-1,-1]);return{wasMoved(l){let t=en(l);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(l){e.value=en(l)}}}function Tn({container:e,accept:l,walk:t,enabled:n}){ke(()=>{let o=e.value;if(!o||n!==void 0&&!n.value)return;let r=ht(e);if(!r)return;let a=Object.assign(u=>l(u),{acceptNode:l}),i=r.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,a,!1);for(;i.nextNode();)t(i.currentNode)})}function oa(e){function l(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",l))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",l),l())}let xe=[];oa(()=>{function e(l){l.target instanceof HTMLElement&&l.target!==document.body&&xe[0]!==l.target&&(xe.unshift(l.target),xe=xe.filter(t=>t!=null&&t.isConnected),xe.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function ia(e){throw new Error("Unexpected object: "+e)}var K=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(K||{});function bt(e,l){let t=l.resolveItems();if(t.length<=0)return null;let n=l.resolveActiveIndex(),o=n??-1;switch(e.focus){case 0:{for(let r=0;r<t.length;++r)if(!l.resolveDisabled(t[r],r,t))return r;return n}case 1:{o===-1&&(o=t.length);for(let r=o-1;r>=0;--r)if(!l.resolveDisabled(t[r],r,t))return r;return n}case 2:{for(let r=o+1;r<t.length;++r)if(!l.resolveDisabled(t[r],r,t))return r;return n}case 3:{for(let r=t.length-1;r>=0;--r)if(!l.resolveDisabled(t[r],r,t))return r;return n}case 4:{for(let r=0;r<t.length;++r)if(l.resolveId(t[r],r,t)===e.id)return r;return n}case 5:return null;default:ia(e)}}function Ht(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(l=>setTimeout(()=>{throw l}))}function We(){let e=[],l={addEventListener(t,n,o,r){return t.addEventListener(n,o,r),l.add(()=>t.removeEventListener(n,o,r))},requestAnimationFrame(...t){let n=requestAnimationFrame(...t);l.add(()=>cancelAnimationFrame(n))},nextFrame(...t){l.requestAnimationFrame(()=>{l.requestAnimationFrame(...t)})},setTimeout(...t){let n=setTimeout(...t);l.add(()=>clearTimeout(n))},microTask(...t){let n={current:!0};return Ht(()=>{n.current&&t[0]()}),l.add(()=>{n.current=!1})},style(t,n,o){let r=t.style.getPropertyValue(n);return Object.assign(t.style,{[n]:o}),this.add(()=>{Object.assign(t.style,{[n]:r})})},group(t){let n=We();return t(n),this.add(()=>n.dispose())},add(t){return e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let o of e.splice(n,1))o()}},dispose(){for(let t of e.splice(0))t()}};return l}function Wt(e={},l=null,t=[]){for(let[n,o]of Object.entries(e))An(t,Fn(l,n),o);return t}function Fn(e,l){return e?e+"["+l+"]":l}function An(e,l,t){if(Array.isArray(t))for(let[n,o]of t.entries())An(e,Fn(l,n.toString()),o);else t instanceof Date?e.push([l,t.toISOString()]):typeof t=="boolean"?e.push([l,t?"1":"0"]):typeof t=="string"?e.push([l,t]):typeof t=="number"?e.push([l,`${t}`]):t==null?e.push([l,""]):Wt(t,l,e)}var ra={};function sa(e,l){return e===l}var ua=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ua||{}),da=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(da||{}),ca=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(ca||{});let Rn=Symbol("ComboboxContext");function Ge(e){let l=we(Rn,null);if(l===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ge),t}return l}let En=Symbol("VirtualContext"),va=Q({name:"VirtualProvider",setup(e,{slots:l}){let t=Ge("VirtualProvider"),n=g(()=>{let i=B(t.optionsRef);if(!i)return{start:0,end:0};let u=window.getComputedStyle(i);return{start:parseFloat(u.paddingBlockStart||u.paddingTop),end:parseFloat(u.paddingBlockEnd||u.paddingBottom)}}),o=aa(g(()=>({scrollPaddingStart:n.value.start,scrollPaddingEnd:n.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return B(t.optionsRef)},overscan:12}))),r=g(()=>{var i;return(i=t.virtual.value)==null?void 0:i.options}),a=O(0);return se([r],()=>{a.value+=1}),ze(En,t.virtual.value?o:null),()=>[fe("div",{style:{position:"relative",width:"100%",height:`${o.value.getTotalSize()}px`},ref:i=>{if(i){if(typeof process<"u"&&ra.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&o.value.scrollToIndex(t.activeOptionIndex.value)}}},o.value.getVirtualItems().map(i=>tl(l.default({option:t.virtual.value.options[i.index],open:t.comboboxState.value===0})[0],{key:`${a.value}-${i.index}`,"data-index":i.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":i.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${i.start}px)`,overflowAnchor:"none"}})))]}}),fa=Q({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:l,attrs:t,emit:n}){let o=O(1),r=O(null),a=O(null),i=O(null),u=O(null),d=O({static:!1,hold:!1}),f=O([]),v=O(null),s=O(2),c=O(!1);function b(M=x=>x){let x=v.value!==null?f.value[v.value]:null,U=M(f.value.slice()),L=U.length>0&&U[0].dataRef.order.value!==null?U.sort((D,X)=>D.dataRef.order.value-X.dataRef.order.value):Dt(U,D=>B(D.dataRef.domRef)),F=x?L.indexOf(x):null;return F===-1&&(F=null),{options:L,activeOptionIndex:F}}let k=g(()=>e.multiple?1:0),I=g(()=>e.nullable),[h,$]=zn(g(()=>e.modelValue),M=>n("update:modelValue",M),g(()=>e.defaultValue)),m=g(()=>h.value===void 0?de(k.value,{1:[],0:void 0}):h.value),p=null,C=null;function T(M){return de(k.value,{0(){return $==null?void 0:$(M)},1:()=>{let x=ve(S.value.value).slice(),U=ve(M),L=x.findIndex(F=>S.compare(U,ve(F)));return L===-1?x.push(U):x.splice(L,1),$==null?void 0:$(x)}})}let V=g(()=>{});se([V],([M],[x])=>{if(S.virtual.value&&M&&x&&v.value!==null){let U=M.indexOf(x[v.value]);U!==-1?v.value=U:v.value=null}});let S={comboboxState:o,value:m,mode:k,compare(M,x){if(typeof e.by=="string"){let U=e.by;return(M==null?void 0:M[U])===(x==null?void 0:x[U])}return e.by===null?sa(M,x):e.by(M,x)},calculateIndex(M){return S.virtual.value?e.by===null?S.virtual.value.options.indexOf(M):S.virtual.value.options.findIndex(x=>S.compare(x,M)):f.value.findIndex(x=>S.compare(x.dataRef.value,M))},defaultValue:g(()=>e.defaultValue),nullable:I,immediate:g(()=>!1),virtual:g(()=>null),inputRef:a,labelRef:r,buttonRef:i,optionsRef:u,disabled:g(()=>e.disabled),options:f,change(M){$(M)},activeOptionIndex:g(()=>{if(c.value&&v.value===null&&(S.virtual.value?S.virtual.value.options.length>0:f.value.length>0)){if(S.virtual.value){let x=S.virtual.value.options.findIndex(U=>{var L;return!((L=S.virtual.value)!=null&&L.disabled(U))});if(x!==-1)return x}let M=f.value.findIndex(x=>!x.dataRef.disabled);if(M!==-1)return M}return v.value}),activationTrigger:s,optionsPropsRef:d,closeCombobox(){c.value=!1,!e.disabled&&o.value!==1&&(o.value=1,v.value=null)},openCombobox(){if(c.value=!0,!e.disabled&&o.value!==0){if(S.value.value){let M=S.calculateIndex(S.value.value);M!==-1&&(v.value=M)}o.value=0}},setActivationTrigger(M){s.value=M},goToOption(M,x,U){c.value=!1,p!==null&&cancelAnimationFrame(p),p=requestAnimationFrame(()=>{if(e.disabled||u.value&&!d.value.static&&o.value===1)return;if(S.virtual.value){v.value=M===K.Specific?x:bt({focus:M},{resolveItems:()=>S.virtual.value.options,resolveActiveIndex:()=>{var D,X;return(X=(D=S.activeOptionIndex.value)!=null?D:S.virtual.value.options.findIndex(pe=>{var ge;return!((ge=S.virtual.value)!=null&&ge.disabled(pe))}))!=null?X:null},resolveDisabled:D=>S.virtual.value.disabled(D),resolveId(){throw new Error("Function not implemented.")}}),s.value=U??2;return}let L=b();if(L.activeOptionIndex===null){let D=L.options.findIndex(X=>!X.dataRef.disabled);D!==-1&&(L.activeOptionIndex=D)}let F=M===K.Specific?x:bt({focus:M},{resolveItems:()=>L.options,resolveActiveIndex:()=>L.activeOptionIndex,resolveId:D=>D.id,resolveDisabled:D=>D.dataRef.disabled});v.value=F,s.value=U??2,f.value=L.options})},selectOption(M){let x=f.value.find(L=>L.id===M);if(!x)return;let{dataRef:U}=x;T(U.value)},selectActiveOption(){if(S.activeOptionIndex.value!==null){if(S.virtual.value)T(S.virtual.value.options[S.activeOptionIndex.value]);else{let{dataRef:M}=f.value[S.activeOptionIndex.value];T(M.value)}S.goToOption(K.Specific,S.activeOptionIndex.value)}},registerOption(M,x){let U=el({id:M,dataRef:x});if(S.virtual.value){f.value.push(U);return}C&&cancelAnimationFrame(C);let L=b(F=>(F.push(U),F));v.value===null&&S.isSelected(x.value.value)&&(L.activeOptionIndex=L.options.indexOf(U)),f.value=L.options,v.value=L.activeOptionIndex,s.value=2,L.options.some(F=>!B(F.dataRef.domRef))&&(C=requestAnimationFrame(()=>{let F=b();f.value=F.options,v.value=F.activeOptionIndex}))},unregisterOption(M,x){if(p!==null&&cancelAnimationFrame(p),x&&(c.value=!0),S.virtual.value){f.value=f.value.filter(L=>L.id!==M);return}let U=b(L=>{let F=L.findIndex(D=>D.id===M);return F!==-1&&L.splice(F,1),L});f.value=U.options,v.value=U.activeOptionIndex,s.value=2},isSelected(M){return de(k.value,{0:()=>S.compare(ve(S.value.value),ve(M)),1:()=>ve(S.value.value).some(x=>S.compare(ve(x),ve(M)))})},isActive(M){return v.value===S.calculateIndex(M)}};yt([a,i,u],()=>S.closeCombobox(),g(()=>o.value===0)),ze(Rn,S),wt(g(()=>de(o.value,{0:re.Open,1:re.Closed})));let z=g(()=>{var M;return(M=B(a))==null?void 0:M.closest("form")});return ie(()=>{se([z],()=>{if(!z.value||e.defaultValue===void 0)return;function M(){S.change(e.defaultValue)}return z.value.addEventListener("reset",M),()=>{var x;(x=z.value)==null||x.removeEventListener("reset",M)}},{immediate:!0})}),()=>{var M,x,U;let{name:L,disabled:F,form:D,...X}=e,pe={open:o.value===0,disabled:F,activeIndex:S.activeOptionIndex.value,activeOption:S.activeOptionIndex.value===null?null:S.virtual.value?S.virtual.value.options[(M=S.activeOptionIndex.value)!=null?M:0]:(U=(x=S.options.value[S.activeOptionIndex.value])==null?void 0:x.dataRef.value)!=null?U:null,value:m.value};return fe(te,[...L!=null&&m.value!=null?Wt({[L]:m.value}).map(([ge,ye])=>fe(pt,cn({features:gt.Hidden,key:ge,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:D,disabled:F,name:ge,value:ye}))):[],me({theirProps:{...t,...ot(X,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:pe,slots:l,attrs:t,name:"Combobox"})])}}}),ma=Q({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:l,slots:t,expose:n}){var o;let r=(o=e.id)!=null?o:`headlessui-combobox-button-${Ie()}`,a=Ge("ComboboxButton");n({el:a.buttonRef,$el:a.buttonRef});function i(f){a.disabled.value||(a.comboboxState.value===0?a.closeCombobox():(f.preventDefault(),a.openCombobox()),ue(()=>{var v;return(v=B(a.inputRef))==null?void 0:v.focus({preventScroll:!0})}))}function u(f){switch(f.key){case W.ArrowDown:f.preventDefault(),f.stopPropagation(),a.comboboxState.value===1&&a.openCombobox(),ue(()=>{var v;return(v=a.inputRef.value)==null?void 0:v.focus({preventScroll:!0})});return;case W.ArrowUp:f.preventDefault(),f.stopPropagation(),a.comboboxState.value===1&&(a.openCombobox(),ue(()=>{a.value.value||a.goToOption(K.Last)})),ue(()=>{var v;return(v=a.inputRef.value)==null?void 0:v.focus({preventScroll:!0})});return;case W.Escape:if(a.comboboxState.value!==0)return;f.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&f.stopPropagation(),a.closeCombobox(),ue(()=>{var v;return(v=a.inputRef.value)==null?void 0:v.focus({preventScroll:!0})});return}}let d=Lt(g(()=>({as:e.as,type:l.type})),a.buttonRef);return()=>{var f,v;let s={open:a.comboboxState.value===0,disabled:a.disabled.value,value:a.value.value},{...c}=e,b={ref:a.buttonRef,id:r,type:d.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(f=B(a.optionsRef))==null?void 0:f.id,"aria-expanded":a.comboboxState.value===0,"aria-labelledby":a.labelRef.value?[(v=B(a.labelRef))==null?void 0:v.id,r].join(" "):void 0,disabled:a.disabled.value===!0?!0:void 0,onKeydown:u,onClick:i};return me({ourProps:b,theirProps:c,slot:s,attrs:l,slots:t,name:"ComboboxButton"})}}}),pa=Q({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:l,attrs:t,slots:n,expose:o}){var r;let a=(r=e.id)!=null?r:`headlessui-combobox-input-${Ie()}`,i=Ge("ComboboxInput"),u=g(()=>ht(B(i.inputRef))),d={value:!1};o({el:i.inputRef,$el:i.inputRef});function f(){i.change(null);let p=B(i.optionsRef);p&&(p.scrollTop=0),i.goToOption(K.Nothing)}let v=g(()=>{var p;let C=i.value.value;return B(i.inputRef)?typeof e.displayValue<"u"&&C!==void 0?(p=e.displayValue(C))!=null?p:"":typeof C=="string"?C:"":""});ie(()=>{se([v,i.comboboxState,u],([p,C],[T,V])=>{if(d.value)return;let S=B(i.inputRef);S&&((V===0&&C===1||p!==T)&&(S.value=p),requestAnimationFrame(()=>{var z;if(d.value||!S||((z=u.value)==null?void 0:z.activeElement)!==S)return;let{selectionStart:M,selectionEnd:x}=S;Math.abs((x??0)-(M??0))===0&&M===0&&S.setSelectionRange(S.value.length,S.value.length)}))},{immediate:!0}),se([i.comboboxState],([p],[C])=>{if(p===0&&C===1){if(d.value)return;let T=B(i.inputRef);if(!T)return;let V=T.value,{selectionStart:S,selectionEnd:z,selectionDirection:M}=T;T.value="",T.value=V,M!==null?T.setSelectionRange(S,z,M):T.setSelectionRange(S,z)}})});let s=O(!1);function c(){s.value=!0}function b(){We().nextFrame(()=>{s.value=!1})}function k(p){switch(d.value=!0,p.key){case W.Enter:if(d.value=!1,i.comboboxState.value!==0||s.value)return;if(p.preventDefault(),p.stopPropagation(),i.activeOptionIndex.value===null){i.closeCombobox();return}i.selectActiveOption(),i.mode.value===0&&i.closeCombobox();break;case W.ArrowDown:return d.value=!1,p.preventDefault(),p.stopPropagation(),de(i.comboboxState.value,{0:()=>i.goToOption(K.Next),1:()=>i.openCombobox()});case W.ArrowUp:return d.value=!1,p.preventDefault(),p.stopPropagation(),de(i.comboboxState.value,{0:()=>i.goToOption(K.Previous),1:()=>{i.openCombobox(),ue(()=>{i.value.value||i.goToOption(K.Last)})}});case W.Home:if(p.shiftKey)break;return d.value=!1,p.preventDefault(),p.stopPropagation(),i.goToOption(K.First);case W.PageUp:return d.value=!1,p.preventDefault(),p.stopPropagation(),i.goToOption(K.First);case W.End:if(p.shiftKey)break;return d.value=!1,p.preventDefault(),p.stopPropagation(),i.goToOption(K.Last);case W.PageDown:return d.value=!1,p.preventDefault(),p.stopPropagation(),i.goToOption(K.Last);case W.Escape:if(d.value=!1,i.comboboxState.value!==0)return;p.preventDefault(),i.optionsRef.value&&!i.optionsPropsRef.value.static&&p.stopPropagation(),i.nullable.value&&i.mode.value===0&&i.value.value===null&&f(),i.closeCombobox();break;case W.Tab:if(d.value=!1,i.comboboxState.value!==0)return;i.mode.value===0&&i.activationTrigger.value!==1&&i.selectActiveOption(),i.closeCombobox();break}}function I(p){l("change",p),i.nullable.value&&i.mode.value===0&&p.target.value===""&&f(),i.openCombobox()}function h(p){var C,T,V;let S=(C=p.relatedTarget)!=null?C:xe.find(z=>z!==p.currentTarget);if(d.value=!1,!((T=B(i.optionsRef))!=null&&T.contains(S))&&!((V=B(i.buttonRef))!=null&&V.contains(S))&&i.comboboxState.value===0)return p.preventDefault(),i.mode.value===0&&(i.nullable.value&&i.value.value===null?f():i.activationTrigger.value!==1&&i.selectActiveOption()),i.closeCombobox()}function $(p){var C,T,V;let S=(C=p.relatedTarget)!=null?C:xe.find(z=>z!==p.currentTarget);(T=B(i.buttonRef))!=null&&T.contains(S)||(V=B(i.optionsRef))!=null&&V.contains(S)||i.disabled.value||i.immediate.value&&i.comboboxState.value!==0&&(i.openCombobox(),We().nextFrame(()=>{i.setActivationTrigger(1)}))}let m=g(()=>{var p,C,T,V;return(V=(T=(C=e.defaultValue)!=null?C:i.defaultValue.value!==void 0?(p=e.displayValue)==null?void 0:p.call(e,i.defaultValue.value):null)!=null?T:i.defaultValue.value)!=null?V:""});return()=>{var p,C,T,V,S,z,M;let x={open:i.comboboxState.value===0},{displayValue:U,onChange:L,...F}=e,D={"aria-controls":(p=i.optionsRef.value)==null?void 0:p.id,"aria-expanded":i.comboboxState.value===0,"aria-activedescendant":i.activeOptionIndex.value===null?void 0:i.virtual.value?(C=i.options.value.find(X=>!i.virtual.value.disabled(X.dataRef.value)&&i.compare(X.dataRef.value,i.virtual.value.options[i.activeOptionIndex.value])))==null?void 0:C.id:(T=i.options.value[i.activeOptionIndex.value])==null?void 0:T.id,"aria-labelledby":(z=(V=B(i.labelRef))==null?void 0:V.id)!=null?z:(S=B(i.buttonRef))==null?void 0:S.id,"aria-autocomplete":"list",id:a,onCompositionstart:c,onCompositionend:b,onKeydown:k,onInput:I,onFocus:$,onBlur:h,role:"combobox",type:(M=t.type)!=null?M:"text",tabIndex:0,ref:i.inputRef,defaultValue:m.value,disabled:i.disabled.value===!0?!0:void 0};return me({ourProps:D,theirProps:F,slot:x,attrs:t,slots:n,features:Te.RenderStrategy|Te.Static,name:"ComboboxInput"})}}}),ga=Q({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:l,slots:t,expose:n}){let o=Ge("ComboboxOptions"),r=`headlessui-combobox-options-${Ie()}`;n({el:o.optionsRef,$el:o.optionsRef}),ke(()=>{o.optionsPropsRef.value.static=e.static}),ke(()=>{o.optionsPropsRef.value.hold=e.hold});let a=it(),i=g(()=>a!==null?(a.value&re.Open)===re.Open:o.comboboxState.value===0);Tn({container:g(()=>B(o.optionsRef)),enabled:g(()=>o.comboboxState.value===0),accept(d){return d.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});function u(d){d.preventDefault()}return()=>{var d,f,v;let s={open:o.comboboxState.value===0},c={"aria-labelledby":(v=(d=B(o.labelRef))==null?void 0:d.id)!=null?v:(f=B(o.buttonRef))==null?void 0:f.id,id:r,ref:o.optionsRef,role:"listbox","aria-multiselectable":o.mode.value===1?!0:void 0,onMousedown:u},b=ot(e,["hold"]);return me({ourProps:c,theirProps:b,slot:s,attrs:l,slots:o.virtual.value&&o.comboboxState.value===0?{...t,default:()=>[fe(va,{},t.default)]}:t,features:Te.RenderStrategy|Te.Static,visible:i.value,name:"ComboboxOptions"})}}}),ba=Q({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:l,attrs:t,expose:n}){let o=Ge("ComboboxOption"),r=`headlessui-combobox-option-${Ie()}`,a=O(null);n({el:a,$el:a});let i=g(()=>{var h;return o.virtual.value?o.activeOptionIndex.value===o.calculateIndex(e.value):o.activeOptionIndex.value===null?!1:((h=o.options.value[o.activeOptionIndex.value])==null?void 0:h.id)===r}),u=g(()=>o.isSelected(e.value)),d=we(En,null),f=g(()=>({disabled:e.disabled,value:e.value,domRef:a,order:g(()=>e.order)}));ie(()=>o.registerOption(r,f)),Me(()=>o.unregisterOption(r,i.value)),ke(()=>{let h=B(a);h&&(d==null||d.value.measureElement(h))}),ke(()=>{o.comboboxState.value===0&&i.value&&(o.virtual.value||o.activationTrigger.value!==0&&ue(()=>{var h,$;return($=(h=B(a))==null?void 0:h.scrollIntoView)==null?void 0:$.call(h,{block:"nearest"})}))});function v(h){var $;if(e.disabled||($=o.virtual.value)!=null&&$.disabled(e.value))return h.preventDefault();o.selectOption(r),nl()||requestAnimationFrame(()=>{var m;return(m=B(o.inputRef))==null?void 0:m.focus({preventScroll:!0})}),o.mode.value===0&&requestAnimationFrame(()=>o.closeCombobox())}function s(){var h;if(e.disabled||(h=o.virtual.value)!=null&&h.disabled(e.value))return o.goToOption(K.Nothing);let $=o.calculateIndex(e.value);o.goToOption(K.Specific,$)}let c=qt();function b(h){c.update(h)}function k(h){var $;if(!c.wasMoved(h)||e.disabled||($=o.virtual.value)!=null&&$.disabled(e.value)||i.value)return;let m=o.calculateIndex(e.value);o.goToOption(K.Specific,m,0)}function I(h){var $;c.wasMoved(h)&&(e.disabled||($=o.virtual.value)!=null&&$.disabled(e.value)||i.value&&(o.optionsPropsRef.value.hold||o.goToOption(K.Nothing)))}return()=>{let{disabled:h}=e,$={active:i.value,selected:u.value,disabled:h},m={id:r,ref:a,role:"option",tabIndex:h===!0?void 0:-1,"aria-disabled":h===!0?!0:void 0,"aria-selected":u.value,disabled:void 0,onClick:v,onFocus:s,onPointerenter:b,onMouseenter:b,onPointermove:k,onMousemove:k,onPointerleave:I,onMouseleave:I},p=ot(e,["order","value"]);return me({ourProps:m,theirProps:p,slot:$,attrs:t,slots:l,name:"ComboboxOption"})}}});function Bn(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let l=new Set;for(let t of e.value){let n=B(t);n instanceof HTMLElement&&l.add(n)}return l}var xn=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(xn||{});let nt=Object.assign(Q({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:O(new Set)}},inheritAttrs:!1,setup(e,{attrs:l,slots:t,expose:n}){let o=O(null);n({el:o,$el:o});let r=g(()=>ht(o)),a=O(!1);ie(()=>a.value=!0),Me(()=>a.value=!1),ya({ownerDocument:r},g(()=>a.value&&!!(e.features&16)));let i=wa({ownerDocument:r,container:o,initialFocus:g(()=>e.initialFocus)},g(()=>a.value&&!!(e.features&2)));ka({ownerDocument:r,container:o,containers:e.containers,previousActiveElement:i},g(()=>a.value&&!!(e.features&8)));let u=ll();function d(c){let b=B(o);b&&(k=>k())(()=>{de(u.value,{[ut.Forwards]:()=>{mt(b,Be.First,{skipElements:[c.relatedTarget]})},[ut.Backwards]:()=>{mt(b,Be.Last,{skipElements:[c.relatedTarget]})}})})}let f=O(!1);function v(c){c.key==="Tab"&&(f.value=!0,requestAnimationFrame(()=>{f.value=!1}))}function s(c){if(!a.value)return;let b=Bn(e.containers);B(o)instanceof HTMLElement&&b.add(B(o));let k=c.relatedTarget;k instanceof HTMLElement&&k.dataset.headlessuiFocusGuard!=="true"&&(jn(b,k)||(f.value?mt(B(o),de(u.value,{[ut.Forwards]:()=>Be.Next,[ut.Backwards]:()=>Be.Previous})|Be.WrapAround,{relativeTo:c.target}):c.target instanceof HTMLElement&&qe(c.target)))}return()=>{let c={},b={ref:o,onKeydown:v,onFocusout:s},{features:k,initialFocus:I,containers:h,...$}=e;return fe(te,[!!(k&4)&&fe(pt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:gt.Focusable}),me({ourProps:b,theirProps:{...l,...$},slot:c,attrs:l,slots:t,name:"FocusTrap"}),!!(k&4)&&fe(pt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:gt.Focusable})])}}}),{features:xn});function ha(e){let l=O(xe.slice());return se([e],([t],[n])=>{n===!0&&t===!1?Ht(()=>{l.value.splice(0)}):n===!1&&t===!0&&(l.value=xe.slice())},{flush:"post"}),()=>{var t;return(t=l.value.find(n=>n!=null&&n.isConnected))!=null?t:null}}function ya({ownerDocument:e},l){let t=ha(l);ie(()=>{ke(()=>{var n,o;l.value||((n=e.value)==null?void 0:n.activeElement)===((o=e.value)==null?void 0:o.body)&&qe(t())},{flush:"post"})}),Me(()=>{l.value&&qe(t())})}function wa({ownerDocument:e,container:l,initialFocus:t},n){let o=O(null),r=O(!1);return ie(()=>r.value=!0),Me(()=>r.value=!1),ie(()=>{se([l,t,n],(a,i)=>{if(a.every((d,f)=>(i==null?void 0:i[f])===d)||!n.value)return;let u=B(l);u&&Ht(()=>{var d,f;if(!r.value)return;let v=B(t),s=(d=e.value)==null?void 0:d.activeElement;if(v){if(v===s){o.value=s;return}}else if(u.contains(s)){o.value=s;return}v?qe(v):mt(u,Be.First|Be.NoScroll)===al.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.value=(f=e.value)==null?void 0:f.activeElement})},{immediate:!0,flush:"post"})}),o}function ka({ownerDocument:e,container:l,containers:t,previousActiveElement:n},o){var r;vn((r=e.value)==null?void 0:r.defaultView,"focus",a=>{if(!o.value)return;let i=Bn(t);B(l)instanceof HTMLElement&&i.add(B(l));let u=n.value;if(!u)return;let d=a.target;d&&d instanceof HTMLElement?jn(i,d)?(n.value=d,qe(d)):(a.preventDefault(),a.stopPropagation(),qe(u)):qe(n.value)},!0)}function jn(e,l){for(let t of e)if(t.contains(l))return!0;return!1}function Sa(e){let l=dn(e.getSnapshot());return Me(e.subscribe(()=>{l.value=e.getSnapshot()})),l}function Ia(e,l){let t=e(),n=new Set;return{getSnapshot(){return t},subscribe(o){return n.add(o),()=>n.delete(o)},dispatch(o,...r){let a=l[o].call(t,...r);a&&(t=a,n.forEach(i=>i()))}}}function $a(){let e;return{before({doc:l}){var t;let n=l.documentElement;e=((t=l.defaultView)!=null?t:window).innerWidth-n.clientWidth},after({doc:l,d:t}){let n=l.documentElement,o=n.clientWidth-n.offsetWidth,r=e-o;t.style(n,"paddingRight",`${r}px`)}}}function Oa(){return ol()?{before({doc:e,d:l,meta:t}){function n(o){return t.containers.flatMap(r=>r()).some(r=>r.contains(o))}l.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=We();i.style(e.documentElement,"scrollBehavior","auto"),l.add(()=>l.microTask(()=>i.dispose()))}let r=(o=window.scrollY)!=null?o:window.pageYOffset,a=null;l.addEventListener(e,"click",i=>{if(i.target instanceof HTMLElement)try{let u=i.target.closest("a");if(!u)return;let{hash:d}=new URL(u.href),f=e.querySelector(d);f&&!n(f)&&(a=f)}catch{}},!0),l.addEventListener(e,"touchstart",i=>{if(i.target instanceof HTMLElement)if(n(i.target)){let u=i.target;for(;u.parentElement&&n(u.parentElement);)u=u.parentElement;l.style(u,"overscrollBehavior","contain")}else l.style(i.target,"touchAction","none")}),l.addEventListener(e,"touchmove",i=>{if(i.target instanceof HTMLElement)if(n(i.target)){let u=i.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()},{passive:!1}),l.add(()=>{var i;let u=(i=window.scrollY)!=null?i:window.pageYOffset;r!==u&&window.scrollTo(0,r),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function Ca(){return{before({doc:e,d:l}){l.style(e.documentElement,"overflow","hidden")}}}function Ma(e){let l={};for(let t of e)Object.assign(l,t(l));return l}let Ue=Ia(()=>new Map,{PUSH(e,l){var t;let n=(t=this.get(e))!=null?t:{doc:e,count:0,d:We(),meta:new Set};return n.count++,n.meta.add(l),this.set(e,n),this},POP(e,l){let t=this.get(e);return t&&(t.count--,t.meta.delete(l)),this},SCROLL_PREVENT({doc:e,d:l,meta:t}){let n={doc:e,d:l,meta:Ma(t)},o=[Oa(),$a(),Ca()];o.forEach(({before:r})=>r==null?void 0:r(n)),o.forEach(({after:r})=>r==null?void 0:r(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ue.subscribe(()=>{let e=Ue.getSnapshot(),l=new Map;for(let[t]of e)l.set(t,t.documentElement.style.overflow);for(let t of e.values()){let n=l.get(t.doc)==="hidden",o=t.count!==0;(o&&!n||!o&&n)&&Ue.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&Ue.dispatch("TEARDOWN",t)}});function Pa(e,l,t){let n=Sa(Ue),o=g(()=>{let r=e.value?n.value.get(e.value):void 0;return r?r.count>0:!1});return se([e,l],([r,a],[i],u)=>{if(!r||!a)return;Ue.dispatch("PUSH",r,t);let d=!1;u(()=>{d||(Ue.dispatch("POP",i??r,t),d=!0)})},{immediate:!0}),o}let zt=new Map,lt=new Map;function tn(e,l=O(!0)){ke(t=>{var n;if(!l.value)return;let o=B(e);if(!o)return;t(function(){var a;if(!o)return;let i=(a=lt.get(o))!=null?a:1;if(i===1?lt.delete(o):lt.set(o,i-1),i!==1)return;let u=zt.get(o);u&&(u["aria-hidden"]===null?o.removeAttribute("aria-hidden"):o.setAttribute("aria-hidden",u["aria-hidden"]),o.inert=u.inert,zt.delete(o))});let r=(n=lt.get(o))!=null?n:0;lt.set(o,r+1),r===0&&(zt.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),o.setAttribute("aria-hidden","true"),o.inert=!0)})}let Ln=Symbol("StackContext");var Bt=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Bt||{});function za(){return we(Ln,()=>{})}function Ta({type:e,enabled:l,element:t,onUpdate:n}){let o=za();function r(...a){n==null||n(...a),o(...a)}ie(()=>{se(l,(a,i)=>{a?r(0,e,t):i===!0&&r(1,e,t)},{immediate:!0,flush:"sync"})}),Me(()=>{l.value&&r(1,e,t)}),ze(Ln,r)}let Fa=Symbol("DescriptionContext");function Aa({slot:e=O({}),name:l="Description",props:t={}}={}){let n=O([]);function o(r){return n.value.push(r),()=>{let a=n.value.indexOf(r);a!==-1&&n.value.splice(a,1)}}return ze(Fa,{register:o,slot:e,name:l,props:t}),g(()=>n.value.length>0?n.value.join(" "):void 0)}var Ra=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ra||{});let xt=Symbol("DialogContext");function Dn(e){let l=we(xt,null);if(l===null){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Dn),t}return l}let dt="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Ea=Q({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:dt},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:l,attrs:t,slots:n,expose:o}){var r,a;let i=(r=e.id)!=null?r:`headlessui-dialog-${Ie()}`,u=O(!1);ie(()=>{u.value=!0});let d=!1,f=g(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(d||(d=!0,console.warn(`Invalid role [${f}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),v=O(0),s=it(),c=g(()=>e.open===dt&&s!==null?(s.value&re.Open)===re.Open:e.open),b=O(null),k=g(()=>ht(b));if(o({el:b,$el:b}),!(e.open!==dt||s!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof c.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${c.value===dt?void 0:e.open}`);let I=g(()=>u.value&&c.value?0:1),h=g(()=>I.value===0),$=g(()=>v.value>1),m=we(xt,null)!==null,[p,C]=il(),{resolveContainers:T,mainTreeNodeRef:V,MainTreeNode:S}=rl({portals:p,defaultContainers:[g(()=>{var Y;return(Y=pe.panelRef.value)!=null?Y:b.value})]}),z=g(()=>$.value?"parent":"leaf"),M=g(()=>s!==null?(s.value&re.Closing)===re.Closing:!1),x=g(()=>m||M.value?!1:h.value),U=g(()=>{var Y,ne,q;return(q=Array.from((ne=(Y=k.value)==null?void 0:Y.querySelectorAll("body > *"))!=null?ne:[]).find(le=>le.id==="headlessui-portal-root"?!1:le.contains(B(V))&&le instanceof HTMLElement))!=null?q:null});tn(U,x);let L=g(()=>$.value?!0:h.value),F=g(()=>{var Y,ne,q;return(q=Array.from((ne=(Y=k.value)==null?void 0:Y.querySelectorAll("[data-headlessui-portal]"))!=null?ne:[]).find(le=>le.contains(B(V))&&le instanceof HTMLElement))!=null?q:null});tn(F,L),Ta({type:"Dialog",enabled:g(()=>I.value===0),element:b,onUpdate:(Y,ne)=>{if(ne==="Dialog")return de(Y,{[Bt.Add]:()=>v.value+=1,[Bt.Remove]:()=>v.value-=1})}});let D=Aa({name:"DialogDescription",slot:g(()=>({open:c.value}))}),X=O(null),pe={titleId:X,panelRef:O(null),dialogState:I,setTitleId(Y){X.value!==Y&&(X.value=Y)},close(){l("close",!1)}};ze(xt,pe);let ge=g(()=>!(!h.value||$.value));yt(T,(Y,ne)=>{Y.preventDefault(),pe.close(),ue(()=>ne==null?void 0:ne.focus())},ge);let ye=g(()=>!($.value||I.value!==0));vn((a=k.value)==null?void 0:a.defaultView,"keydown",Y=>{ye.value&&(Y.defaultPrevented||Y.key===W.Escape&&(Y.preventDefault(),Y.stopPropagation(),pe.close()))});let ae=g(()=>!(M.value||I.value!==0||m));return Pa(k,ae,Y=>{var ne;return{containers:[...(ne=Y.containers)!=null?ne:[],T]}}),ke(Y=>{if(I.value!==0)return;let ne=B(b);if(!ne)return;let q=new ResizeObserver(le=>{for(let et of le){let st=et.target.getBoundingClientRect();st.x===0&&st.y===0&&st.width===0&&st.height===0&&pe.close()}});q.observe(ne),Y(()=>q.disconnect())}),()=>{let{open:Y,initialFocus:ne,...q}=e,le={...t,ref:b,id:i,role:f.value,"aria-modal":I.value===0?!0:void 0,"aria-labelledby":X.value,"aria-describedby":D.value},et={open:I.value===0};return fe(Xt,{force:!0},()=>[fe(sl,()=>fe(ul,{target:b.value},()=>fe(Xt,{force:!1},()=>fe(nt,{initialFocus:ne,containers:T,features:h.value?de(z.value,{parent:nt.features.RestoreFocus,leaf:nt.features.All&~nt.features.FocusLock}):nt.features.None},()=>fe(C,{},()=>me({ourProps:le,theirProps:{...q,...t},slot:et,attrs:t,slots:n,visible:I.value===0,features:Te.RenderStrategy|Te.Static,name:"Dialog"})))))),fe(S)])}}}),Ba=Q({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:l,slots:t,expose:n}){var o;let r=(o=e.id)!=null?o:`headlessui-dialog-panel-${Ie()}`,a=Dn("DialogPanel");n({el:a.panelRef,$el:a.panelRef});function i(u){u.stopPropagation()}return()=>{let{...u}=e,d={id:r,ref:a.panelRef,onClick:i};return me({ourProps:d,theirProps:u,slot:{open:a.dialogState.value===0},attrs:l,slots:t,name:"DialogPanel"})}}}),nn=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ln(e){var l,t;let n=(l=e.innerText)!=null?l:"",o=e.cloneNode(!0);if(!(o instanceof HTMLElement))return n;let r=!1;for(let i of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))i.remove(),r=!0;let a=r?(t=o.innerText)!=null?t:"":n;return nn.test(a)&&(a=a.replace(nn,"")),a}function xa(e){let l=e.getAttribute("aria-label");if(typeof l=="string")return l.trim();let t=e.getAttribute("aria-labelledby");if(t){let n=t.split(" ").map(o=>{let r=document.getElementById(o);if(r){let a=r.getAttribute("aria-label");return typeof a=="string"?a.trim():ln(r).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return ln(e).trim()}function Vn(e){let l=O(""),t=O("");return()=>{let n=B(e);if(!n)return"";let o=n.innerText;if(l.value===o)return t.value;let r=xa(n).trim().toLowerCase();return l.value=o,t.value=r,r}}function ja(e,l){return e===l}var La=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(La||{}),Da=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Da||{}),Va=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Va||{});function Na(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Nn=Symbol("ListboxContext");function St(e){let l=we(Nn,null);if(l===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,St),t}return l}let Ua=Q({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ja},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:l,attrs:t,emit:n}){let o=O(1),r=O(null),a=O(null),i=O(null),u=O([]),d=O(""),f=O(null),v=O(1);function s(m=p=>p){let p=f.value!==null?u.value[f.value]:null,C=Dt(m(u.value.slice()),V=>B(V.dataRef.domRef)),T=p?C.indexOf(p):null;return T===-1&&(T=null),{options:C,activeOptionIndex:T}}let c=g(()=>e.multiple?1:0),[b,k]=zn(g(()=>e.modelValue),m=>n("update:modelValue",m),g(()=>e.defaultValue)),I=g(()=>b.value===void 0?de(c.value,{1:[],0:void 0}):b.value),h={listboxState:o,value:I,mode:c,compare(m,p){if(typeof e.by=="string"){let C=e.by;return(m==null?void 0:m[C])===(p==null?void 0:p[C])}return e.by(m,p)},orientation:g(()=>e.horizontal?"horizontal":"vertical"),labelRef:r,buttonRef:a,optionsRef:i,disabled:g(()=>e.disabled),options:u,searchQuery:d,activeOptionIndex:f,activationTrigger:v,closeListbox(){e.disabled||o.value!==1&&(o.value=1,f.value=null)},openListbox(){e.disabled||o.value!==0&&(o.value=0)},goToOption(m,p,C){if(e.disabled||o.value===1)return;let T=s(),V=bt(m===K.Specific?{focus:K.Specific,id:p}:{focus:m},{resolveItems:()=>T.options,resolveActiveIndex:()=>T.activeOptionIndex,resolveId:S=>S.id,resolveDisabled:S=>S.dataRef.disabled});d.value="",f.value=V,v.value=C??1,u.value=T.options},search(m){if(e.disabled||o.value===1)return;let p=d.value!==""?0:1;d.value+=m.toLowerCase();let C=(f.value!==null?u.value.slice(f.value+p).concat(u.value.slice(0,f.value+p)):u.value).find(V=>V.dataRef.textValue.startsWith(d.value)&&!V.dataRef.disabled),T=C?u.value.indexOf(C):-1;T===-1||T===f.value||(f.value=T,v.value=1)},clearSearch(){e.disabled||o.value!==1&&d.value!==""&&(d.value="")},registerOption(m,p){let C=s(T=>[...T,{id:m,dataRef:p}]);u.value=C.options,f.value=C.activeOptionIndex},unregisterOption(m){let p=s(C=>{let T=C.findIndex(V=>V.id===m);return T!==-1&&C.splice(T,1),C});u.value=p.options,f.value=p.activeOptionIndex,v.value=1},theirOnChange(m){e.disabled||k(m)},select(m){e.disabled||k(de(c.value,{0:()=>m,1:()=>{let p=ve(h.value.value).slice(),C=ve(m),T=p.findIndex(V=>h.compare(C,ve(V)));return T===-1?p.push(C):p.splice(T,1),p}}))}};yt([a,i],(m,p)=>{var C;h.closeListbox(),fn(p,mn.Loose)||(m.preventDefault(),(C=B(a))==null||C.focus())},g(()=>o.value===0)),ze(Nn,h),wt(g(()=>de(o.value,{0:re.Open,1:re.Closed})));let $=g(()=>{var m;return(m=B(a))==null?void 0:m.closest("form")});return ie(()=>{se([$],()=>{if(!$.value||e.defaultValue===void 0)return;function m(){h.theirOnChange(e.defaultValue)}return $.value.addEventListener("reset",m),()=>{var p;(p=$.value)==null||p.removeEventListener("reset",m)}},{immediate:!0})}),()=>{let{name:m,modelValue:p,disabled:C,form:T,...V}=e,S={open:o.value===0,disabled:C,value:I.value};return fe(te,[...m!=null&&I.value!=null?Wt({[m]:I.value}).map(([z,M])=>fe(pt,cn({features:gt.Hidden,key:z,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:T,disabled:C,name:z,value:M}))):[],me({ourProps:{},theirProps:{...t,...ot(V,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:S,slots:l,attrs:t,name:"Listbox"})])}}}),qa=Q({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:l,slots:t,expose:n}){var o;let r=(o=e.id)!=null?o:`headlessui-listbox-button-${Ie()}`,a=St("ListboxButton");n({el:a.buttonRef,$el:a.buttonRef});function i(v){switch(v.key){case W.Space:case W.Enter:case W.ArrowDown:v.preventDefault(),a.openListbox(),ue(()=>{var s;(s=B(a.optionsRef))==null||s.focus({preventScroll:!0}),a.value.value||a.goToOption(K.First)});break;case W.ArrowUp:v.preventDefault(),a.openListbox(),ue(()=>{var s;(s=B(a.optionsRef))==null||s.focus({preventScroll:!0}),a.value.value||a.goToOption(K.Last)});break}}function u(v){switch(v.key){case W.Space:v.preventDefault();break}}function d(v){a.disabled.value||(a.listboxState.value===0?(a.closeListbox(),ue(()=>{var s;return(s=B(a.buttonRef))==null?void 0:s.focus({preventScroll:!0})})):(v.preventDefault(),a.openListbox(),Na(()=>{var s;return(s=B(a.optionsRef))==null?void 0:s.focus({preventScroll:!0})})))}let f=Lt(g(()=>({as:e.as,type:l.type})),a.buttonRef);return()=>{var v,s;let c={open:a.listboxState.value===0,disabled:a.disabled.value,value:a.value.value},{...b}=e,k={ref:a.buttonRef,id:r,type:f.value,"aria-haspopup":"listbox","aria-controls":(v=B(a.optionsRef))==null?void 0:v.id,"aria-expanded":a.listboxState.value===0,"aria-labelledby":a.labelRef.value?[(s=B(a.labelRef))==null?void 0:s.id,r].join(" "):void 0,disabled:a.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:u,onClick:d};return me({ourProps:k,theirProps:b,slot:c,attrs:l,slots:t,name:"ListboxButton"})}}}),Ha=Q({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:l,slots:t,expose:n}){var o;let r=(o=e.id)!=null?o:`headlessui-listbox-options-${Ie()}`,a=St("ListboxOptions"),i=O(null);n({el:a.optionsRef,$el:a.optionsRef});function u(v){switch(i.value&&clearTimeout(i.value),v.key){case W.Space:if(a.searchQuery.value!=="")return v.preventDefault(),v.stopPropagation(),a.search(v.key);case W.Enter:if(v.preventDefault(),v.stopPropagation(),a.activeOptionIndex.value!==null){let s=a.options.value[a.activeOptionIndex.value];a.select(s.dataRef.value)}a.mode.value===0&&(a.closeListbox(),ue(()=>{var s;return(s=B(a.buttonRef))==null?void 0:s.focus({preventScroll:!0})}));break;case de(a.orientation.value,{vertical:W.ArrowDown,horizontal:W.ArrowRight}):return v.preventDefault(),v.stopPropagation(),a.goToOption(K.Next);case de(a.orientation.value,{vertical:W.ArrowUp,horizontal:W.ArrowLeft}):return v.preventDefault(),v.stopPropagation(),a.goToOption(K.Previous);case W.Home:case W.PageUp:return v.preventDefault(),v.stopPropagation(),a.goToOption(K.First);case W.End:case W.PageDown:return v.preventDefault(),v.stopPropagation(),a.goToOption(K.Last);case W.Escape:v.preventDefault(),v.stopPropagation(),a.closeListbox(),ue(()=>{var s;return(s=B(a.buttonRef))==null?void 0:s.focus({preventScroll:!0})});break;case W.Tab:v.preventDefault(),v.stopPropagation();break;default:v.key.length===1&&(a.search(v.key),i.value=setTimeout(()=>a.clearSearch(),350));break}}let d=it(),f=g(()=>d!==null?(d.value&re.Open)===re.Open:a.listboxState.value===0);return()=>{var v,s;let c={open:a.listboxState.value===0},{...b}=e,k={"aria-activedescendant":a.activeOptionIndex.value===null||(v=a.options.value[a.activeOptionIndex.value])==null?void 0:v.id,"aria-multiselectable":a.mode.value===1?!0:void 0,"aria-labelledby":(s=B(a.buttonRef))==null?void 0:s.id,"aria-orientation":a.orientation.value,id:r,onKeydown:u,role:"listbox",tabIndex:0,ref:a.optionsRef};return me({ourProps:k,theirProps:b,slot:c,attrs:l,slots:t,features:Te.RenderStrategy|Te.Static,visible:f.value,name:"ListboxOptions"})}}}),Wa=Q({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:l,attrs:t,expose:n}){var o;let r=(o=e.id)!=null?o:`headlessui-listbox-option-${Ie()}`,a=St("ListboxOption"),i=O(null);n({el:i,$el:i});let u=g(()=>a.activeOptionIndex.value!==null?a.options.value[a.activeOptionIndex.value].id===r:!1),d=g(()=>de(a.mode.value,{0:()=>a.compare(ve(a.value.value),ve(e.value)),1:()=>ve(a.value.value).some(m=>a.compare(ve(m),ve(e.value)))})),f=g(()=>de(a.mode.value,{1:()=>{var m;let p=ve(a.value.value);return((m=a.options.value.find(C=>p.some(T=>a.compare(ve(T),ve(C.dataRef.value)))))==null?void 0:m.id)===r},0:()=>d.value})),v=Vn(i),s=g(()=>({disabled:e.disabled,value:e.value,get textValue(){return v()},domRef:i}));ie(()=>a.registerOption(r,s)),Me(()=>a.unregisterOption(r)),ie(()=>{se([a.listboxState,d],()=>{a.listboxState.value===0&&d.value&&de(a.mode.value,{1:()=>{f.value&&a.goToOption(K.Specific,r)},0:()=>{a.goToOption(K.Specific,r)}})},{immediate:!0})}),ke(()=>{a.listboxState.value===0&&u.value&&a.activationTrigger.value!==0&&ue(()=>{var m,p;return(p=(m=B(i))==null?void 0:m.scrollIntoView)==null?void 0:p.call(m,{block:"nearest"})})});function c(m){if(e.disabled)return m.preventDefault();a.select(e.value),a.mode.value===0&&(a.closeListbox(),ue(()=>{var p;return(p=B(a.buttonRef))==null?void 0:p.focus({preventScroll:!0})}))}function b(){if(e.disabled)return a.goToOption(K.Nothing);a.goToOption(K.Specific,r)}let k=qt();function I(m){k.update(m)}function h(m){k.wasMoved(m)&&(e.disabled||u.value||a.goToOption(K.Specific,r,0))}function $(m){k.wasMoved(m)&&(e.disabled||u.value&&a.goToOption(K.Nothing))}return()=>{let{disabled:m}=e,p={active:u.value,selected:d.value,disabled:m},{value:C,disabled:T,...V}=e,S={id:r,ref:i,role:"option",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onClick:c,onFocus:b,onPointerenter:I,onMouseenter:I,onPointermove:h,onMousemove:h,onPointerleave:$,onMouseleave:$};return me({ourProps:S,theirProps:V,slot:p,attrs:t,slots:l,name:"ListboxOption"})}}});var Ka=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ka||{}),Qa=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Qa||{});function Ya(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Un=Symbol("MenuContext");function It(e){let l=we(Un,null);if(l===null){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,It),t}return l}let Ja=Q({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:l,attrs:t}){let n=O(1),o=O(null),r=O(null),a=O([]),i=O(""),u=O(null),d=O(1);function f(s=c=>c){let c=u.value!==null?a.value[u.value]:null,b=Dt(s(a.value.slice()),I=>B(I.dataRef.domRef)),k=c?b.indexOf(c):null;return k===-1&&(k=null),{items:b,activeItemIndex:k}}let v={menuState:n,buttonRef:o,itemsRef:r,items:a,searchQuery:i,activeItemIndex:u,activationTrigger:d,closeMenu:()=>{n.value=1,u.value=null},openMenu:()=>n.value=0,goToItem(s,c,b){let k=f(),I=bt(s===K.Specific?{focus:K.Specific,id:c}:{focus:s},{resolveItems:()=>k.items,resolveActiveIndex:()=>k.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.disabled});i.value="",u.value=I,d.value=b??1,a.value=k.items},search(s){let c=i.value!==""?0:1;i.value+=s.toLowerCase();let b=(u.value!==null?a.value.slice(u.value+c).concat(a.value.slice(0,u.value+c)):a.value).find(I=>I.dataRef.textValue.startsWith(i.value)&&!I.dataRef.disabled),k=b?a.value.indexOf(b):-1;k===-1||k===u.value||(u.value=k,d.value=1)},clearSearch(){i.value=""},registerItem(s,c){let b=f(k=>[...k,{id:s,dataRef:c}]);a.value=b.items,u.value=b.activeItemIndex,d.value=1},unregisterItem(s){let c=f(b=>{let k=b.findIndex(I=>I.id===s);return k!==-1&&b.splice(k,1),b});a.value=c.items,u.value=c.activeItemIndex,d.value=1}};return yt([o,r],(s,c)=>{var b;v.closeMenu(),fn(c,mn.Loose)||(s.preventDefault(),(b=B(o))==null||b.focus())},g(()=>n.value===0)),ze(Un,v),wt(g(()=>de(n.value,{0:re.Open,1:re.Closed}))),()=>{let s={open:n.value===0,close:v.closeMenu};return me({ourProps:{},theirProps:e,slot:s,slots:l,attrs:t,name:"Menu"})}}}),Xa=Q({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:l,slots:t,expose:n}){var o;let r=(o=e.id)!=null?o:`headlessui-menu-button-${Ie()}`,a=It("MenuButton");n({el:a.buttonRef,$el:a.buttonRef});function i(v){switch(v.key){case W.Space:case W.Enter:case W.ArrowDown:v.preventDefault(),v.stopPropagation(),a.openMenu(),ue(()=>{var s;(s=B(a.itemsRef))==null||s.focus({preventScroll:!0}),a.goToItem(K.First)});break;case W.ArrowUp:v.preventDefault(),v.stopPropagation(),a.openMenu(),ue(()=>{var s;(s=B(a.itemsRef))==null||s.focus({preventScroll:!0}),a.goToItem(K.Last)});break}}function u(v){switch(v.key){case W.Space:v.preventDefault();break}}function d(v){e.disabled||(a.menuState.value===0?(a.closeMenu(),ue(()=>{var s;return(s=B(a.buttonRef))==null?void 0:s.focus({preventScroll:!0})})):(v.preventDefault(),a.openMenu(),Ya(()=>{var s;return(s=B(a.itemsRef))==null?void 0:s.focus({preventScroll:!0})})))}let f=Lt(g(()=>({as:e.as,type:l.type})),a.buttonRef);return()=>{var v;let s={open:a.menuState.value===0},{...c}=e,b={ref:a.buttonRef,id:r,type:f.value,"aria-haspopup":"menu","aria-controls":(v=B(a.itemsRef))==null?void 0:v.id,"aria-expanded":a.menuState.value===0,onKeydown:i,onKeyup:u,onClick:d};return me({ourProps:b,theirProps:c,slot:s,attrs:l,slots:t,name:"MenuButton"})}}}),Za=Q({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:l,slots:t,expose:n}){var o;let r=(o=e.id)!=null?o:`headlessui-menu-items-${Ie()}`,a=It("MenuItems"),i=O(null);n({el:a.itemsRef,$el:a.itemsRef}),Tn({container:g(()=>B(a.itemsRef)),enabled:g(()=>a.menuState.value===0),accept(s){return s.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:s.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(s){s.setAttribute("role","none")}});function u(s){var c;switch(i.value&&clearTimeout(i.value),s.key){case W.Space:if(a.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),a.search(s.key);case W.Enter:if(s.preventDefault(),s.stopPropagation(),a.activeItemIndex.value!==null){let b=a.items.value[a.activeItemIndex.value];(c=B(b.dataRef.domRef))==null||c.click()}a.closeMenu(),pn(B(a.buttonRef));break;case W.ArrowDown:return s.preventDefault(),s.stopPropagation(),a.goToItem(K.Next);case W.ArrowUp:return s.preventDefault(),s.stopPropagation(),a.goToItem(K.Previous);case W.Home:case W.PageUp:return s.preventDefault(),s.stopPropagation(),a.goToItem(K.First);case W.End:case W.PageDown:return s.preventDefault(),s.stopPropagation(),a.goToItem(K.Last);case W.Escape:s.preventDefault(),s.stopPropagation(),a.closeMenu(),ue(()=>{var b;return(b=B(a.buttonRef))==null?void 0:b.focus({preventScroll:!0})});break;case W.Tab:s.preventDefault(),s.stopPropagation(),a.closeMenu(),ue(()=>dl(B(a.buttonRef),s.shiftKey?Be.Previous:Be.Next));break;default:s.key.length===1&&(a.search(s.key),i.value=setTimeout(()=>a.clearSearch(),350));break}}function d(s){switch(s.key){case W.Space:s.preventDefault();break}}let f=it(),v=g(()=>f!==null?(f.value&re.Open)===re.Open:a.menuState.value===0);return()=>{var s,c;let b={open:a.menuState.value===0},{...k}=e,I={"aria-activedescendant":a.activeItemIndex.value===null||(s=a.items.value[a.activeItemIndex.value])==null?void 0:s.id,"aria-labelledby":(c=B(a.buttonRef))==null?void 0:c.id,id:r,onKeydown:u,onKeyup:d,role:"menu",tabIndex:0,ref:a.itemsRef};return me({ourProps:I,theirProps:k,slot:b,attrs:l,slots:t,features:Te.RenderStrategy|Te.Static,visible:v.value,name:"MenuItems"})}}}),Ga=Q({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:l,attrs:t,expose:n}){var o;let r=(o=e.id)!=null?o:`headlessui-menu-item-${Ie()}`,a=It("MenuItem"),i=O(null);n({el:i,$el:i});let u=g(()=>a.activeItemIndex.value!==null?a.items.value[a.activeItemIndex.value].id===r:!1),d=Vn(i),f=g(()=>({disabled:e.disabled,get textValue(){return d()},domRef:i}));ie(()=>a.registerItem(r,f)),Me(()=>a.unregisterItem(r)),ke(()=>{a.menuState.value===0&&u.value&&a.activationTrigger.value!==0&&ue(()=>{var h,$;return($=(h=B(i))==null?void 0:h.scrollIntoView)==null?void 0:$.call(h,{block:"nearest"})})});function v(h){if(e.disabled)return h.preventDefault();a.closeMenu(),pn(B(a.buttonRef))}function s(){if(e.disabled)return a.goToItem(K.Nothing);a.goToItem(K.Specific,r)}let c=qt();function b(h){c.update(h)}function k(h){c.wasMoved(h)&&(e.disabled||u.value||a.goToItem(K.Specific,r,0))}function I(h){c.wasMoved(h)&&(e.disabled||u.value&&a.goToItem(K.Nothing))}return()=>{let{disabled:h,...$}=e,m={active:u.value,disabled:h,close:a.closeMenu};return me({ourProps:{id:r,ref:i,role:"menuitem",tabIndex:h===!0?void 0:-1,"aria-disabled":h===!0?!0:void 0,onClick:v,onFocus:s,onPointerenter:b,onMouseenter:b,onPointermove:k,onMousemove:k,onPointerleave:I,onMouseleave:I},theirProps:{...t,...$},slot:m,attrs:t,slots:l,name:"MenuItem"})}}});function _a(e){let l={called:!1};return(...t)=>{if(!l.called)return l.called=!0,e(...t)}}function Tt(e,...l){e&&l.length>0&&e.classList.add(...l)}function ct(e,...l){e&&l.length>0&&e.classList.remove(...l)}var jt=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(jt||{});function eo(e,l){let t=We();if(!e)return t.dispose;let{transitionDuration:n,transitionDelay:o}=getComputedStyle(e),[r,a]=[n,o].map(i=>{let[u=0]=i.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u});return r!==0?t.setTimeout(()=>l("finished"),r+a):l("finished"),t.add(()=>l("cancelled")),t.dispose}function an(e,l,t,n,o,r){let a=We(),i=r!==void 0?_a(r):()=>{};return ct(e,...o),Tt(e,...l,...t),a.nextFrame(()=>{ct(e,...t),Tt(e,...n),a.add(eo(e,u=>(ct(e,...n,...l),Tt(e,...o),i(u))))}),a.add(()=>ct(e,...l,...t,...n,...o)),a.add(()=>i("cancelled")),a.dispose}function Ve(e=""){return e.split(/\s+/).filter(l=>l.length>1)}let Kt=Symbol("TransitionContext");var to=(e=>(e.Visible="visible",e.Hidden="hidden",e))(to||{});function no(){return we(Kt,null)!==null}function lo(){let e=we(Kt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function ao(){let e=we(Qt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let Qt=Symbol("NestingContext");function $t(e){return"children"in e?$t(e.children):e.value.filter(({state:l})=>l==="visible").length>0}function qn(e){let l=O([]),t=O(!1);ie(()=>t.value=!0),Me(()=>t.value=!1);function n(r,a=Ne.Hidden){let i=l.value.findIndex(({id:u})=>u===r);i!==-1&&(de(a,{[Ne.Unmount](){l.value.splice(i,1)},[Ne.Hidden](){l.value[i].state="hidden"}}),!$t(l)&&t.value&&(e==null||e()))}function o(r){let a=l.value.find(({id:i})=>i===r);return a?a.state!=="visible"&&(a.state="visible"):l.value.push({id:r,state:"visible"}),()=>n(r,Ne.Unmount)}return{children:l,register:o,unregister:n}}let Hn=Te.RenderStrategy,Wn=Q({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:l,attrs:t,slots:n,expose:o}){let r=O(0);function a(){r.value|=re.Opening,l("beforeEnter")}function i(){r.value&=~re.Opening,l("afterEnter")}function u(){r.value|=re.Closing,l("beforeLeave")}function d(){r.value&=~re.Closing,l("afterLeave")}if(!no()&&cl())return()=>fe(Kn,{...e,onBeforeEnter:a,onAfterEnter:i,onBeforeLeave:u,onAfterLeave:d},n);let f=O(null),v=g(()=>e.unmount?Ne.Unmount:Ne.Hidden);o({el:f,$el:f});let{show:s,appear:c}=lo(),{register:b,unregister:k}=ao(),I=O(s.value?"visible":"hidden"),h={value:!0},$=Ie(),m={value:!1},p=qn(()=>{!m.value&&I.value!=="hidden"&&(I.value="hidden",k($),d())});ie(()=>{let L=b($);Me(L)}),ke(()=>{if(v.value===Ne.Hidden&&$){if(s.value&&I.value!=="visible"){I.value="visible";return}de(I.value,{hidden:()=>k($),visible:()=>b($)})}});let C=Ve(e.enter),T=Ve(e.enterFrom),V=Ve(e.enterTo),S=Ve(e.entered),z=Ve(e.leave),M=Ve(e.leaveFrom),x=Ve(e.leaveTo);ie(()=>{ke(()=>{if(I.value==="visible"){let L=B(f);if(L instanceof Comment&&L.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function U(L){let F=h.value&&!c.value,D=B(f);!D||!(D instanceof HTMLElement)||F||(m.value=!0,s.value&&a(),s.value||u(),L(s.value?an(D,C,T,V,S,X=>{m.value=!1,X===jt.Finished&&i()}):an(D,z,M,x,S,X=>{m.value=!1,X===jt.Finished&&($t(p)||(I.value="hidden",k($),d()))})))}return ie(()=>{se([s],(L,F,D)=>{U(D),h.value=!1},{immediate:!0})}),ze(Qt,p),wt(g(()=>de(I.value,{visible:re.Open,hidden:re.Closed})|r.value)),()=>{let{appear:L,show:F,enter:D,enterFrom:X,enterTo:pe,entered:ge,leave:ye,leaveFrom:ae,leaveTo:Y,...ne}=e,q={ref:f},le={...ne,...c.value&&s.value&&vl.isServer?{class:A([t.class,ne.class,...C,...T])}:{}};return me({theirProps:le,ourProps:q,slot:{},slots:n,attrs:t,features:Hn,visible:I.value==="visible",name:"TransitionChild"})}}}),oo=Wn,Kn=Q({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:l,attrs:t,slots:n}){let o=it(),r=g(()=>e.show===null&&o!==null?(o.value&re.Open)===re.Open:e.show);ke(()=>{if(![!0,!1].includes(r.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let a=O(r.value?"visible":"hidden"),i=qn(()=>{a.value="hidden"}),u=O(!0),d={show:r,appear:g(()=>e.appear||!u.value)};return ie(()=>{ke(()=>{u.value=!1,r.value?a.value="visible":$t(i)||(a.value="hidden")})}),ze(Qt,i),ze(Kt,d),()=>{let f=ot(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),v={unmount:e.unmount};return me({ourProps:{...v,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[fe(oo,{onBeforeEnter:()=>l("beforeEnter"),onAfterEnter:()=>l("afterEnter"),onBeforeLeave:()=>l("beforeLeave"),onAfterLeave:()=>l("afterLeave"),...t,...v,...f},n.default)]},attrs:{},features:Hn,visible:a.value==="visible",name:"Transition"})}}});const Ft=$e(J.ui.strategy,J.ui.dropdown,fl),io=Q({components:{HMenu:Ja,HMenuButton:Xa,HMenuItems:Za,HMenuItem:Ga,UIcon:be,UAvatar:Xe,UKbd:Cn},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>Ft.default.openDelay},closeDelay:{type:Number,default:()=>Ft.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:l}){const{ui:t,attrs:n}=Se("dropdown",ce(e,"ui"),Ft,ce(e,"class")),o=g(()=>Ze(e.mode==="hover"?{offsetDistance:0}:{},e.popper,t.value.popper)),[r,a]=gn(o.value),i=O(null);let u=null,d=null;ie(()=>{var $,m;const I=($=r.value)==null?void 0:$.$.provides;if(!I)return;const h=Object.getOwnPropertySymbols(I);i.value=h.length&&I[h[0]],e.open&&((m=i.value)==null||m.openMenu())});const f=g(()=>{var m,p,C;if(e.mode!=="hover")return{};const I=((m=e.popper)==null?void 0:m.offsetDistance)||((p=t.value.popper)==null?void 0:p.offsetDistance)||8,h=(C=o.value.placement)==null?void 0:C.split("-")[0],$=`${I}px`;return h==="top"||h==="bottom"?{paddingTop:$,paddingBottom:$}:h==="left"||h==="right"?{paddingLeft:$,paddingRight:$}:{paddingTop:$,paddingBottom:$,paddingLeft:$,paddingRight:$}});function v(I){!I.cancelable||!i.value||(i.value.menuState===0?i.value.closeMenu():i.value.openMenu())}function s(){e.mode!=="hover"||!i.value||(d&&(clearTimeout(d),d=null),i.value.menuState!==0&&(u=u||setTimeout(()=>{i.value.openMenu&&i.value.openMenu(),u=null},e.openDelay)))}function c(){e.mode!=="hover"||!i.value||(u&&(clearTimeout(u),u=null),i.value.menuState!==1&&(d=d||setTimeout(()=>{i.value.closeMenu&&i.value.closeMenu(),d=null},e.closeDelay)))}function b(I,h,{href:$,navigate:m,close:p,isExternal:C}){h.click&&h.click(I),$&&!C&&(m(I),p())}se(()=>e.open,(I,h)=>{i.value&&(h===void 0||I===h||(I?i.value.openMenu():i.value.closeMenu()))}),se(()=>{var I;return(I=i.value)==null?void 0:I.menuState},(I,h)=>{h===void 0||I===h||l("update:open",I===0)});const k=hn;return Vt(()=>rt("$ctlRmIk4j0")),{ui:t,attrs:n,popper:o,trigger:r,container:a,containerStyle:f,onTouchStart:v,onMouseEnter:s,onMouseLeave:c,onClick:b,getNuxtLinkProps:ml,twMerge:Ce,twJoin:oe,NuxtLink:k}}}),ro=["disabled"];function so(e,l,t,n,o,r){const a=je("HMenuButton"),i=be,u=Xe,d=Cn,f=je("HMenuItem"),v=hn,s=je("HMenuItems"),c=je("HMenu");return w(),N(c,ee({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:H(({open:b})=>[j(a,{ref:"trigger",as:"div",disabled:e.disabled,class:A(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:H(()=>[G(e.$slots,"default",{open:b,disabled:e.disabled},()=>[R("button",{disabled:e.disabled}," Open ",8,ro)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),b&&e.items.length?(w(),P("div",{key:0,ref:"container",class:A([e.ui.container,e.ui.width]),style:Nt(e.containerStyle),onMouseenter:l[0]||(l[0]=(...k)=>e.onMouseEnter&&e.onMouseEnter(...k))},[j(bn,ee({appear:""},e.ui.transition),{default:H(()=>[R("div",null,[e.popper.arrow?(w(),P("div",{key:0,"data-popper-arrow":"",class:A(Object.values(e.ui.arrow))},null,2)):E("",!0),j(s,{class:A([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:H(()=>[(w(!0),P(te,null,he(e.items,(k,I)=>(w(),P("div",{key:I,class:A(e.ui.padding)},[(w(!0),P(te,null,he(k,(h,$)=>(w(),N(v,ee({key:$,ref_for:!0},e.getNuxtLinkProps(h),{custom:""}),{default:H(({href:m,target:p,rel:C,navigate:T,isExternal:V,isActive:S})=>[j(f,{disabled:h.disabled},{default:H(({active:z,disabled:M,close:x})=>[(w(),N(Ye(m?"a":"button"),{href:M?void 0:m,rel:C,target:p,class:A(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,z||S?e.ui.item.active:e.ui.item.inactive,M&&e.ui.item.disabled),h.class)),onClick:U=>e.onClick(U,h,{href:m,navigate:T,close:x,isExternal:V})},{default:H(()=>[G(e.$slots,h.slot||"item",{item:h},()=>{var U;return[h.icon?(w(),N(i,{key:0,name:h.icon,class:A(e.twMerge(e.twJoin(e.ui.item.icon.base,z||S?e.ui.item.icon.active:e.ui.item.icon.inactive),h.iconClass))},null,8,["name","class"])):h.avatar?(w(),N(u,ee({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...h.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):E("",!0),R("span",{class:A(e.twMerge(e.ui.item.label,h.labelClass))},Z(h.label),3),(U=h.shortcuts)!=null&&U.length?(w(),P("span",{key:2,class:A(e.ui.item.shortcuts)},[(w(!0),P(te,null,he(h.shortcuts,L=>(w(),N(d,{key:L},{default:H(()=>[_(Z(L),1)]),_:2},1024))),128))],2)):E("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):E("",!0)]),_:3},16,["class","onMouseleave"])}const Qn=Oe(io,[["render",so]]),_e=(e,l)=>{const t=we("form-events",void 0),n=we("form-group",void 0),o=we("form-inputs",void 0);n&&(e!=null&&e.id&&(n.inputId.value=e==null?void 0:e.id),o&&(o.value[n.name.value]=n.inputId.value));const r=O(!1);function a(f,v){t&&t.emit({type:f,path:v})}function i(){a("blur",n==null?void 0:n.name.value),r.value=!0}function u(){a("change",n==null?void 0:n.name.value)}const d=yn(()=>{(r.value||n!=null&&n.eagerValidation.value)&&a("input",n==null?void 0:n.name.value)},300);return{inputId:g(()=>(e==null?void 0:e.id)??(n==null?void 0:n.inputId.value)),name:g(()=>(e==null?void 0:e.name)??(n==null?void 0:n.name.value)),size:g(()=>{var v;const f=l.size[n==null?void 0:n.size.value]?n==null?void 0:n.size.value:null;return(e==null?void 0:e.size)??f??((v=l==null?void 0:l.default)==null?void 0:v.size)}),color:g(()=>{var f;return(f=n==null?void 0:n.error)!=null&&f.value?"red":e==null?void 0:e.color}),emitFormBlur:i,emitFormInput:d,emitFormChange:u}},Le=$e(J.ui.strategy,J.ui.textarea,pl),uo=Q({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(Le.size).includes(e)}},color:{type:String,default:()=>Le.default.color,validator(e){return[...J.ui.colors,...Object.keys(Le.color)].includes(e)}},variant:{type:String,default:()=>Le.default.variant,validator(e){return[...Object.keys(Le.variant),...Object.values(Le.color).flatMap(l=>Object.keys(l))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:l}){const{ui:t,attrs:n}=Se("textarea",ce(e,"ui"),Le,ce(e,"class")),{emitFormBlur:o,emitFormInput:r,inputId:a,color:i,size:u,name:d}=_e(e,Le),f=O(Ze({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),v=O(null),s=()=>{var m;e.autofocus&&((m=v.value)==null||m.focus())},c=()=>{if(e.autoresize){if(!v.value)return;v.value.rows=e.rows;const m=window.getComputedStyle(v.value),p=parseInt(m.paddingTop),C=parseInt(m.paddingBottom),T=p+C,V=parseInt(m.lineHeight),{scrollHeight:S}=v.value,z=(S-T)/V;z>e.rows&&(v.value.rows=e.maxrows?Math.min(z,e.maxrows):z)}},b=m=>{f.value.trim&&(m=m.trim()),f.value.number&&(m=wn(m)),l("update:modelValue",m),r()},k=m=>{c(),f.value.lazy||b(m.target.value)},I=m=>{const p=m.target.value;l("change",p),f.value.lazy&&b(p),f.value.trim&&(m.target.value=p.trim())},h=m=>{l("blur",m),o()};ie(()=>{setTimeout(()=>{s()},e.autofocusDelay)}),se(()=>e.modelValue,()=>{ue(c)}),ie(()=>{setTimeout(()=>{s(),c()},100)});const $=g(()=>{var p,C;const m=((C=(p=t.value.color)==null?void 0:p[i.value])==null?void 0:C[e.variant])||t.value.variant[e.variant];return Ce(oe(t.value.base,t.value.form,t.value.rounded,t.value.placeholder,t.value.size[u.value],e.padded?t.value.padding[u.value]:"p-0",m==null?void 0:m.replaceAll("{color}",i.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:t,attrs:n,name:d,inputId:a,textarea:v,textareaClass:$,onInput:k,onChange:I,onBlur:h}}}),co=["id","value","name","rows","required","disabled","placeholder"];function vo(e,l,t,n,o,r){return w(),P("div",{class:A(e.ui.wrapper)},[R("textarea",ee({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:l[0]||(l[0]=(...a)=>e.onInput&&e.onInput(...a)),onBlur:l[1]||(l[1]=(...a)=>e.onBlur&&e.onBlur(...a)),onChange:l[2]||(l[2]=(...a)=>e.onChange&&e.onChange(...a))}),null,16,co),G(e.$slots,"default")],2)}const fo=Oe(uo,[["render",vo]]),Ee=$e(J.ui.strategy,J.ui.input,gl),mo=Q({components:{UIcon:be},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>Ee.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(Ee.size).includes(e)}},color:{type:String,default:()=>Ee.default.color,validator(e){return[...J.ui.colors,...Object.keys(Ee.color)].includes(e)}},variant:{type:String,default:()=>Ee.default.variant,validator(e){return[...Object.keys(Ee.variant),...Object.values(Ee.color).flatMap(l=>Object.keys(l))].includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:l,slots:t}){const{ui:n,attrs:o}=Se("input",ce(e,"ui"),Ee,ce(e,"class")),{size:r,rounded:a}=Ut({ui:n,props:e}),{emitFormBlur:i,emitFormInput:u,size:d,color:f,inputId:v,name:s}=_e(e,Ee),c=g(()=>r.value||d.value),b=O(Ze({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),k=O(null),I=()=>{var F;e.autofocus&&((F=k.value)==null||F.focus())},h=F=>{b.value.trim&&(F=F.trim()),(b.value.number||e.type==="number")&&(F=wn(F)),l("update:modelValue",F),u()},$=F=>{b.value.lazy||h(F.target.value)},m=F=>{if(e.type==="file"){const D=F.target.files;l("change",D)}else{const D=F.target.value;l("change",D),b.value.lazy&&h(D),b.value.trim&&(F.target.value=D.trim())}},p=F=>{i(),l("blur",F)};ie(()=>{setTimeout(()=>{I()},e.autofocusDelay)});const C=g(()=>{var D,X;const F=((X=(D=n.value.color)==null?void 0:D[f.value])==null?void 0:X[e.variant])||n.value.variant[e.variant];return Ce(oe(n.value.base,n.value.form,a.value,n.value.placeholder,e.type==="file"&&[n.value.file.base,n.value.file.padding[c.value]],n.value.size[c.value],e.padded?n.value.padding[c.value]:"p-0",F==null?void 0:F.replaceAll("{color}",f.value),(T.value||t.leading)&&n.value.leading.padding[c.value],(V.value||t.trailing)&&n.value.trailing.padding[c.value]),e.inputClass)}),T=g(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),V=g(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),S=g(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),z=g(()=>e.loading&&!T.value?e.loadingIcon:e.trailingIcon||e.icon),M=g(()=>oe(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[c.value])),x=g(()=>oe(n.value.icon.base,f.value&&J.ui.colors.includes(f.value)&&n.value.icon.color.replaceAll("{color}",f.value),n.value.icon.size[c.value],e.loading&&n.value.icon.loading)),U=g(()=>oe(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[c.value])),L=g(()=>oe(n.value.icon.base,f.value&&J.ui.colors.includes(f.value)&&n.value.icon.color.replaceAll("{color}",f.value),n.value.icon.size[c.value],e.loading&&!T.value&&n.value.icon.loading));return{ui:n,attrs:o,name:s,inputId:v,input:k,isLeading:T,isTrailing:V,inputClass:C,leadingIconName:S,leadingIconClass:x,leadingWrapperIconClass:M,trailingIconName:z,trailingIconClass:L,trailingWrapperIconClass:U,onInput:$,onChange:m,onBlur:p}}}),po=["id","name","value","type","required","placeholder","disabled"];function go(e,l,t,n,o,r){const a=be;return w(),P("div",{class:A(e.ui.wrapper)},[R("input",ee({id:e.inputId,ref:"input",name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass},e.attrs,{onInput:l[0]||(l[0]=(...i)=>e.onInput&&e.onInput(...i)),onBlur:l[1]||(l[1]=(...i)=>e.onBlur&&e.onBlur(...i)),onChange:l[2]||(l[2]=(...i)=>e.onChange&&e.onChange(...i))}),null,16,po),G(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(w(),P("span",{key:0,class:A(e.leadingWrapperIconClass)},[G(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[j(a,{name:e.leadingIconName,class:A(e.leadingIconClass)},null,8,["name","class"])])],2)):E("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(w(),P("span",{key:1,class:A(e.trailingWrapperIconClass)},[G(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[j(a,{name:e.trailingIconName,class:A(e.trailingIconClass)},null,8,["name","class"])])],2)):E("",!0)],2)}const Yt=Oe(mo,[["render",go]]);async function bo(e,l){return await ho(l).catch(n=>(console.error("Failed to get image meta for "+l,n+""),{width:0,height:0,ratio:0}))}async function ho(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((l,t)=>{const n=new Image;n.onload=()=>{const o={width:n.width,height:n.height,ratio:n.width/n.height};l(o)},n.onerror=o=>t(o),n.src=e})}function on(e){return l=>l?e[l]||l:e.missingValue}function yo({formatter:e,keyMap:l,joinWith:t="/",valueMap:n}={}){e||(e=(r,a)=>`${r}=${a}`),l&&typeof l!="function"&&(l=on(l));const o=n||{};return Object.keys(o).forEach(r=>{typeof o[r]!="function"&&(o[r]=on(o[r]))}),(r={})=>Object.entries(r).filter(([i,u])=>typeof u<"u").map(([i,u])=>{const d=o[i];return typeof d=="function"&&(u=d(r[i])),i=typeof l=="function"?l(i):i,e(i,u)}).join(t)}function Re(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function wo(e=""){if(e===void 0||!e.length)return[];const l=new Set;for(const t of e.split(" ")){const n=Number.parseInt(t.replace("x",""));n&&l.add(n)}return Array.from(l)}function ko(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function So(e){const l={};if(typeof e=="string")for(const t of e.split(/[\s,]+/).filter(n=>n)){const n=t.split(":");n.length!==2?l["1px"]=n[0].trim():l[n[0].trim()]=n[1].trim()}else Object.assign(l,e);return l}function Io(e){const l={options:e},t=(o,r={})=>Yn(l,o,r),n=(o,r={},a={})=>t(o,{...a,modifiers:Ze(r,a.modifiers||{})}).url;for(const o in e.presets)n[o]=(r,a,i)=>n(r,a,{...e.presets[o],...i});return n.options=e,n.getImage=t,n.getMeta=(o,r)=>$o(l,o,r),n.getSizes=(o,r)=>Mo(l,o,r),l.$img=n,n}async function $o(e,l,t){const n=Yn(e,l,{...t});return typeof n.getMeta=="function"?await n.getMeta():await bo(e,n.url)}function Yn(e,l,t){var d,f;if(l&&typeof l!="string")throw new TypeError(`input must be a string (received ${typeof l}: ${JSON.stringify(l)})`);if(!l||l.startsWith("data:"))return{url:l};const{provider:n,defaults:o}=Oo(e,t.provider||e.options.provider),r=Co(e,t.preset);if(l=Zt(l)?l:bl(l),!n.supportsAlias)for(const v in e.options.alias)l.startsWith(v)&&(l=Et(e.options.alias[v],l.substr(v.length)));if(n.validateDomains&&Zt(l)){const v=hl(l).host;if(!e.options.domains.find(s=>s===v))return{url:l}}const a=Ze(t,r,o);a.modifiers={...a.modifiers};const i=a.modifiers.format;(d=a.modifiers)!=null&&d.width&&(a.modifiers.width=Re(a.modifiers.width)),(f=a.modifiers)!=null&&f.height&&(a.modifiers.height=Re(a.modifiers.height));const u=n.getImage(l,a,e);return u.format=u.format||i||"",u}function Oo(e,l){const t=e.options.providers[l];if(!t)throw new Error("Unknown provider: "+l);return t}function Co(e,l){if(!l)return{};if(!e.options.presets[l])throw new Error("Unknown preset: "+l);return e.options.presets[l]}function Mo(e,l,t){var b,k,I,h,$;const n=Re((b=t.modifiers)==null?void 0:b.width),o=Re((k=t.modifiers)==null?void 0:k.height),r=So(t.sizes),a=(I=t.densities)!=null&&I.trim()?wo(t.densities.trim()):e.options.densities;ko(a);const i=n&&o?o/n:0,u=[],d=[];if(Object.keys(r).length>=1){for(const m in r){const p=rn(m,String(r[m]),o,i,e);if(p!==void 0){u.push({size:p.size,screenMaxWidth:p.screenMaxWidth,media:`(max-width: ${p.screenMaxWidth}px)`});for(const C of a)d.push({width:p._cWidth*C,src:sn(e,l,t,p,C)})}}Po(u)}else for(const m of a){const p=Object.keys(r)[0];let C=rn(p,String(r[p]),o,i,e);C===void 0&&(C={size:"",screenMaxWidth:0,_cWidth:(h=t.modifiers)==null?void 0:h.width,_cHeight:($=t.modifiers)==null?void 0:$.height}),d.push({width:m,src:sn(e,l,t,C,m)})}zo(d);const f=d[d.length-1],v=u.length?u.map(m=>`${m.media?m.media+" ":""}${m.size}`).join(", "):void 0,s=v?"w":"x",c=d.map(m=>`${m.src} ${m.width}${s}`).join(", ");return{sizes:v,srcset:c,src:f==null?void 0:f.src}}function rn(e,l,t,n,o){const r=o.options.screens&&o.options.screens[e]||Number.parseInt(e),a=l.endsWith("vw");if(!a&&/^\d+$/.test(l)&&(l=l+"px"),!a&&!l.endsWith("px"))return;let i=Number.parseInt(l);if(!r||!i)return;a&&(i=Math.round(i/100*r));const u=n?Math.round(i*n):t;return{size:l,screenMaxWidth:r,_cWidth:i,_cHeight:u}}function sn(e,l,t,n,o){return e.$img(l,{...t.modifiers,width:n._cWidth?n._cWidth*o:void 0,height:n._cHeight?n._cHeight*o:void 0},t)}function Po(e){var t;e.sort((n,o)=>n.screenMaxWidth-o.screenMaxWidth);let l=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.media===l&&e.splice(n,1),l=o.media}for(let n=0;n<e.length;n++)e[n].media=((t=e[n+1])==null?void 0:t.media)||""}function zo(e){e.sort((t,n)=>t.width-n.width);let l=null;for(let t=e.length-1;t>=0;t--){const n=e[t];n.width===l&&e.splice(t,1),l=n.width}}const To=yo({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,l)=>Gt(e)+"_"+Gt(l)}),Fo=(e,{modifiers:l={},baseURL:t}={},n)=>{l.width&&l.height&&(l.resize=`${l.width}x${l.height}`,delete l.width,delete l.height);const o=To(l)||"_";return t||(t=Et(n.options.nuxt.baseURL,"/_ipx")),{url:Et(t,o,yl(e))}},Ao=!0,Ro=!0,Eo=Object.freeze(Object.defineProperty({__proto__:null,getImage:Fo,supportsAlias:Ro,validateDomains:Ao},Symbol.toStringTag,{value:"Module"})),Jn={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};Jn.providers={ipxStatic:{provider:Eo,defaults:{}}};const Ot=()=>{const e=wl(),l=kn();return l.$img||l._img||(l._img=Io({...Jn,nuxt:{baseURL:e.app.baseURL}}))};function Bo(e){var l;(l=performance==null?void 0:performance.mark)==null||l.call(performance,"mark_feature_usage",{detail:{feature:e}})}const xo={src:{type:String,default:void 0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:Boolean,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],default:void 0}},jo=e=>{const l=g(()=>({provider:e.provider,preset:e.preset})),t=g(()=>({width:Re(e.width),height:Re(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),n=Ot(),o=g(()=>({...e.modifiers,width:Re(e.width),height:Re(e.height),format:e.format,quality:e.quality||n.options.quality,background:e.background,fit:e.fit}));return{options:l,attrs:t,modifiers:o}},Lo={...xo,placeholder:{type:[Boolean,String,Number,Array],default:void 0},placeholderClass:{type:String,default:void 0}},Ct=Q({name:"NuxtImg",props:Lo,emits:["load","error"],setup:(e,l)=>{const t=Ot(),n=jo(e),o=O(!1),r=O(),a=g(()=>t.getSizes(e.src,{...n.options.value,sizes:e.sizes,densities:e.densities,modifiers:{...n.modifiers.value,width:Re(e.width),height:Re(e.height)}})),i=g(()=>{const c={...n.attrs.value,"data-nuxt-img":""};return(!e.placeholder||o.value)&&(c.sizes=a.value.sizes,c.srcset=a.value.srcset),c}),u=g(()=>{let c=e.placeholder;if(c===""&&(c=!0),!c||o.value)return!1;if(typeof c=="string")return c;const b=Array.isArray(c)?c:typeof c=="number"?[c,c]:[10,10];return t(e.src,{...n.modifiers.value,width:b[0],height:b[1],quality:b[2]||50,blur:b[3]||3},n.options.value)}),d=g(()=>e.sizes?a.value.src:t(e.src,n.modifiers.value,n.options.value)),f=g(()=>u.value?u.value:d.value);if(e.preload){const c=Object.values(a.value).every(b=>b);kl({link:[{rel:"preload",as:"image",nonce:e.nonce,...c?{href:a.value.src,imagesizes:a.value.sizes,imagesrcset:a.value.srcset}:{href:f.value}}]})}const s=kn().isHydrating;return ie(()=>{if(u.value){const c=new Image;c.src=d.value,e.sizes&&(c.sizes=a.value.sizes||"",c.srcset=a.value.srcset),c.onload=b=>{o.value=!0,l.emit("load",b)},Bo("nuxt-image");return}r.value&&(r.value.complete&&s&&(r.value.getAttribute("data-error")?l.emit("error",new Event("error")):l.emit("load",new Event("load"))),r.value.onload=c=>{l.emit("load",c)},r.value.onerror=c=>{l.emit("error",c)})}),()=>fe("img",{ref:r,src:f.value,...i.value,...l.attrs,class:e.placeholder&&!o.value?[e.placeholderClass]:void 0})}}),Do=$e(J.ui.strategy,J.ui.modal,Wl),Vo=Q({components:{HDialog:Ea,HDialogPanel:Ba,TransitionRoot:Kn,TransitionChild:Wn},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:l}){const{ui:t,attrs:n}=Se("modal",ce(e,"ui"),Do,ce(e,"class")),o=g({get(){return e.modelValue},set(u){l("update:modelValue",u)}}),r=g(()=>e.transition?{...t.value.transition}:{});function a(u){if(e.preventClose){l("close-prevented");return}o.value=u,l("close")}const i=()=>{l("after-leave")};return Vt(()=>rt("$HAJMhYDoe7")),{ui:t,attrs:n,isOpen:o,transitionClass:r,onAfterLeave:i,close:a}}});function No(e,l,t,n,o,r){const a=je("TransitionChild"),i=je("HDialogPanel"),u=je("HDialog"),d=je("TransitionRoot");return w(),N(d,{appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},{default:H(()=>[j(u,ee({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:H(()=>[e.overlay?(w(),N(a,ee({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:H(()=>[R("div",{class:A([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):E("",!0),R("div",{class:A(e.ui.inner)},[R("div",{class:A([e.ui.container,!e.fullscreen&&e.ui.padding])},[j(a,ee({as:"template",appear:e.appear},e.transitionClass),{default:H(()=>[j(i,{class:A([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:H(()=>[G(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const Mt=Oe(Vo,[["render",No]]),Fe=$e(J.ui.strategy,J.ui.select,Sn),vt=$e(J.ui.strategy,J.ui.selectMenu,Sl),Uo=Q({components:{HCombobox:fa,HComboboxButton:ma,HComboboxOptions:ga,HComboboxOption:ba,HComboboxInput:pa,HListbox:Ua,HListboxButton:qa,HListboxOptions:Ha,HListboxOption:Wa,UIcon:be,UAvatar:Xe},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>Fe.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>Fe.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>vt.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:"Search..."},clearSearchOnClose:{type:Boolean,default:()=>vt.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:String,default:()=>vt.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(Fe.size).includes(e)}},color:{type:String,default:()=>Fe.default.color,validator(e){return[...J.ui.colors,...Object.keys(Fe.color)].includes(e)}},variant:{type:String,default:()=>Fe.default.variant,validator(e){return[...Object.keys(Fe.variant),...Object.values(Fe.color).flatMap(l=>Object.keys(l))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:l,slots:t}){const{ui:n,attrs:o}=Se("select",ce(e,"ui"),Fe,ce(e,"class")),{ui:r}=Se("selectMenu",ce(e,"uiMenu"),vt),a=g(()=>Ze({},e.popper,r.value.popper)),[i,u]=gn(a.value),{size:d,rounded:f}=Ut({ui:n,props:e}),{emitFormBlur:v,emitFormChange:s,inputId:c,color:b,size:k,name:I}=_e(e,Fe),h=g(()=>d.value||k.value),$=O(""),m=g({get(){return e.query??$.value},set(ae){$.value=ae,l("update:query",ae)}}),p=g(()=>{if(e.multiple)return Array.isArray(e.modelValue)&&e.modelValue.length?`${e.modelValue.length} selected`:null;if(e.modelValue!==void 0&&e.modelValue!==null)if(e.valueAttribute){const ae=e.options.find(Y=>Y[e.valueAttribute]===e.modelValue);return ae?ae[e.optionAttribute]:null}else return["string","number"].includes(typeof e.modelValue)?e.modelValue:e.modelValue[e.optionAttribute];return null}),C=g(()=>{var Y,ne;const ae=((ne=(Y=n.value.color)==null?void 0:Y[b.value])==null?void 0:ne[e.variant])||n.value.variant[e.variant];return Ce(oe(n.value.base,r.value.select,f.value,n.value.size[h.value],n.value.gap[h.value],e.padded?n.value.padding[h.value]:"p-0",ae==null?void 0:ae.replaceAll("{color}",b.value),(T.value||t.leading)&&n.value.leading.padding[h.value],(V.value||t.trailing)&&n.value.trailing.padding[h.value]),e.placeholder&&e.modelValue===void 0&&e.modelValue===null&&n.value.placeholder,e.selectClass)}),T=g(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),V=g(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),S=g(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),z=g(()=>e.loading&&!T.value?e.loadingIcon:e.trailingIcon||e.icon),M=g(()=>oe(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[h.value])),x=g(()=>oe(n.value.icon.base,b.value&&J.ui.colors.includes(b.value)&&n.value.icon.color.replaceAll("{color}",b.value),n.value.icon.size[h.value],e.loading&&n.value.icon.loading)),U=g(()=>oe(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[h.value])),L=g(()=>oe(n.value.icon.base,b.value&&J.ui.colors.includes(b.value)&&n.value.icon.color.replaceAll("{color}",b.value),n.value.icon.size[h.value],e.loading&&!T.value&&n.value.icon.loading)),F=typeof e.searchable=="function"?yn(e.searchable,e.debounce):void 0,D=Il(async()=>e.searchable&&F?await F(m.value):m.value===""?e.options:e.options.filter(ae=>{var Y;return((Y=e.searchAttributes)!=null&&Y.length?e.searchAttributes:[e.optionAttribute]).some(ne=>{if(["string","number"].includes(typeof ae))return String(ae).search(new RegExp(m.value,"i"))!==-1;const q=at(ae,ne);return q!=null&&String(q).search(new RegExp(m.value,"i"))!==-1})})),X=g(()=>m.value===""||e.showCreateOptionWhen==="empty"&&D.value.length||e.showCreateOptionWhen==="always"&&D.value.find(Y=>["string","number"].includes(typeof Y)?Y===m.value:Y[e.optionAttribute]===m.value)?null:["string","number"].includes(typeof e.modelValue)?m.value:{[e.optionAttribute]:m.value});function pe(){e.clearSearchOnClose&&(m.value="")}se(u,ae=>{ae?l("open"):(pe(),l("close"),v())});function ge(ae){l("update:modelValue",ae),l("change",ae),s()}function ye(ae){m.value=ae.target.value}return Vt(()=>rt("$YMH7mn4R4k")),{ui:n,uiMenu:r,attrs:o,name:I,inputId:c,popper:a,trigger:i,container:u,label:p,isLeading:T,isTrailing:V,selectClass:C,leadingIconName:S,leadingIconClass:x,leadingWrapperIconClass:M,trailingIconName:z,trailingIconClass:L,trailingWrapperIconClass:U,filteredOptions:D,createOption:X,query:m,onUpdate:ge,onQueryChange:ye}}}),qo=["value","required"],Ho=["id","disabled"],Wo={class:"truncate"};function Ko(e,l,t,n,o,r){const a=be,i=je("HComboboxInput"),u=Xe;return w(),N(Ye(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:A(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:H(({open:d})=>[e.required?(w(),P("input",{key:0,value:e.modelValue,required:e.required,class:A(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,qo)):E("",!0),(w(),N(Ye(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:A(e.uiMenu.trigger)},{default:H(()=>[G(e.$slots,"default",{open:d,disabled:e.disabled,loading:e.loading},()=>[R("button",ee({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(w(),P("span",{key:0,class:A(e.leadingWrapperIconClass)},[G(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[j(a,{name:e.leadingIconName,class:A(e.leadingIconClass)},null,8,["name","class"])])],2)):E("",!0),G(e.$slots,"label",{},()=>[e.label?(w(),P("span",{key:0,class:A(e.uiMenu.label)},Z(e.label),3)):(w(),P("span",{key:1,class:A(e.uiMenu.label)},Z(e.placeholder||"Â "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(w(),P("span",{key:1,class:A(e.trailingWrapperIconClass)},[G(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[j(a,{name:e.trailingIconName,class:A(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):E("",!0)],16,Ho)])]),_:2},1032,["class"])),d?(w(),P("div",{key:1,ref:"container",class:A([e.uiMenu.container,e.uiMenu.width])},[j(bn,ee({appear:""},e.uiMenu.transition),{default:H(()=>[R("div",null,[e.popper.arrow?(w(),P("div",{key:0,"data-popper-arrow":"",class:A(Object.values(e.uiMenu.arrow))},null,2)):E("",!0),(w(),N(Ye(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:A([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:H(()=>{var f,v;return[e.searchable?(w(),N(i,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:A(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):E("",!0),(w(!0),P(te,null,he(e.filteredOptions,(s,c)=>(w(),N(Ye(e.searchable?"HComboboxOption":"HListboxOption"),{key:c,as:"template",value:e.valueAttribute?s[e.valueAttribute]:s,disabled:s.disabled},{default:H(({active:b,selected:k,disabled:I})=>[R("li",{class:A([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,b?e.uiMenu.option.active:e.uiMenu.option.inactive,k&&e.uiMenu.option.selected,I&&e.uiMenu.option.disabled])},[R("div",{class:A(e.uiMenu.option.container)},[G(e.$slots,"option",{option:s,active:b,selected:k},()=>[s.icon?(w(),N(a,{key:0,name:s.icon,class:A([e.uiMenu.option.icon.base,b?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,s.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):s.avatar?(w(),N(u,ee({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...s.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):s.chip?(w(),P("span",{key:2,class:A(e.uiMenu.option.chip.base),style:Nt({background:`#${s.chip}`})},null,6)):E("",!0),R("span",Wo,Z(["string","number"].includes(typeof s)?s:s[e.optionAttribute]),1)])],2),k?(w(),P("span",{key:0,class:A([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[j(a,{name:e.selectedIcon,class:A(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):E("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(w(),N(Ye(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:H(({active:s,selected:c})=>[R("li",{class:A([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,s?e.uiMenu.option.active:e.uiMenu.option.inactive])},[R("div",{class:A(e.uiMenu.option.container)},[G(e.$slots,"option-create",{option:e.createOption,active:s,selected:c},()=>[R("span",{class:A(e.uiMenu.option.create)},'Create "'+Z(e.createOption[e.optionAttribute])+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((f=e.filteredOptions)!=null&&f.length)?(w(),P("p",{key:2,class:A(e.uiMenu.option.empty)},[G(e.$slots,"option-empty",{query:e.query},()=>[_(' No results for "'+Z(e.query)+'". ',1)])],2)):(v=e.filteredOptions)!=null&&v.length?E("",!0):(w(),P("p",{key:3,class:A(e.uiMenu.empty)},[G(e.$slots,"empty",{query:e.query},()=>[_(" No options. ")])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):E("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const Xn=Oe(Uo,[["render",Ko]]),un=$e(J.ui.strategy,J.ui.checkbox,Ul),Qo=Q({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:void 0},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>un.default.color,validator(e){return J.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:l}){const{ui:t,attrs:n}=Se("checkbox",ce(e,"ui"),un,ce(e,"class")),{emitFormChange:o,color:r,name:a,inputId:i}=_e(e),u=i.value??rt("$YWrWuPJ69t"),d=g({get(){return e.modelValue},set(s){l("update:modelValue",s)}}),f=s=>{l("change",s.target.checked),o()},v=g(()=>Ce(oe(t.value.base,t.value.form,t.value.rounded,t.value.background,t.value.border,r.value&&t.value.ring.replaceAll("{color}",r.value),r.value&&t.value.color.replaceAll("{color}",r.value)),e.inputClass));return{ui:t,attrs:n,toggle:d,inputId:u,name:a,inputClass:v,onChange:f}}}),Yo=["data-n-ids"],Jo=["id","name","required","value","disabled","indeterminate"],Xo=["for"];function Zo(e,l,t,n,o,r){return w(),P("div",{class:A(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[R("div",{class:A(e.ui.container)},[kt(R("input",ee({id:e.inputId,"onUpdate:modelValue":l[0]||(l[0]=a=>e.toggle=a),name:e.name,required:e.required,value:e.value,disabled:e.disabled,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:l[1]||(l[1]=(...a)=>e.onChange&&e.onChange(...a))}),null,16,Jo),[[$l,e.toggle]])],2),e.label||e.$slots.label?(w(),P("div",{key:0,class:A(e.ui.inner)},[R("label",{for:e.inputId,class:A(e.ui.label)},[G(e.$slots,"label",{},()=>[_(Z(e.label),1)]),e.required?(w(),P("span",{key:0,class:A(e.ui.required)},"*",2)):E("",!0)],10,Xo),e.help?(w(),P("p",{key:0,class:A(e.ui.help)},Z(e.help),3)):E("",!0)],2)):E("",!0)],10,Yo)}const Go=Oe(Qo,[["render",Zo]]),ft=$e(J.ui.strategy,J.ui.range,ql),_o=Q({inheritAttrs:!1,props:{modelValue:{type:Number,default:0},id:{type:String,default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},size:{type:String,default:null,validator(e){return Object.keys(ft.size).includes(e)}},color:{type:String,default:()=>ft.default.color,validator(e){return J.ui.colors.includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:l}){const{ui:t,attrs:n}=Se("range",ce(e,"ui"),ft),{emitFormChange:o,inputId:r,color:a,size:i,name:u}=_e(e,ft),d=g({get(){return e.modelValue},set(h){l("update:modelValue",h)}}),f=h=>{l("change",h.target.value),o()},v=g(()=>Ce(oe(t.value.wrapper,t.value.size[i.value]),e.class)),s=g(()=>Ce(oe(t.value.base,t.value.background,t.value.rounded,a.value&&t.value.ring.replaceAll("{color}",a.value),t.value.size[i.value]),e.inputClass)),c=g(()=>oe(t.value.thumb.base,a.value&&t.value.thumb.color.replaceAll("{color}",a.value),t.value.thumb.ring,t.value.thumb.background,t.value.thumb.size[i.value])),b=g(()=>oe(t.value.track.base,t.value.track.background,t.value.track.rounded,t.value.track.size[i.value])),k=g(()=>oe(t.value.progress.base,t.value.progress.rounded,a.value&&t.value.progress.background.replaceAll("{color}",a.value),t.value.progress.size[i.value])),I=g(()=>{const{modelValue:h,min:$,max:m}=e;return{width:`${(Math.max($,Math.min(h,m))-$)/(m-$)*100}%`}});return{ui:t,attrs:n,name:u,inputId:r,value:d,wrapperClass:v,inputClass:s,thumbClass:c,trackClass:b,progressClass:k,progressStyle:I,onChange:f}}}),ei=["id","name","min","max","disabled","step"];function ti(e,l,t,n,o,r){return w(),P("div",{class:A(e.wrapperClass)},[kt(R("input",ee({id:e.inputId,ref:"input","onUpdate:modelValue":l[0]||(l[0]=a=>e.value=a),name:e.name,min:e.min,max:e.max,disabled:e.disabled,step:e.step,type:"range",class:[e.inputClass,e.thumbClass,e.trackClass]},e.attrs,{onChange:l[1]||(l[1]=(...a)=>e.onChange&&e.onChange(...a))}),null,16,ei),[[Ol,e.value,void 0,{number:!0}]]),R("span",{class:A(e.progressClass),style:Nt(e.progressStyle)},null,6)],2)}const ni=Oe(_o,[["render",ti]]),At=$e(J.ui.strategy,J.ui.formGroup,Nl),li=Q({inheritAttrs:!1,props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(At.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},eagerValidation:{type:Boolean,default:!1}},setup(e){const{ui:l,attrs:t}=Se("formGroup",ce(e,"ui"),At,ce(e,"class")),n=we("form-errors",null),o=g(()=>{var i,u;return e.error&&typeof e.error=="string"||typeof e.error=="boolean"?e.error:(u=(i=n==null?void 0:n.value)==null?void 0:i.find(d=>d.path===e.name))==null?void 0:u.message}),r=g(()=>l.value.size[e.size??At.default.size]),a=O(rt("$K7dDJpdOWE"));return ze("form-group",{error:o,inputId:a,name:g(()=>e.name),size:g(()=>e.size),eagerValidation:g(()=>e.eagerValidation)}),{ui:l,attrs:t,inputId:a,size:r,error:o}}}),ai=["for"];function oi(e,l,t,n,o,r){return w(),P("div",ee({class:e.ui.wrapper},e.attrs),[R("div",{class:A(e.ui.inner)},[e.label||e.$slots.label?(w(),P("div",{key:0,class:A([e.ui.label.wrapper,e.size])},[R("label",{for:e.inputId,class:A([e.ui.label.base,e.required?e.ui.label.required:""])},[e.$slots.label?G(e.$slots,"label",Qe(ee({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(w(),P(te,{key:1},[_(Z(e.label),1)],64))],10,ai),e.hint||e.$slots.hint?(w(),P("span",{key:0,class:A([e.ui.hint])},[e.$slots.hint?G(e.$slots,"hint",Qe(ee({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(w(),P(te,{key:1},[_(Z(e.hint),1)],64))],2)):E("",!0)],2)):E("",!0),e.description||e.$slots.description?(w(),P("p",{key:1,class:A([e.ui.description,e.size])},[e.$slots.description?G(e.$slots,"description",Qe(ee({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(w(),P(te,{key:1},[_(Z(e.description),1)],64))],2)):E("",!0)],2),R("div",{class:A([e.label?e.ui.container:""])},[G(e.$slots,"default",Qe(Cl({error:e.error}))),typeof e.error=="string"&&e.error||e.$slots.error?(w(),P("p",{key:0,class:A([e.ui.error,e.size])},[e.$slots.error?G(e.$slots,"error",Qe(ee({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(w(),P(te,{key:1},[_(Z(e.error),1)],64))],2)):e.help||e.$slots.help?(w(),P("p",{key:1,class:A([e.ui.help,e.size])},[e.$slots.help?G(e.$slots,"help",Qe(ee({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(w(),P(te,{key:1},[_(Z(e.help),1)],64))],2)):E("",!0)],2)],16)}const Zn=Oe(li,[["render",oi]]),ii={key:0,class:"text-red-300"},ri={key:0,class:"flex items-center"},si={key:2,class:"flex flex-row flex-grow items-center justify-between"},ui=Q({__name:"InputParam",props:{inputParam:{type:Object,required:!0},index:{type:Number,required:!0},inputParamsMap:{type:Array,required:!0},advanced:{type:Boolean,default:!1}},setup(e){const l=e;function t(s){return s?URL.createObjectURL(s):""}const n=O(null),o=O(""),r=O(!1),a=O({width:0,height:0});function i(){const s=l.inputParamsMap[l.index][l.inputParam.name].source_input_name,c=l.inputParamsMap.find(b=>{const k=Object.keys(b)[0];if(k===s)return b[k]});f(c[s].value)}ie(()=>{l.inputParam.type==="range_scale"&&i()}),l.inputParam.type==="range_scale"&&se(l.inputParamsMap,()=>{i()});function u(){URL.revokeObjectURL(o.value),o.value="",n&&(n.value.$refs.input.value=""),l.inputParamsMap[l.index][l.inputParam.name].value=null}const d=g(()=>l.inputParam.type!=="bool"?l.inputParam.display_name:"");function f(s){if(!(s instanceof File)){a.value.width=0,a.value.height=0;return}const c=URL.createObjectURL(s),b=new Image;b.onload=function(){a.value.width=b.naturalWidth,a.value.height=b.naturalHeight,URL.revokeObjectURL(b.src)},b.src=c}const v=g(()=>{if(l.inputParam.type==="range_scale"){const s=l.inputParamsMap[l.index][l.inputParam.name].value;return`value: ${s}x (${a.value.width}x${a.value.height} -> ${(a.value.width*s).toFixed(0)}x${(a.value.height*s).toFixed(0)})`}return["range","range_scale"].includes(l.inputParam.type)?`value: ${l.inputParamsMap[l.index][l.inputParam.name].value}`:""});return Ml(()=>{URL.revokeObjectURL(o.value)}),(s,c)=>{var V;const b=fo,k=Yt,I=Pe,h=Ct,$=Mt,m=Xn,p=Go,C=ni,T=Zn;return(((V=e.inputParam)==null?void 0:V.advanced)||!1)===e.advanced?(w(),N(T,{key:0,label:y(d),class:"mb-3",help:y(v)},{hint:H(()=>[e.inputParam.optional?E("",!0):(w(),P("span",ii,"required"))]),default:H(()=>{var S;return[e.inputParam.type==="text"?(w(),N(b,{key:0,size:"md",placeholder:e.inputParam.display_name,required:!e.inputParam.optional,resize:!0,label:e.inputParam.display_name,value:e.inputParamsMap[e.index][e.inputParam.name].value,variant:"outline",onInput:c[0]||(c[0]=z=>{const M=z.target;e.inputParamsMap[e.index][e.inputParam.name].value=M.value})},null,8,["placeholder","required","label","value"])):E("",!0),e.inputParam.type==="number"?(w(),P(te,{key:1},[e.inputParam.name==="seed"?(w(),P("div",ri,[e.inputParam.type==="number"?(w(),N(k,{key:0,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:c[1]||(c[1]=z=>{const M=z.target;e.inputParamsMap[e.index][e.inputParam.name].value=M.value})},null,8,["label","required","value","max","min"])):E("",!0),j(I,{icon:"i-heroicons-arrow-path",color:"violet",variant:"outline",size:"xs",class:"ml-2",onClick:c[2]||(c[2]=()=>{e.inputParamsMap[e.index][e.inputParam.name].value=Math.floor(Math.random()*1e7)})})])):(w(),N(k,{key:1,type:"number",label:e.inputParam.display_name,required:!e.inputParam.optional,value:e.inputParamsMap[e.index][e.inputParam.name].value,max:e.inputParam.max||100,min:e.inputParam.min||0,variant:"outline",onInput:c[3]||(c[3]=z=>{const M=z.target;e.inputParamsMap[e.index][e.inputParam.name].value=M.value})},null,8,["label","required","value","max","min"]))],64)):E("",!0),e.inputParam.type==="image"?(w(),P("div",si,[j(k,{ref_key:"imageInput",ref:n,type:"file",accept:"image/*",class:"w-full",label:e.inputParam.display_name,onChange:c[4]||(c[4]=z=>{console.debug("files",z);const M=z==null?void 0:z[0];e.inputParamsMap[e.index][e.inputParam.name].value=M,o.value=t(M),console.debug("inputParamsMap",e.inputParamsMap)})},null,8,["label"]),y(o)!==""?(w(),N(h,{key:0,src:y(o),class:"w-10 h-10 rounded-lg cursor-pointer ml-2",onClick:c[5]||(c[5]=()=>{r.value=!0})},null,8,["src"])):E("",!0),y(o)!==""?(w(),N(I,{key:1,icon:"i-heroicons-x-mark",variant:"outline",class:"ml-2",onClick:u})):E("",!0)])):E("",!0),e.inputParam.type==="image"?(w(),N($,{key:3,modelValue:y(r),"onUpdate:modelValue":c[8]||(c[8]=z=>He(r)?r.value=z:null),class:"z-[90]",transition:!1,fullscreen:""},{default:H(()=>[j(I,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:c[6]||(c[6]=()=>r.value=!1)}),R("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:c[7]||(c[7]=Je(()=>r.value=!1,["left"]))},[y(o)?(w(),N(h,{key:0,class:"lg:h-full",fit:"inside",src:y(o)},null,8,["src"])):E("",!0)])]),_:1},8,["modelValue"])):E("",!0),e.inputParam.type==="list"?(w(),N(m,{key:4,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":c[9]||(c[9]=z=>e.inputParamsMap[e.index][e.inputParam.name].value=z),placeholder:e.inputParam.display_name,options:Object.keys(e.inputParam.options)},null,8,["modelValue","placeholder","options"])):E("",!0),e.inputParam.type==="bool"?(w(),N(p,{key:5,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":c[10]||(c[10]=z=>e.inputParamsMap[e.index][e.inputParam.name].value=z),label:(S=e.inputParam)==null?void 0:S.display_name},null,8,["modelValue","label"])):E("",!0),["range","range_scale"].includes(e.inputParam.type)?(w(),N(C,{key:6,modelValue:e.inputParamsMap[e.index][e.inputParam.name].value,"onUpdate:modelValue":c[11]||(c[11]=z=>e.inputParamsMap[e.index][e.inputParam.name].value=z),label:e.inputParam.display_name,size:"sm",min:e.inputParam.min,max:e.inputParam.max,step:e.inputParam.step},null,8,["modelValue","label","min","max","step"])):E("",!0)]}),_:1},8,["label","help"])):E("",!0)}}}),di={key:0,class:"heading"},ci={key:1},vi=Q({__name:"InputParams",props:{inputParamsMap:{type:Array,required:!0},additionalInputParamsMap:{type:Array,required:!1,default:[]},advanced:{type:Boolean,default:!1}},setup(e){const l=e,t=Ke(),n=O(!l.advanced);return(o,r)=>{const a=be,i=ui;return w(),P(te,null,[e.advanced?(w(),P("div",di,[R("h4",{class:"text-md font-bold cursor-pointer select-none flex items-center mb-3",onClick:r[0]||(r[0]=()=>{n.value=!y(n)})},[j(a,{name:y(n)?"i-heroicons-chevron-up":"i-heroicons-chevron-down",class:"mr-2"},null,8,["name"]),_(" Advanced options ")])])):E("",!0),y(n)?(w(),P("div",ci,[(w(!0),P(te,null,he(y(t).currentFlow.input_params,(u,d)=>(w(),N(i,{key:d,"input-params-map":e.inputParamsMap,index:d,"input-param":u,advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128)),(w(!0),P(te,null,he(e.additionalInputParamsMap,(u,d)=>(w(),N(i,{key:Object.keys(u)[0],"input-params-map":e.additionalInputParamsMap,index:d,"input-param":u[Object.keys(u)[0]],advanced:e.advanced},null,8,["input-params-map","index","input-param","advanced"]))),128))])):E("",!0)],64)}}}),fi={key:0,id:"prompt",class:"w-full my-10 lg:my-0 p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg"},mi={class:"flex justify-end px-2"},pi=Q({__name:"Prompt",setup(e,{expose:l}){var f,v;const t=Ke();let n=localStorage.getItem(`input_params_map_${(f=t.currentFlow)==null?void 0:f.name}`);n&&(n=JSON.parse(n));const o=O(((v=t.currentFlow)==null?void 0:v.input_params.map(s=>{if(s.type==="text")return{[s.name]:{value:n!==null?n[s.name]:s.default||"",type:s.type,optional:s.optional,advanced:s.advanced||!1}};if(s.type==="number")return{[s.name]:{value:n!==null?n[s.name]:s.default||0,type:s.type,optional:s.optional,advanced:s.advanced||!1}};if(s.type==="image")return{[s.name]:{value:n!==null?n[s.name]:s.default||{},type:s.type,optional:s.optional,advanced:s.advanced||!1}};if(s.type==="list")return{[s.name]:{value:n!==null?n[s.name]:s.default||Object.keys(s.options)[0]||"",type:s.type,optional:s.optional,options:s.options,advanced:s.advanced||!1}};if(s.type==="bool")return{[s.name]:{value:n!==null?n[s.name]:s.default||!1,type:s.type,optional:s.optional,advanced:s.advanced||!1}};if(["range","range_scale"].includes(s.type)){const c={value:n!==null?n[s.name]:s.default||0,type:s.type,optional:s.optional,advanced:s.advanced||!1,min:s.min||0,max:s.max||100,step:s.step||1};return s.type==="range_scale"&&(c.source_input_name=s.source_input_name),{[s.name]:c}}}))||[]),r=O([{seed:{name:"seed",display_name:"Random seed",value:Math.floor(Math.random()*1e7),type:"number",optional:!0,advanced:!0,min:0,max:1e7}}]);function a(s){console.debug("Copy prompt inputs",s),Object.keys(s).forEach(b=>{const k=o.value.findIndex(I=>Object.keys(I)[0]===b);k!==-1&&(o.value[k][b].value=s[b])});const c=document.getElementById("prompt");c&&c.scrollIntoView({behavior:"smooth"})}l({copyPromptInputs:a}),o.value.forEach(s=>{const c=Object.keys(s)[0];s[c].type!=="image"&&se(()=>s[c].value,()=>{var k;const b={};o.value.forEach(I=>{const h=Object.keys(I)[0];b[h]=I[h].value}),localStorage.setItem(`input_params_map_${(k=t.currentFlow)==null?void 0:k.name}`,JSON.stringify(b))})});const i=O(!1),u=O(1),d=O(!1);return(s,c)=>{const b=be,k=vi,I=Yt,h=Zn,$=Pe;return y(t).currentFlow?(w(),P("div",fi,[R("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:c[0]||(c[0]=()=>{d.value=!y(d)})},[j(b,{name:y(d)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),_(" Prompt ")]),kt(R("div",null,[j(k,{"input-params-map":y(o),"additional-input-params-map":y(r),advanced:!1},null,8,["input-params-map","additional-input-params-map"]),y(t).currentFlow.input_params.some(m=>m.advanced)?(w(),N(k,{key:0,"input-params-map":y(o),"additional-input-params-map":y(r),advanced:!0},null,8,["input-params-map","additional-input-params-map"])):E("",!0),j(h,{label:"Number of images"},{default:H(()=>[j(I,{modelValue:y(u),"onUpdate:modelValue":c[1]||(c[1]=m=>He(u)?u.value=m:null),type:"number",min:"1",max:"50",label:"Batch size",class:"mb-3 max-w-fit flex justify-end"},null,8,["modelValue"])]),_:1}),R("div",mi,[j($,{icon:"i-heroicons-sparkles-16-solid",variant:"outline",loading:y(i),onClick:c[2]||(c[2]=()=>{i.value=!0,y(t).runFlow(y(t).currentFlow,[...y(o),...y(r)],y(u)).finally(()=>{i.value=!1;const m=y(r).find(p=>Object.keys(p)[0]==="seed");m.seed.value=Number(m.seed.value)+y(u)+1})})},{default:H(()=>[_(" Run prompt ")]),_:1},8,["loading"])])],512),[[In,!y(d)]])])):E("",!0)}}}),gi=e=>{const l=O(0);function t(r){e.value.style.scrollSnapType="none",e.value.style.scrollBehavior="auto",l.value=r.pageX,window.addEventListener("mousemove",o),window.addEventListener("mouseup",n)}function n(){e.value.style.removeProperty("scroll-behavior"),e.value.style.removeProperty("scroll-snap-type"),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",n)}function o(r){r.preventDefault();const a=r.pageX-l.value;l.value=r.pageX,e.value.scrollBy(-a,0)}ie(()=>{e.value&&e.value.addEventListener("mousedown",t)}),Me(()=>{e.value&&e.value.removeEventListener("mousedown",t)})},Rt=$e(J.ui.strategy,J.ui.carousel,Vl),bi=Q({components:{UButton:Pe},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},arrows:{type:Boolean,default:!1},indicators:{type:Boolean,default:!1},prevButton:{type:Object,default:()=>Rt.default.prevButton},nextButton:{type:Object,default:()=>Rt.default.nextButton},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:void 0}},setup(e,{expose:l}){const{ui:t,attrs:n}=Se("carousel",ce(e,"ui"),Rt,ce(e,"class")),o=O(),r=O(0),{x:a}=Pl(o,{behavior:"smooth"}),{width:i}=zl(o);gi(o),Tl(o,k=>{var h,$;const[I]=k;r.value=(($=(h=I==null?void 0:I.target)==null?void 0:h.firstElementChild)==null?void 0:$.clientWidth)||0});const u=g(()=>r.value?Math.round(a.value/r.value)+1:0),d=g(()=>r.value?e.items.length-Math.round(i.value/r.value)+1:0),f=g(()=>u.value<=1),v=g(()=>u.value===d.value);function s(){a.value+=r.value}function c(){a.value-=r.value}function b(k){a.value=(k-1)*r.value}return l({pages:d,page:u,prev:c,next:s,select:b}),{ui:t,attrs:n,isFirst:f,isLast:v,carouselRef:o,pages:d,currentPage:u,onClickNext:s,onClickPrev:c,onClick:b,twMerge:Ce}}}),hi=["role"],yi=["aria-selected","aria-label","onClick"];function wi(e,l,t,n,o,r){const a=Pe;return w(),P("div",ee({class:e.ui.wrapper},e.attrs),[R("div",{ref:"carouselRef",class:A([e.ui.container,"no-scrollbar"])},[(w(!0),P(te,null,he(e.items,(i,u)=>(w(),P("div",{key:u,class:A(e.ui.item),role:e.indicators?"tabpanel":null},[G(e.$slots,"default",{item:i,index:u},void 0,!0)],10,hi))),128))],2),e.arrows?(w(),P("div",{key:0,class:A(e.ui.arrows.wrapper)},[G(e.$slots,"prev",{onClick:e.onClickPrev,disabled:e.isFirst},()=>{var i;return[e.prevButton?(w(),N(a,ee({key:0,disabled:e.isFirst},{...e.ui.default.prevButton,...e.prevButton},{class:e.twMerge(e.ui.default.prevButton.class,(i=e.prevButton)==null?void 0:i.class),"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["disabled","class","onClick"])):E("",!0)]},!0),G(e.$slots,"next",{onClick:e.onClickNext,disabled:e.isLast},()=>{var i;return[e.nextButton?(w(),N(a,ee({key:0,disabled:e.isLast},{...e.ui.default.nextButton,...e.nextButton},{class:e.twMerge(e.ui.default.nextButton.class,(i=e.nextButton)==null?void 0:i.class),"aria-label":"Next",onClick:e.onClickNext}),null,16,["disabled","class","onClick"])):E("",!0)]},!0)],2)):E("",!0),e.indicators?(w(),P("div",{key:1,role:"tablist",class:A(e.ui.indicators.wrapper)},[(w(!0),P(te,null,he(e.pages,i=>G(e.$slots,"indicator",{key:i,onClick:e.onClick,active:i===e.currentPage,page:i},()=>[R("button",{type:"button",role:"tab","aria-selected":i===e.currentPage,class:A([e.ui.indicators.base,i===e.currentPage?e.ui.indicators.active:e.ui.indicators.inactive]),"aria-label":`set slide ${i}`,onClick:u=>e.onClick(i)},null,10,yi)],!0)),128))],2)):E("",!0)],16)}const Gn=Oe(bi,[["render",wi],["__scopeId","data-v-ea54307d"]]),ki={class:"flex flex-col basis-full"},Si=Q({__name:"QueueInputFiles",props:{running:{type:Object,required:!0}},setup(e){const l=Ot(),t=function(i,u){return`${$n()}/task-inputs?task_id=${i}&input_index=${u}`},n=O(!1),o=O(""),r=O(0),a=O(!0);return(i,u)=>{var b,k,I,h,$;const d=be,f=Ct,v=Gn,s=Pe,c=Mt;return i.$props.running&&i.$props.running.input_files&&((b=Object.keys(i.$props.running.input_files))==null?void 0:b.length)>0?(w(),P("div",{key:0,class:A(["ml-2 mt-2 mb-5",{"mb-10":((k=Object.keys(i.$props.running.input_files))==null?void 0:k.length)>1&&!y(a)}])},[R("h4",{class:"mb-3 font-bold cursor-pointer select-none flex items-center text-sm",onClick:u[0]||(u[0]=()=>a.value=!y(a))},[j(d,{name:y(a)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),R("span",null," Input files ("+Z((I=Object.keys(i.$props.running.input_files))==null?void 0:I.length)+") ",1)]),y(a)?E("",!0):(w(),P(te,{key:0},[((h=Object.keys(i.$props.running.input_files))==null?void 0:h.length)===1?(w(),N(f,{key:0,class:"mb-5 rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:y(l)("/vix_logo.png",{f:"png",blur:3,q:50}),src:t(i.$props.running.task_id,0),onClick:u[1]||(u[1]=()=>{o.value=t(i.$props.running.task_id,0),r.value=0,n.value=!0})},null,8,["placeholder","src"])):E("",!0),(($=Object.keys(i.$props.running.input_files))==null?void 0:$.length)>1?(w(),N(v,{key:1,items:Object.keys(i.$props.running.input_files).map(m=>({task_id:e.running.task_id,index:m})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:H(({item:m})=>[R("div",ki,[j(f,{class:"rounded-lg cursor-pointer",fit:"outside",loading:"lazy",placeholder:y(l)("/vix_logo.png",{f:"png",blur:3,q:50}),src:t(m.task_id,m.index),onClick:()=>{o.value=t(i.$props.running.task_id,m.index),r.value=m.index,n.value=!0}},null,8,["placeholder","src","onClick"])])]),_:1},8,["items"])):E("",!0),j(c,{modelValue:y(n),"onUpdate:modelValue":u[4]||(u[4]=m=>He(n)?n.value=m:null),class:"z-[90]",transition:!1,fullscreen:""},{default:H(()=>[j(s,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:u[2]||(u[2]=()=>n.value=!1)}),R("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:u[3]||(u[3]=Je(()=>n.value=!1,["left"]))},[y(o)?(w(),N(f,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",placeholder:"/vix_logo.png",src:y(o)},null,8,["src"])):E("",!0)])]),_:1},8,["modelValue"])],64))],2)):E("",!0)}}}),De=$e(J.ui.strategy,J.ui.alert,Dl),Ii=Q({components:{UIcon:be,UAvatar:Xe,UButton:Pe},inheritAttrs:!1,props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>De.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>De.default.closeButton},actions:{type:Array,default:()=>[]},color:{type:String,default:()=>De.default.color,validator(e){return[...J.ui.colors,...Object.keys(De.color)].includes(e)}},variant:{type:String,default:()=>De.default.variant,validator(e){return[...Object.keys(De.variant),...Object.values(De.color).flatMap(l=>Object.keys(l))].includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["close"],setup(e){const{ui:l,attrs:t}=Se("alert",ce(e,"ui"),De),n=g(()=>{var a,i;const r=((i=(a=l.value.color)==null?void 0:a[e.color])==null?void 0:i[e.variant])||l.value.variant[e.variant];return Ce(oe(l.value.wrapper,l.value.rounded,l.value.shadow,l.value.padding,r==null?void 0:r.replaceAll("{color}",e.color)),e.class)});function o(r){r.click&&r.click()}return{ui:l,attrs:t,alertClass:n,onAction:o,twMerge:Ce}}});function $i(e,l,t,n,o,r){const a=be,i=Xe,u=Pe;return w(),P("div",ee({class:e.alertClass},e.attrs),[R("div",{class:A(["flex",[e.ui.gap,{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}]])},[G(e.$slots,"icon",{icon:e.icon},()=>[e.icon?(w(),N(a,{key:0,name:e.icon,ui:e.ui.icon.base},null,8,["name","ui"])):E("",!0)]),G(e.$slots,"avatar",{avatar:e.avatar},()=>[e.avatar?(w(),N(i,ee({key:0},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):E("",!0)]),R("div",{class:A(e.ui.inner)},[e.title||e.$slots.title?(w(),P("p",{key:0,class:A(e.ui.title)},[G(e.$slots,"title",{title:e.title},()=>[_(Z(e.title),1)])],2)):E("",!0),e.description||e.$slots.description?(w(),P("p",{key:1,class:A(e.twMerge(e.ui.description,!(e.title&&e.$slots.title)&&"mt-0 leading-5"))},[G(e.$slots,"description",{description:e.description},()=>[_(Z(e.description),1)])],2)):E("",!0),(e.description||e.$slots.description)&&e.actions.length?(w(),P("div",{key:2,class:A(e.ui.actions)},[(w(!0),P(te,null,he(e.actions,(d,f)=>(w(),N(u,ee({key:f,ref_for:!0},{...e.ui.default.actionButton||{},...d},{onClick:Je(v=>e.onAction(d),["stop"])}),null,16,["onClick"]))),128))],2)):E("",!0)],2),e.closeButton||!e.description&&!e.$slots.description&&e.actions.length?(w(),P("div",{key:0,class:A(e.twMerge(e.ui.actions,"mt-0"))},[!e.description&&!e.$slots.description&&e.actions.length?(w(!0),P(te,{key:0},he(e.actions,(d,f)=>(w(),N(u,ee({key:f,ref_for:!0},{...e.ui.default.actionButton||{},...d},{onClick:Je(v=>e.onAction(d),["stop"])}),null,16,["onClick"]))),128)):E("",!0),e.closeButton?(w(),N(u,ee({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{onClick:l[0]||(l[0]=Je(d=>e.$emit("close"),["stop"]))}),null,16)):E("",!0)],2)):E("",!0)],2)],16)}const Oi=Oe(Ii,[["render",$i]]),Ci=Q({__name:"QueueErrorAlert",props:{running:{type:Object,required:!0}},setup(e){const l=Ke(),t=O(!1);return(n,o)=>{const r=Oi;return w(),N(r,{class:"mb-5",icon:"i-heroicons-exclamation-circle-16-solid",color:"red",variant:"soft",title:"Task failed",description:e.running.error,actions:[{variant:"outline",color:"yellow",label:"Restart",loading:y(t),icon:"i-heroicons-arrow-path",click:()=>{t.value=!0,y(l).restartFlow(n.$props.running).finally(()=>{t.value=!1})}}]},null,8,["description","actions"])}}}),Mi={class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md mt-5 mb-10"},Pi={class:"flex items-center justify-between mb-2"},zi={key:0},Ti={key:1,class:"text-red-400"},Fi={class:"text-sm mb-5 text-slate-500"},Ai=Q({__name:"Queue",setup(e){const l=Ke(),t=O(!1),n=O(!0);return(o,r)=>{var v,s,c,b,k,I,h,$,m;const a=be,i=Pe,u=Mn,d=Si,f=Ci;return w(),P("div",Mi,[R("div",Pi,[R("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center",onClick:r[0]||(r[0]=()=>{n.value=!y(n)})},[j(a,{name:y(n)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),R("span",null," Queue ("+Z(y(l).flowsRunningByName((v=y(l).currentFlow)==null?void 0:v.name).length)+") ",1),y(l).flowsRunningByName((s=y(l).currentFlow)==null?void 0:s.name).length>0?(w(),P("span",zi," Â - "+Z(`${((b=y(l).flowsRunningByName((c=y(l).currentFlow)==null?void 0:c.name).filter(p=>p.progress>0)[0])==null?void 0:b.progress.toFixed(0))??0}%`),1)):E("",!0),y(l).flowsRunningByNameWithErrors((k=y(l))==null?void 0:k.currentFlow.name).length>0?(w(),P("span",Ti," Â ("+Z(y(l).flowsRunningByNameWithErrors((I=y(l).currentFlow)==null?void 0:I.name).length)+") ",1)):E("",!0)]),(h=y(l).currentFlow)!=null&&h.name&&y(l).flowsRunningByName(($=y(l).currentFlow)==null?void 0:$.name).length>0?(w(),N(i,{key:0,icon:"i-heroicons-stop",color:"orange",variant:"outline",loading:y(t),onClick:r[1]||(r[1]=()=>{var p;t.value=!0,y(l).cancelRunningFlows((p=y(l).currentFlow)==null?void 0:p.name).finally(()=>{t.value=!1})})},{default:H(()=>[_(" Cancel all ")]),_:1},8,["loading"])):E("",!0)]),y(n)?E("",!0):(w(!0),P(te,{key:0},he(y(l).flowsRunningByName((m=y(l).currentFlow)==null?void 0:m.name),p=>(w(),P("div",{key:p.task_id,class:"mb-5"},[j(u,{class:"mb-3",value:p==null?void 0:p.progress,indicator:"",color:p.error?"red":"green"},null,8,["value","color"]),R("p",Fi,Z(["#"+p.task_id,...Object.keys(p.input_params_mapped).filter(C=>p.input_params_mapped[C]&&p.input_params_mapped[C]!=="").map(C=>`${C}: ${p.input_params_mapped[C]}`)].join(" | ")+`${p.execution_time?" | execution_time: "+p.execution_time.toFixed(2)+"s":""}`),1),j(d,{running:p},null,8,["running"]),p.error?(w(),N(f,{key:0,running:p},null,8,["running"])):E("",!0),j(i,{icon:"i-heroicons-stop",color:"orange",variant:"outline",loading:y(t),onClick:()=>{t.value=!0,y(l).cancelRunningFlow(p).finally(()=>{t.value=!1})}},{default:H(()=>[_(" Cancel ")]),_:2},1032,["loading","onClick"])]))),128))])}}}),Ri=Oe(Ai,[["__scopeId","data-v-c216ec7c"]]),Ei=Q({__name:"ScrollToTop",props:{show:{type:Boolean,required:!0},target:{type:String,required:!0}},setup(e){const l=e;function t(){const n=document.getElementById(l.target);n&&n.scrollIntoView({behavior:"smooth"})}return(n,o)=>{const r=Pe;return kt((w(),N(r,{icon:"i-heroicons-arrow-small-up",color:"black",variant:"outline",onClick:t},null,512)),[[In,e.show]])}}}),Ae=$e(J.ui.strategy,J.ui.select,Sn),Bi=Q({components:{UIcon:be},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>Ae.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>Ae.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(Ae.size).includes(e)}},color:{type:String,default:()=>Ae.default.color,validator(e){return[...J.ui.colors,...Object.keys(Ae.color)].includes(e)}},variant:{type:String,default:()=>Ae.default.variant,validator(e){return[...Object.keys(Ae.variant),...Object.values(Ae.color).flatMap(l=>Object.keys(l))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:l,slots:t}){const{ui:n,attrs:o}=Se("select",ce(e,"ui"),Ae,ce(e,"class")),{size:r,rounded:a}=Ut({ui:n,props:e}),{emitFormChange:i,inputId:u,color:d,size:f,name:v}=_e(e,Ae),s=g(()=>r.value||f.value),c=F=>{l("update:modelValue",F.target.value)},b=F=>{l("change",F.target.value),i()},k=F=>at(F,e.valueAttribute,at(F,e.optionAttribute)),I=F=>at(F,e.optionAttribute,at(F,e.valueAttribute)),h=F=>["string","number","boolean"].includes(typeof F)?{[e.valueAttribute]:F,[e.optionAttribute]:F}:{...F,[e.valueAttribute]:k(F),[e.optionAttribute]:I(F)},$=g(()=>e.options.map(F=>h(F))),m=g(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...$.value]:$.value),p=g(()=>{const F=h(e.modelValue),D=m.value.find(X=>X[e.valueAttribute]===F[e.valueAttribute]);return D?D[e.valueAttribute]:""}),C=g(()=>{var D,X;const F=((X=(D=n.value.color)==null?void 0:D[d.value])==null?void 0:X[e.variant])||n.value.variant[e.variant];return Ce(oe(n.value.base,n.value.form,a.value,n.value.size[s.value],e.padded?n.value.padding[s.value]:"p-0",F==null?void 0:F.replaceAll("{color}",d.value),(T.value||t.leading)&&n.value.leading.padding[s.value],(V.value||t.trailing)&&n.value.trailing.padding[s.value]),e.placeholder&&!e.modelValue&&n.value.placeholder,e.selectClass)}),T=g(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),V=g(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),S=g(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),z=g(()=>e.loading&&!T.value?e.loadingIcon:e.trailingIcon||e.icon),M=g(()=>oe(n.value.icon.leading.wrapper,n.value.icon.leading.pointer,n.value.icon.leading.padding[s.value])),x=g(()=>oe(n.value.icon.base,d.value&&J.ui.colors.includes(d.value)&&n.value.icon.color.replaceAll("{color}",d.value),n.value.icon.size[s.value],e.loading&&n.value.icon.loading)),U=g(()=>oe(n.value.icon.trailing.wrapper,n.value.icon.trailing.pointer,n.value.icon.trailing.padding[s.value])),L=g(()=>oe(n.value.icon.base,d.value&&J.ui.colors.includes(d.value)&&n.value.icon.color.replaceAll("{color}",d.value),n.value.icon.size[s.value],e.loading&&!T.value&&n.value.icon.loading));return{ui:n,attrs:o,name:v,inputId:u,normalizedOptionsWithPlaceholder:m,normalizedValue:p,isLeading:T,isTrailing:V,selectClass:C,leadingIconName:S,leadingIconClass:x,leadingWrapperIconClass:M,trailingIconName:z,trailingIconClass:L,trailingWrapperIconClass:U,onInput:c,onChange:b}}}),xi=["id","name","value","required","disabled"],ji=["value","label"],Li=["value","selected","disabled","textContent"],Di=["value","selected","disabled","textContent"];function Vi(e,l,t,n,o,r){const a=be;return w(),P("div",{class:A(e.ui.wrapper)},[R("select",ee({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:l[0]||(l[0]=(...i)=>e.onInput&&e.onInput(...i)),onChange:l[1]||(l[1]=(...i)=>e.onChange&&e.onChange(...i))}),[(w(!0),P(te,null,he(e.normalizedOptionsWithPlaceholder,(i,u)=>(w(),P(te,null,[i.children?(w(),P("optgroup",{key:`${i[e.valueAttribute]}-optgroup-${u}`,value:i[e.valueAttribute],label:i[e.optionAttribute]},[(w(!0),P(te,null,he(i.children,(d,f)=>(w(),P("option",{key:`${d[e.valueAttribute]}-${u}-${f}`,value:d[e.valueAttribute],selected:d[e.valueAttribute]===e.normalizedValue,disabled:d.disabled,textContent:Z(d[e.optionAttribute])},null,8,Li))),128))],8,ji)):(w(),P("option",{key:`${i[e.valueAttribute]}-${u}`,value:i[e.valueAttribute],selected:i[e.valueAttribute]===e.normalizedValue,disabled:i.disabled,textContent:Z(i[e.optionAttribute])},null,8,Di))],64))),256))],16,xi),e.isLeading&&e.leadingIconName||e.$slots.leading?(w(),P("span",{key:0,class:A(e.leadingWrapperIconClass)},[G(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[j(a,{name:e.leadingIconName,class:A(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):E("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(w(),P("span",{key:1,class:A(e.trailingWrapperIconClass)},[G(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[j(a,{name:e.trailingIconName,class:A(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):E("",!0)],2)}const Ni=Oe(Bi,[["render",Vi],["__scopeId","data-v-931b50ef"]]),Ui={class:"p-4"},qi=R("h2",{class:"text-lg text-center mb-4"},"Send to flow",-1),Hi={class:"flex justify-center mb-4"},Wi={class:"text-sm text-slate-500 text-center mb-4"},Ki={class:"text-md text-center text-red-500 mb-4"},Qi={key:1},Yi={class:"flex justify-end"},Ji=Q({__name:"SendToFlowModal",props:{show:{type:Boolean,required:!1},flowResult:{type:Object,required:!1,default:()=>null},outputImgSrc:{type:String,required:!0},outputParamIndex:{type:Number,required:!0}},emits:["update:show"],setup(e,{emit:l}){const t=e,n=Ke(),o=g(()=>n.sub_flows.map(d=>({value:d.name,label:`${d.display_name} - ${d.description}`}))),r=O(o.value[0]||""),a=O(!1),i=l;function u(){console.debug("[Send to flow]: ",r.value);const d=n.sub_flows.find(v=>v.name===r.value.value&&v.display_name===r.value.label.split(" - ")[0]);if(console.debug("[Send to flow]: targetFlow",d),!d){Al().add({title:`Target sub-flow "${r.value.value}" not found`,description:"Please, verify the target sub-flow is installed and available and try again",timeout:5e3});return}const f=d.input_params.reduce((v,s)=>{const c={};return s.type==="text"?c[s.name]={value:s.default||"",type:s.type}:s.type==="number"?c[s.name]={value:s.default||0,type:s.type}:s.type==="image"?c[s.name]={value:JSON.stringify({task_id:t.flowResult.task_id,node_id:t.flowResult.output_params[t.outputParamIndex].comfy_node_id})||"",type:s.type}:s.type==="list"?c[s.name]={value:s.default||Object.keys(s.options)[0]||"",type:s.type,options:s.options}:s.type==="bool"?c[s.name]={value:s.default||!1,type:s.type}:["range","range_scale"].includes(s.type)&&(c[s.name]={value:s.default||0,type:s.type}),v.push(c),v},[]);console.debug("[Send to flow]: input_params_map",f),a.value=!0,n.runFlow(d,f).finally(()=>{a.value=!1,i("update:show",!1)})}return Fl(()=>{n.fetchSubFlows("image").then(()=>{r.value=o.value[0]||""})}),(d,f)=>{const v=Ct,s=Xn,c=Pe,b=Mt;return w(),N(b,{modelValue:d.$props.show,"onUpdate:modelValue":f[1]||(f[1]=k=>d.$props.show=k),class:"z-[90]",transition:!1},{default:H(()=>[R("div",Ui,[qi,R("div",Hi,[j(v,{src:e.outputImgSrc,class:"w-1/2 rounded-lg",draggable:!1},null,8,["src"])]),R("p",Wi,Z(Object.keys(e.flowResult.input_params_mapped).filter(k=>e.flowResult.input_params_mapped[k]!=="").map(k=>`${k}: ${e.flowResult.input_params_mapped[k]}`).join(" | ")),1),R("p",Ki,[y(o).length>0?(w(),N(s,{key:0,modelValue:y(r),"onUpdate:modelValue":f[0]||(f[0]=k=>He(r)?r.value=k:null),class:"w-full",size:"lg",options:y(o)},null,8,["modelValue","options"])):(w(),P("span",Qi,"No sub-flows available"))]),R("div",Yi,[j(c,{icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",loading:y(a),disabled:y(o).length===0,onClick:u},{default:H(()=>[_(" Send ")]),_:1},8,["loading","disabled"])])])]),_:1},8,["modelValue"])}}}),Xi={class:"flex flex-col md:flex-row items-center justify-center mb-5 sticky top-1 z-[10]"},Zi={class:"flex items-center justify-center"},Gi={class:"p-4"},_i=R("p",{class:"text-lg text-center mb-4"},"Are you sure you want to delete all results?",-1),er={class:"text-md text-center text-red-500 mb-4"},tr={class:"flex justify-center"},nr={key:0,class:"results overflow-auto"},lr={class:"flex flex-col basis-full"},ar={class:"text-sm text-slate-500 text-center mb-3"},or={class:"w-full flex justify-center items-center"},ir={key:1,class:"text-center text-slate-500"},rr=Q({__name:"Output",emits:["copy-prompt-inputs"],setup(e,{emit:l}){const t=Ke(),n=g(()=>{var S;return t.flowResultsByName((S=t.currentFlow)==null?void 0:S.name).length>0||!1}),o=g(()=>{var S;return t.flowResultsByName((S=t.currentFlow)==null?void 0:S.name).reverse()||[]}),r=g(()=>t.$state.resultsPageSize),a=function(S){return`${$n()}/task-results?task_id=${S.task_id}&node_id=${S.node_id}`};se(o,()=>{o.value.length<=t.$state.resultsPageSize?t.$state.resultsPage=1:t.$state.resultsPage>Math.ceil(o.value.length/t.$state.resultsPageSize)&&(t.$state.resultsPage=Math.ceil(o.value.length/t.$state.resultsPageSize))}),se(r,()=>{o.value.length<=t.$state.resultsPageSize?t.$state.resultsPage=1:t.$state.resultsPage>Math.ceil(o.value.length/t.$state.resultsPageSize)&&(t.$state.resultsPage=Math.ceil(o.value.length/t.$state.resultsPageSize)),t.saveUserOptions()}),Me(()=>{t.$state.flow_results_filter="",t.$state.resultsPage=1});const i=l;function u(S){i("copy-prompt-inputs",S.input_params_mapped)}function d(S){h.value=S,I.value=!0}const f=O(null),v=O(!1);window.addEventListener("scroll",()=>{var S;v.value=window.scrollY>(((S=f.value)==null?void 0:S.offsetTop)+window.screen.height||0)});function s(S,z){t.fetchFlowComfy(z).then(M=>{console.debug("downloadFlowComfy",M.flow_comfy);const x=new Blob([JSON.stringify(M.flow_comfy,null,2)],{type:"application/json"}),U=window.URL.createObjectURL(x),L=document.createElement("a");L.href=U,L.download=`${S}_comfy_flow_${z}.json`,L.click(),window.URL.revokeObjectURL(U)})}const c=g(()=>t.$state.resultsPage);se(c,()=>{const S=document.getElementById("output-container");S&&S.scrollIntoView({behavior:"smooth"})});const b=Ot(),k=O(!1),I=O(!1),h=O(""),$=O(!1),m=O(!1),p=O(!1),C=O(""),T=O(null),V=O(0);return(S,z)=>{var ne;const M=Ei,x=be,U=Yt,L=xl,F=Ni,D=Pe,X=Qn,pe=On,ge=Mt,ye=Ct,ae=Gn,Y=Ji;return w(),P("div",{id:"output-container",ref_key:"outputContainer",ref:f,class:"w-full p-4 ring-1 ring-gray-200 dark:ring-gray-800 rounded-lg shadow-md my-10"},[j(M,{show:y(v),class:"fixed bottom-5 right-5",target:"output-container"},null,8,["show"]),R("h2",{class:"text-lg font-bold cursor-pointer select-none flex items-center mb-3",onClick:z[0]||(z[0]=()=>{k.value=!y(k)})},[j(x,{name:y(k)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),_(" Output ("+Z(y(o).length)+") ",1)]),y(k)?E("",!0):(w(),P(te,{key:0},[R("div",Xi,[j(U,{modelValue:y(t).$state.flow_results_filter,"onUpdate:modelValue":z[1]||(z[1]=q=>y(t).$state.flow_results_filter=q),icon:"i-heroicons-magnifying-glass-20-solid",color:"white",class:"md:mr-3",label:"Filter results by prompt",trailing:!0,placeholder:"Filter results by prompt"},null,8,["modelValue"]),y(o).length>y(t).$state.resultsPageSize?(w(),N(L,{key:0,modelValue:y(t).$state.resultsPage,"onUpdate:modelValue":z[2]||(z[2]=q=>y(t).$state.resultsPage=q),class:"my-1 md:my-0","page-count":y(t).$state.resultsPageSize,total:y(o).length,"show-first":"","show-last":""},null,8,["modelValue","page-count","total"])):E("",!0),R("div",Zi,[j(F,{modelValue:y(t).resultsPageSize,"onUpdate:modelValue":z[3]||(z[3]=q=>y(t).resultsPageSize=q),class:"md:mx-3 w-fit mr-3",options:[5,10,20,50,100],label:"Results per page"},null,8,["modelValue"]),j(X,{items:[[{label:"Delete all results",labelClass:"text-red-500",icon:"i-heroicons-trash",iconClass:"dark:text-red-500 text-red-500",click:()=>$.value=!0}]],mode:"click",label:"Options",popper:{placement:"bottom-end"}},{default:H(()=>[j(D,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:1},8,["items"])]),j(ge,{modelValue:y($),"onUpdate:modelValue":z[6]||(z[6]=q=>He($)?$.value=q:null),class:"z-[90]",transition:!1},{default:H(()=>[R("div",Gi,[_i,R("p",er,[_(" All history and images of "),j(pe,{class:"mx-1",color:"orange",variant:"outline"},{default:H(()=>[_(Z(y(t).currentFlow.display_name),1)]),_:1}),_(" will be deleted. ")]),R("div",tr,[j(D,{class:"mr-2",color:"red",variant:"outline",loading:y(m),onClick:z[4]||(z[4]=()=>{var q;m.value=!0,y(t).deleteFlowResults((q=y(t).currentFlow)==null?void 0:q.name).then(()=>{m.value=!1,$.value=!1})})},{default:H(()=>[_(" Yes ")]),_:1},8,["loading"]),j(D,{variant:"outline",onClick:z[5]||(z[5]=()=>$.value=!1)},{default:H(()=>[_("No")]),_:1})])])]),_:1},8,["modelValue"])]),y(n)?(w(),P("div",nr,[(w(!0),P(te,null,he(y(t).flowResultsByNamePaginated((ne=y(t).currentFlow)==null?void 0:ne.name),q=>(w(),P("div",{key:q.task_id,class:"flex flex-col justify-center mx-auto mb-5"},[q.output_params.length===1?(w(),N(ye,{key:0,class:"mb-2 h-100 mx-auto rounded-lg cursor-pointer",draggable:"false",fit:"outside",loading:"lazy",placeholder:y(b)("/vix_logo.png",{f:"png",blur:3,q:50}),src:a({task_id:q.task_id,node_id:q.output_params[0].comfy_node_id}),onClick:()=>d(a({task_id:q.task_id,node_id:q.output_params[0].comfy_node_id}))},null,8,["placeholder","src","onClick"])):(w(),N(ae,{key:1,class:"mb-3 rounded-lg overflow-hidden",items:q.output_params.map((le,et)=>({task_id:q.task_id,node_id:le.comfy_node_id,index:et})),ui:{item:"basis-full md:basis-1/2",indicators:{wrapper:"relative bottom-0 mt-4"}},page:1,indicators:""},{default:H(({item:le})=>[R("div",lr,[j(ye,{class:"w-full cursor-pointer mx-auto",loading:"lazy",placeholder:"/vix_logo.png",src:a(le),draggable:"false",onClick:()=>d(a(le))},null,8,["src","onClick"]),j(D,{class:"mt-2 w-fit mx-auto",icon:"i-heroicons-arrow-uturn-up-solid",color:"violet",variant:"outline",onClick:()=>{p.value=!0,T.value=q,C.value=a(le),V.value=le.index}},{default:H(()=>[_(" Send to flow ")]),_:2},1032,["onClick"])])]),_:2},1032,["items"])),R("p",ar,Z(["#"+q.task_id,...Object.keys(q.input_params_mapped).filter(le=>q.input_params_mapped[le]!=="").map(le=>`${le}: ${q.input_params_mapped[le]}`)].join(" | ")+`${q.execution_time?" | execution_time: "+q.execution_time.toFixed(2)+"s":""}`),1),R("div",or,[j(D,{class:"mr-3",color:"red",icon:"i-heroicons-trash",variant:"outline",onClick:()=>y(t).deleteFlowHistory(q.task_id)},{default:H(()=>[_(" Delete ")]),_:2},1032,["onClick"]),j(X,{items:[[{label:"Use params",labelClass:"text-cyan-500",icon:"i-heroicons-document-duplicate-16-solid",iconClass:"bg-cyan-500",click:()=>u(q)}],[{label:"Send to flow",labelClass:"text-violet-500",icon:"i-heroicons-arrow-uturn-up-solid",iconClass:"bg-violet-500",click:()=>{p.value=!0,T.value=q,C.value=a({task_id:q.task_id,node_id:q.output_params[0].comfy_node_id}),V.value=0},disabled:q.output_params.length!==1}],[{label:"Comfy flow",labelClass:"text-blue-500",icon:"i-heroicons-arrow-down-tray",iconClass:"bg-blue-500",click:()=>{var le;return s((le=y(t).currentFlow)==null?void 0:le.name,q.task_id)}}]],mode:"click",popper:{placement:"bottom-start"}},{default:H(()=>[j(D,{color:"white",icon:"i-heroicons-ellipsis-vertical-16-solid"})]),_:2},1032,["items"])])]))),128)),j(Y,{modelValue:y(p),"onUpdate:modelValue":z[7]||(z[7]=q=>He(p)?p.value=q:null),"flow-result":y(T),"output-img-src":y(C),"output-param-index":y(V),"onUpdate:show":z[8]||(z[8]=q=>p.value=q)},null,8,["modelValue","flow-result","output-img-src","output-param-index"])])):(w(),P("p",ir," No output results available "))],64)),j(ge,{modelValue:y(I),"onUpdate:modelValue":z[11]||(z[11]=q=>He(I)?I.value=q:null),class:"z-[90]",transition:!1,fullscreen:""},{default:H(()=>[j(D,{class:"absolute top-4 right-4",icon:"i-heroicons-x-mark",variant:"ghost",onClick:z[9]||(z[9]=()=>I.value=!1)}),R("div",{class:"flex items-center justify-center w-full h-full p-4",onClick:z[10]||(z[10]=Je(()=>I.value=!1,["left"]))},[y(h)?(w(),N(ye,{key:0,class:"lg:h-full",fit:"inside",loading:"lazy",placeholder:"/vix_logo.png",src:y(h)},null,8,["src"])):E("",!0)])]),_:1},8,["modelValue"])],512)}}}),sr=$e(J.ui.strategy,J.ui.skeleton,Hl),ur=Q({inheritAttrs:!1,props:{class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:l,attrs:t}=Se("skeleton",ce(e,"ui"),sr),n=g(()=>Ce(oe(l.value.base,l.value.background,l.value.rounded),e.class));return{ui:l,attrs:t,skeletonClass:n}}});function dr(e,l,t,n,o,r){return w(),P("div",ee({class:e.skeletonClass},e.attrs),null,16)}const cr=Oe(ur,[["render",dr]]),vr={class:"flex flex-col lg:flex-row flex-grow items-start w-full"},fr={class:"card-wrapper w-full lg:pr-5"},mr={key:0,class:"p-0"},pr={class:"flex flex-row items-center text-sm text-slate-400 mb-2"},gr={class:"flex flex-row flex-wrap items-center text-md mb-2"},br=R("b",null,"Author:",-1),hr=["href"],yr={class:"flex flex-row items-center text-md mb-2"},wr=["href"],kr={key:1},Sr={class:"flex flex-row items-center text-md mb-2"},Ir=["href"],$r={key:1},Or={key:0,class:"flex flex-row flex-wrap items-center text-md mb-2"},Cr=["href"],Mr={class:"flex flex-row items-center text-md"},Pr=R("b",null,"Installed:",-1),zr={class:"flex justify-end"},Tr={class:"prompt-wrapper w-full"},Rr=Q({__name:"[name]",setup(e){const l=Rl(),t=Ke();t.setCurrentFlow(l.params.name);const n=g(()=>t.flowInstallingByName(l.params.name)||!1),o=g(()=>t.flowInstallingByName(l.params.name)||!1),r=O(!1);function a(){r.value=!0,t.deleteFlow(t.currentFlow).then(()=>{r.value=!1})}const i=O(!1),u=O(null),d=function(f){var v;(v=u.value)==null||v.copyPromptInputs(f)};return(f,v)=>{const s=be,c=On,b=Pe,k=jl,I=Qn,h=Ll,$=pi,m=Ri,p=rr,C=Mn,T=cr,V=El;return w(),N(V,null,{default:H(()=>[!y(t).loading.flows_available&&!y(t).loading.flows_installed&&y(t).currentFlow&&!y(t).$state.loading.tasks_history?(w(),P(te,{key:0},[R("div",vr,[R("div",fr,[j(h,{as:"div",class:"w-full mb-5"},Bl({header:H(()=>{var S;return[R("h2",{class:"text-xl font-bold cursor-pointer select-none flex items-center",onClick:v[0]||(v[0]=()=>{i.value=!y(i)})},[j(s,{name:y(i)?"i-heroicons-chevron-down":"i-heroicons-chevron-up",class:"mr-2"},null,8,["name"]),_(" "+Z((S=y(t).currentFlow)==null?void 0:S.display_name),1)])]}),default:H(()=>{var S,z,M,x,U,L,F,D,X,pe,ge;return[y(i)?E("",!0):(w(),P("div",mr,[R("p",pr,Z((S=y(t).currentFlow)==null?void 0:S.description),1),R("p",gr,[j(s,{name:"i-heroicons-user-16-solid",class:"mr-1"}),br,_("Â  "),R("a",{class:"hover:underline text-md",href:(z=y(t).currentFlow)==null?void 0:z.homepage,rel:"noopener",target:"_blank"},Z((M=y(t).currentFlow)==null?void 0:M.author),9,hr)]),R("p",yr,[j(s,{name:"i-heroicons-scale",class:"mr-1"}),(x=y(t).currentFlow)!=null&&x.license?(w(),P("a",{key:0,class:"hover:underline",href:(U=y(t).currentFlow)==null?void 0:U.license,rel:"noopener",target:"_blank"}," License ",8,wr)):(w(),P("span",kr,"No license"))]),R("p",Sr,[j(s,{name:"i-heroicons-document-text",class:"mr-1"}),(L=y(t).currentFlow)!=null&&L.documentation?(w(),P("a",{key:0,class:"hover:underline",href:(F=y(t).currentFlow)==null?void 0:F.documentation,rel:"noopener",target:"_blank"}," Documentation ",8,Ir)):(w(),P("span",$r,"No documentation"))]),((X=(D=y(t).currentFlow)==null?void 0:D.models)==null?void 0:X.length)>0?(w(),P("p",Or,[j(s,{name:"i-heroicons-arrow-down-on-square-stack",class:"mr-1"}),R("b",null,"Models ("+Z((pe=y(t).currentFlow)==null?void 0:pe.models.length)+"):",1),_("Â  "),(w(!0),P(te,null,he((ge=y(t).currentFlow)==null?void 0:ge.models,ye=>(w(),N(c,{key:ye.name,class:"m-1",color:"white",variant:"solid"},{default:H(()=>[R("a",{class:"hover:underline underline-offset-4",href:ye.homepage,rel:"noopener",target:"_blank"},Z(ye.name),9,Cr)]),_:2},1024))),128))])):E("",!0),R("p",Mr,[Pr,_("Â  "),j(s,{name:y(t).isFlowInstalled(y(l).params.name)?"i-heroicons-check-badge":"i-heroicons-x-mark",class:"mx-1"},null,8,["name"]),R("span",{class:A({"text-green-500":y(t).isFlowInstalled(y(l).params.name),"text-red-500":!y(t).isFlowInstalled(y(l).params.name)})},Z(y(t).isFlowInstalled(y(l).params.name)?"Yes":"No"),3)])]))]}),_:2},[y(i)?void 0:{name:"footer",fn:H(()=>[R("div",zr,[y(t).isFlowInstalled(y(l).params.name)?E("",!0):(w(),N(k,{key:0,text:"Setup flow dependencies and configure it in ComfyUI",popper:{placement:"top"},"open-delay":500},{default:H(()=>[j(b,{icon:"i-heroicons-arrow-down-tray",class:"mx-3",color:"primary",variant:"outline",loading:y(n),onClick:v[1]||(v[1]=()=>y(t).setupFlow(y(t).currentFlow))},{default:H(()=>{var S;return[_(Z(y(o)?`${(S=y(o))==null?void 0:S.progress.toFixed(0)}% Setting up`:"Setup flow"),1)]}),_:1},8,["loading"])]),_:1})),y(t).isFlowInstalled(y(l).params.name)?(w(),N(I,{key:1,items:[[{label:"Delete flow",icon:"i-heroicons-trash",click:a}]],mode:"click",label:"Actions",popper:{placement:"bottom-end"}},{default:H(()=>[j(b,{color:"white",label:"Actions","trailing-icon":"i-heroicons-chevron-down-20-solid"})]),_:1},8,["items"])):E("",!0)])]),key:"0"}]),1024)]),R("div",Tr,[!y(r)&&y(t).isFlowInstalled(y(l).params.name)?(w(),N($,{key:0,ref_key:"workflowPrompt",ref:u},null,512)):E("",!0)])]),!y(r)&&y(t).isFlowInstalled(y(l).params.name)?(w(),N(m,{key:0})):E("",!0),!y(r)&&y(t).isFlowInstalled(y(l).params.name)||y(t).flowResultsByName(y(l).params.name).length>0?(w(),N(p,{key:1,onCopyPromptInputs:v[2]||(v[2]=S=>d(S))})):E("",!0)],64)):(w(),P(te,{key:1},[j(C,{class:"mb-3"}),j(T,{class:"w-full h-80"})],64))]),_:1})}}});export{Rr as default};
